<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#3138 PR merged: Add support for Dell PowerProtect Data Manager - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#3138 PR merged: Add support for Dell PowerProtect Data Manager";
        var mkdocs_page_input_path = "issues/2024-01-26.3138.pr.merged.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#3138 PR merged: Add support for Dell PowerProtect Data Manager</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="3138_pr_merged_add_support_for_dell_powerprotect_data_manager"><a href="https://github.com/rear/rear/pull/3138">#3138 PR</a> <code>merged</code>: Add support for Dell PowerProtect Data Manager<a class="headerlink" href="#3138_pr_merged_add_support_for_dell_powerprotect_data_manager" title="Permanent link">&para;</a></h1>
<h4 id="schlomo_opened_issue_at_2024-01-26_1032"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> opened issue at <a href="https://github.com/rear/rear/pull/3138">2024-01-26 10:32</a>:<a class="headerlink" href="#schlomo_opened_issue_at_2024-01-26_1032" title="Permanent link">&para;</a></h4>
<h4 id="relax-and-recover_rear_pull_request_template">Relax-and-Recover (ReaR) Pull Request Template<a class="headerlink" href="#relax-and-recover_rear_pull_request_template" title="Permanent link">&para;</a></h4>
<p>Please fill in the following items before submitting a new pull request:</p>
<h5 id="pull_request_details">Pull Request Details:<a class="headerlink" href="#pull_request_details" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>Type: <strong>New Feature</strong></p>
</li>
<li>
<p>Impact: <strong>Normal</strong></p>
</li>
<li>
<p>Reference to related issue (URL): Fixes #3126</p>
</li>
<li>
<p>How was this pull request tested?</p>
</li>
</ul>
<p>Manual tests in Dell lab environment on RHEL/compatible 7,8,9 and SLES
12,15 and Ubuntu 20,22</p>
<ul>
<li>Description of the changes in this pull request:</li>
</ul>
<p>Add support for PPDM and fix bugs we encounted.</p>
<p>Introduces Bash associative arrays, mandating Bash 4</p>
<h4 id="schlomo_commented_at_2024-01-26_1033"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1911824850">2024-01-26 10:33</a>:<a class="headerlink" href="#schlomo_commented_at_2024-01-26_1033" title="Permanent link">&para;</a></h4>
<p>@rear/contributors Please have a look, I'd like to do the last fixes on
Monday and merge because that is the limit for the Dell lab where I can
run tests.</p>
<h4 id="pcahyna_commented_at_2024-01-26_1051"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1911857419">2024-01-26 10:51</a>:<a class="headerlink" href="#pcahyna_commented_at_2024-01-26_1051" title="Permanent link">&para;</a></h4>
<p>First note: please fix the commit message of
f15344afe91ac07b6015563f917dc7b141519bed and force-push.</p>
<h4 id="pcahyna_commented_at_2024-01-26_1056"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1911877525">2024-01-26 10:56</a>:<a class="headerlink" href="#pcahyna_commented_at_2024-01-26_1056" title="Permanent link">&para;</a></h4>
<p>Second impression: please do not mix formatting changes and actual
functionality changes in the same commit.
24c122798406e0d62887e0e2909bb942d44a88dd is about "Ensure minimum Bash
version ", but it contains hundreds of unrelated changed lines.<br />
I also have the impression that many of the formatting changes should be
avoided, as they make the code look worse (and less in line with the
examples in
<a href="https://github.com/rear/rear/wiki/Coding-Style">https://github.com/rear/rear/wiki/Coding-Style</a>
).</p>
<h4 id="schlomo_commented_at_2024-01-26_1103"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1911893597">2024-01-26 11:03</a>:<a class="headerlink" href="#schlomo_commented_at_2024-01-26_1103" title="Permanent link">&para;</a></h4>
<p>Thanks @pcahyna for helping us to be better contributors, you are right
in both points.</p>
<h4 id="schlomo_commented_at_2024-01-26_1108"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1911901333">2024-01-26 11:08</a>:<a class="headerlink" href="#schlomo_commented_at_2024-01-26_1108" title="Permanent link">&para;</a></h4>
<p>Im actually unhappy with<br />
<a href="https://github.com/rear/rear/pull/3138/files#diff-0cf7e0a3b217a0feaf68c285ada67dbf21b981b3c6525c79d3fc29b9d956ada8R98-R103">https://github.com/rear/rear/pull/3138/files#diff-0cf7e0a3b217a0feaf68c285ada67dbf21b981b3c6525c79d3fc29b9d956ada8R98-R103</a></p>
<p><img alt="image" src="https://github.com/rear/rear/assets/101384/fbd35124-119a-4d59-8cc5-ffe13bcb5aee" /></p>
<p>because it mixes in all the backup methods into a single file instead of
using our directory based overlay architecture to separate the concerns
for each backup software. If it is OK with @rear/contributors then I'd
gladly pull this code apart by introducing a new
<code>LD_LIBRARY_PATH_ADDITIONS</code> variable that can be set for every backup
tool.</p>
<p>The reason why I didn't do that is that I cannot test this change for
all backup tools so that we would have to rely on eyeball inspection and
later tests by others.</p>
<h4 id="schlomo_commented_at_2024-01-26_1311"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1912047747">2024-01-26 13:11</a>:<a class="headerlink" href="#schlomo_commented_at_2024-01-26_1311" title="Permanent link">&para;</a></h4>
<p>Another thought: I added a feature to backup and restore the ESP because
PPDM doesn't backup <code>vfat</code> filesystems. I'm wondering if I should change
this code to be more generic so that it would either happen
automatically for any recovery that doesn't restore the ESP or that it
can be activated for those commercial backup tools that can't backup the
ESP themselves.</p>
<p>In my test case the ESP was ~7MB, not much at all.</p>
<h4 id="pcahyna_commented_at_2024-01-29_0904"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1914251034">2024-01-29 09:04</a>:<a class="headerlink" href="#pcahyna_commented_at_2024-01-29_0904" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Another thought: I added a feature to backup and restore the ESP
because PPDM doesn't backup <code>vfat</code> filesystems. I'm wondering if I
should change this code to be more generic so that it would either
happen automatically for any recovery that doesn't restore the ESP or
that it can be activated for those commercial backup tools that can't
backup the ESP themselves.</p>
</blockquote>
<p>I must say that a backup software that does not backup <code>vfat</code>
filesystems does not looks suitable as a backup method for ReaR. What if
the user has a vfat filesystem mounted somewhere else, and includes it
in layout?</p>
<h4 id="pcahyna_commented_at_2024-01-29_0911"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1914262359">2024-01-29 09:11</a>:<a class="headerlink" href="#pcahyna_commented_at_2024-01-29_0911" title="Permanent link">&para;</a></h4>
<p>Would it work to add a PPDM-specific check that there are not vfat
filesystems in the layout (except the ESP)?</p>
<h4 id="pcahyna_commented_at_2024-01-29_1008"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1914364842">2024-01-29 10:08</a>:<a class="headerlink" href="#pcahyna_commented_at_2024-01-29_1008" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Thanks @pcahyna for helping us to be better contributors, you are
right in both points.</p>
</blockquote>
<p>thanks for the update, it looks much better now, but there are still
some places with unrelated white space changes remaining. Please also
drop the huge autogenerated html files from the PR, unless they have
been in the source tree before.</p>
<h4 id="schlomo_commented_at_2024-01-29_1222"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1914584978">2024-01-29 12:22</a>:<a class="headerlink" href="#schlomo_commented_at_2024-01-29_1222" title="Permanent link">&para;</a></h4>
<p>@pcahyna about the white space changes like <code>do source $script;</code> vs.
<code>$script ;</code> I have the challenge that there doesn't seem to be a
<a href="https://github.com/mvdan/sh/blob/master/cmd/shfmt/shfmt.1.scd">shfmt</a>
setting to allow that.</p>
<p>I really would like us to find a way to use automated formatting, as it
significantly reduces mental overhead for us developers. BTW, The
<a href="https://google.github.io/styleguide/shellguide.html">Google Shell
Guide</a> also doesn't
require a blank before the <code>;</code> in a <code>do</code> statement, so maybe we don't
need to require that.</p>
<p>What I would specifically suggest is to amend our <code>.editorconfig</code> file
like this:</p>
<pre><code>root = true
[*]
end_of_line = lf
insert_final_newline = true
indent_style = space
indent_size = 4
shell_variant = bash
binary_next_line = true
switch_case_indent = true
space_redirects = true
keep_padding = true
function_next_line = false

[[bash]]
shell_variant = bash
</code></pre>
<p>and be happy what <code>shfmt</code> makes out of it.</p>
<h4 id="schlomo_commented_at_2024-01-29_1231"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1914600445">2024-01-29 12:31</a>:<a class="headerlink" href="#schlomo_commented_at_2024-01-29_1231" title="Permanent link">&para;</a></h4>
<p>about the HTML files: I added them to our <code>.gitignore</code> so that future
runs of <code>make doc</code> won't have this effect</p>
<h4 id="schlomo_commented_at_2024-01-29_1443"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1914836245">2024-01-29 14:43</a>:<a class="headerlink" href="#schlomo_commented_at_2024-01-29_1443" title="Permanent link">&para;</a></h4>
<p>BTW, I'm now reworking the <code>LD_LIBRARY_PATH</code> code to be modularized and
the <code>/boot/efi</code> code to be reusable.</p>
<h4 id="pcahyna_commented_at_2024-01-29_1707"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1915186889">2024-01-29 17:07</a>:<a class="headerlink" href="#pcahyna_commented_at_2024-01-29_1707" title="Permanent link">&para;</a></h4>
<blockquote>
<p>@pcahyna about the white space changes like <code>do source $script;</code> vs.
<code>$script ;</code> I have the challenge that there doesn't seem to be a
<a href="https://github.com/mvdan/sh/blob/master/cmd/shfmt/shfmt.1.scd">shfmt</a>
setting to allow that.</p>
<p>I really would like us to find a way to use automated formatting, as
it significantly reduces mental overhead for us developers.</p>
</blockquote>
<p>@schlomo a commit should not include changes unrelated to the purpose of
the commit, and should not mix formatting changes/style changes and
functional changes. It seems that your proposal implies reformatting
every source code file that one touches, which will result in a huge
number of unrelated whitespace changes, especially for longer files.
This will significantly <em>increase</em> the mental overhead for those reading
the diffs, searching in git log or using <code>git blame</code> (like I find myself
doing very often).</p>
<blockquote>
<p>BTW, The <a href="https://google.github.io/styleguide/shellguide.html">Google Shell
Guide</a> also
doesn't require a blank before the <code>;</code> in a <code>do</code> statement, so maybe
we don't need to require that.</p>
</blockquote>
<p>This seems though to be our preferred style according to the examples in
<a href="https://github.com/rear/rear/wiki/Coding-Style">https://github.com/rear/rear/wiki/Coding-Style</a>
and most of the existing code. I am not saying that the style can't be
changed, but a PR about adding support for Dell PowerProtect Data
Manager is not the good place to discuss it or change the style.</p>
<h4 id="schlomo_commented_at_2024-01-29_1735"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1915236811">2024-01-29 17:35</a>:<a class="headerlink" href="#schlomo_commented_at_2024-01-29_1735" title="Permanent link">&para;</a></h4>
<p>@jsmeix I might have found an example where the <code>ldd</code> logic doesn't work
as expected, specifically the <code>cd</code> to the library directory before
running <code>ldd</code><br />
<a href="https://github.com/rear/rear/blob/58d6ec23941557af097def87ea25b13d340f834a/usr/share/rear/build/default/990_verify_rootfs.sh#L179">https://github.com/rear/rear/blob/58d6ec23941557af097def87ea25b13d340f834a/usr/share/rear/build/default/990_verify_rootfs.sh#L179</a><br />
doesn't seem to work in this example:</p>
<pre><code>REAR lvrh9reart01:~/rear-ppdm/usr/share/rear # show libr
declare -- DP_LD_LIBRARY_PATH="/opt/omni/lib:/opt/omni/lib64"
declare -- LD_LIBRARY_PATH_FOR_BACKUP_TOOL="/opt/dpsapps/fsagent/lib:/opt/dpsapps/agentsvc/lib"
declare -- NBU_LD_LIBRARY_PATH="/usr/openv/lib:/usr/openv/netbackup/sec/at/lib/"
declare -- NON_FATAL_BINARIES_WITH_MISSING_LIBRARY=""
declare -- TSM_LD_LIBRARY_PATH="/opt/tivoli/tsm/client/ba/bin:/opt/tivoli/tsm/client/api/bin64:/opt/tivoli/tsm/client/api/bin:/opt/tivoli/tsm/client/api/bin64/cit/bin"
REAR lvrh9reart01:~/rear-ppdm/usr/share/rear # cd /opt/dpsapps/agentsvc/lib/
REAR lvrh9reart01:/opt/dpsapps/agentsvc/lib # ldd libssl.so.1.0.0 
        linux-vdso.so.1 (0x00007fff53181000)
        libcrypto.so.1.0.0 =&gt; not found
        libdl.so.2 =&gt; /lib64/libdl.so.2 (0x00007f3d18ed0000)
        libc.so.6 =&gt; /lib64/libc.so.6 (0x00007f3d18800000)
        /lib64/ld-linux-x86-64.so.2 (0x00007f3d18edd000)
</code></pre>
<p>instead, it only works with specifically setting <code>LD_LIBRARY_PATH</code>:</p>
<pre><code>REAR lvrh9reart01:/opt/dpsapps/agentsvc/lib # LD_LIBRARY_PATH=$LD_LIBRARY_PATH_FOR_BACKUP_TOOL ldd libssl.so.1.0.0 
        linux-vdso.so.1 (0x00007ffcb9fec000)
        libcrypto.so.1.0.0 =&gt; /opt/dpsapps/fsagent/lib/libcrypto.so.1.0.0 (0x00007fbba6200000)
        libdl.so.2 =&gt; /lib64/libdl.so.2 (0x00007fbba6ab0000)
        libc.so.6 =&gt; /lib64/libc.so.6 (0x00007fbba5e00000)
        /lib64/ld-linux-x86-64.so.2 (0x00007fbba6abd000)
</code></pre>
<p>The system is RHEL 9.3.</p>
<p>I also found another false positive for the <code>systemd</code> libraries which is
apparently caused by the same problem (<code>ldd</code> not picking up libraries
from the current working directory):</p>
<pre><code>Testing each binary with 'ldd' and look for 'not found' libraries within the recovery system
/usr/lib64/systemd/libsystemd-core-252.so requires additional libraries
        libsystemd-shared-252.so =&gt; not found
</code></pre>
<p>Actually, <code>libsystemd-shared-252.so</code> is also in the same
<code>/usr/lib64/systemd/</code> directory, and the manual test shows the same
problem:</p>
<pre><code>[root@lvrh9reart01 systemd]# ldd libsystemd-core-252.so 
        linux-vdso.so.1 (0x00007ffc89307000)
        libsystemd-shared-252.so =&gt; not found
        libseccomp.so.2 =&gt; /lib64/libseccomp.so.2 (0x00007f886f256000)
        libpam.so.0 =&gt; /lib64/libpam.so.0 (0x00007f886f244000)
        libaudit.so.1 =&gt; /lib64/libaudit.so.1 (0x00007f886f216000)
        libkmod.so.2 =&gt; /lib64/libkmod.so.2 (0x00007f886efe5000)
        libselinux.so.1 =&gt; /lib64/libselinux.so.1 (0x00007f886efb8000)
        libmount.so.1 =&gt; /lib64/libmount.so.1 (0x00007f886ef73000)
        libgcc_s.so.1 =&gt; /lib64/libgcc_s.so.1 (0x00007f886ef58000)
        libc.so.6 =&gt; /lib64/libc.so.6 (0x00007f886ec00000)
        libeconf.so.0 =&gt; /lib64/libeconf.so.0 (0x00007f886ef4d000)
        libm.so.6 =&gt; /lib64/libm.so.6 (0x00007f886ee72000)
        libcap-ng.so.0 =&gt; /lib64/libcap-ng.so.0 (0x00007f886ee69000)
        libzstd.so.1 =&gt; /lib64/libzstd.so.1 (0x00007f886eb29000)
        liblzma.so.5 =&gt; /lib64/liblzma.so.5 (0x00007f886ee3d000)
        libz.so.1 =&gt; /lib64/libz.so.1 (0x00007f886ee23000)
        libcrypto.so.3 =&gt; /lib64/libcrypto.so.3 (0x00007f886e600000)
        libpcre2-8.so.0 =&gt; /lib64/libpcre2-8.so.0 (0x00007f886ea8d000)
        /lib64/ld-linux-x86-64.so.2 (0x00007f886f27e000)
        libblkid.so.1 =&gt; /lib64/libblkid.so.1 (0x00007f886ea55000)
</code></pre>
<p>Does anybody have any idea where this comes from and how to fix it?</p>
<h4 id="pcahyna_commented_at_2024-01-29_1740"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1915246463">2024-01-29 17:40</a>:<a class="headerlink" href="#pcahyna_commented_at_2024-01-29_1740" title="Permanent link">&para;</a></h4>
<blockquote>
<p>I also found another false positive for the <code>systemd</code> libraries which
is apparently caused by the same problem (<code>ldd</code> not picking up
libraries from the current working directory):</p>
<pre><code>Testing each binary with 'ldd' and look for 'not found' libraries within the recovery system
/usr/lib64/systemd/libsystemd-core-252.so requires additional libraries
        libsystemd-shared-252.so =&gt; not found
</code></pre>
</blockquote>
<p>this message is harmless, annoying though. There is an issue about it
already : #3021</p>
<h4 id="schlomo_commented_at_2024-01-29_1808"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1915290806">2024-01-29 18:08</a>:<a class="headerlink" href="#schlomo_commented_at_2024-01-29_1808" title="Permanent link">&para;</a></h4>
<p>Yes, let's move the coding style change out of here to #3142</p>
<h4 id="schlomo_commented_at_2024-01-29_1809"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1915291502">2024-01-29 18:08</a>:<a class="headerlink" href="#schlomo_commented_at_2024-01-29_1809" title="Permanent link">&para;</a></h4>
<p>@pcahyna I think I fixed everything, can we now talk about PPDM?</p>
<h4 id="schlomo_commented_at_2024-01-30_1439"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1917033209">2024-01-30 14:39</a>:<a class="headerlink" href="#schlomo_commented_at_2024-01-30_1439" title="Permanent link">&para;</a></h4>
<p>If there are no more concerns then I'll merge tomorrow morning and
continue with the other topics.</p>
<h4 id="pcahyna_commented_at_2024-01-31_1622"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/3138#issuecomment-1919450985">2024-01-31 16:22</a>:<a class="headerlink" href="#pcahyna_commented_at_2024-01-31_1622" title="Permanent link">&para;</a></h4>
<p>@schlomo thanks for cleaning up the commit history, looks good now.<br />
I have not had a chance to review the latest changes (generalized ESP
restore and LD_LIBRARY_PATH stuff). I have some minor comments about
them that can be addressed in a separate PR.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2024-01-26.3138.pr.merged.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
