<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2019 Issue closed: Update to closed issue #2016 (Unable to clone Power lpar from rear backup SLES 12) - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2019 Issue closed: Update to closed issue #2016 (Unable to clone Power lpar from rear backup SLES 12)";
        var mkdocs_page_input_path = "issues/2019-01-17.2019.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/restic.html">External Backup using restic</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#2019 Issue closed: Update to closed issue #2016 (Unable to clone Power lpar from rear backup SLES 12)</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2019_issue_closed_update_to_closed_issue_2016_unable_to_clone_power_lpar_from_rear_backup_sles_12"><a href="https://github.com/rear/rear/issues/2019">#2019 Issue</a> <code>closed</code>: Update to closed issue #2016 (Unable to clone Power lpar from rear backup SLES 12)<a class="headerlink" href="#2019_issue_closed_update_to_closed_issue_2016_unable_to_clone_power_lpar_from_rear_backup_sles_12" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>bug</code>, <code>support / question</code>, <code>special hardware or VM</code>,
<code>no-issue-activity</code></p>
<h4 id="dewagner1_opened_issue_at_2019-01-17_2159"><img src="https://avatars.githubusercontent.com/u/42152522?v=4" width="50"><a href="https://github.com/dewagner1">dewagner1</a> opened issue at <a href="https://github.com/rear/rear/issues/2019">2019-01-17 21:59</a>:<a class="headerlink" href="#dewagner1_opened_issue_at_2019-01-17_2159" title="Permanent link">&para;</a></h4>
<h4 id="relax-and-recover_rear_issue_template">Relax-and-Recover (ReaR) Issue Template<a class="headerlink" href="#relax-and-recover_rear_issue_template" title="Permanent link">&para;</a></h4>
<p>Fill in the following items before submitting a new issue<br />
(quick response is not guaranteed with free support):</p>
<p>Please refer to #2016 for this information<br />
<a href="https://github.com/rear/rear/files/2770710/Rear.Problem.txt">Rear
Problem.txt</a></p>
<ul>
<li>
<p>ReaR version ("/usr/sbin/rear -V"):</p>
</li>
<li>
<p>OS version ("cat /etc/rear/os.conf" or "lsb_release -a" or "cat
    /etc/os-release"):</p>
</li>
<li>
<p>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
    /etc/rear/local.conf"):</p>
</li>
<li>
<p>Hardware (PC or PowerNV BareMetal or ARM) or virtual machine (KVM
    guest or PoverVM LPAR):</p>
</li>
<li>
<p>System architecture (x86 compatible or PPC64/PPC64LE or what exact
    ARM device):</p>
</li>
<li>
<p>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or
    ELILO or Petitboot):</p>
</li>
<li>
<p>Storage (lokal disk or SSD) and/or SAN (FC or iSCSI or FCoE) and/or
    multipath (DM or NVMe):</p>
</li>
<li>
<p>Description of the issue (ideally so that others can reproduce
    it):<br />
    There was an issue with SAN zoning not being unique across all
    adapters. Now those issues have been resolved and we are still
    having problems cloning lpars. Most of the time the old lpar disk is
    mapped to /dev/sda. However if we try rebooting and running rear
    recover multiple times, it works occasionally. When it fails to map
    properly, the output shows no multipath device being found.</p>
</li>
<li>
<p>Workaround, if any:</p>
</li>
<li>
<p>Attachments, as applicable ("rear -D mkrescue/mkbackup/recover"
    debug log files):<br />
<a href="https://github.com/rear/rear/files/2770713/Rear.Problem.txt">Rear
    Problem.txt</a></p>
</li>
</ul>
<h4 id="schabrolles_commented_at_2019-01-18_0835"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-455467320">2019-01-18 08:35</a>:<a class="headerlink" href="#schabrolles_commented_at_2019-01-18_0835" title="Permanent link">&para;</a></h4>
<p>@dewagner1,</p>
<p>My first guess is still a SAN / FC issue. To validate, the best would be
to boot your LPAR in SMS and run <code>ioinfo</code> via the OK prompt.</p>
<p><strong>1- From SMS menu to OK prompt</strong><br />
Press 0 when entering SMS menu 1st page.</p>
<pre><code>                                             X = eXit System Management Services
 -------------------------------------------------------------------------------
 Type menu item number and press Enter or select Navigation key:
 Open Completed.

 PowerPC Firmware
 Version FW860.51 (SV860_165)
 SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.
-------------------------------------------------------------------------------
 Main Menu
 1.   Select Language
 2.   Setup Remote IPL (Initial Program Load)
 3.   I/O Device Information
 4.   Select Console
 5.   Select Boot Options









 -------------------------------------------------------------------------------
 Navigation Keys:

                                             X = eXit System Management Services
 -------------------------------------------------------------------------------
 Type menu item number and press Enter or select Navigation key:0









                    .--------------------------------------.
                    |  Exit SMS to OK&gt; Prompt? (Y)es/(N)o  |
                    `--------------------------------------'












 ok
0 &gt;
</code></pre>
<p><strong>2-Run ioinfo on each fiber adapter to get the list of disk/partitions
path over the SAN network</strong></p>
<pre><code> ok
0 &gt; ioinfo

!!! IOINFO: FOR IBM INTERNAL USE ONLY !!!
This tool gives you information about SCSI,SATA,SAS,and USB devices attached to the system

Select a tool from the following

 1. SATAINFO
 2. SASINFO
 3. USBINFO
 4. FCINFO
 5. VSCSIINFO

q - quit/exit

==&gt; 4


FCINFO Main Menu
Select a FC Node from the following list:
  #  Location Code                Pathname
---------------------------------------------------------------
  1. U8284.22A.217097V-V21-C13-T1   /vdevice/vfc-client@3000000d
  2. U8284.22A.217097V-V21-C14-T1   /vdevice/vfc-client@3000000e

  q - Quit/Exit

==&gt; 1
</code></pre>
<p>Press 1 to list devices seen by the first Adapter</p>
<pre><code>==&gt; 1

1. 500507680c21099f,0                - 51200 MB Disk drive (bootable)
2. 500507680c21099f,1000000000000    - 10240 MB Disk drive
3. 500507680c21099f,2000000000000    - 10240 MB Disk drive
4. 500507680c51099f,0                - 51200 MB Disk drive (bootable)
5. 500507680c51099f,1000000000000    - 10240 MB Disk drive
6. 500507680c51099f,2000000000000    - 10240 MB Disk drive
7. 500507680c2109a6,0                - 51200 MB Disk drive (bootable)
8. 500507680c2109a6,1000000000000    - 10240 MB Disk drive
9. 500507680c2109a6,2000000000000    - 10240 MB Disk drive
10. 500507680c5109a6,0                - 51200 MB Disk drive (bootable)
11. 500507680c5109a6,1000000000000    - 10240 MB Disk drive
12. 500507680c5109a6,2000000000000    - 10240 MB Disk drive

Hit a key to continue...
</code></pre>
<p>Then Quit <code>q</code> and run the same thing on the other adapter</p>
<h4 id="dewagner1_commented_at_2019-01-19_1225"><img src="https://avatars.githubusercontent.com/u/42152522?v=4" width="50"><a href="https://github.com/dewagner1">dewagner1</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-455776017">2019-01-19 12:25</a>:<a class="headerlink" href="#dewagner1_commented_at_2019-01-19_1225" title="Permanent link">&para;</a></h4>
<p>Hi Sebastien,<br />
We are using XIV for our storage. We worked with the SAN team
yesterday<br />
and thought we found the problem. They made a change and we tried a<br />
restore and it worked perfectly. Then we rebooted and tried two more<br />
restores on the same lpar with the same image and they failed.</p>
<p>The first restore that worked had the following output for the
multipath<br />
device info. I don't have console output so I don't remember the<br />
exact /dev/mapper id. That's why I used question marks.<br />
The two times that didn't work (logs below including ioinfo output) did
not<br />
have any entry under "Listing multipath device found"</p>
<p>Listing multipath device found<br />
/dev/mapper/20017380034??????<br />
Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than
one<br />
with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/sda (same size) for recreating
/dev/mapper/200173800348802b3<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802b3 =&gt; /dev/mapper/20017380034??????</p>
<h1 id="here_is_the_ioinfo_output">Here is the ioinfo output<a class="headerlink" href="#here_is_the_ioinfo_output" title="Permanent link">&para;</a></h1>
<p>0 &gt; ioinfo</p>
<p>!!! IOINFO: FOR IBM INTERNAL USE ONLY !!!<br />
This tool gives you information about SCSI,SATA,SAS,and USB devices<br />
attached to the system</p>
<p>Select a tool from the following</p>
<ol>
<li>SATAINFO</li>
<li>SASINFO</li>
<li>USBINFO</li>
<li>FCINFO</li>
<li>VSCSIINFO</li>
</ol>
<p>q - quit/exit</p>
<p>==&gt; 4</p>
<p>FCINFO Main Menu<br />
Select a FC Node from the following list:</p>
<h1 id="location_code_pathname">Location Code Pathname<a class="headerlink" href="#location_code_pathname" title="Permanent link">&para;</a></h1>
<hr />
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 1</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000002_fc_node_worldwideportname_c0507609f1e20020">FC Node Menu FC Node String: /vdevice/vfc-client@30000002 FC Node WorldWidePortName: c0507609f1e20020<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000002_fc_node_worldwideportname_c0507609f1e20020" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 1</p>
<ol>
<li>5001738034880150,4000000000000000 - 114877 MB Disk drive</li>
<li>5001738034880141,4000000000000000 - 114877 MB Disk drive</li>
</ol>
<p>Hit a key to continue...</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000002_fc_node_worldwideportname_c0507609f1e20020_1">FC Node Menu FC Node String: /vdevice/vfc-client@30000002 FC Node WorldWidePortName: c0507609f1e20020<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000002_fc_node_worldwideportname_c0507609f1e20020_1" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; q</p>
<p>FCINFO Main Menu<br />
Select a FC Node from the following list:</p>
<h1 id="location_code_pathname_1">Location Code Pathname<a class="headerlink" href="#location_code_pathname_1" title="Permanent link">&para;</a></h1>
<hr />
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 2</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000003_fc_node_worldwideportname_c0507609f1e20022">FC Node Menu FC Node String: /vdevice/vfc-client@30000003 FC Node WorldWidePortName: c0507609f1e20022<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000003_fc_node_worldwideportname_c0507609f1e20022" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 1</p>
<p>NO FC DEVICES FOUND</p>
<p>Hit a key to continue...</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000003_fc_node_worldwideportname_c0507609f1e20022_1">FC Node Menu FC Node String: /vdevice/vfc-client@30000003 FC Node WorldWidePortName: c0507609f1e20022<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000003_fc_node_worldwideportname_c0507609f1e20022_1" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; q</p>
<p>FCINFO Main Menu<br />
Select a FC Node from the following list:</p>
<h1 id="location_code_pathname_2">Location Code Pathname<a class="headerlink" href="#location_code_pathname_2" title="Permanent link">&para;</a></h1>
<hr />
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 3</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000004_fc_node_worldwideportname_c0507609f1e20024">FC Node Menu FC Node String: /vdevice/vfc-client@30000004 FC Node WorldWidePortName: c0507609f1e20024<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000004_fc_node_worldwideportname_c0507609f1e20024" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 1</p>
<p>NO FC DEVICES FOUND</p>
<p>Hit a key to continue...</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000004_fc_node_worldwideportname_c0507609f1e20024_1">FC Node Menu FC Node String: /vdevice/vfc-client@30000004 FC Node WorldWidePortName: c0507609f1e20024<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000004_fc_node_worldwideportname_c0507609f1e20024_1" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; q</p>
<p>FCINFO Main Menu<br />
Select a FC Node from the following list:</p>
<h1 id="location_code_pathname_3">Location Code Pathname<a class="headerlink" href="#location_code_pathname_3" title="Permanent link">&para;</a></h1>
<hr />
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 4</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000005_fc_node_worldwideportname_c0507609f1e20026">FC Node Menu FC Node String: /vdevice/vfc-client@30000005 FC Node WorldWidePortName: c0507609f1e20026<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000005_fc_node_worldwideportname_c0507609f1e20026" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 1</p>
<p>NO FC DEVICES FOUND</p>
<p>Hit a key to continue...</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000005_fc_node_worldwideportname_c0507609f1e20026_1">FC Node Menu FC Node String: /vdevice/vfc-client@30000005 FC Node WorldWidePortName: c0507609f1e20026<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000005_fc_node_worldwideportname_c0507609f1e20026_1" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; q</p>
<p>FCINFO Main Menu<br />
Select a FC Node from the following list:</p>
<h1 id="location_code_pathname_4">Location Code Pathname<a class="headerlink" href="#location_code_pathname_4" title="Permanent link">&para;</a></h1>
<hr />
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<p>q - Quit/Exit</p>
<h1 id="here_is_the_console_log_of_the_two_different_restores_that_did_not_work">Here is the console log of the two different restores that did not work.<a class="headerlink" href="#here_is_the_console_log_of_the_two_different_restores_that_did_not_work" title="Permanent link">&para;</a></h1>
<p>Configuring Relax-and-Recover rescue system</p>
<p>Running 00-functions.sh...<br />
Running 01-run-ldconfig.sh...<br />
Running 10-console-setup.sh...<br />
Using keymap of the original system<br />
Running 20-check-boot-options.sh...<br />
Running 40-start-udev-or-load-modules.sh...<br />
Waiting for udev ... done.<br />
Running 41-load-special-modules.sh...<br />
Running 42-engage-scsi.sh...<br />
Running 45-serial-console.sh...<br />
Running 55-migrate-network-devices.sh...<br />
No network interface mapping is specified in /etc/rear/mappings/mac<br />
The original network interface eth0 d6:8b:e6:36:62:08 is not available</p>
<ol>
<li>eth3 d6:8b:e5:4d:db:08 ibmveth</li>
<li>eth4 d6:8b:e5:4d:db:09 ibmveth</li>
<li>eth5 d6:8b:e5:4d:db:0a ibmveth</li>
<li>Skip replacing eth0 d6:8b:e6:36:62:08<br />
    Choose replacement for eth0 d6:8b:e6:36:62:08 1<br />
    Mapping eth0 d6:8b:e6:36:62:08 to eth3 d6:8b:e5:4d:db:08<br />
    The original network interface eth1 d6:8b:e6:36:62:09 is not
    available</li>
<li>
<ol>
<li>eth4 d6:8b:e5:4d:db:09 ibmveth</li>
</ol>
</li>
<li>eth5 d6:8b:e5:4d:db:0a ibmveth</li>
<li>Skip replacing eth1 d6:8b:e6:36:62:09<br />
    Choose replacement for eth1 d6:8b:e6:36:62:09 2<br />
    Mapping eth1 d6:8b:e6:36:62:09 to eth4 d6:8b:e5:4d:db:09<br />
    The original network interface eth2 d6:8b:e6:36:62:0a is not
    available</li>
<li>
<ol>
<li>
<ol>
<li>eth5 d6:8b:e5:4d:db:0a ibmveth</li>
</ol>
</li>
</ol>
</li>
<li>Skip replacing eth2 d6:8b:e6:36:62:0a<br />
    Choose replacement for eth2 d6:8b:e6:36:62:0a 3<br />
    Mapping eth2 d6:8b:e6:36:62:0a to eth5 d6:8b:e5:4d:db:0a<br />
    Reloading udev ... done.<br />
    Running 58-start-dhclient.sh...<br />
    Running 60-network-devices.sh...<br />
    Running 62-routing.sh...<br />
    Running 65-sysctl.sh...<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 1<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_tw_recycle = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.ipv4.tcp_wmem = 4096 16384 4194304<br />
    vm.min_free_kbytes = 10485760<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 1<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_tw_recycle = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.ipv4.tcp_wmem = 4096 16384 4194304<br />
    vm.min_free_kbytes = 10485760<br />
    Running 99-makedev.sh...</li>
</ol>
<p>Relax-and-Recover rescue system is ready</p>
<p>[ OK ] Started Initialize Rescue System.<br />
[ OK ] Started Getty on tty0.<br />
[ OK ] Reached target Login Prompts.<br />
[ OK ] Started Serial Getty on hvc0.<br />
[ OK ] Started Serial Getty on ttyS0.<br />
[ OK ] Reached target Multi-User.</p>
<p>Relax-and-Recover 2.4-git.0.6ec9075.unknown / 2018-12-05</p>
<p>Relax-and-Recover comes with ABSOLUTELY NO WARRANTY; for details see<br />
the GNU General Public License at:
<a href="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</a></p>
<p>Host eniesdbp104p using Backup NETFS and Output ISO<br />
Build date: Thu, 17 Jan 2019 14:22:20 -0500</p>
<p>Welcome to SUSE Linux Enterprise Server for SAP Applications 12 SP3<br />
(ppc64le) - Kernel 4.4.162-94.72-default (hvc0).</p>
<p>SSH fingerprint: 2048
SHA256:bn+LTuNXpbRAhjgEBjQZ6rZv29K8anvt2wL7R2uXgqw<br />
root@eniesdbp104p (RSA)</p>
<p>eniesdbp104p login: root</p>
<p>Welcome to Relax-and-Recover. Run "rear recover" to restore your system
!</p>
<p>RESCUE eniesdbp104p:~ # rear recover<br />
Relax-and-Recover 2.4-git.0.6ec9075.unknown / 2018-12-05<br />
Running rear recover (PID 24570)<br />
Using log file: /var/log/rear/rear-eniesdbp104p.log<br />
Running workflow recover within the ReaR rescue/recovery system<br />
Using backup archive<br />
'/tmp/rear.Hs00F3ALINE1ns3/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz'<br />
Will do driver migration (recreating initramfs/initrd)<br />
Calculating backup archive size<br />
Backup archive size is 1909.38M (compressed)<br />
Setting up multipathing<br />
Activating multipath<br />
multipath activated<br />
Starting multipath daemon<br />
multipathd started<br />
Listing multipath device found</p>
<p>Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than
one<br />
with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/sda (same size) for recreating
/dev/mapper/200173800348802b3<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802b3 =&gt; /dev/sda</p>
<p>Configuring Relax-and-Recover rescue system</p>
<p>Running 00-functions.sh...<br />
Running 01-run-ldconfig.sh...<br />
Running 10-console-setup.sh...<br />
Using keymap of the original system<br />
Running 20-check-boot-options.sh...<br />
Running 40-start-udev-or-load-modules.sh...<br />
Waiting for udev ... done.<br />
Running 41-load-special-modules.sh...<br />
Running 42-engage-scsi.sh...<br />
Running 45-serial-console.sh...<br />
Running 55-migrate-network-devices.sh...<br />
No network interface mapping is specified in /etc/rear/mappings/mac<br />
The original network interface eth0 d6:8b:e6:36:62:08 is not available</p>
<ol>
<li>eth1 d6:8b:e5:4d:db:09 ibmveth</li>
<li>eth2 d6:8b:e5:4d:db:0a ibmveth</li>
<li>eth3 d6:8b:e5:4d:db:08 ibmveth</li>
<li>Skip replacing eth0 d6:8b:e6:36:62:08<br />
    Choose replacement for eth0 d6:8b:e6:36:62:08 3<br />
    Mapping eth0 d6:8b:e6:36:62:08 to eth3 d6:8b:e5:4d:db:08<br />
    The original network interface eth1 d6:8b:e6:36:62:09 is not
    available</li>
<li>eth1 d6:8b:e5:4d:db:09 ibmveth</li>
<li>eth2 d6:8b:e5:4d:db:0a ibmveth</li>
<li>
<ol>
<li>Skip replacing eth1 d6:8b:e6:36:62:09<br />
    Choose replacement for eth1 d6:8b:e6:36:62:09 1<br />
    Mapping eth1 d6:8b:e6:36:62:09 to eth1 d6:8b:e5:4d:db:09<br />
    The original network interface eth2 d6:8b:e6:36:62:0a is not
    available</li>
</ol>
</li>
<li>
<ol>
<li>eth2 d6:8b:e5:4d:db:0a ibmveth</li>
</ol>
</li>
<li>
<ol>
<li>Skip replacing eth2 d6:8b:e6:36:62:0a<br />
    Choose replacement for eth2 d6:8b:e6:36:62:0a 2<br />
    Mapping eth2 d6:8b:e6:36:62:0a to eth2 d6:8b:e5:4d:db:0a<br />
    Reloading udev ... done.<br />
    Running 58-start-dhclient.sh...<br />
    Running 60-network-devices.sh...<br />
    Running 62-routing.sh...<br />
    Running 65-sysctl.sh...<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 1<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_tw_recycle = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.ipv4.tcp_wmem = 4096 16384 4194304<br />
    vm.min_free_kbytes = 10485760<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 1<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_tw_recycle = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.ipv4.tcp_wmem = 4096 16384 4194304<br />
    vm.min_free_kbytes = 10485760<br />
    Running 99-makedev.sh...</li>
</ol>
</li>
</ol>
<p>Relax-and-Recover rescue system is ready</p>
<p>[ OK ] Started Initialize Rescue System.<br />
[ OK ] Started Getty on tty0.<br />
[ OK ] Reached target Login Prompts.<br />
[ OK ] Reached target Multi-User.<br />
[ OK ] Started Serial Getty on ttyS0.<br />
[ OK ] Started Serial Getty on hvc0.</p>
<p>Relax-and-Recover 2.4-git.0.6ec9075.unknown / 2018-12-05</p>
<p>Relax-and-Recover comes with ABSOLUTELY NO WARRANTY; for details see<br />
the GNU General Public License at:
<a href="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</a></p>
<p>Host eniesdbp104p using Backup NETFS and Output ISO<br />
Build date: Thu, 17 Jan 2019 14:22:20 -0500</p>
<p>Welcome to SUSE Linux Enterprise Server for SAP Applications 12 SP3<br />
(ppc64le) - Kernel 4.4.162-94.72-default (hvc0).</p>
<p>SSH fingerprint: 2048
SHA256:DNyikRzuULk3bpE1wwyoXX/6b9qV0kBUW0j32NOrdkY<br />
root@eniesdbp104p (RSA)</p>
<p>eniesdbp104p login: root</p>
<p>Welcome to Relax-and-Recover. Run "rear recover" to restore your system
!</p>
<p>RESCUE eniesdbp104p:~ # rear recover<br />
Relax-and-Recover 2.4-git.0.6ec9075.unknown / 2018-12-05<br />
Running rear recover (PID 24593)<br />
Using log file: /var/log/rear/rear-eniesdbp104p.log<br />
Running workflow recover within the ReaR rescue/recovery system<br />
Using backup archive<br />
'/tmp/rear.3HmcDWcPOuSWy4R/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz'<br />
Will do driver migration (recreating initramfs/initrd)<br />
Calculating backup archive size<br />
Backup archive size is 1909.38M (compressed)<br />
Setting up multipathing<br />
Activating multipath<br />
multipath activated<br />
Starting multipath daemon<br />
multipathd started<br />
Listing multipath device found<br />
SIBM_2810XIV_780348802C6 dm-0 IBM,2810XIV size=112G<br />
Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than
one<br />
with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/mapper/SIBM_2810XIV_780348802C6 (same size) for<br />
recreating /dev/mapper/200173800348802b3<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802b3 =&gt;
/dev/mapper/SIBM_2810XIV_780348802C6</p>
<p>Dan Wagner<br />
Senior Enterprise System Specialist</p>
<p>(717) 580-3844 Mobile<br />
(717) 409-5858 Office<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;">&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;</a></p>
<p>IBM Services</p>
<h4 id="dewagner1_commented_at_2019-01-21_1032"><img src="https://avatars.githubusercontent.com/u/42152522?v=4" width="50"><a href="https://github.com/dewagner1">dewagner1</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-456025584">2019-01-21 10:32</a>:<a class="headerlink" href="#dewagner1_commented_at_2019-01-21_1032" title="Permanent link">&para;</a></h4>
<p>Hi Sebastien,<br />
We eliminated all but 1 path to 1 disk on the XIV and it still is not<br />
working. Here is the console output along with the debug log file.</p>
<p>(See attached file:<br />
IES_Build_SAP-HANA2_eniesdbp101p_REAR-debug__2019Jan18.txt)</p>
<p>Thanks,<br />
Dan Wagner<br />
Senior Enterprise System Specialist</p>
<p>(717) 580-3844 Mobile<br />
(717) 409-5858 Office<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;">&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;</a></p>
<p>IBM Services</p>
<p>From: Dan Wagner/Mechanicsburg/Contr/IBM<br />
To: rear/rear &lt;reply<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#43;&#48;&#50;&#56;&#51;&#51;&#50;&#52;&#97;&#56;&#57;&#99;&#57;&#99;&#54;&#98;&#50;&#50;&#98;&#56;&#48;&#100;&#52;&#102;&#100;&#51;&#102;&#53;&#53;&#57;&#53;&#54;&#101;&#100;&#52;&#55;&#52;&#53;&#48;&#55;&#49;&#52;&#54;&#52;&#56;&#50;&#50;&#98;&#100;&#57;&#50;&#99;&#102;&#48;&#48;&#48;&#48;&#48;&#48;&#48;&#49;&#49;&#56;&#53;&#57;&#53;&#49;&#102;&#48;&#57;&#50;&#97;&#49;&#54;&#57;&#99;&#101;&#49;&#55;&#100;&#101;&#100;&#99;&#51;&#56;&#64;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#43;&#48;&#50;&#56;&#51;&#51;&#50;&#52;&#97;&#56;&#57;&#99;&#57;&#99;&#54;&#98;&#50;&#50;&#98;&#56;&#48;&#100;&#52;&#102;&#100;&#51;&#102;&#53;&#53;&#57;&#53;&#54;&#101;&#100;&#52;&#55;&#52;&#53;&#48;&#55;&#49;&#52;&#54;&#52;&#56;&#50;&#50;&#98;&#100;&#57;&#50;&#99;&#102;&#48;&#48;&#48;&#48;&#48;&#48;&#48;&#49;&#49;&#56;&#53;&#57;&#53;&#49;&#102;&#48;&#57;&#50;&#97;&#49;&#54;&#57;&#99;&#101;&#49;&#55;&#100;&#101;&#100;&#99;&#51;&#56;&#64;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a>&gt;<br />
Cc: Mention <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a>, rear/rear<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a>, Susan<br />
Steele/Mechanicsburg/IBM@IBMUS, Glenn<br />
Lehman/Mechanicsburg/IBM@IBMUS, Cora Jung/New York/IBM@IBMUS<br />
Date: 01/19/2019 07:24 AM<br />
Subject: Re: [rear/rear] Update to closed issue #2016 (Unable to
clone<br />
Power lpar from rear backup SLES 12 SP3) (#2019)</p>
<p>Hi Sebastien,<br />
We are using XIV for our storage. We worked with the SAN team
yesterday<br />
and thought we found the problem. They made a change and we tried a<br />
restore and it worked perfectly. Then we rebooted and tried two more<br />
restores on the same lpar with the same image and they failed.</p>
<p>The first restore that worked had the following output for the
multipath<br />
device info. I don't have console output so I don't remember the<br />
exact /dev/mapper id. That's why I used question marks.<br />
The two times that didn't work (logs below including ioinfo output) did
not<br />
have any entry under "Listing multipath device found"</p>
<p>Listing multipath device found<br />
/dev/mapper/20017380034??????<br />
Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than
one<br />
with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/sda (same size) for recreating
/dev/mapper/200173800348802b3<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802b3 =&gt; /dev/mapper/20017380034??????</p>
<h1 id="here_is_the_ioinfo_output_1">Here is the ioinfo output<a class="headerlink" href="#here_is_the_ioinfo_output_1" title="Permanent link">&para;</a></h1>
<p>0 &gt; ioinfo</p>
<p>!!! IOINFO: FOR IBM INTERNAL USE ONLY !!!<br />
This tool gives you information about SCSI,SATA,SAS,and USB devices<br />
attached to the system</p>
<p>Select a tool from the following</p>
<ol>
<li>SATAINFO</li>
<li>SASINFO</li>
<li>USBINFO</li>
<li>FCINFO</li>
<li>VSCSIINFO</li>
</ol>
<p>q - quit/exit</p>
<p>==&gt; 4</p>
<p>FCINFO Main Menu<br />
Select a FC Node from the following list:</p>
<h1 id="location_code_pathname_5">Location Code Pathname<a class="headerlink" href="#location_code_pathname_5" title="Permanent link">&para;</a></h1>
<hr />
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 1</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000002_fc_node_worldwideportname_c0507609f1e20020_2">FC Node Menu FC Node String: /vdevice/vfc-client@30000002 FC Node WorldWidePortName: c0507609f1e20020<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000002_fc_node_worldwideportname_c0507609f1e20020_2" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 1</p>
<ol>
<li>5001738034880150,4000000000000000 - 114877 MB Disk drive</li>
<li>5001738034880141,4000000000000000 - 114877 MB Disk drive</li>
</ol>
<p>Hit a key to continue...</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000002_fc_node_worldwideportname_c0507609f1e20020_3">FC Node Menu FC Node String: /vdevice/vfc-client@30000002 FC Node WorldWidePortName: c0507609f1e20020<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000002_fc_node_worldwideportname_c0507609f1e20020_3" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; q</p>
<p>FCINFO Main Menu<br />
Select a FC Node from the following list:</p>
<h1 id="location_code_pathname_6">Location Code Pathname<a class="headerlink" href="#location_code_pathname_6" title="Permanent link">&para;</a></h1>
<hr />
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 2</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000003_fc_node_worldwideportname_c0507609f1e20022_2">FC Node Menu FC Node String: /vdevice/vfc-client@30000003 FC Node WorldWidePortName: c0507609f1e20022<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000003_fc_node_worldwideportname_c0507609f1e20022_2" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 1</p>
<p>NO FC DEVICES FOUND</p>
<p>Hit a key to continue...</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000003_fc_node_worldwideportname_c0507609f1e20022_3">FC Node Menu FC Node String: /vdevice/vfc-client@30000003 FC Node WorldWidePortName: c0507609f1e20022<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000003_fc_node_worldwideportname_c0507609f1e20022_3" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; q</p>
<p>FCINFO Main Menu<br />
Select a FC Node from the following list:</p>
<h1 id="location_code_pathname_7">Location Code Pathname<a class="headerlink" href="#location_code_pathname_7" title="Permanent link">&para;</a></h1>
<hr />
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 3</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000004_fc_node_worldwideportname_c0507609f1e20024_2">FC Node Menu FC Node String: /vdevice/vfc-client@30000004 FC Node WorldWidePortName: c0507609f1e20024<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000004_fc_node_worldwideportname_c0507609f1e20024_2" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 1</p>
<p>NO FC DEVICES FOUND</p>
<p>Hit a key to continue...</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000004_fc_node_worldwideportname_c0507609f1e20024_3">FC Node Menu FC Node String: /vdevice/vfc-client@30000004 FC Node WorldWidePortName: c0507609f1e20024<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000004_fc_node_worldwideportname_c0507609f1e20024_3" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; q</p>
<p>FCINFO Main Menu<br />
Select a FC Node from the following list:</p>
<h1 id="location_code_pathname_8">Location Code Pathname<a class="headerlink" href="#location_code_pathname_8" title="Permanent link">&para;</a></h1>
<hr />
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 4</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000005_fc_node_worldwideportname_c0507609f1e20026_2">FC Node Menu FC Node String: /vdevice/vfc-client@30000005 FC Node WorldWidePortName: c0507609f1e20026<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000005_fc_node_worldwideportname_c0507609f1e20026_2" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 1</p>
<p>NO FC DEVICES FOUND</p>
<p>Hit a key to continue...</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000005_fc_node_worldwideportname_c0507609f1e20026_3">FC Node Menu FC Node String: /vdevice/vfc-client@30000005 FC Node WorldWidePortName: c0507609f1e20026<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000005_fc_node_worldwideportname_c0507609f1e20026_3" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; q</p>
<p>FCINFO Main Menu<br />
Select a FC Node from the following list:</p>
<h1 id="location_code_pathname_9">Location Code Pathname<a class="headerlink" href="#location_code_pathname_9" title="Permanent link">&para;</a></h1>
<hr />
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<p>q - Quit/Exit</p>
<h1 id="here_is_the_console_log_of_the_two_different_restores_that_did_not_work_1">Here is the console log of the two different restores that did not work.<a class="headerlink" href="#here_is_the_console_log_of_the_two_different_restores_that_did_not_work_1" title="Permanent link">&para;</a></h1>
<p>Configuring Relax-and-Recover rescue system</p>
<p>Running 00-functions.sh...<br />
Running 01-run-ldconfig.sh...<br />
Running 10-console-setup.sh...<br />
Using keymap of the original system<br />
Running 20-check-boot-options.sh...<br />
Running 40-start-udev-or-load-modules.sh...<br />
Waiting for udev ... done.<br />
Running 41-load-special-modules.sh...<br />
Running 42-engage-scsi.sh...<br />
Running 45-serial-console.sh...<br />
Running 55-migrate-network-devices.sh...<br />
No network interface mapping is specified in /etc/rear/mappings/mac<br />
The original network interface eth0 d6:8b:e6:36:62:08 is not available</p>
<ol>
<li>eth3 d6:8b:e5:4d:db:08 ibmveth</li>
<li>eth4 d6:8b:e5:4d:db:09 ibmveth</li>
<li>eth5 d6:8b:e5:4d:db:0a ibmveth</li>
<li>Skip replacing eth0 d6:8b:e6:36:62:08<br />
    Choose replacement for eth0 d6:8b:e6:36:62:08 1<br />
    Mapping eth0 d6:8b:e6:36:62:08 to eth3 d6:8b:e5:4d:db:08<br />
    The original network interface eth1 d6:8b:e6:36:62:09 is not
    available</li>
<li>
<ol>
<li>eth4 d6:8b:e5:4d:db:09 ibmveth</li>
</ol>
</li>
<li>eth5 d6:8b:e5:4d:db:0a ibmveth</li>
<li>Skip replacing eth1 d6:8b:e6:36:62:09<br />
    Choose replacement for eth1 d6:8b:e6:36:62:09 2<br />
    Mapping eth1 d6:8b:e6:36:62:09 to eth4 d6:8b:e5:4d:db:09<br />
    The original network interface eth2 d6:8b:e6:36:62:0a is not
    available</li>
<li>
<ol>
<li>
<ol>
<li>eth5 d6:8b:e5:4d:db:0a ibmveth</li>
</ol>
</li>
</ol>
</li>
<li>Skip replacing eth2 d6:8b:e6:36:62:0a<br />
    Choose replacement for eth2 d6:8b:e6:36:62:0a 3<br />
    Mapping eth2 d6:8b:e6:36:62:0a to eth5 d6:8b:e5:4d:db:0a<br />
    Reloading udev ... done.<br />
    Running 58-start-dhclient.sh...<br />
    Running 60-network-devices.sh...<br />
    Running 62-routing.sh...<br />
    Running 65-sysctl.sh...<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 1<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_tw_recycle = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.ipv4.tcp_wmem = 4096 16384 4194304<br />
    vm.min_free_kbytes = 10485760<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 1<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_tw_recycle = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.ipv4.tcp_wmem = 4096 16384 4194304<br />
    vm.min_free_kbytes = 10485760<br />
    Running 99-makedev.sh...</li>
</ol>
<p>Relax-and-Recover rescue system is ready</p>
<p>[ OK ] Started Initialize Rescue System.<br />
[ OK ] Started Getty on tty0.<br />
[ OK ] Reached target Login Prompts.<br />
[ OK ] Started Serial Getty on hvc0.<br />
[ OK ] Started Serial Getty on ttyS0.<br />
[ OK ] Reached target Multi-User.</p>
<p>Relax-and-Recover 2.4-git.0.6ec9075.unknown / 2018-12-05</p>
<p>Relax-and-Recover comes with ABSOLUTELY NO WARRANTY; for details see<br />
the GNU General Public License at:
<a href="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</a></p>
<p>Host eniesdbp104p using Backup NETFS and Output ISO<br />
Build date: Thu, 17 Jan 2019 14:22:20 -0500</p>
<p>Welcome to SUSE Linux Enterprise Server for SAP Applications 12 SP3<br />
(ppc64le) - Kernel 4.4.162-94.72-default (hvc0).</p>
<p>SSH fingerprint: 2048
SHA256:bn+LTuNXpbRAhjgEBjQZ6rZv29K8anvt2wL7R2uXgqw<br />
root@eniesdbp104p (RSA)</p>
<p>eniesdbp104p login: root</p>
<p>Welcome to Relax-and-Recover. Run "rear recover" to restore your system
!</p>
<p>RESCUE eniesdbp104p:~ # rear recover<br />
Relax-and-Recover 2.4-git.0.6ec9075.unknown / 2018-12-05<br />
Running rear recover (PID 24570)<br />
Using log file: /var/log/rear/rear-eniesdbp104p.log<br />
Running workflow recover within the ReaR rescue/recovery system<br />
Using backup archive<br />
'/tmp/rear.Hs00F3ALINE1ns3/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz'<br />
Will do driver migration (recreating initramfs/initrd)<br />
Calculating backup archive size<br />
Backup archive size is 1909.38M (compressed)<br />
Setting up multipathing<br />
Activating multipath<br />
multipath activated<br />
Starting multipath daemon<br />
multipathd started<br />
Listing multipath device found</p>
<p>Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than
one<br />
with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/sda (same size) for recreating
/dev/mapper/200173800348802b3<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802b3 =&gt; /dev/sda</p>
<p>Configuring Relax-and-Recover rescue system</p>
<p>Running 00-functions.sh...<br />
Running 01-run-ldconfig.sh...<br />
Running 10-console-setup.sh...<br />
Using keymap of the original system<br />
Running 20-check-boot-options.sh...<br />
Running 40-start-udev-or-load-modules.sh...<br />
Waiting for udev ... done.<br />
Running 41-load-special-modules.sh...<br />
Running 42-engage-scsi.sh...<br />
Running 45-serial-console.sh...<br />
Running 55-migrate-network-devices.sh...<br />
No network interface mapping is specified in /etc/rear/mappings/mac<br />
The original network interface eth0 d6:8b:e6:36:62:08 is not available</p>
<ol>
<li>eth1 d6:8b:e5:4d:db:09 ibmveth</li>
<li>eth2 d6:8b:e5:4d:db:0a ibmveth</li>
<li>eth3 d6:8b:e5:4d:db:08 ibmveth</li>
<li>Skip replacing eth0 d6:8b:e6:36:62:08<br />
    Choose replacement for eth0 d6:8b:e6:36:62:08 3<br />
    Mapping eth0 d6:8b:e6:36:62:08 to eth3 d6:8b:e5:4d:db:08<br />
    The original network interface eth1 d6:8b:e6:36:62:09 is not
    available</li>
<li>eth1 d6:8b:e5:4d:db:09 ibmveth</li>
<li>eth2 d6:8b:e5:4d:db:0a ibmveth</li>
<li>
<ol>
<li>Skip replacing eth1 d6:8b:e6:36:62:09<br />
    Choose replacement for eth1 d6:8b:e6:36:62:09 1<br />
    Mapping eth1 d6:8b:e6:36:62:09 to eth1 d6:8b:e5:4d:db:09<br />
    The original network interface eth2 d6:8b:e6:36:62:0a is not
    available</li>
</ol>
</li>
<li>
<ol>
<li>eth2 d6:8b:e5:4d:db:0a ibmveth</li>
</ol>
</li>
<li>
<ol>
<li>Skip replacing eth2 d6:8b:e6:36:62:0a<br />
    Choose replacement for eth2 d6:8b:e6:36:62:0a 2<br />
    Mapping eth2 d6:8b:e6:36:62:0a to eth2 d6:8b:e5:4d:db:0a<br />
    Reloading udev ... done.<br />
    Running 58-start-dhclient.sh...<br />
    Running 60-network-devices.sh...<br />
    Running 62-routing.sh...<br />
    Running 65-sysctl.sh...<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 1<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_tw_recycle = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.ipv4.tcp_wmem = 4096 16384 4194304<br />
    vm.min_free_kbytes = 10485760<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 1<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_tw_recycle = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.ipv4.tcp_wmem = 4096 16384 4194304<br />
    vm.min_free_kbytes = 10485760<br />
    Running 99-makedev.sh...</li>
</ol>
</li>
</ol>
<p>Relax-and-Recover rescue system is ready</p>
<p>[ OK ] Started Initialize Rescue System.<br />
[ OK ] Started Getty on tty0.<br />
[ OK ] Reached target Login Prompts.<br />
[ OK ] Reached target Multi-User.<br />
[ OK ] Started Serial Getty on ttyS0.<br />
[ OK ] Started Serial Getty on hvc0.</p>
<p>Relax-and-Recover 2.4-git.0.6ec9075.unknown / 2018-12-05</p>
<p>Relax-and-Recover comes with ABSOLUTELY NO WARRANTY; for details see<br />
the GNU General Public License at:
<a href="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</a></p>
<p>Host eniesdbp104p using Backup NETFS and Output ISO<br />
Build date: Thu, 17 Jan 2019 14:22:20 -0500</p>
<p>Welcome to SUSE Linux Enterprise Server for SAP Applications 12 SP3<br />
(ppc64le) - Kernel 4.4.162-94.72-default (hvc0).</p>
<p>SSH fingerprint: 2048
SHA256:DNyikRzuULk3bpE1wwyoXX/6b9qV0kBUW0j32NOrdkY<br />
root@eniesdbp104p (RSA)</p>
<p>eniesdbp104p login: root</p>
<p>Welcome to Relax-and-Recover. Run "rear recover" to restore your system
!</p>
<p>RESCUE eniesdbp104p:~ # rear recover<br />
Relax-and-Recover 2.4-git.0.6ec9075.unknown / 2018-12-05<br />
Running rear recover (PID 24593)<br />
Using log file: /var/log/rear/rear-eniesdbp104p.log<br />
Running workflow recover within the ReaR rescue/recovery system<br />
Using backup archive<br />
'/tmp/rear.3HmcDWcPOuSWy4R/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz'<br />
Will do driver migration (recreating initramfs/initrd)<br />
Calculating backup archive size<br />
Backup archive size is 1909.38M (compressed)<br />
Setting up multipathing<br />
Activating multipath<br />
multipath activated<br />
Starting multipath daemon<br />
multipathd started<br />
Listing multipath device found<br />
SIBM_2810XIV_780348802C6 dm-0 IBM,2810XIV size=112G<br />
Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than
one<br />
with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/mapper/SIBM_2810XIV_780348802C6 (same size) for<br />
recreating /dev/mapper/200173800348802b3<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802b3 =&gt;
/dev/mapper/SIBM_2810XIV_780348802C6</p>
<p>Dan Wagner<br />
Senior Enterprise System Specialist</p>
<p>(717) 580-3844 Mobile<br />
(717) 409-5858 Office<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;">&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;</a></p>
<p>IBM Services</p>
<p>From: "Sbastien Chabrolles" <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
To: rear/rear <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
Cc: dewagner1 <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;">&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;</a>, Mention<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
Date: 01/18/2019 03:36 AM<br />
Subject: Re: [rear/rear] Update to closed issue #2016 (Unable to
clone<br />
Power lpar from rear backup SLES 12 SP3) (#2019)</p>
<p>@dewagner1,</p>
<p>My first guess is still a SAN / FC issue. To validate, the best would be
to<br />
boot your LPAR in SMS and run ioinfo via the OK prompt.</p>
<p>1- From SMS menu to OK prompt<br />
Press 0 when entering SMS menu 1st page.</p>
<pre><code>                                         X = eXit System Management
</code></pre>
<p>Services</p>
<hr />
<p>Type menu item number and press Enter or select Navigation key:<br />
Open Completed.</p>
<h2 id="powerpc_firmware_version_fw86051_sv860_165_sms_c_copyright_ibm_corp_20002016_all_rights_reserved">PowerPC Firmware Version FW860.51 (SV860_165) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86051_sv860_165_sms_c_copyright_ibm_corp_20002016_all_rights_reserved" title="Permanent link">&para;</a></h2>
<p>Main Menu</p>
<ol>
<li>Select Language</li>
<li>Setup Remote IPL (Initial Program Load)</li>
<li>I/O Device Information</li>
<li>Select Console</li>
<li>Select Boot Options</li>
</ol>
<hr />
<p>Navigation Keys:</p>
<pre><code>                                         X = eXit System Management
</code></pre>
<p>Services</p>
<hr />
<p>Type menu item number and press Enter or select Navigation key:0</p>
<pre><code>                .--------------------------------------.
                |  Exit SMS to OK&gt; Prompt? (Y)es/(N)o  |
                `--------------------------------------'
</code></pre>
<p>ok<br />
0 &gt;</p>
<p>2-Run ioinfo on each fiber adapter to get the list of disk/partitions
path<br />
over the SAN network</p>
<p>ok<br />
0 &gt; ioinfo</p>
<p>!!! IOINFO: FOR IBM INTERNAL USE ONLY !!!<br />
This tool gives you information about SCSI,SATA,SAS,and USB devices<br />
attached to the system</p>
<p>Select a tool from the following</p>
<ol>
<li>SATAINFO</li>
<li>SASINFO</li>
<li>USBINFO</li>
<li>FCINFO</li>
<li>VSCSIINFO</li>
</ol>
<p>q - quit/exit</p>
<p>==&gt; 4</p>
<p>FCINFO Main Menu<br />
Select a FC Node from the following list:</p>
<h1 id="location_code_pathname_10">Location Code Pathname<a class="headerlink" href="#location_code_pathname_10" title="Permanent link">&para;</a></h1>
<hr />
<ol>
<li>U8284.22A.217097V-V21-C13-T1 /vdevice/vfc-client@3000000d</li>
<li>U8284.22A.217097V-V21-C14-T1 /vdevice/vfc-client@3000000e</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 1</p>
<p>Press 1 to list devices seen by the first Adapter</p>
<p>==&gt; 1</p>
<ol>
<li>500507680c21099f,0 - 51200 MB Disk drive (bootable)</li>
<li>500507680c21099f,1000000000000 - 10240 MB Disk drive</li>
<li>500507680c21099f,2000000000000 - 10240 MB Disk drive</li>
<li>500507680c51099f,0 - 51200 MB Disk drive (bootable)</li>
<li>500507680c51099f,1000000000000 - 10240 MB Disk drive</li>
<li>500507680c51099f,2000000000000 - 10240 MB Disk drive</li>
<li>500507680c2109a6,0 - 51200 MB Disk drive (bootable)</li>
<li>500507680c2109a6,1000000000000 - 10240 MB Disk drive</li>
<li>500507680c2109a6,2000000000000 - 10240 MB Disk drive</li>
<li>500507680c5109a6,0 - 51200 MB Disk drive (bootable)</li>
<li>500507680c5109a6,1000000000000 - 10240 MB Disk drive</li>
<li>500507680c5109a6,2000000000000 - 10240 MB Disk drive</li>
</ol>
<p>Hit a key to continue...</p>
<p>Then Quit q and run the same thing on the other adapter</p>
<p><br />
You are receiving this because you were mentioned.<br />
Reply to this email directly, view it on GitHub, or mute the thread.</p>
<p>Only single path to boot disk - confirmed prior to starting install.</p>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved" title="Permanent link">&para;</a></h2>
<p>Select Attached Device<br />
Pathname: /vdevice/vfc-client@30000002<br />
WorldWidePortName: c0507609f1e20020</p>
<ol>
<li>5001738034880141,4000000000000000 120 GB Disk drive</li>
</ol>
<p>IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM</p>
<pre><code>      1 = SMS Menu                          5 = Default Boot List
      8 = Open Firmware Prompt              6 = Stored Boot List


 Memory      Keyboard     Network     Speaker
</code></pre>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_1">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_1" title="Permanent link">&para;</a></h2>
<p>Main Menu</p>
<ol>
<li>Select Language</li>
<li>Setup Remote IPL (Initial Program Load)</li>
<li>I/O Device Information</li>
<li>Select Console</li>
<li>Select Boot Options</li>
</ol>
<hr />
<p>Navigation Keys:</p>
<pre><code>                                         X = eXit System Management Services
</code></pre>
<hr />
<p>Type menu item number and press Enter or select Navigation key:3</p>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_2">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_2" title="Permanent link">&para;</a></h2>
<p>I/O Device Information</p>
<ol>
<li>SAN Device Information</li>
<li>SAS Device Information</li>
</ol>
<hr />
<h2 id="navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services">Navigation keys: M = return to Main Menu ESC key = return to previous screen X = eXit System Management Services<a class="headerlink" href="#navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services" title="Permanent link">&para;</a></h2>
<p>Type menu item number and press Enter or select Navigation key:1</p>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_3">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_3" title="Permanent link">&para;</a></h2>
<p>Select Media Adapter</p>
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<hr />
<h2 id="navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_1">Navigation keys: M = return to Main Menu ESC key = return to previous screen X = eXit System Management Services<a class="headerlink" href="#navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_1" title="Permanent link">&para;</a></h2>
<p>Type menu item number and press Enter or select Navigation key:1</p>
<pre><code>                          .------------------.
                          |  PLEASE WAIT.... |
                          `------------------'
</code></pre>
<p>/</p>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_4">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_4" title="Permanent link">&para;</a></h2>
<p>Select Attached Device<br />
Pathname: /vdevice/vfc-client@30000002<br />
WorldWidePortName: c0507609f1e20020</p>
<ol>
<li>5001738034880141,4000000000000000 120 GB Disk drive</li>
</ol>
<hr />
<h2 id="navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_2">Navigation keys: M = return to Main Menu ESC key = return to previous screen X = eXit System Management Services<a class="headerlink" href="#navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_2" title="Permanent link">&para;</a></h2>
<p>Type menu item number and press Enter or select Navigation key:<esc></p>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_5">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_5" title="Permanent link">&para;</a></h2>
<p>Select Media Adapter</p>
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<hr />
<h2 id="navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_3">Navigation keys: M = return to Main Menu ESC key = return to previous screen X = eXit System Management Services<a class="headerlink" href="#navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_3" title="Permanent link">&para;</a></h2>
<p>Type menu item number and press Enter or select Navigation key:2</p>
<pre><code>                          .------------------.
                          |  PLEASE WAIT.... |
                          `------------------'






















                     .----------------------------.
                     |  No SAN devices present    |
                     |  Press any key to continue |
                     `----------------------------'
</code></pre>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_6">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_6" title="Permanent link">&para;</a></h2>
<p>Select Media Adapter</p>
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<hr />
<h2 id="navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_4">Navigation keys: M = return to Main Menu ESC key = return to previous screen X = eXit System Management Services<a class="headerlink" href="#navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_4" title="Permanent link">&para;</a></h2>
<p>Type menu item number and press Enter or select Navigation key:</p>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_7">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_7" title="Permanent link">&para;</a></h2>
<p>Select Media Adapter</p>
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<hr />
<h2 id="navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_5">Navigation keys: M = return to Main Menu ESC key = return to previous screen X = eXit System Management Services<a class="headerlink" href="#navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_5" title="Permanent link">&para;</a></h2>
<p>Type menu item number and press Enter or select Navigation key:3</p>
<pre><code>                          .------------------.
                          |  PLEASE WAIT.... |
                          `------------------'






















                     .----------------------------.
                     |  No SAN devices present    |
                     |  Press any key to continue |
                     `----------------------------'
</code></pre>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_8">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_8" title="Permanent link">&para;</a></h2>
<p>Select Media Adapter</p>
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_9">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_9" title="Permanent link">&para;</a></h2>
<p>Select Media Adapter</p>
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<hr />
<h2 id="navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_6">Navigation keys: M = return to Main Menu ESC key = return to previous screen X = eXit System Management Services<a class="headerlink" href="#navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_6" title="Permanent link">&para;</a></h2>
<p>Type menu item number and press Enter or select Navigation key:<esc></p>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_10">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_10" title="Permanent link">&para;</a></h2>
<p>I/O Device Information</p>
<ol>
<li>SAN Device Information</li>
<li>SAS Device Information</li>
</ol>
<hr />
<h2 id="navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_7">Navigation keys: M = return to Main Menu ESC key = return to previous screen X = eXit System Management Services<a class="headerlink" href="#navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_7" title="Permanent link">&para;</a></h2>
<p>Type menu item number and press Enter or select Navigation key:<esc></p>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_11">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_11" title="Permanent link">&para;</a></h2>
<p>Main Menu</p>
<ol>
<li>Select Language</li>
<li>Setup Remote IPL (Initial Program Load)</li>
<li>I/O Device Information</li>
<li>Select Console</li>
<li>Select Boot Options</li>
</ol>
<hr />
<p>Navigation Keys:</p>
<pre><code>                                         X = eXit System Management Services
</code></pre>
<hr />
<p>Type menu item number and press Enter or select Navigation key:5</p>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_12">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_12" title="Permanent link">&para;</a></h2>
<p>Multiboot</p>
<ol>
<li>Select Install/Boot Device</li>
<li>Configure Boot Device Order</li>
<li>Multiboot Startup <OFF></li>
<li>SAN Zoning Support</li>
</ol>
<hr />
<h2 id="navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_8">Navigation keys: M = return to Main Menu ESC key = return to previous screen X = eXit System Management Services<a class="headerlink" href="#navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_8" title="Permanent link">&para;</a></h2>
<p>Type menu item number and press Enter or select Navigation key:1</p>
<pre><code>                          .------------------.
                          |  PLEASE WAIT.... |
                          `------------------'
</code></pre>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_13">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_13" title="Permanent link">&para;</a></h2>
<p>Select Device Type</p>
<ol>
<li>Tape</li>
<li>CD/DVD</li>
<li>Hard Drive</li>
<li>Network</li>
<li>List all Devices</li>
</ol>
<hr />
<h2 id="navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_9">Navigation keys: M = return to Main Menu ESC key = return to previous screen X = eXit System Management Services<a class="headerlink" href="#navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_9" title="Permanent link">&para;</a></h2>
<p>Type menu item number and press Enter or select Navigation key:2</p>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_14">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_14" title="Permanent link">&para;</a></h2>
<p>Select Media Type</p>
<ol>
<li>SCSI</li>
<li>SAN</li>
<li>SAS</li>
<li>SATA</li>
<li>USB</li>
<li>NVMe</li>
<li>List All Devices</li>
</ol>
<hr />
<h2 id="navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_10">Navigation keys: M = return to Main Menu ESC key = return to previous screen X = eXit System Management Services<a class="headerlink" href="#navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_10" title="Permanent link">&para;</a></h2>
<p>Type menu item number and press Enter or select Navigation key:1</p>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_15">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_15" title="Permanent link">&para;</a></h2>
<p>Select Media Adapter</p>
<ol>
<li>
<p>U9080.MHE.78F42D7-V7-C6-T1   /vdevice/v-scsi@30000006</p>
</li>
<li>
<p>U9080.MHE.78F42D7-V7-C7-T1   /vdevice/v-scsi@30000007</p>
</li>
<li>
<p>List all devices</p>
</li>
</ol>
<hr />
<h2 id="navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_11">Navigation keys: M = return to Main Menu ESC key = return to previous screen X = eXit System Management Services<a class="headerlink" href="#navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_11" title="Permanent link">&para;</a></h2>
<p>Type menu item number and press Enter or select Navigation key:1</p>
<pre><code>                          .------------------.
                          |  PLEASE WAIT.... |
                          `------------------'
</code></pre>
<p>check /vdevice/v-scsi@30000006/disk@8100000000000000</p>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_16">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_16" title="Permanent link">&para;</a></h2>
<p>Select Device<br />
Device Current Device<br />
Number Position Name</p>
<ol>
<li>
<ul>
<li>SCSI CD-ROM
        ( loc=U9080.MHE.78F42D7-V7-C6-T1-L8100000000000000 )</li>
</ul>
</li>
</ol>
<hr />
<h2 id="navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_12">Navigation keys: M = return to Main Menu ESC key = return to previous screen X = eXit System Management Services<a class="headerlink" href="#navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_12" title="Permanent link">&para;</a></h2>
<p>Type menu item number and press Enter or select Navigation key:1</p>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_17">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_17" title="Permanent link">&para;</a></h2>
<p>Select Task</p>
<p>SCSI CD-ROM<br />
( loc=U9080.MHE.78F42D7-V7-C6-T1-L8100000000000000 )</p>
<ol>
<li>Information</li>
<li>Normal Mode Boot</li>
<li>Service Mode Boot</li>
</ol>
<hr />
<h2 id="navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_13">Navigation keys: M = return to Main Menu ESC key = return to previous screen X = eXit System Management Services<a class="headerlink" href="#navigation_keys_m_return_to_main_menu_esc_key_return_to_previous_screen_x_exit_system_management_services_13" title="Permanent link">&para;</a></h2>
<p>Type menu item number and press Enter or select Navigation key:2</p>
<h2 id="powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_18">PowerPC Firmware Version FW860.42 (SC860_138) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86042_sc860_138_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_18" title="Permanent link">&para;</a></h2>
<p>Are you sure you want to exit System Management Services?</p>
<ol>
<li>Yes</li>
<li>No</li>
</ol>
<hr />
<p>Navigation Keys:</p>
<pre><code>                                         X = eXit System Management Services
</code></pre>
<hr />
<p>Type menu item number and press Enter or select Navigation key:1<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM STARTING SOFTWARE IBM IBM IBM IBM IBM IBM
IBM<br />
IBM IBM IBM IBM IBM IBM IBM PLEASE WAIT... IBM IBM IBM IBM IBM IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM<br />
IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM IBM
IBM IBM  </p>
<p>Elapsed time since release of system processors: 766171 mins 15 secs<br />
Welcome to GRUB!</p>
<p>error: unrecognized number.</p>
<pre><code>                         GNU GRUB  version 2.02
</code></pre>
<p>+----------------------------------------------------------------------------+<br />
|*Relax-and-Recover |<br />
| |<br />
| |<br />
| |<br />
| |<br />
| |<br />
| |<br />
| |<br />
| |<br />
| |<br />
| |<br />
| |<br />
+----------------------------------------------------------------------------+</p>
<pre><code>  Use the ^ and v keys to select which entry is highlighted.
  Press enter to boot the selected OS, `e' to edit the commands
  before booting or `c' for a command-line.
</code></pre>
<h2 id="of_stdout_device_is_vdevicevty30000000_preparing_to_boot_linux_version_44162-9472-default_geekobuildhost_gcc_version_485_suse_linux_1_smp_mon_nov_12_185745_utc_2018_9de753f_detected_machine_type_0000000000000101_max_number_of_cores_passed_to_firmware_256_nr_cpus_2048_calling_ibmclient-architecture-support_done_command_line_boot_imagekernel_rootdevram0_selinux0_memory_layout_at_init_memory_limit_0000000000000000_16_mb_aligned_alloc_bottom_000000000e840000_alloc_top_0000000020000000_alloc_top_hi_0000000020000000_rmo_top_0000000020000000_ram_top_0000000020000000_instantiating_rtas_at_0x000000001e9e0000_done_prom_hold_cpus_skipped_copying_of_device_tree_building_dt_strings_building_dt_structure_device_tree_strings_0x000000000e850000_-_0x000000000e851737_device_tree_struct_0x000000000e860000_-_0x000000000e990000_quiescing_open_firmware_booting_linux_via_start_using_pseries_machine_description_page_sizes_from_device-tree_base_shift12_shift12_sllp0x0000_avpnm0x00000000_tlbiel1_penc0_base_shift12_shift16_sllp0x0000_avpnm0x00000000_tlbiel1_penc7_base_shift12_shift24_sllp0x0000_avpnm0x00000000_tlbiel1_penc56_base_shift16_shift16_sllp0x0110_avpnm0x00000000_tlbiel1_penc1_base_shift16_shift24_sllp0x0110_avpnm0x00000000_tlbiel1_penc8_base_shift24_shift24_sllp0x0100_avpnm0x00000001_tlbiel0_penc0_base_shift34_shift34_sllp0x0120_avpnm0x000007ff_tlbiel0_penc3_using_1tb_segments_found_initrd_at_0xc00000000bb000000xc00000000e8320f7_bootconsole_udbg0_enabled_partition_configured_for_1536_cpus_cpu_maps_initialized_for_8_threads_per_core_-_smp_release_cpus_spinning_secondaries_887_-_smp_release_cpus_starting_linux_ppc64le_1_smp_mon_nov_12_185745_utc_2018_9de753f">OF stdout device is: /vdevice/vty@30000000 Preparing to boot Linux version 4.4.162-94.72-default (geeko@buildhost) (gcc version 4.8.5 (SUSE Linux) ) #1 SMP Mon Nov 12 18:57:45 UTC 2018 (9de753f) Detected machine type: 0000000000000101 Max number of cores passed to firmware: 256 (NR_CPUS = 2048) Calling ibm,client-architecture-support... done command line: BOOT_IMAGE=/kernel root=/dev/ram0 selinux=0 memory layout at init: memory_limit : 0000000000000000 (16 MB aligned) alloc_bottom : 000000000e840000 alloc_top : 0000000020000000 alloc_top_hi : 0000000020000000 rmo_top : 0000000020000000 ram_top : 0000000020000000 instantiating rtas at 0x000000001e9e0000... done prom_hold_cpus: skipped copying OF device tree... Building dt strings... Building dt structure... Device tree strings 0x000000000e850000 -&gt; 0x000000000e851737 Device tree struct 0x000000000e860000 -&gt; 0x000000000e990000 Quiescing Open Firmware ... Booting Linux via __start() ... Using pSeries machine description Page sizes from device-tree: base_shift=12: shift=12, sllp=0x0000, avpnm=0x00000000, tlbiel=1, penc=0 base_shift=12: shift=16, sllp=0x0000, avpnm=0x00000000, tlbiel=1, penc=7 base_shift=12: shift=24, sllp=0x0000, avpnm=0x00000000, tlbiel=1, penc=56 base_shift=16: shift=16, sllp=0x0110, avpnm=0x00000000, tlbiel=1, penc=1 base_shift=16: shift=24, sllp=0x0110, avpnm=0x00000000, tlbiel=1, penc=8 base_shift=24: shift=24, sllp=0x0100, avpnm=0x00000001, tlbiel=0, penc=0 base_shift=34: shift=34, sllp=0x0120, avpnm=0x000007ff, tlbiel=0, penc=3 Using 1TB segments Found initrd at 0xc00000000bb00000:0xc00000000e8320f7 bootconsole [udbg0] enabled Partition configured for 1536 cpus. CPU maps initialized for 8 threads per core -&gt; smp_release_cpus() spinning_secondaries = 887 &lt;- smp_release_cpus() Starting Linux ppc64le #1 SMP Mon Nov 12 18:57:45 UTC 2018 (9de753f)<a class="headerlink" href="#of_stdout_device_is_vdevicevty30000000_preparing_to_boot_linux_version_44162-9472-default_geekobuildhost_gcc_version_485_suse_linux_1_smp_mon_nov_12_185745_utc_2018_9de753f_detected_machine_type_0000000000000101_max_number_of_cores_passed_to_firmware_256_nr_cpus_2048_calling_ibmclient-architecture-support_done_command_line_boot_imagekernel_rootdevram0_selinux0_memory_layout_at_init_memory_limit_0000000000000000_16_mb_aligned_alloc_bottom_000000000e840000_alloc_top_0000000020000000_alloc_top_hi_0000000020000000_rmo_top_0000000020000000_ram_top_0000000020000000_instantiating_rtas_at_0x000000001e9e0000_done_prom_hold_cpus_skipped_copying_of_device_tree_building_dt_strings_building_dt_structure_device_tree_strings_0x000000000e850000_-_0x000000000e851737_device_tree_struct_0x000000000e860000_-_0x000000000e990000_quiescing_open_firmware_booting_linux_via_start_using_pseries_machine_description_page_sizes_from_device-tree_base_shift12_shift12_sllp0x0000_avpnm0x00000000_tlbiel1_penc0_base_shift12_shift16_sllp0x0000_avpnm0x00000000_tlbiel1_penc7_base_shift12_shift24_sllp0x0000_avpnm0x00000000_tlbiel1_penc56_base_shift16_shift16_sllp0x0110_avpnm0x00000000_tlbiel1_penc1_base_shift16_shift24_sllp0x0110_avpnm0x00000000_tlbiel1_penc8_base_shift24_shift24_sllp0x0100_avpnm0x00000001_tlbiel0_penc0_base_shift34_shift34_sllp0x0120_avpnm0x000007ff_tlbiel0_penc3_using_1tb_segments_found_initrd_at_0xc00000000bb000000xc00000000e8320f7_bootconsole_udbg0_enabled_partition_configured_for_1536_cpus_cpu_maps_initialized_for_8_threads_per_core_-_smp_release_cpus_spinning_secondaries_887_-_smp_release_cpus_starting_linux_ppc64le_1_smp_mon_nov_12_185745_utc_2018_9de753f" title="Permanent link">&para;</a></h2>
<h2 id="ppc64_pft_size_0x24_phys_mem_size_0xc00000000_cpu_features_0x27fc7aec18500249_possible_0x7fffffff18500649_always_0x0000000018100040_cpu_user_features_0xdc0065c2_0xef000000_mmu_features_0x7c002001_firmware_features_0x00000013c45bfc57_htab_hash_mask_0x1fffffff">ppc64_pft_size = 0x24 phys_mem_size = 0xc00000000 cpu_features = 0x27fc7aec18500249 possible = 0x7fffffff18500649 always = 0x0000000018100040 cpu_user_features = 0xdc0065c2 0xef000000 mmu_features = 0x7c002001 firmware_features = 0x00000013c45bfc57 htab_hash_mask = 0x1fffffff<a class="headerlink" href="#ppc64_pft_size_0x24_phys_mem_size_0xc00000000_cpu_features_0x27fc7aec18500249_possible_0x7fffffff18500649_always_0x0000000018100040_cpu_user_features_0xdc0065c2_0xef000000_mmu_features_0x7c002001_firmware_features_0x00000013c45bfc57_htab_hash_mask_0x1fffffff" title="Permanent link">&para;</a></h2>
<p>&lt;- setup_system()<br />
Initializing cgroup subsys cpuset<br />
Initializing cgroup subsys cpu<br />
Initializing cgroup subsys cpuacct<br />
Linux version 4.4.162-94.72-default (geeko@buildhost) (gcc version 4.8.5
(SUSE Linux) ) #1 SMP Mon Nov 12 18:57:45 UTC 2018 (9de753f)<br />
numa: Initmem setup node 0<br />
numa: NODE_DATA [mem 0xbfcf3a100-0xbfcf43fff]<br />
numa: NODE_DATA(0) on node 14<br />
numa: Initmem setup node 4 [mem 0x00000000-0x3bfffffff]<br />
numa: NODE_DATA [mem 0x3bfff6100-0x3bfffffff]<br />
numa: Initmem setup node 5 [mem 0x3c0000000-0x84fffffff]<br />
numa: NODE_DATA [mem 0x84fff6100-0x84fffffff]<br />
numa: Initmem setup node 6 [mem 0x850000000-0x9dfffffff]<br />
numa: NODE_DATA [mem 0x9dfff6100-0x9dfffffff]<br />
numa: Initmem setup node 7 [mem 0x9e0000000-0xb3fffffff]<br />
numa: NODE_DATA [mem 0xb3fff6100-0xb3fffffff]<br />
numa: Initmem setup node 14 [mem 0xb40000000-0xbffffffff]<br />
numa: NODE_DATA [mem 0xbfcf30200-0xbfcf3a0ff]<br />
Section 3066 and 3068 (node 14) have a circular dependency on usemap and
pgdat allocations<br />
rfi-flush: fallback displacement flush available<br />
rfi-flush: ori type flush available<br />
barrier-nospec: using ORI speculation barrier<br />
stf-barrier: hwsync barrier available<br />
PPC64 nvram contains 15360 bytes<br />
Zone ranges:<br />
DMA [mem 0x0000000000000000-0x0000000bffffffff]<br />
DMA32 empty<br />
Normal empty<br />
Movable zone start for each node<br />
Early memory node ranges<br />
node 4: [mem 0x0000000000000000-0x00000003bfffffff]<br />
node 5: [mem 0x00000003c0000000-0x000000084fffffff]<br />
node 6: [mem 0x0000000850000000-0x00000009dfffffff]<br />
node 7: [mem 0x00000009e0000000-0x0000000b3fffffff]<br />
node 14: [mem 0x0000000b40000000-0x0000000bffffffff]<br />
Could not find start_pfn for node 0<br />
Initmem setup node 0 [mem 0x0000000000000000-0x0000000000000000]<br />
Initmem setup node 4 [mem 0x0000000000000000-0x00000003bfffffff]<br />
Initmem setup node 5 [mem 0x00000003c0000000-0x000000084fffffff]<br />
Initmem setup node 6 [mem 0x0000000850000000-0x00000009dfffffff]<br />
Initmem setup node 7 [mem 0x00000009e0000000-0x0000000b3fffffff]<br />
Initmem setup node 14 [mem 0x0000000b40000000-0x0000000bffffffff]<br />
PERCPU: Embedded 3 pages/cpu @c000000be2f00000 s123032 r0 d73576
u262144<br />
Built 6 zonelists in Node order, mobility grouping on. Total pages:
785664<br />
Policy zone: DMA<br />
Kernel command line: BOOT_IMAGE=/kernel root=/dev/ram0 selinux=0<br />
log_buf_len individual max cpu contribution: 4096 bytes<br />
log_buf_len total cpu_extra contributions: 6287360 bytes<br />
log_buf_len min size: 524288 bytes<br />
log_buf_len: 8388608 bytes<br />
early log buf free: 501904(95%)<br />
PID hash table entries: 4096 (order: -1, 32768 bytes)<br />
Sorting __ex_table...<br />
Memory: 10532800K/50331648K available (8320K kernel code, 1280K rwdata,
2560K rodata, 3456K init, 3576K bss, 552640K reserved, 0K
cma-reserved)<br />
Hierarchical RCU implementation.<br />
RCU debugfs-based tracing is enabled.<br />
Build-time adjustment of leaf fanout to 64.<br />
RCU restricting CPUs from NR_CPUS=2048 to nr_cpu_ids=1536.<br />
RCU: Adjusting geometry for rcu_fanout_leaf=64, nr_cpu_ids=1536<br />
NR_IRQS:512 nr_irqs:512 16<br />
clocksource: timebase: mask: 0xffffffffffffffff max_cycles:
0x761537d007, max_idle_ns: 440795202126 ns<br />
clocksource: timebase mult[1f40000] shift[24] registered<br />
Console: colour dummy device 80x25<br />
console [hvc0] enabled<br />
console [hvc0] enabled<br />
bootconsole [udbg0] disabled<br />
bootconsole [udbg0] disabled<br />
mempolicy: Disabling automatic NUMA balancing. Configure with
numa_balancing= or the kernel.numa_balancing sysctl<br />
pid_max: default: 1572864 minimum: 12288<br />
Security Framework initialized<br />
AppArmor: AppArmor initialized<br />
Dentry cache hash table entries: 8388608 (order: 10, 67108864 bytes)<br />
Inode-cache hash table entries: 4194304 (order: 9, 33554432 bytes)<br />
Mount-cache hash table entries: 131072 (order: 4, 1048576 bytes)<br />
Mountpoint-cache hash table entries: 131072 (order: 4, 1048576 bytes)<br />
Initializing cgroup subsys io<br />
Initializing cgroup subsys memory<br />
Initializing cgroup subsys devices<br />
Initializing cgroup subsys freezer<br />
Initializing cgroup subsys net_cls<br />
Initializing cgroup subsys perf_event<br />
Initializing cgroup subsys net_prio<br />
Initializing cgroup subsys hugetlb<br />
Initializing cgroup subsys pids<br />
ftrace: allocating 22528 entries in 9 pages<br />
EEH: pSeries platform initialized<br />
POWER8 performance monitor hardware support registered<br />
random: nonblocking pool is initialized<br />
Brought up 888 CPUs<br />
node 14 initialised, 10861 pages in 0ms<br />
node 7 initialised, 57343 pages in 0ms<br />
node 6 initialised, 69375 pages in 0ms<br />
node 4 initialised, 210173 pages in 0ms<br />
node 5 initialised, 265470 pages in 0ms<br />
devtmpfs: initialized<br />
evm: security.selinux<br />
evm: security.ima<br />
evm: security.capability<br />
EEH: devices created<br />
clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff,
max_idle_ns: 19112604462750000 ns<br />
futex hash table entries: 524288 (order: 10, 67108864 bytes)<br />
NET: Registered protocol family 16<br />
EEH: No capable adapters found<br />
cpuidle: using governor ladder<br />
cpuidle: using governor menu<br />
pstore: Registered nvram as persistent store backend<br />
PCI: Probing PCI hardware<br />
pseries-rng: Registering arch random hook.<br />
vgaarb: loaded<br />
EDAC MC: Ver: 3.0.0<br />
NetLabel: Initializing<br />
NetLabel: domain hash size = 128<br />
NetLabel: protocols = UNLABELED CIPSOv4<br />
NetLabel: unlabeled traffic allowed by default<br />
clocksource: Switched to clocksource timebase<br />
AppArmor: AppArmor Filesystem Enabled<br />
NET: Registered protocol family 2<br />
TCP established hash table entries: 524288 (order: 6, 4194304 bytes)<br />
TCP bind hash table entries: 65536 (order: 4, 1048576 bytes)<br />
TCP: Hash tables configured (established 524288 bind 65536)<br />
UDP hash table entries: 32768 (order: 4, 1048576 bytes)<br />
UDP-Lite hash table entries: 32768 (order: 4, 1048576 bytes)<br />
NET: Registered protocol family 1<br />
Unpacking initramfs...<br />
Freeing initrd memory: 46272K<br />
IOMMU table initialized, virtual merging enabled<br />
hv-24x7: read 1330 catalog entries, created 337 event attrs (0
failures), 169 descs<br />
kgr: successfully initialized<br />
audit: initializing netlink subsys (disabled)<br />
audit: type=2000 audit(1547843657.180:1): initialized<br />
Initialise system trusted keyring<br />
HugeTLB registered 16 MB page size, pre-allocated 0 pages<br />
HugeTLB registered 16 GB page size, pre-allocated 0 pages<br />
zbud: loaded<br />
VFS: Disk quotas dquot_6.6.0<br />
VFS: Dquot-cache hash table entries: 8192 (order 0, 65536 bytes)<br />
Key type asymmetric registered<br />
Asymmetric key parser 'x509' registered<br />
Block layer SCSI generic (bsg) driver version 0.4 loaded (major 251)<br />
io scheduler noop registered<br />
io scheduler deadline registered<br />
io scheduler cfq registered (default)<br />
pci_hotplug: PCI Hot Plug PCI Core version: 0.5<br />
pciehp: PCI Express Hot Plug Controller Driver version: 0.4<br />
Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled<br />
pseries_rng: Registering IBM pSeries RNG driver<br />
mousedev: PS/2 mouse device common for all mice<br />
ledtrig-cpu: registered to indicate activity on CPUs<br />
nx_compress_pseries ibm,compression-v1: nx842_OF_upd: device
disabled<br />
hidraw: raw HID events driver (C) Jiri Kosina<br />
NET: Registered protocol family 10<br />
NET: Registered protocol family 15<br />
registered taskstats version 1<br />
Loading compiled-in X.509 certificates<br />
Loaded X.509 cert 'SUSE Linux Enterprise Secure Boot Signkey:
3fb077b6cebc6ff2522e1c148c57c777c788e3e7'<br />
Loaded X.509 cert 'SUSE Linux Enterprise Secure Boot Signkey:
3fb077b6cebc6ff2522e1c148c57c777c788e3e7'<br />
zswap: loaded using pool lzo/zbud<br />
page_owner is disabled<br />
Key type trusted registered<br />
Key type encrypted registered<br />
AppArmor: AppArmor sha1 policy hashing enabled<br />
ima: No TPM chip found, activating TPM-bypass!<br />
ima: Allocated hash algorithm: sha256<br />
evm: HMAC attrs: 0x1<br />
Freeing unused kernel memory: 3456K</p>
<p>Welcome to SUSE Linux Enterprise Server 12 SP3!</p>
<p>[ OK ] Created slice system.slice.<br />
[ OK ] Reached target System Initialization.<br />
[ OK ] Started Relax-and-Recover sshd service.<br />
[ OK ] Listening on udev Kernel Socket.<br />
[ OK ] Created slice system-getty.slice.<br />
Starting Relax-and-Recover boot script...<br />
[ OK ] Listening on Journal Socket.<br />
[ OK ] Started Journal Service.<br />
[ OK ] Listening on udev Control Socket.<br />
Starting udev Kernel Device Manager...<br />
Starting udev Coldplug all Devices...<br />
[ OK ] Created slice system-serial\x2dgetty.slice.<br />
[ OK ] Started Relax-and-Recover boot script.<br />
[ OK ] Started udev Kernel Device Manager.<br />
Starting Initialize Rescue System...<br />
[ OK ] Found device /dev/ttyS0.<br />
[ OK ] Started udev Coldplug all Devices.<br />
[ OK ] Found device /dev/hvc0.</p>
<p>Verifying md5sums of the files in the Relax-and-Recover rescue system</p>
<p>md5sums are OK</p>
<p>Configuring Relax-and-Recover rescue system</p>
<p>Running 00-functions.sh...<br />
Running 01-run-ldconfig.sh...<br />
Running 10-console-setup.sh...<br />
Using keymap of the original system<br />
Running 20-check-boot-options.sh...<br />
Running 40-start-udev-or-load-modules.sh...<br />
Waiting for udev ... done.<br />
Running 41-load-special-modules.sh...<br />
Running 42-engage-scsi.sh...<br />
Running 45-serial-console.sh...<br />
Running 55-migrate-network-devices.sh...<br />
No network interface mapping is specified in /etc/rear/mappings/mac<br />
The original network interface eth0 d6:8b:e6:36:62:08 is not available</p>
<ol>
<li>eth0 d6:8b:e5:4d:db:08 ibmveth</li>
<li>eth1 d6:8b:e5:4d:db:09 ibmveth</li>
<li>eth2 d6:8b:e5:4d:db:0a ibmveth</li>
<li>Skip replacing eth0 d6:8b:e6:36:62:08<br />
    Choose replacement for eth0 d6:8b:e6:36:62:08 1<br />
    Mapping eth0 d6:8b:e6:36:62:08 to eth0 d6:8b:e5:4d:db:08<br />
    The original network interface eth1 d6:8b:e6:36:62:09 is not
    available</li>
<li>
<ol>
<li>eth1 d6:8b:e5:4d:db:09 ibmveth</li>
</ol>
</li>
<li>eth2 d6:8b:e5:4d:db:0a ibmveth</li>
<li>Skip replacing eth1 d6:8b:e6:36:62:09<br />
    Choose replacement for eth1 d6:8b:e6:36:62:09 2<br />
    Mapping eth1 d6:8b:e6:36:62:09 to eth1 d6:8b:e5:4d:db:09<br />
    The original network interface eth2 d6:8b:e6:36:62:0a is not
    available</li>
<li>
<ol>
<li>
<ol>
<li>eth2 d6:8b:e5:4d:db:0a ibmveth</li>
</ol>
</li>
</ol>
</li>
<li>Skip replacing eth2 d6:8b:e6:36:62:0a<br />
    Choose replacement for eth2 d6:8b:e6:36:62:0a 3<br />
    Mapping eth2 d6:8b:e6:36:62:0a to eth2 d6:8b:e5:4d:db:0a<br />
    Reloading udev ... done.<br />
    Running 58-start-dhclient.sh...<br />
    Running 60-network-devices.sh...<br />
    Running 62-routing.sh...<br />
    Running 65-sysctl.sh...<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 1<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_tw_recycle = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.ipv4.tcp_wmem = 4096 16384 4194304<br />
    vm.min_free_kbytes = 10485760<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 1<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_tw_recycle = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.ipv4.tcp_wmem = 4096 16384 4194304<br />
    vm.min_free_kbytes = 10485760<br />
    Running 99-makedev.sh...</li>
</ol>
<p>Relax-and-Recover rescue system is ready</p>
<p>[ OK ] Started Initialize Rescue System.<br />
[ OK ] Started Getty on tty0.<br />
[ OK ] Reached target Login Prompts.<br />
[ OK ] Started Serial Getty on hvc0.<br />
[ OK ] Started Serial Getty on ttyS0.<br />
[ OK ] Reached target Multi-User.</p>
<p>Relax-and-Recover 2.4-git.0.6ec9075.unknown / 2018-12-05</p>
<p>Relax-and-Recover comes with ABSOLUTELY NO WARRANTY; for details see<br />
the GNU General Public License at:
<a href="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</a></p>
<p>Host eniesdbp104p using Backup NETFS and Output ISO<br />
Build date: Thu, 17 Jan 2019 14:22:20 -0500</p>
<p>Welcome to SUSE Linux Enterprise Server for SAP Applications 12 SP3
(ppc64le) - Kernel 4.4.162-94.72-default (hvc0).</p>
<p>SSH fingerprint: 2048 SHA256:23t2+0Adg3YN3JucVL4JqztjFC31d9eE8HA0F2SYMBs
root@eniesdbp104p (RSA)</p>
<p>eniesdbp104p login: root</p>
<p>Welcome to Relax-and-Recover. Run "rear recover" to restore your system
!</p>
<p>RESCUE eniesdbp104p:~ # ln -s /dev/sr0
/dev/disk/by-label/RELAXRECOVER<br />
ln: failed to create symbolic link '/dev/disk/by-label/RELAXRECOVER': No
such file or directory<br />
RESCUE eniesdbp104p:~ # mkdir /dev/disk/by-label<br />
RESCUE eniesdbp104p:~ # ln -s /dev/sr0
/dev/disk/by-label/RELAXRECOVER<br />
RESCUE eniesdbp104p:~ # ln -s /dev/sr0
/dev/disk/by-label/RELAXRECOVER<br />
ln: failed to create symbolic link '/dev/disk/by-label/RELAXRECOVER':
File exists<br />
RESCUE eniesdbp104p:~ # : # there are some predefined entries in the
bash histo<br />
ry<br />
RESCUE eniesdbp104p:~ # ls -l /dev/disk/by-label<br />
total 0<br />
lrwxrwxrwx 1 root root 8 Jan 18 15:35 RELAXRECOVER -&gt; /dev/sr0<br />
RESCUE eniesdbp104p:~ # date<br />
Fri Jan 18 15:35:43 EST 2019<br />
RESCUE eniesdbp104p:~ # rear -dDv recover<br />
Relax-and-Recover 2.4-git.0.6ec9075.unknown / 2018-12-05<br />
Running rear recover (PID 24361)<br />
Using log file: /var/log/rear/rear-eniesdbp104p.log<br />
Running workflow recover within the ReaR rescue/recovery system<br />
Using backup archive
'/tmp/rear.hHdJNoKVRZfeXUB/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz'<br />
Will do driver migration (recreating initramfs/initrd)<br />
Calculating backup archive size<br />
Backup archive size is 1909.38M (compressed)<br />
Setting up multipathing<br />
Activating multipath<br />
multipath activated<br />
Starting multipath daemon<br />
multipathd started<br />
Listing multipath device found</p>
<p>Comparing disks<br />
Device mapper!200173800348802b3 does not exist (manual configuration
needed)<br />
Switching to manual disk layout configuration<br />
Using /dev/sda (same size) for recreating
/dev/mapper/200173800348802b3<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802b3 =&gt; /dev/sda</p>
<p>UserInput -I LAYOUT_MIGRATION_CONFIRM_MAPPINGS needed in
/usr/share/rear/layout/prepare/default/300_map_disks.sh line 275<br />
Confirm or edit the disk mapping</p>
<ol>
<li>Confirm disk mapping and continue 'rear recover'</li>
<li>n/a</li>
<li>Edit disk mapping (/var/lib/rear/layout/disk_mappings)</li>
<li>Use Relax-and-Recover shell and return back to here</li>
<li>Abort 'rear recover'<br />
    (default '1' timeout 300 seconds)</li>
</ol>
<p>Terminated<br />
RESCUE eniesdbp104p:~ # cat /var/log/rear/rear-eniesdbp104p.log<br />
2019-01-18 15:35:59.411309741 Relax-and-Recover
2.4-git.0.6ec9075.unknown / 2018-12-05<br />
2019-01-18 15:35:59.412345248 Running rear recover (PID 24361)<br />
2019-01-18 15:35:59.413339040 Command line options: /bin/rear -dDv
recover<br />
2019-01-18 15:35:59.414268758 Using log file:
/var/log/rear/rear-eniesdbp104p.log<br />
2019-01-18 15:35:59.415438551 Current set of flags is 'hB'<br />
2019-01-18 15:35:59.416390895 The debugscripts flags are 'x'<br />
2019-01-18 15:35:59.417275438 Combining configuration files<br />
2019-01-18 15:35:59.418265733 Including /etc/rear/os.conf<br />
2019-01-18 15:35:59.419092456 Entering debugscripts mode via 'set -x'.</p>
<ul>
<li>source /etc/rear/os.conf<br />
    ++ OS_VENDOR=SUSE_LINUX<br />
    ++ OS_VERSION=12.3<br />
    ++ ARCH=Linux-ppc64le<br />
    ++ OS=GNU/Linux<br />
    ++ OS_VERSION=12.3<br />
    ++ OS_VENDOR=SUSE_LINUX<br />
    ++ OS_VENDOR_VERSION=SUSE_LINUX/12.3<br />
    ++ OS_VENDOR_ARCH=SUSE_LINUX/ppc64le</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-18 15:35:59.422509686 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-18 15:35:59.422509686 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-18 15:35:59.422509686 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-18 15:35:59.426007211 Including conf/Linux-ppc64le.conf<br />
    2019-01-18 15:35:59.426882393 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /usr/share/rear/conf/Linux-ppc64le.conf<br />
    ++ REQUIRED_PROGS=("${REQUIRED_PROGS[@]}" sfdisk)<br />
    ++ PROGS=("${PROGS[@]}" bootlist pseries_platform nvram
    ofpathname bc agetty)<br />
    +++ awk '/platform/ {print $NF}'<br />
    ++ [[ pSeries != PowerNV ]]<br />
    ++ test ''<br />
    ++ FIRMWARE_FILES=('no')</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-18 15:35:59.434301636 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-18 15:35:59.434301636 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-18 15:35:59.434301636 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-18 15:35:59.436224578 Including conf/GNU/Linux.conf<br />
    2019-01-18 15:35:59.437166351 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /usr/share/rear/conf/GNU/Linux.conf<br />
    ++ REQUIRED_PROGS=("${REQUIRED_PROGS[@]:-}" chroot ip less
    parted route readlink)<br />
    ++ PROGS=(${PROGS[@]:-} partprobe fdisk cfdisk sfdisk)<br />
    ++ PROGS=(${PROGS[@]:-} rpc.statd rpcbind mknod blkid vol_id
    udev_volume_id portmap rpcinfo tac reboot halt shutdown killall5
    killall tee ifconfig nslookup ifenslave ifrename nameif klogd
    syslog-ng syslogd rsyslogd date rmdir init telinit ethtool expand
    insmod modprobe lsmod true false mingetty agetty getty rmmod
    hostname uname sleep logger pstree ln dirname basename tty ping
    netstat free traceroute vi pico nano rmmod df dmesg du gzip netcat
    curl top iptraf joe getent id ldd strace rsync tail head find md5sum
    mkfs mkfs.ext2 mkfs.ext3 mkfs.ext4 mkfs.ext4dev mkfs.jfs mkfs.xfs
    mkfs.reiserfs mkfs.vfat mkfs.btrfs mkreiserfs fsck fsck.ext2
    fsck.ext3 fsck.ext4 fsck.ext4dev fsck.xfs fsck.reiserfs reiserfsck
    fsck.btrfs findmnt btrfsck tune2fs tune4fs xfs_admin xfs_db
    xfs_repair xfs_info xfs_growfs btrfs jfs_tune reiserfstune egrep
    fgrep chmod chown stat mkswap swapon swapoff mknod touch scsi_id
    lsscsi logd initctl lspci usleep mktemp /bin/true strace which
    mkfifo seq openvt poweroff chacl getfacl setfacl attr getfattr
    setfattr mpath_wait xargs sg_inq env w dosfslabel sysctl blockdev
    lsblk)<br />
    ++ LIBS=(${LIBS[@]:-} /lib*/libnss_dns* /lib*/libnss_files*
    /lib/<em>/libnss_dns</em> /lib/<em>/libnss_files</em> /lib*/libgcc_s*
    /lib*/libresolv* /usr/lib*/rsyslog/<em>so /lib</em>/rsyslog/<em>so
    /usr/lib</em>/syslog-ng/* /lib*/libnsspem.so*
    /usr/lib*/libnsspem.so* /lib*/libfreebl*.so*
    /usr/lib*/libfreebl*.so* /lib*/libnss3.so*
    /usr/lib*/libnss3.so* /lib*/libnssutil3.so*
    /usr/lib*/libnssutil3.so* /lib*/libsoftokn3.so*
    /usr/lib*/libsoftokn3.so* /lib*/libsqlite3.so*
    /usr/lib*/libsqlite3.so* /lib*/libfreeblpriv3.so*
    /usr/lib*/libfreeblpriv3.so* /lib*/libssl.so*
    /usr/lib*/libssl.so* /lib*/libnssdbm3.so*
    /usr/lib*/libnssdbm3.so*)<br />
    ++ MODULES=(${MODULES[@]:-} vfat nls_iso8859_1 nls_utf8
    nls_cp437 af_packet unix nfs nfsv4 nfsv3 lockd sunrpc cifs usbcore
    usb_storage usbhid sr_mod ide_cd cdrom uhci_hcd ehci_hcd
    xhci_hcd ohci_hcd zlib zlib-inflate zlib-deflate libcrc32c crc32c
    crc32c-intel)<br />
    ++ COPY_AS_IS=(${COPY_AS_IS[@]:-} /dev /etc/inputr[c]
    /etc/protocols /etc/services /etc/rpc /etc/termcap /etc/terminfo
    /lib*/terminfo /usr/share/terminfo /etc/netconfig /etc/mke2fs.conf
    /etc/<em>-release /etc/localtime /etc/magic /usr/share/misc/magic
    /etc/dracut.conf /etc/dracut.conf.d /usr/lib/dracut
    /sbin/modprobe.ksplice-orig /etc/sysctl.conf /etc/sysctl.d
    /etc/e2fsck.conf)<br />
    ++ COPY_AS_IS=("${COPY_AS_IS[@]}" '/etc/ssl/certs/</em>'
    '/etc/pki/<em>' '/usr/lib/ssl/</em>' '/usr/share/ca-certificates/<em>'
    '/etc/ca-certificates/</em>')<br />
    ++ COPY_AS_IS_EXCLUDE=(${COPY_AS_IS_EXCLUDE[@]:-}
    dev/shm/*)<br />
    ++ COPY_AS_IS_EXCLUDE=("${COPY_AS_IS_EXCLUDE[@]}"
    '/etc/pki/tls/private' '/etc/pki/CA/private'
    '/etc/pki/nssdb/key*.db' '/usr/lib/ssl/private')<br />
    ++ KERNEL_CMDLINE=' selinux=0'<br />
    ++ CLONE_USERS=("${CLONE_USERS[@]:-}" daemon rpc usbmuxd usbmux
    vcsa nobody dbus)<br />
    ++ CLONE_GROUPS=("${CLONE_GROUPS[@]:-}" tty usbmuxd usbmux fuse
    kvm oinstall dbus)</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-18 15:35:59.443917847 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-18 15:35:59.443917847 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-18 15:35:59.443917847 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-18 15:35:59.445847813 Including conf/SUSE_LINUX.conf<br />
    2019-01-18 15:35:59.446764829 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /usr/share/rear/conf/SUSE_LINUX.conf<br />
    ++ COPY_AS_IS=("${COPY_AS_IS[@]}"
    /etc/sysconfig/network/config
    /etc/sysconfig/network/scripts/functions)</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-18 15:35:59.450620080 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-18 15:35:59.450620080 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-18 15:35:59.450620080 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-18 15:35:59.453817705 Including /etc/rear/local.conf<br />
    2019-01-18 15:35:59.454697648 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /etc/rear/local.conf<br />
    ++ AUTOEXCLUDE_MULTIPATH=n<br />
    ++ BOOT_OVER_SAN=y<br />
    ++ REAR_INITRD_COMPRESSION=lzma<br />
    ++ OUTPUT=ISO<br />
    ++ ISO_MAX_SIZE=4000<br />
    ++ BACKUP=NETFS<br />
    ++ BACKUP_URL=iso:///iso_fs/REAR_BACKUP<br />
    ++ ISO_DIR=/iso_fs/REAR_ISO<br />
    ++ TMPDIR=/iso_fs/REAR_TEMP<br />
    ++ OUTPUT_URL=null<br />
    ++ BOOT_FROM_SAN=y<br />
    ++ EXCLUDE_MOUNTPOINTS=(/iso_fs /opt/IBM/ITM /cv
    /opt/splunkforwarder /opt/teamquest /var/opt/BESClient /usr/sap
    /hana/data /hana/log /hana/shared /usr/sap/basis /usr/sap/srm
    /PA_backup)<br />
    ++ EXCLUDE_COMPONENTS=(/dev/mapper/200173800348802ba
    /dev/mapper/200173800348802bb /dev/mapper/200173800348802bc
    /dev/mapper/200173800348802bd /dev/mapper/200173800348802be
    /dev/mapper/200173800348802bf /dev/mapper/200173800348802c0
    /dev/mapper/200173800348802c1 /dev/mapper/200173800348802c2
    /dev/mapper/200173800348802c3 /dev/mapper/200173800348802c4
    /dev/mapper/200173800348802c5)</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-18 15:35:59.458303640 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-18 15:35:59.458303640 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-18 15:35:59.458303640 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-18 15:35:59.461452821 Including /etc/rear/rescue.conf<br />
    2019-01-18 15:35:59.462357239 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /etc/rear/rescue.conf<br />
    ++ SHARE_DIR=/usr/share/rear<br />
    ++ CONFIG_DIR=/etc/rear<br />
    ++ VAR_DIR=/var/lib/rear<br />
    ++ LOG_DIR=/var/log/rear<br />
    ++ BACKUP_PROG_OPTIONS=(--anchored --xattrs
    --xattrs-include=security.capability
    --xattrs-include=security.selinux --acls)<br />
    ++ NETFS_KEEP_OLD_BACKUP_COPY=<br />
    ++ NETFS_PREFIX=eniesdbp104p<br />
    ++ NETFS_RESTORE_CAPABILITIES=([0]="No")<br />
    ++ unset TMPDIR</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-18 15:35:59.465967018 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-18 15:35:59.465967018 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-18 15:35:59.465967018 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-18 15:35:59.469147331 ======================<br />
    2019-01-18 15:35:59.469975856 Running 'init' stage<br />
    2019-01-18 15:35:59.470821384 ======================<br />
    2019-01-18 15:35:59.476234568 Including
    init/default/005_verify_os_conf.sh<br />
    2019-01-18 15:35:59.477086173 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /usr/share/rear/init/default/005_verify_os_conf.sh</li>
</ul>
<h4 id="dewagner1_commented_at_2019-01-21_2255"><img src="https://avatars.githubusercontent.com/u/42152522?v=4" width="50"><a href="https://github.com/dewagner1">dewagner1</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-456219287">2019-01-21 22:55</a>:<a class="headerlink" href="#dewagner1_commented_at_2019-01-21_2255" title="Permanent link">&para;</a></h4>
<p>Hello Sebastian,</p>
<p>I work with Dan and he asked me to add some more info regarding our
SLES12<br />
SP3 rear recovery issue...</p>
<p>We have only the 100 GB disk mapped to each server, for now - that is
by<br />
design to helps us avoid any confusion on what disk should be used;
that<br />
single disk is our desired OS-bootable disk.</p>
<p>When we boot into SMS/Firmware - I can verify the LUN is
zoned/detected<br />
correctly via the ioinfo menus.</p>
<p>We have dual SAN fabrics in our Linux server environment - using Cisco
MDS<br />
switches... 2 fabrics that are redundant (completely identical in port<br />
layout/config,) yet separate (distinctly cabled and completely
isolated).</p>
<p>Each of our XIV LUNs are mapped to 2 different VirtFC adapters (in
unique<br />
fabrics), and each VirtFC adapter is zoned to 2 different XIV IOports
(in<br />
same fabric) -- (2 x 2) thus configuring 4 total disk paths to the
same<br />
LUN.</p>
<p>This setup of 4 paths doesn't seem to be a problem, not with native
the<br />
multipathing support - multipathd - available to us.</p>
<p>In the past, we've seen the "Ambiguous" message in the rear recover
output,<br />
but the mutipathing was able to handle and properly detect the disk
device.</p>
<h1 id="here_is_what_a_successful_install_outputs">Here is what a successful install outputs:<a class="headerlink" href="#here_is_what_a_successful_install_outputs" title="Permanent link">&para;</a></h1>
<p>...<br />
Setting up multipathing<br />
Activating multipath<br />
multipath activated<br />
Starting multipath daemon<br />
multipathd started<br />
Listing multipath device found<br />
200173800348802b2 dm-0 IBM,2810XIV size=112G<br />
Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than
one<br />
with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/mapper/200173800348802b2 (same size) for<br />
recreating /dev/mapper/200173800348802b3<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802b3 =&gt; /dev/mapper/200173800348802b2<br />
...</p>
<p>When we have our SAN admin unzone 3 of the 4 disk connections, we no
longer<br />
see the "Ambiguous" line... so we are confident we can explain that and
are<br />
confident that is NOT the cause of our issue.</p>
<p>From the above messages, what seems to be key is the ability of rear
to<br />
determine the disk "source =&gt; target" mapping with the correct and
proper<br />
names.</p>
<p>Our issue stems from repeated attempts yielding inconsistent install<br />
results - with success occurring intermittent &amp; random... not very<br />
trustworthy.</p>
<h1 id="when_we_fail_well_see_either_this_type_of_mapping">When we fail, we'll see either this type of mapping:<a class="headerlink" href="#when_we_fail_well_see_either_this_type_of_mapping" title="Permanent link">&para;</a></h1>
<p>...<br />
Switching to manual disk layout configuration<br />
Using /dev/sda (same size) for recreating
/dev/mapper/200173800348802b3<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802b3 =&gt; /dev/sda</p>
<h1 id="or_this_type_of_mapping">or this type of mapping:<a class="headerlink" href="#or_this_type_of_mapping" title="Permanent link">&para;</a></h1>
<p>...<br />
Switching to manual disk layout configuration<br />
Using /dev/mapper/SIBM_2810XIV_780348802C6 (same size) for<br />
recreating /dev/mapper/200173800348802b3<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802b3 =&gt;
/dev/mapper/SIBM_2810XIV_780348802C6</p>
<p>So the BIG question is - how is rear discovering and determining the<br />
target device's file location &amp; name, and why with nothing being
altered,<br />
does it fail to do it consistently ??</p>
<p>I welcome your thoughts on understanding/resolving this... and I'd be
glad<br />
to provide you any other info - or perform any other follow-up - that
you<br />
deem would be helpful.</p>
<p>Thank you.</p>
<p>Regards,</p>
<p>Glenn Lehman<br />
Unix Systems Administrator - AIX, Linux, VIO, pSeries, Storage &amp; SAN<br />
Global Technology Services | Distributed Systems-Unix, IBM<br />
(717) 409-5857 - Office</p>
<p>From: Dan Wagner/Mechanicsburg/Contr/IBM<br />
To: rear/rear &lt;reply<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#43;&#48;&#50;&#56;&#51;&#51;&#50;&#52;&#97;&#56;&#57;&#99;&#57;&#99;&#54;&#98;&#50;&#50;&#98;&#56;&#48;&#100;&#52;&#102;&#100;&#51;&#102;&#53;&#53;&#57;&#53;&#54;&#101;&#100;&#52;&#55;&#52;&#53;&#48;&#55;&#49;&#52;&#54;&#52;&#56;&#50;&#50;&#98;&#100;&#57;&#50;&#99;&#102;&#48;&#48;&#48;&#48;&#48;&#48;&#48;&#49;&#49;&#56;&#53;&#57;&#53;&#49;&#102;&#48;&#57;&#50;&#97;&#49;&#54;&#57;&#99;&#101;&#49;&#55;&#100;&#101;&#100;&#99;&#51;&#56;&#64;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#43;&#48;&#50;&#56;&#51;&#51;&#50;&#52;&#97;&#56;&#57;&#99;&#57;&#99;&#54;&#98;&#50;&#50;&#98;&#56;&#48;&#100;&#52;&#102;&#100;&#51;&#102;&#53;&#53;&#57;&#53;&#54;&#101;&#100;&#52;&#55;&#52;&#53;&#48;&#55;&#49;&#52;&#54;&#52;&#56;&#50;&#50;&#98;&#100;&#57;&#50;&#99;&#102;&#48;&#48;&#48;&#48;&#48;&#48;&#48;&#49;&#49;&#56;&#53;&#57;&#53;&#49;&#102;&#48;&#57;&#50;&#97;&#49;&#54;&#57;&#99;&#101;&#49;&#55;&#100;&#101;&#100;&#99;&#51;&#56;&#64;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a>&gt;<br />
Cc: Mention <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a>, rear/rear<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a>, Susan<br />
Steele/Mechanicsburg/IBM@IBMUS, Glenn<br />
Lehman/Mechanicsburg/IBM@IBMUS, Cora Jung/New York/IBM@IBMUS<br />
Date: 01/19/2019 07:24 AM<br />
Subject: Re: [rear/rear] Update to closed issue #2016 (Unable to
clone<br />
Power lpar from rear backup SLES 12 SP3) (#2019)</p>
<p>Hi Sebastien,<br />
We are using XIV for our storage. We worked with the SAN team
yesterday<br />
and thought we found the problem. They made a change and we tried a<br />
restore and it worked perfectly. Then we rebooted and tried two more<br />
restores on the same lpar with the same image and they failed.</p>
<p>The first restore that worked had the following output for the
multipath<br />
device info. I don't have console output so I don't remember the<br />
exact /dev/mapper id. That's why I used question marks.<br />
The two times that didn't work (logs below including ioinfo output) did
not<br />
have any entry under "Listing multipath device found"</p>
<p>Listing multipath device found<br />
/dev/mapper/20017380034??????<br />
Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than
one<br />
with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/sda (same size) for recreating
/dev/mapper/200173800348802b3<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802b3 =&gt; /dev/mapper/20017380034??????</p>
<h1 id="here_is_the_ioinfo_output_2">Here is the ioinfo output<a class="headerlink" href="#here_is_the_ioinfo_output_2" title="Permanent link">&para;</a></h1>
<p>0 &gt; ioinfo</p>
<p>!!! IOINFO: FOR IBM INTERNAL USE ONLY !!!<br />
This tool gives you information about SCSI,SATA,SAS,and USB devices<br />
attached to the system</p>
<p>Select a tool from the following</p>
<ol>
<li>SATAINFO</li>
<li>SASINFO</li>
<li>USBINFO</li>
<li>FCINFO</li>
<li>VSCSIINFO</li>
</ol>
<p>q - quit/exit</p>
<p>==&gt; 4</p>
<p>FCINFO Main Menu<br />
Select a FC Node from the following list:</p>
<h1 id="location_code_pathname_11">Location Code Pathname<a class="headerlink" href="#location_code_pathname_11" title="Permanent link">&para;</a></h1>
<hr />
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 1</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000002_fc_node_worldwideportname_c0507609f1e20020_4">FC Node Menu FC Node String: /vdevice/vfc-client@30000002 FC Node WorldWidePortName: c0507609f1e20020<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000002_fc_node_worldwideportname_c0507609f1e20020_4" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 1</p>
<ol>
<li>5001738034880150,4000000000000000 - 114877 MB Disk drive</li>
<li>5001738034880141,4000000000000000 - 114877 MB Disk drive</li>
</ol>
<p>Hit a key to continue...</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000002_fc_node_worldwideportname_c0507609f1e20020_5">FC Node Menu FC Node String: /vdevice/vfc-client@30000002 FC Node WorldWidePortName: c0507609f1e20020<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000002_fc_node_worldwideportname_c0507609f1e20020_5" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; q</p>
<p>FCINFO Main Menu<br />
Select a FC Node from the following list:</p>
<h1 id="location_code_pathname_12">Location Code Pathname<a class="headerlink" href="#location_code_pathname_12" title="Permanent link">&para;</a></h1>
<hr />
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 2</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000003_fc_node_worldwideportname_c0507609f1e20022_4">FC Node Menu FC Node String: /vdevice/vfc-client@30000003 FC Node WorldWidePortName: c0507609f1e20022<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000003_fc_node_worldwideportname_c0507609f1e20022_4" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 1</p>
<p>NO FC DEVICES FOUND</p>
<p>Hit a key to continue...</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000003_fc_node_worldwideportname_c0507609f1e20022_5">FC Node Menu FC Node String: /vdevice/vfc-client@30000003 FC Node WorldWidePortName: c0507609f1e20022<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000003_fc_node_worldwideportname_c0507609f1e20022_5" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; q</p>
<p>FCINFO Main Menu<br />
Select a FC Node from the following list:</p>
<h1 id="location_code_pathname_13">Location Code Pathname<a class="headerlink" href="#location_code_pathname_13" title="Permanent link">&para;</a></h1>
<hr />
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 3</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000004_fc_node_worldwideportname_c0507609f1e20024_4">FC Node Menu FC Node String: /vdevice/vfc-client@30000004 FC Node WorldWidePortName: c0507609f1e20024<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000004_fc_node_worldwideportname_c0507609f1e20024_4" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 1</p>
<p>NO FC DEVICES FOUND</p>
<p>Hit a key to continue...</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000004_fc_node_worldwideportname_c0507609f1e20024_5">FC Node Menu FC Node String: /vdevice/vfc-client@30000004 FC Node WorldWidePortName: c0507609f1e20024<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000004_fc_node_worldwideportname_c0507609f1e20024_5" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; q</p>
<p>FCINFO Main Menu<br />
Select a FC Node from the following list:</p>
<h1 id="location_code_pathname_14">Location Code Pathname<a class="headerlink" href="#location_code_pathname_14" title="Permanent link">&para;</a></h1>
<hr />
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 4</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000005_fc_node_worldwideportname_c0507609f1e20026_4">FC Node Menu FC Node String: /vdevice/vfc-client@30000005 FC Node WorldWidePortName: c0507609f1e20026<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000005_fc_node_worldwideportname_c0507609f1e20026_4" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 1</p>
<p>NO FC DEVICES FOUND</p>
<p>Hit a key to continue...</p>
<h2 id="fc_node_menu_fc_node_string_vdevicevfc-client30000005_fc_node_worldwideportname_c0507609f1e20026_5">FC Node Menu FC Node String: /vdevice/vfc-client@30000005 FC Node WorldWidePortName: c0507609f1e20026<a class="headerlink" href="#fc_node_menu_fc_node_string_vdevicevfc-client30000005_fc_node_worldwideportname_c0507609f1e20026_5" title="Permanent link">&para;</a></h2>
<ol>
<li>List Attached FC Devices</li>
<li>Select a FC Device</li>
<li>Enable/Disable FC Adapter Debug flags</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; q</p>
<p>FCINFO Main Menu<br />
Select a FC Node from the following list:</p>
<h1 id="location_code_pathname_15">Location Code Pathname<a class="headerlink" href="#location_code_pathname_15" title="Permanent link">&para;</a></h1>
<hr />
<ol>
<li>U9080.MHE.78F42D7-V7-C2-T1 /vdevice/vfc-client@30000002</li>
<li>U9080.MHE.78F42D7-V7-C3-T1 /vdevice/vfc-client@30000003</li>
<li>U9080.MHE.78F42D7-V7-C4-T1 /vdevice/vfc-client@30000004</li>
<li>U9080.MHE.78F42D7-V7-C5-T1 /vdevice/vfc-client@30000005</li>
</ol>
<p>q - Quit/Exit</p>
<h1 id="here_is_the_console_log_of_the_two_different_restores_that_did_not_work_2">Here is the console log of the two different restores that did not work.<a class="headerlink" href="#here_is_the_console_log_of_the_two_different_restores_that_did_not_work_2" title="Permanent link">&para;</a></h1>
<p>Configuring Relax-and-Recover rescue system</p>
<p>Running 00-functions.sh...<br />
Running 01-run-ldconfig.sh...<br />
Running 10-console-setup.sh...<br />
Using keymap of the original system<br />
Running 20-check-boot-options.sh...<br />
Running 40-start-udev-or-load-modules.sh...<br />
Waiting for udev ... done.<br />
Running 41-load-special-modules.sh...<br />
Running 42-engage-scsi.sh...<br />
Running 45-serial-console.sh...<br />
Running 55-migrate-network-devices.sh...<br />
No network interface mapping is specified in /etc/rear/mappings/mac<br />
The original network interface eth0 d6:8b:e6:36:62:08 is not available</p>
<ol>
<li>eth3 d6:8b:e5:4d:db:08 ibmveth</li>
<li>eth4 d6:8b:e5:4d:db:09 ibmveth</li>
<li>eth5 d6:8b:e5:4d:db:0a ibmveth</li>
<li>Skip replacing eth0 d6:8b:e6:36:62:08<br />
    Choose replacement for eth0 d6:8b:e6:36:62:08 1<br />
    Mapping eth0 d6:8b:e6:36:62:08 to eth3 d6:8b:e5:4d:db:08<br />
    The original network interface eth1 d6:8b:e6:36:62:09 is not
    available</li>
<li>
<ol>
<li>eth4 d6:8b:e5:4d:db:09 ibmveth</li>
</ol>
</li>
<li>eth5 d6:8b:e5:4d:db:0a ibmveth</li>
<li>Skip replacing eth1 d6:8b:e6:36:62:09<br />
    Choose replacement for eth1 d6:8b:e6:36:62:09 2<br />
    Mapping eth1 d6:8b:e6:36:62:09 to eth4 d6:8b:e5:4d:db:09<br />
    The original network interface eth2 d6:8b:e6:36:62:0a is not
    available</li>
<li>
<ol>
<li>
<ol>
<li>eth5 d6:8b:e5:4d:db:0a ibmveth</li>
</ol>
</li>
</ol>
</li>
<li>Skip replacing eth2 d6:8b:e6:36:62:0a<br />
    Choose replacement for eth2 d6:8b:e6:36:62:0a 3<br />
    Mapping eth2 d6:8b:e6:36:62:0a to eth5 d6:8b:e5:4d:db:0a<br />
    Reloading udev ... done.<br />
    Running 58-start-dhclient.sh...<br />
    Running 60-network-devices.sh...<br />
    Running 62-routing.sh...<br />
    Running 65-sysctl.sh...<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 1<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_tw_recycle = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.ipv4.tcp_wmem = 4096 16384 4194304<br />
    vm.min_free_kbytes = 10485760<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 1<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_tw_recycle = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.ipv4.tcp_wmem = 4096 16384 4194304<br />
    vm.min_free_kbytes = 10485760<br />
    Running 99-makedev.sh...</li>
</ol>
<p>Relax-and-Recover rescue system is ready</p>
<p>[ OK ] Started Initialize Rescue System.<br />
[ OK ] Started Getty on tty0.<br />
[ OK ] Reached target Login Prompts.<br />
[ OK ] Started Serial Getty on hvc0.<br />
[ OK ] Started Serial Getty on ttyS0.<br />
[ OK ] Reached target Multi-User.</p>
<p>Relax-and-Recover 2.4-git.0.6ec9075.unknown / 2018-12-05</p>
<p>Relax-and-Recover comes with ABSOLUTELY NO WARRANTY; for details see<br />
the GNU General Public License at:
<a href="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</a></p>
<p>Host eniesdbp104p using Backup NETFS and Output ISO<br />
Build date: Thu, 17 Jan 2019 14:22:20 -0500</p>
<p>Welcome to SUSE Linux Enterprise Server for SAP Applications 12 SP3<br />
(ppc64le) - Kernel 4.4.162-94.72-default (hvc0).</p>
<p>SSH fingerprint: 2048
SHA256:bn+LTuNXpbRAhjgEBjQZ6rZv29K8anvt2wL7R2uXgqw<br />
root@eniesdbp104p (RSA)</p>
<p>eniesdbp104p login: root</p>
<p>Welcome to Relax-and-Recover. Run "rear recover" to restore your system
!</p>
<p>RESCUE eniesdbp104p:~ # rear recover<br />
Relax-and-Recover 2.4-git.0.6ec9075.unknown / 2018-12-05<br />
Running rear recover (PID 24570)<br />
Using log file: /var/log/rear/rear-eniesdbp104p.log<br />
Running workflow recover within the ReaR rescue/recovery system<br />
Using backup archive<br />
'/tmp/rear.Hs00F3ALINE1ns3/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz'<br />
Will do driver migration (recreating initramfs/initrd)<br />
Calculating backup archive size<br />
Backup archive size is 1909.38M (compressed)<br />
Setting up multipathing<br />
Activating multipath<br />
multipath activated<br />
Starting multipath daemon<br />
multipathd started<br />
Listing multipath device found</p>
<p>Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than
one<br />
with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/sda (same size) for recreating
/dev/mapper/200173800348802b3<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802b3 =&gt; /dev/sda</p>
<p>Configuring Relax-and-Recover rescue system</p>
<p>Running 00-functions.sh...<br />
Running 01-run-ldconfig.sh...<br />
Running 10-console-setup.sh...<br />
Using keymap of the original system<br />
Running 20-check-boot-options.sh...<br />
Running 40-start-udev-or-load-modules.sh...<br />
Waiting for udev ... done.<br />
Running 41-load-special-modules.sh...<br />
Running 42-engage-scsi.sh...<br />
Running 45-serial-console.sh...<br />
Running 55-migrate-network-devices.sh...<br />
No network interface mapping is specified in /etc/rear/mappings/mac<br />
The original network interface eth0 d6:8b:e6:36:62:08 is not available</p>
<ol>
<li>eth1 d6:8b:e5:4d:db:09 ibmveth</li>
<li>eth2 d6:8b:e5:4d:db:0a ibmveth</li>
<li>eth3 d6:8b:e5:4d:db:08 ibmveth</li>
<li>Skip replacing eth0 d6:8b:e6:36:62:08<br />
    Choose replacement for eth0 d6:8b:e6:36:62:08 3<br />
    Mapping eth0 d6:8b:e6:36:62:08 to eth3 d6:8b:e5:4d:db:08<br />
    The original network interface eth1 d6:8b:e6:36:62:09 is not
    available</li>
<li>eth1 d6:8b:e5:4d:db:09 ibmveth</li>
<li>eth2 d6:8b:e5:4d:db:0a ibmveth</li>
<li>
<ol>
<li>Skip replacing eth1 d6:8b:e6:36:62:09<br />
    Choose replacement for eth1 d6:8b:e6:36:62:09 1<br />
    Mapping eth1 d6:8b:e6:36:62:09 to eth1 d6:8b:e5:4d:db:09<br />
    The original network interface eth2 d6:8b:e6:36:62:0a is not
    available</li>
</ol>
</li>
<li>
<ol>
<li>eth2 d6:8b:e5:4d:db:0a ibmveth</li>
</ol>
</li>
<li>
<ol>
<li>Skip replacing eth2 d6:8b:e6:36:62:0a<br />
    Choose replacement for eth2 d6:8b:e6:36:62:0a 2<br />
    Mapping eth2 d6:8b:e6:36:62:0a to eth2 d6:8b:e5:4d:db:0a<br />
    Reloading udev ... done.<br />
    Running 58-start-dhclient.sh...<br />
    Running 60-network-devices.sh...<br />
    Running 62-routing.sh...<br />
    Running 65-sysctl.sh...<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 1<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_tw_recycle = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.ipv4.tcp_wmem = 4096 16384 4194304<br />
    vm.min_free_kbytes = 10485760<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 1<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_tw_recycle = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.ipv4.tcp_wmem = 4096 16384 4194304<br />
    vm.min_free_kbytes = 10485760<br />
    Running 99-makedev.sh...</li>
</ol>
</li>
</ol>
<p>Relax-and-Recover rescue system is ready</p>
<p>[ OK ] Started Initialize Rescue System.<br />
[ OK ] Started Getty on tty0.<br />
[ OK ] Reached target Login Prompts.<br />
[ OK ] Reached target Multi-User.<br />
[ OK ] Started Serial Getty on ttyS0.<br />
[ OK ] Started Serial Getty on hvc0.</p>
<p>Relax-and-Recover 2.4-git.0.6ec9075.unknown / 2018-12-05</p>
<p>Relax-and-Recover comes with ABSOLUTELY NO WARRANTY; for details see<br />
the GNU General Public License at:
<a href="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</a></p>
<p>Host eniesdbp104p using Backup NETFS and Output ISO<br />
Build date: Thu, 17 Jan 2019 14:22:20 -0500</p>
<p>Welcome to SUSE Linux Enterprise Server for SAP Applications 12 SP3<br />
(ppc64le) - Kernel 4.4.162-94.72-default (hvc0).</p>
<p>SSH fingerprint: 2048
SHA256:DNyikRzuULk3bpE1wwyoXX/6b9qV0kBUW0j32NOrdkY<br />
root@eniesdbp104p (RSA)</p>
<p>eniesdbp104p login: root</p>
<p>Welcome to Relax-and-Recover. Run "rear recover" to restore your system
!</p>
<p>RESCUE eniesdbp104p:~ # rear recover<br />
Relax-and-Recover 2.4-git.0.6ec9075.unknown / 2018-12-05<br />
Running rear recover (PID 24593)<br />
Using log file: /var/log/rear/rear-eniesdbp104p.log<br />
Running workflow recover within the ReaR rescue/recovery system<br />
Using backup archive<br />
'/tmp/rear.3HmcDWcPOuSWy4R/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz'<br />
Will do driver migration (recreating initramfs/initrd)<br />
Calculating backup archive size<br />
Backup archive size is 1909.38M (compressed)<br />
Setting up multipathing<br />
Activating multipath<br />
multipath activated<br />
Starting multipath daemon<br />
multipathd started<br />
Listing multipath device found<br />
SIBM_2810XIV_780348802C6 dm-0 IBM,2810XIV size=112G<br />
Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than
one<br />
with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/mapper/SIBM_2810XIV_780348802C6 (same size) for<br />
recreating /dev/mapper/200173800348802b3<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802b3 =&gt;
/dev/mapper/SIBM_2810XIV_780348802C6</p>
<p>Dan Wagner<br />
Senior Enterprise System Specialist</p>
<p>(717) 580-3844 Mobile<br />
(717) 409-5858 Office<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;">&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;</a></p>
<p>IBM Services</p>
<p>From: "Sbastien Chabrolles" <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
To: rear/rear <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
Cc: dewagner1 <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;">&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;</a>, Mention<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
Date: 01/18/2019 03:36 AM<br />
Subject: Re: [rear/rear] Update to closed issue #2016 (Unable to
clone<br />
Power lpar from rear backup SLES 12 SP3) (#2019)</p>
<p>@dewagner1,</p>
<p>My first guess is still a SAN / FC issue. To validate, the best would be
to<br />
boot your LPAR in SMS and run ioinfo via the OK prompt.</p>
<p>1- From SMS menu to OK prompt<br />
Press 0 when entering SMS menu 1st page.</p>
<pre><code>                                         X = eXit System Management
</code></pre>
<p>Services</p>
<hr />
<p>Type menu item number and press Enter or select Navigation key:<br />
Open Completed.</p>
<h2 id="powerpc_firmware_version_fw86051_sv860_165_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_1">PowerPC Firmware Version FW860.51 (SV860_165) SMS (c) Copyright IBM Corp. 2000,2016 All rights reserved.<a class="headerlink" href="#powerpc_firmware_version_fw86051_sv860_165_sms_c_copyright_ibm_corp_20002016_all_rights_reserved_1" title="Permanent link">&para;</a></h2>
<p>Main Menu</p>
<ol>
<li>Select Language</li>
<li>Setup Remote IPL (Initial Program Load)</li>
<li>I/O Device Information</li>
<li>Select Console</li>
<li>Select Boot Options</li>
</ol>
<hr />
<p>Navigation Keys:</p>
<pre><code>                                         X = eXit System Management
</code></pre>
<p>Services</p>
<hr />
<p>Type menu item number and press Enter or select Navigation key:0</p>
<pre><code>                .--------------------------------------.
                |  Exit SMS to OK&gt; Prompt? (Y)es/(N)o  |
                `--------------------------------------'
</code></pre>
<p>ok<br />
0 &gt;</p>
<p>2-Run ioinfo on each fiber adapter to get the list of disk/partitions
path<br />
over the SAN network</p>
<p>ok<br />
0 &gt; ioinfo</p>
<p>!!! IOINFO: FOR IBM INTERNAL USE ONLY !!!<br />
This tool gives you information about SCSI,SATA,SAS,and USB devices<br />
attached to the system</p>
<p>Select a tool from the following</p>
<ol>
<li>SATAINFO</li>
<li>SASINFO</li>
<li>USBINFO</li>
<li>FCINFO</li>
<li>VSCSIINFO</li>
</ol>
<p>q - quit/exit</p>
<p>==&gt; 4</p>
<p>FCINFO Main Menu<br />
Select a FC Node from the following list:</p>
<h1 id="location_code_pathname_16">Location Code Pathname<a class="headerlink" href="#location_code_pathname_16" title="Permanent link">&para;</a></h1>
<hr />
<ol>
<li>U8284.22A.217097V-V21-C13-T1 /vdevice/vfc-client@3000000d</li>
<li>U8284.22A.217097V-V21-C14-T1 /vdevice/vfc-client@3000000e</li>
</ol>
<p>q - Quit/Exit</p>
<p>==&gt; 1</p>
<p>Press 1 to list devices seen by the first Adapter</p>
<p>==&gt; 1</p>
<ol>
<li>500507680c21099f,0 - 51200 MB Disk drive (bootable)</li>
<li>500507680c21099f,1000000000000 - 10240 MB Disk drive</li>
<li>500507680c21099f,2000000000000 - 10240 MB Disk drive</li>
<li>500507680c51099f,0 - 51200 MB Disk drive (bootable)</li>
<li>500507680c51099f,1000000000000 - 10240 MB Disk drive</li>
<li>500507680c51099f,2000000000000 - 10240 MB Disk drive</li>
<li>500507680c2109a6,0 - 51200 MB Disk drive (bootable)</li>
<li>500507680c2109a6,1000000000000 - 10240 MB Disk drive</li>
<li>500507680c2109a6,2000000000000 - 10240 MB Disk drive</li>
<li>500507680c5109a6,0 - 51200 MB Disk drive (bootable)</li>
<li>500507680c5109a6,1000000000000 - 10240 MB Disk drive</li>
<li>500507680c5109a6,2000000000000 - 10240 MB Disk drive</li>
</ol>
<p>Hit a key to continue...</p>
<p>Then Quit q and run the same thing on the other adapter</p>
<p><br />
You are receiving this because you were mentioned.<br />
Reply to this email directly, view it on GitHub, or mute the thread.</p>
<h4 id="schabrolles_commented_at_2019-01-22_1016"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-456345328">2019-01-22 10:16</a>:<a class="headerlink" href="#schabrolles_commented_at_2019-01-22_1016" title="Permanent link">&para;</a></h4>
<p>@dewagner1,</p>
<p>The "Ambiguous possible target disks need manual configuration (more
than one with same size found)" line is not a problem here. ReaR informs
you that it can't find the exact same disk and founds several possible
targets.... simply because you are running on a different server
(migration) with multipath (several possible target devices). ReaR just
need you to validate the target proposed.</p>
<p>I recommend to not unmap the disk to reduce the number of the possible
targets. When you do that, multipath will switch automatically to single
Path (/dev/sdX).</p>
<p>Could you please tell me if everything works now (even with the
"Ambiguous possible target disks..." line)</p>
<pre><code>...
Setting up multipathing
Activating multipath
multipath activated
Starting multipath daemon
multipathd started
Listing multipath device found
200173800348802b2 dm-0 IBM,2810XIV size=112G
Comparing disks
Ambiguous possible target disks need manual configuration (more than one
with same size found)
Switching to manual disk layout configuration
Using /dev/mapper/200173800348802b2 (same size) for
recreating /dev/mapper/200173800348802b3
Current disk mapping table (source =&gt; target):
/dev/mapper/200173800348802b3 =&gt; /dev/mapper/200173800348802b2
...
</code></pre>
<h4 id="dewagner1_commented_at_2019-01-22_1218"><img src="https://avatars.githubusercontent.com/u/42152522?v=4" width="50"><a href="https://github.com/dewagner1">dewagner1</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-456379490">2019-01-22 12:18</a>:<a class="headerlink" href="#dewagner1_commented_at_2019-01-22_1218" title="Permanent link">&para;</a></h4>
<p>Sebastian,<br />
There is only one disk mapped to this server. I went through the
procedure<br />
again this morning and have attached the console and debug log output.</p>
<p>(See attached file: 20190122 Eniesdbp102 Restore.txt)</p>
<p>The first attempt did not find a multipath device so I didn't continue<br />
because I knew it would fail. You can see that multipath was not
running<br />
and the pvs command gave some strange errors.</p>
<p>However, the second attempt did work and you can see the "Ambiuous
possible<br />
target disks..." message is there.</p>
<p>Also, the rear restore failed on another server we configured with only
one<br />
path to one disk. See console output below.</p>
<p>Incidently, we were able to do a clean install from the SLES DVD on both
of<br />
these servers. Let me know if I can provide any additional information
to<br />
help debug this.</p>
<h1 id="console_output">Console output<a class="headerlink" href="#console_output" title="Permanent link">&para;</a></h1>
<p>multipathd started<br />
Listing multipath device found</p>
<p>Comparing disks<br />
Device mapper!200173800348802b3 does not exist (manual configuration<br />
needed)<br />
Switching to manual disk layout configuration<br />
Using /dev/sda (same size) for recreating
/dev/mapper/200173800348802b3<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802b3 =&gt; /dev/sda</p>
<p>UserInput -I LAYOUT_MIGRATION_CONFIRM_MAPPINGS needed<br />
in /usr/share/rear/layout/prepare/default/300_map_disks.sh line 275<br />
Confirm or edit the disk mapping</p>
<ol>
<li>Confirm disk mapping and continue 'rear recover'</li>
<li>n/a</li>
<li>Edit disk mapping (/var/lib/rear/layout/disk_mappings)</li>
<li>Use Relax-and-Recover shell and return back to here</li>
<li>Abort 'rear recover'<br />
    (default '1' timeout 300 seconds)<br />
    1<br />
    UserInput: Valid choice number result 'Confirm disk mapping and
    continue<br />
    'rear recover''<br />
    User confirmed disk mapping<br />
    Failed to apply layout mappings to
    /var/lib/rear/layout/disklayout.conf<br />
    for /dev/sda (probably no mapping for /dev/sda<br />
    in /var/lib/rear/layout/disk_mappings)<br />
    ERROR: Failed to apply disklayout mappings<br />
    to /var/lib/rear/layout/disklayout.conf<br />
    Some latest log messages since the last called script<br />
    320_apply_mappings.sh:<br />
    2019-01-22 06:33:31.601636240 Including<br />
    layout/prepare/default/320_apply_mappings.sh<br />
    2019-01-22 06:33:31.602645375 Entering debugscripts mode via 'set
    -x'.<br />
    2019-01-22 06:33:31.622237844 Failed to apply layout mappings<br />
    to /var/lib/rear/layout/disklayout.conf for /dev/sda (probably no
    mapping<br />
    for /dev/sda in /var/lib/rear/layout/disk_mappings)<br />
    Aborting due to an error, check /var/log/rear/rear-eniesdbp104p.log
    for<br />
    details<br />
    Exiting rear recover (PID 24346) and its descendant processes<br />
    Running exit tasks<br />
    You should also rm -Rf /tmp/rear.3QbnZnCC5EtVl9F<br />
    Terminated<br />
    RESCUE eniesdbp104p:~ #</li>
</ol>
<p>Dan Wagner<br />
Senior Enterprise System Specialist</p>
<p>(717) 580-3844 Mobile<br />
(717) 409-5858 Office<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;">&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;</a></p>
<p>IBM Services</p>
<p>From: "Sbastien Chabrolles" <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
To: rear/rear <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
Cc: dewagner1 <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;">&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;</a>, Mention<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
Date: 01/22/2019 05:17 AM<br />
Subject: Re: [rear/rear] Update to closed issue #2016 (Unable to
clone<br />
Power lpar from rear backup SLES 12 SP3) (#2019)</p>
<p>@dewagner1,</p>
<p>The "Ambiguous possible target disks need manual configuration (more
than<br />
one with same size found)" line is not a problem here. ReaR informs
you<br />
that it can't find the exact same disk and founds several possible<br />
targets.... simply because you are running on a different server<br />
(migration) with multipath (several possible target devices). ReaR
just<br />
need you to validate the target proposed.</p>
<p>I recommend to not unmap the disk to reduce the number of the possible<br />
targets. When you do that, multipath will switch automatically to
single<br />
Path (/dev/sdX).</p>
<p>Could you please tell me if everything works now (even with the
"Ambiguous<br />
possible target disks..." line)</p>
<p>...<br />
Setting up multipathing<br />
Activating multipath<br />
multipath activated<br />
Starting multipath daemon<br />
multipathd started<br />
Listing multipath device found<br />
200173800348802b2 dm-0 IBM,2810XIV size=112G<br />
Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than
one<br />
with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/mapper/200173800348802b2 (same size) for<br />
recreating /dev/mapper/200173800348802b3<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802b3 =&gt; /dev/mapper/200173800348802b2<br />
...</p>
<p><br />
You are receiving this because you were mentioned.<br />
Reply to this email directly, view it on GitHub, or mute the thread.</p>
<h1 id="1st_try">1ST TRY<a class="headerlink" href="#1st_try" title="Permanent link">&para;</a></h1>
<p>RESCUE eniesdbp104p:~ # rear -dDv recover<br />
Relax-and-Recover 2.4-git.0.6ec9075.unknown / 2018-12-05<br />
Running rear recover (PID 24958)<br />
Using log file: /var/log/rear/rear-eniesdbp104p.log<br />
Running workflow recover within the ReaR rescue/recovery system<br />
Using backup archive
'/tmp/rear.U4Lsmb4pp4DEyYu/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz'<br />
Will do driver migration (recreating initramfs/initrd)<br />
Calculating backup archive size<br />
Backup archive size is 1909.38M (compressed)<br />
Setting up multipathing<br />
Activating multipath<br />
multipath activated<br />
Starting multipath daemon<br />
multipathd started<br />
Listing multipath device found</p>
<p>Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than one
with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/sda (same size) for recreating
/dev/mapper/200173800348802b3<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802b3 =&gt; /dev/sda</p>
<p>UserInput -I LAYOUT_MIGRATION_CONFIRM_MAPPINGS needed in
/usr/share/rear/layout/prepare/default/300_map_disks.sh line 275<br />
Confirm or edit the disk mapping</p>
<ol>
<li>Confirm disk mapping and continue 'rear recover'</li>
<li>n/a</li>
<li>Edit disk mapping (/var/lib/rear/layout/disk_mappings)</li>
<li>Use Relax-and-Recover shell and return back to here</li>
<li>Abort 'rear recover'<br />
    (default '1' timeout 300 seconds)<br />
    4<br />
    UserInput: Valid choice number result 'Use Relax-and-Recover shell
    and return back to here'</li>
</ol>
<p>Welcome to Relax-and-Recover.</p>
<p>rear&gt; pvs<br />
/run/lvm/lvmetad.socket: connect failed: No such file or directory<br />
WARNING: Failed to connect to lvmetad. Falling back to internal
scanning.<br />
Found duplicate PV emSwP2fCyavSeeBOCALUdOqYCw41Lc01: using /dev/sdb3 not
/dev/sda3<br />
Using duplicate PV /dev/sdb3 which is last seen, replacing /dev/sda3<br />
Found duplicate PV emSwP2fCyavSeeBOCALUdOqYCw41Lc01: using /dev/sdc3 not
/dev/sdb3<br />
Using duplicate PV /dev/sdc3 which is last seen, replacing /dev/sdb3<br />
Found duplicate PV emSwP2fCyavSeeBOCALUdOqYCw41Lc01: using /dev/sdd3 not
/dev/sdc3<br />
Using duplicate PV /dev/sdd3 which is last seen, replacing /dev/sdc3<br />
PV VG Fmt Attr PSize PFree<br />
/dev/sdd3 system_vg lvm2 a-- 111.43g 26.43g<br />
rear&gt; multipath -ll<br />
rear&gt;</p>
<p>RESCUE eniesdbp104p:~ # cat /var/log/rear/rear-eniesdbp104p.log<br />
2019-01-22 06:29:00.825940022 Relax-and-Recover
2.4-git.0.6ec9075.unknown / 2018-12-05<br />
2019-01-22 06:29:00.827183229 Running rear recover (PID 24958)<br />
2019-01-22 06:29:00.828387464 Command line options: /bin/rear -dDv
recover<br />
2019-01-22 06:29:00.829454059 Using log file:
/var/log/rear/rear-eniesdbp104p.log<br />
2019-01-22 06:29:00.830809668 Current set of flags is 'hB'<br />
2019-01-22 06:29:00.831892086 The debugscripts flags are 'x'<br />
2019-01-22 06:29:00.833015547 Combining configuration files<br />
2019-01-22 06:29:00.834747961 Including /etc/rear/os.conf<br />
2019-01-22 06:29:00.836303845 Entering debugscripts mode via 'set -x'.</p>
<ul>
<li>source /etc/rear/os.conf<br />
    ++ OS_VENDOR=SUSE_LINUX<br />
    ++ OS_VERSION=12.3<br />
    ++ ARCH=Linux-ppc64le<br />
    ++ OS=GNU/Linux<br />
    ++ OS_VERSION=12.3<br />
    ++ OS_VENDOR=SUSE_LINUX<br />
    ++ OS_VENDOR_VERSION=SUSE_LINUX/12.3<br />
    ++ OS_VENDOR_ARCH=SUSE_LINUX/ppc64le</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:00.841023300 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:00.841023300 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:00.841023300 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:00.844941438 Including conf/Linux-ppc64le.conf<br />
    2019-01-22 06:29:00.846111294 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /usr/share/rear/conf/Linux-ppc64le.conf<br />
    ++ REQUIRED_PROGS=("${REQUIRED_PROGS[@]}" sfdisk)<br />
    ++ PROGS=("${PROGS[@]}" bootlist pseries_platform nvram
    ofpathname bc agetty)<br />
    +++ awk '/platform/ {print $NF}'<br />
    ++ [[ pSeries != PowerNV ]]<br />
    ++ test ''<br />
    ++ FIRMWARE_FILES=('no')</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:00.854737254 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:00.854737254 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:00.854737254 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:00.857159566 Including conf/GNU/Linux.conf<br />
    2019-01-22 06:29:00.858372545 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /usr/share/rear/conf/GNU/Linux.conf<br />
    ++ REQUIRED_PROGS=("${REQUIRED_PROGS[@]:-}" chroot ip less
    parted route readlink)<br />
    ++ PROGS=(${PROGS[@]:-} partprobe fdisk cfdisk sfdisk)<br />
    ++ PROGS=(${PROGS[@]:-} rpc.statd rpcbind mknod blkid vol_id
    udev_volume_id portmap rpcinfo tac reboot halt shutdown killall5
    killall tee ifconfig nslookup ifenslave ifrename nameif klogd
    syslog-ng syslogd rsyslogd date rmdir init telinit ethtool expand
    insmod modprobe lsmod true false mingetty agetty getty rmmod
    hostname uname sleep logger pstree ln dirname basename tty ping
    netstat free traceroute vi pico nano rmmod df dmesg du gzip netcat
    curl top iptraf joe getent id ldd strace rsync tail head find md5sum
    mkfs mkfs.ext2 mkfs.ext3 mkfs.ext4 mkfs.ext4dev mkfs.jfs mkfs.xfs
    mkfs.reiserfs mkfs.vfat mkfs.btrfs mkreiserfs fsck fsck.ext2
    fsck.ext3 fsck.ext4 fsck.ext4dev fsck.xfs fsck.reiserfs reiserfsck
    fsck.btrfs findmnt btrfsck tune2fs tune4fs xfs_admin xfs_db
    xfs_repair xfs_info xfs_growfs btrfs jfs_tune reiserfstune egrep
    fgrep chmod chown stat mkswap swapon swapoff mknod touch scsi_id
    lsscsi logd initctl lspci usleep mktemp /bin/true strace which
    mkfifo seq openvt poweroff chacl getfacl setfacl attr getfattr
    setfattr mpath_wait xargs sg_inq env w dosfslabel sysctl blockdev
    lsblk)<br />
    ++ LIBS=(${LIBS[@]:-} /lib*/libnss_dns* /lib*/libnss_files*
    /lib/<em>/libnss_dns</em> /lib/<em>/libnss_files</em> /lib*/libgcc_s*
    /lib*/libresolv* /usr/lib*/rsyslog/<em>so /lib</em>/rsyslog/<em>so
    /usr/lib</em>/syslog-ng/* /lib*/libnsspem.so*
    /usr/lib*/libnsspem.so* /lib*/libfreebl*.so*
    /usr/lib*/libfreebl*.so* /lib*/libnss3.so*
    /usr/lib*/libnss3.so* /lib*/libnssutil3.so*
    /usr/lib*/libnssutil3.so* /lib*/libsoftokn3.so*
    /usr/lib*/libsoftokn3.so* /lib*/libsqlite3.so*
    /usr/lib*/libsqlite3.so* /lib*/libfreeblpriv3.so*
    /usr/lib*/libfreeblpriv3.so* /lib*/libssl.so*
    /usr/lib*/libssl.so* /lib*/libnssdbm3.so*
    /usr/lib*/libnssdbm3.so*)<br />
    ++ MODULES=(${MODULES[@]:-} vfat nls_iso8859_1 nls_utf8
    nls_cp437 af_packet unix nfs nfsv4 nfsv3 lockd sunrpc cifs usbcore
    usb_storage usbhid sr_mod ide_cd cdrom uhci_hcd ehci_hcd
    xhci_hcd ohci_hcd zlib zlib-inflate zlib-deflate libcrc32c crc32c
    crc32c-intel)<br />
    ++ COPY_AS_IS=(${COPY_AS_IS[@]:-} /dev /etc/inputr[c]
    /etc/protocols /etc/services /etc/rpc /etc/termcap /etc/terminfo
    /lib*/terminfo /usr/share/terminfo /etc/netconfig /etc/mke2fs.conf
    /etc/<em>-release /etc/localtime /etc/magic /usr/share/misc/magic
    /etc/dracut.conf /etc/dracut.conf.d /usr/lib/dracut
    /sbin/modprobe.ksplice-orig /etc/sysctl.conf /etc/sysctl.d
    /etc/e2fsck.conf)<br />
    ++ COPY_AS_IS=("${COPY_AS_IS[@]}" '/etc/ssl/certs/</em>'
    '/etc/pki/<em>' '/usr/lib/ssl/</em>' '/usr/share/ca-certificates/<em>'
    '/etc/ca-certificates/</em>')<br />
    ++ COPY_AS_IS_EXCLUDE=(${COPY_AS_IS_EXCLUDE[@]:-}
    dev/shm/*)<br />
    ++ COPY_AS_IS_EXCLUDE=("${COPY_AS_IS_EXCLUDE[@]}"
    '/etc/pki/tls/private' '/etc/pki/CA/private'
    '/etc/pki/nssdb/key*.db' '/usr/lib/ssl/private')<br />
    ++ KERNEL_CMDLINE=' selinux=0'<br />
    ++ CLONE_USERS=("${CLONE_USERS[@]:-}" daemon rpc usbmuxd usbmux
    vcsa nobody dbus)<br />
    ++ CLONE_GROUPS=("${CLONE_GROUPS[@]:-}" tty usbmuxd usbmux fuse
    kvm oinstall dbus)</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:00.866052417 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:00.866052417 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:00.866052417 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:00.868108887 Including conf/SUSE_LINUX.conf<br />
    2019-01-22 06:29:00.869305604 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /usr/share/rear/conf/SUSE_LINUX.conf<br />
    ++ COPY_AS_IS=("${COPY_AS_IS[@]}"
    /etc/sysconfig/network/config
    /etc/sysconfig/network/scripts/functions)</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:00.874792185 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:00.874792185 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:00.874792185 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:00.879437191 Including /etc/rear/local.conf<br />
    2019-01-22 06:29:00.880548745 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /etc/rear/local.conf<br />
    ++ AUTOEXCLUDE_MULTIPATH=n<br />
    ++ BOOT_OVER_SAN=y<br />
    ++ REAR_INITRD_COMPRESSION=lzma<br />
    ++ OUTPUT=ISO<br />
    ++ ISO_MAX_SIZE=4000<br />
    ++ BACKUP=NETFS<br />
    ++ BACKUP_URL=iso:///iso_fs/REAR_BACKUP<br />
    ++ ISO_DIR=/iso_fs/REAR_ISO<br />
    ++ TMPDIR=/iso_fs/REAR_TEMP<br />
    ++ OUTPUT_URL=null<br />
    ++ BOOT_FROM_SAN=y<br />
    ++ EXCLUDE_MOUNTPOINTS=(/iso_fs /opt/IBM/ITM /cv
    /opt/splunkforwarder /opt/teamquest /var/opt/BESClient /usr/sap
    /hana/data /hana/log /hana/shared /usr/sap/basis /usr/sap/srm
    /PA_backup)<br />
    ++ EXCLUDE_COMPONENTS=(/dev/mapper/200173800348802ba
    /dev/mapper/200173800348802bb /dev/mapper/200173800348802bc
    /dev/mapper/200173800348802bd /dev/mapper/200173800348802be
    /dev/mapper/200173800348802bf /dev/mapper/200173800348802c0
    /dev/mapper/200173800348802c1 /dev/mapper/200173800348802c2
    /dev/mapper/200173800348802c3 /dev/mapper/200173800348802c4
    /dev/mapper/200173800348802c5)</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:00.885043567 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:00.885043567 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:00.885043567 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:00.889299429 Including /etc/rear/rescue.conf<br />
    2019-01-22 06:29:00.890593853 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /etc/rear/rescue.conf<br />
    ++ SHARE_DIR=/usr/share/rear<br />
    ++ CONFIG_DIR=/etc/rear<br />
    ++ VAR_DIR=/var/lib/rear<br />
    ++ LOG_DIR=/var/log/rear<br />
    ++ BACKUP_PROG_OPTIONS=(--anchored --xattrs
    --xattrs-include=security.capability
    --xattrs-include=security.selinux --acls)<br />
    ++ NETFS_KEEP_OLD_BACKUP_COPY=<br />
    ++ NETFS_PREFIX=eniesdbp104p<br />
    ++ NETFS_RESTORE_CAPABILITIES=([0]="No")<br />
    ++ unset TMPDIR</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:00.894968955 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:00.894968955 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:00.894968955 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:00.898620935 ======================<br />
    2019-01-22 06:29:00.899618142 Running 'init' stage<br />
    2019-01-22 06:29:00.900684054 ======================<br />
    2019-01-22 06:29:00.907303505 Including
    init/default/005_verify_os_conf.sh<br />
    2019-01-22 06:29:00.908463468 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /usr/share/rear/init/default/005_verify_os_conf.sh<br />
    ++ [[ ! -f /etc/rear/os.conf ]]</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:00.912613019 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:00.912613019 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:00.912613019 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:00.916981871 Including
    init/default/010_set_drlm_env.sh<br />
    2019-01-22 06:29:00.918103758 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /usr/share/rear/init/default/010_set_drlm_env.sh<br />
    ++ is_true n<br />
    ++ case "$1" in<br />
    ++ return 1<br />
    ++ return 0</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:00.923246239 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:00.923246239 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:00.923246239 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:00.927440114 Including
    init/default/030_update_recovery_system.sh<br />
    2019-01-22 06:29:00.928530927 Entering debugscripts mode via 'set
    -x'.</li>
<li>source
    /usr/share/rear/init/default/030_update_recovery_system.sh<br />
    ++ test ''<br />
    ++ return 0</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:00.932676242 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:00.932676242 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:00.932676242 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:00.937227943 Including
    init/default/050_check_rear_recover_mode.sh<br />
    2019-01-22 06:29:00.938275187 Entering debugscripts mode via 'set
    -x'.</li>
<li>source
    /usr/share/rear/init/default/050_check_rear_recover_mode.sh<br />
    ++ test -f /etc/rear-release<br />
    ++ case "$WORKFLOW" in<br />
    ++ LogPrint 'Running workflow recover within the ReaR
    rescue/recovery system'<br />
    ++ Log 'Running workflow recover within the ReaR rescue/recovery
    system'<br />
    +++ date '+%Y-%m-%d %H:%M:%S.%N '<br />
    ++ local 'timestamp=2019-01-22 06:29:00.942418241 '<br />
    ++ test 1 -gt 0<br />
    ++ echo '2019-01-22 06:29:00.942418241 Running workflow recover
    within the ReaR rescue/recovery system'<br />
    2019-01-22 06:29:00.942418241 Running workflow recover within the
    ReaR rescue/recovery system<br />
    ++ Print 'Running workflow recover within the ReaR rescue/recovery
    system'<br />
    ++ test 1<br />
    ++ echo -e 'Running workflow recover within the ReaR rescue/recovery
    system'</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:00.943881554 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:00.943881554 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:00.943881554 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:00.948368214 Including
    init/default/950_check_missing_programs.sh<br />
    2019-01-22 06:29:00.949468073 Entering debugscripts mode via 'set
    -x'.</li>
<li>source
    /usr/share/rear/init/default/950_check_missing_programs.sh<br />
    ++ missing_progs=('')<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary /bin/rear<br />
    ++ for bin in '$@'<br />
    ++ type /bin/rear<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary awk<br />
    ++ for bin in '$@'<br />
    ++ type awk<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary bash<br />
    ++ for bin in '$@'<br />
    ++ type bash<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary bc<br />
    ++ for bin in '$@'<br />
    ++ type bc<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary cat<br />
    ++ for bin in '$@'<br />
    ++ type cat<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary cmp<br />
    ++ for bin in '$@'<br />
    ++ type cmp<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary cp<br />
    ++ for bin in '$@'<br />
    ++ type cp<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary cpio<br />
    ++ for bin in '$@'<br />
    ++ type cpio<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary cut<br />
    ++ for bin in '$@'<br />
    ++ type cut<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary dd<br />
    ++ for bin in '$@'<br />
    ++ type dd<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary diff<br />
    ++ for bin in '$@'<br />
    ++ type diff<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary df<br />
    ++ for bin in '$@'<br />
    ++ type df<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary dumpkeys<br />
    ++ for bin in '$@'<br />
    ++ type dumpkeys<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary echo<br />
    ++ for bin in '$@'<br />
    ++ type echo<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary expr<br />
    ++ for bin in '$@'<br />
    ++ type expr<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary file<br />
    ++ for bin in '$@'<br />
    ++ type file<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary getopt<br />
    ++ for bin in '$@'<br />
    ++ type getopt<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary grep<br />
    ++ for bin in '$@'<br />
    ++ type grep<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary join<br />
    ++ for bin in '$@'<br />
    ++ type join<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary kbd_mode<br />
    ++ for bin in '$@'<br />
    ++ type kbd_mode<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary loadkeys<br />
    ++ for bin in '$@'<br />
    ++ type loadkeys<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary ls<br />
    ++ for bin in '$@'<br />
    ++ type ls<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary mkdir<br />
    ++ for bin in '$@'<br />
    ++ type mkdir<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary mount<br />
    ++ for bin in '$@'<br />
    ++ type mount<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary mv<br />
    ++ for bin in '$@'<br />
    ++ type mv<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary pidof<br />
    ++ for bin in '$@'<br />
    ++ type pidof<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary ps<br />
    ++ for bin in '$@'<br />
    ++ type ps<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary pwd<br />
    ++ for bin in '$@'<br />
    ++ type pwd<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary rm<br />
    ++ for bin in '$@'<br />
    ++ type rm<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary sed<br />
    ++ for bin in '$@'<br />
    ++ type sed<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary sort<br />
    ++ for bin in '$@'<br />
    ++ type sort<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary strings<br />
    ++ for bin in '$@'<br />
    ++ type strings<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary sync<br />
    ++ for bin in '$@'<br />
    ++ type sync<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary tar<br />
    ++ for bin in '$@'<br />
    ++ type tar<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary test<br />
    ++ for bin in '$@'<br />
    ++ type test<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary tr<br />
    ++ for bin in '$@'<br />
    ++ type tr<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary umount<br />
    ++ for bin in '$@'<br />
    ++ type umount<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary uniq<br />
    ++ for bin in '$@'<br />
    ++ type uniq<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary wc<br />
    ++ for bin in '$@'<br />
    ++ type wc<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary sfdisk<br />
    ++ for bin in '$@'<br />
    ++ type sfdisk<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary chroot<br />
    ++ for bin in '$@'<br />
    ++ type chroot<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary ip<br />
    ++ for bin in '$@'<br />
    ++ type ip<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary less<br />
    ++ for bin in '$@'<br />
    ++ type less<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary parted<br />
    ++ for bin in '$@'<br />
    ++ type parted<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary route<br />
    ++ for bin in '$@'<br />
    ++ type route<br />
    ++ return 0<br />
    ++ for prog in '"${REQUIRED_PROGS[@]}"'<br />
    ++ has_binary readlink<br />
    ++ for bin in '$@'<br />
    ++ type readlink<br />
    ++ return 0<br />
    ++ contains_visible_char ''<br />
    +++ tr -d -c '[:graph:]'<br />
    ++ test ''</li>
<li>source_return_code=1</li>
<li>test 0 -eq 1</li>
<li>Debug 'Source function: '''source
    /usr/share/rear/init/default/950_check_missing_programs.sh'''
    returns 1'</li>
<li>test 1</li>
<li>Log 'Source function: '''source
    /usr/share/rear/init/default/950_check_missing_programs.sh'''
    returns 1'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:00.959127844 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:00.959127844 Source function: '''source
    /usr/share/rear/init/default/950_check_missing_programs.sh'''
    returns 1'<br />
    2019-01-22 06:29:00.959127844 Source function: 'source
    /usr/share/rear/init/default/950_check_missing_programs.sh'
    returns 1</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:00.960282421 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:00.960282421 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:00.960282421 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:00.962259470 Finished running 'init' stage in 0
    seconds<br />
    2019-01-22 06:29:00.967082899 Using build area
    '/tmp/rear.U4Lsmb4pp4DEyYu'<br />
    mkdir: created directory '/tmp/rear.U4Lsmb4pp4DEyYu/rootfs'<br />
    mkdir: created directory '/tmp/rear.U4Lsmb4pp4DEyYu/tmp'<br />
    2019-01-22 06:29:00.970448787 Running recover workflow<br />
    2019-01-22 06:29:00.971677021 ======================<br />
    2019-01-22 06:29:00.972615488 Running 'setup' stage<br />
    2019-01-22 06:29:00.973661994 ======================<br />
    2019-01-22 06:29:00.980233933 Including
    setup/default/005_ssh_agent_start.sh<br />
    2019-01-22 06:29:00.981282103 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /usr/share/rear/setup/default/005_ssh_agent_start.sh<br />
    ++ has_binary ssh-agent<br />
    ++ for bin in '$@'<br />
    ++ type ssh-agent<br />
    ++ return 0<br />
    ++ has_binary ssh<br />
    ++ for bin in '$@'<br />
    ++ type ssh<br />
    ++ return 0<br />
    +++ type -P ssh<br />
    ++ grep -iq AddKeysToAgent /sbin/ssh<br />
    ++ Log 'Starting up ssh-agent'<br />
    +++ date '+%Y-%m-%d %H:%M:%S.%N '<br />
    ++ local 'timestamp=2019-01-22 06:29:00.988634630 '<br />
    ++ test 1 -gt 0<br />
    ++ echo '2019-01-22 06:29:00.988634630 Starting up ssh-agent'<br />
    2019-01-22 06:29:00.988634630 Starting up ssh-agent<br />
    ++ AddExitTask 'ssh-agent -k &gt;/dev/null'<br />
    ++ EXIT_TASKS=("$*" "${EXIT_TASKS[@]}")<br />
    ++ Debug 'Added '''ssh-agent -k &gt;/dev/null''' as an exit task'<br />
    ++ test 1<br />
    ++ Log 'Added '''ssh-agent -k &gt;/dev/null''' as an exit task'<br />
    +++ date '+%Y-%m-%d %H:%M:%S.%N '<br />
    ++ local 'timestamp=2019-01-22 06:29:00.990209783 '<br />
    ++ test 1 -gt 0<br />
    ++ echo '2019-01-22 06:29:00.990209783 Added '''ssh-agent
    -k &gt;/dev/null''' as an exit task'<br />
    2019-01-22 06:29:00.990209783 Added 'ssh-agent -k &gt;/dev/null' as
    an exit task<br />
    +++ ssh-agent -s<br />
    ++ eval 'SSH_AUTH_SOCK=/tmp/ssh-KdbYToEibAhs/agent.25238; export
    SSH_AUTH_SOCK;<br />
    SSH_AGENT_PID=25239; export SSH_AGENT_PID;<br />
    echo Agent pid 25239;'<br />
    +++ SSH_AUTH_SOCK=/tmp/ssh-KdbYToEibAhs/agent.25238<br />
    +++ export SSH_AUTH_SOCK<br />
    +++ SSH_AGENT_PID=25239<br />
    +++ export SSH_AGENT_PID<br />
    +++ echo Agent pid 25239<br />
    Agent pid 25239<br />
    ++ echo -e '\nHost *\nAddKeysToAgent yes\n'</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:00.994568959 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:00.994568959 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:00.994568959 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:00.999096152 Including
    setup/default/010_pre_recovery_script.sh<br />
    2019-01-22 06:29:01.000373915 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /usr/share/rear/setup/default/010_pre_recovery_script.sh<br />
    ++ test ''</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:01.004634810 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:01.004634810 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:01.004634810 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:01.006751702 Finished running 'setup' stage in 1
    seconds<br />
    2019-01-22 06:29:01.008388935 ======================<br />
    2019-01-22 06:29:01.009570271 Running 'verify' stage<br />
    2019-01-22 06:29:01.010687680 ======================<br />
    2019-01-22 06:29:01.017697516 Including
    verify/default/020_cciss_scsi_engage.sh<br />
    2019-01-22 06:29:01.018774559 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /usr/share/rear/verify/default/020_cciss_scsi_engage.sh<br />
    ++ grep -q '^cciss ' /proc/modules<br />
    ++ return</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:01.023797872 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:01.023797872 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:01.023797872 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:01.028789165 Including
    verify/default/020_translate_url.sh<br />
    2019-01-22 06:29:01.030347510 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /usr/share/rear/verify/default/020_translate_url.sh<br />
    ++ [[ -n '' ]]<br />
    ++ [[ -n '' ]]<br />
    ++ [[ -n '' ]]<br />
    ++ [[ -n '' ]]<br />
    ++ [[ -n '' ]]<br />
    ++ [[ -n '' ]]<br />
    ++ [[ -n '' ]]<br />
    ++ [[ -n '' ]]<br />
    ++ [[ -n '' ]]<br />
    ++ [[ -n '' ]]<br />
    ++ [[ -z '' ]]<br />
    ++ [[ -z null ]]<br />
    ++ [[ -z null ]]<br />
    ++ [[ -z '' ]]<br />
    ++ [[ -z null ]]<br />
    ++ [[ -z '' ]]<br />
    ++ [[ -z null ]]</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:01.035003881 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:01.035003881 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:01.035003881 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:01.039580311 Including
    verify/default/030_translate_tape.sh<br />
    2019-01-22 06:29:01.040706257 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /usr/share/rear/verify/default/030_translate_tape.sh<br />
    ++ [[ -n iso:///iso_fs/REAR_BACKUP ]]<br />
    +++ url_scheme iso:///iso_fs/REAR_BACKUP<br />
    +++ local url=iso:///iso_fs/REAR_BACKUP<br />
    +++ local scheme=iso<br />
    +++ echo iso<br />
    +++ grep -q :<br />
    +++ echo iso<br />
    ++ backup_scheme=iso<br />
    ++ [[ iso == tape ]]<br />
    ++ [[ iso == obdr ]]<br />
    ++ [[ -z iso:///iso_fs/REAR_BACKUP ]]<br />
    ++ [[ -z null ]]<br />
    ++ [[ -n '' ]]</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:01.047018075 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:01.047018075 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:01.047018075 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:01.052010584 Including
    verify/default/040_validate_variables.sh<br />
    2019-01-22 06:29:01.053189067 Entering debugscripts mode via 'set
    -x'.</li>
<li>source /usr/share/rear/verify/default/040_validate_variables.sh<br />
    ++ is_positive_integer 30<br />
    ++ local argument=30<br />
    ++ test 30 -gt 0<br />
    ++ echo 30<br />
    ++ return 0</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:01.058221096 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:01.058221096 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:01.058221096 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:01.062525909 Including
    verify/NETFS/default/050_check_NETFS_requirements.sh<br />
    2019-01-22 06:29:01.063722618 Entering debugscripts mode via 'set
    -x'.</li>
<li>source
    /usr/share/rear/verify/NETFS/default/050_check_NETFS_requirements.sh<br />
    ++ [[ -n iso:///iso_fs/REAR_BACKUP ]]<br />
    ++ StopIfError 'You must specify either BACKUP_URL or
    BACKUP_MOUNTCMD and BACKUP_UMOUNTCMD !'<br />
    ++ (( 0 != 0 ))<br />
    ++ [[ -n iso:///iso_fs/REAR_BACKUP ]]<br />
    +++ url_scheme iso:///iso_fs/REAR_BACKUP<br />
    +++ local url=iso:///iso_fs/REAR_BACKUP<br />
    +++ local scheme=iso<br />
    +++ echo iso<br />
    +++ grep -q :<br />
    +++ echo iso<br />
    ++ local scheme=iso<br />
    +++ url_hostname iso:///iso_fs/REAR_BACKUP<br />
    +++ local url=iso:///iso_fs/REAR_BACKUP<br />
    +++ local url_without_scheme=/iso_fs/REAR_BACKUP<br />
    +++ local authority_part=<br />
    +++ local host_and_port=<br />
    +++ echo<br />
    ++ local hostname=<br />
    +++ url_path iso:///iso_fs/REAR_BACKUP<br />
    +++ local url=iso:///iso_fs/REAR_BACKUP<br />
    +++ local url_without_scheme=/iso_fs/REAR_BACKUP<br />
    +++ echo /iso_fs/REAR_BACKUP<br />
    ++ local path=/iso_fs/REAR_BACKUP<br />
    ++ case $scheme in<br />
    ++ :<br />
    ++ [[ usb = \i\s\o ]]<br />
    ++ [[ -n '' ]]<br />
    ++ Log 'Skipping '''ping''' test for host '''''' in BACKUP_URL
    '''iso:///iso_fs/REAR_BACKUP''''<br />
    +++ date '+%Y-%m-%d %H:%M:%S.%N '<br />
    ++ local 'timestamp=2019-01-22 06:29:01.071966422 '<br />
    ++ test 1 -gt 0<br />
    ++ echo '2019-01-22 06:29:01.071966422 Skipping '''ping''' test for
    host '''''' in BACKUP_URL '''iso:///iso_fs/REAR_BACKUP''''<br />
    2019-01-22 06:29:01.071966422 Skipping 'ping' test for host '' in
    BACKUP_URL 'iso:///iso_fs/REAR_BACKUP'<br />
    ++ case "$(basename $BACKUP_PROG)" in<br />
    +++ basename tar<br />
    ++ :<br />
    ++ PROGS=("${PROGS[@]}" showmount mount.$(url_scheme
    $BACKUP_URL) umount.$(url_scheme $BACKUP_URL) $( test
    "$BACKUP_MOUNTCMD" &amp;&amp; echo "${BACKUP_MOUNTCMD%% *}" ) $( test
    "$BACKUP_UMOUNTCMD" &amp;&amp; echo "${BACKUP_UMOUNTCMD%% *}" )
    $BACKUP_PROG gzip bzip2 xz)<br />
    +++ url_scheme iso:///iso_fs/REAR_BACKUP<br />
    +++ local url=iso:///iso_fs/REAR_BACKUP<br />
    +++ local scheme=iso<br />
    +++ echo iso<br />
    +++ grep -q :<br />
    +++ echo iso<br />
    +++ url_scheme iso:///iso_fs/REAR_BACKUP<br />
    +++ local url=iso:///iso_fs/REAR_BACKUP<br />
    +++ local scheme=iso<br />
    +++ echo iso<br />
    +++ grep -q :<br />
    +++ echo iso<br />
    +++ test ''<br />
    +++ test ''<br />
    ++ [[ sshfs = \i\s\o ]]<br />
    ++ [[ ftpfs = \i\s\o ]]<br />
    ++ MODULES=("${MODULES[@]}" $(url_scheme $BACKUP_URL))<br />
    +++ url_scheme iso:///iso_fs/REAR_BACKUP<br />
    +++ local url=iso:///iso_fs/REAR_BACKUP<br />
    +++ local scheme=iso<br />
    +++ echo iso<br />
    +++ grep -q :<br />
    +++ echo iso</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:01.083659470 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:01.083659470 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:01.083659470 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:01.088560198 Including
    verify/default/050_create_mappings_dir.sh<br />
    2019-01-22 06:29:01.089786618 Entering debugscripts mode via 'set
    -x'.</li>
<li>source
    /usr/share/rear/verify/default/050_create_mappings_dir.sh<br />
    ++ [[ ! -d /etc/rear/mappings ]]</li>
<li>source_return_code=1</li>
<li>test 0 -eq 1</li>
<li>Debug 'Source function: '''source
    /usr/share/rear/verify/default/050_create_mappings_dir.sh'''
    returns 1'</li>
<li>test 1</li>
<li>Log 'Source function: '''source
    /usr/share/rear/verify/default/050_create_mappings_dir.sh'''
    returns 1'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:01.094238350 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:01.094238350 Source function: '''source
    /usr/share/rear/verify/default/050_create_mappings_dir.sh'''
    returns 1'<br />
    2019-01-22 06:29:01.094238350 Source function: 'source
    /usr/share/rear/verify/default/050_create_mappings_dir.sh'
    returns 1</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:01.095960909 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:01.095960909 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:01.095960909 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:01.101356134 Including
    verify/GNU/Linux/050_sane_recovery_check.sh<br />
    2019-01-22 06:29:01.103001570 Entering debugscripts mode via 'set
    -x'.</li>
<li>source
    /usr/share/rear/verify/GNU/Linux/050_sane_recovery_check.sh<br />
    ++ '[' -s /etc/scripts/system-setup ']'<br />
    ++ StopIfError 'This it not a Relax-and-Recover rescue system.'<br />
    ++ (( 0 != 0 ))</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:01.108915232 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:01.108915232 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:01.108915232 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:01.113623039 Including
    verify/NETFS/default/050_start_required_nfs_daemons.sh<br />
    2019-01-22 06:29:01.114708602 Entering debugscripts mode via 'set
    -x'.</li>
<li>source
    /usr/share/rear/verify/NETFS/default/050_start_required_nfs_daemons.sh<br />
    +++ url_scheme iso:///iso_fs/REAR_BACKUP<br />
    +++ local url=iso:///iso_fs/REAR_BACKUP<br />
    +++ local scheme=iso<br />
    +++ echo iso<br />
    +++ grep -q :<br />
    +++ echo iso<br />
    ++ local backup_url_scheme=iso<br />
    ++ test nfs = iso<br />
    ++ return 0</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:01.121223839 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:01.121223839 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:01.121223839 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:01.126842747 Including
    verify/NETFS/default/060_mount_NETFS_path.sh<br />
    2019-01-22 06:29:01.128495349 Entering debugscripts mode via 'set
    -x'.</li>
<li>source
    /usr/share/rear/verify/NETFS/default/060_mount_NETFS_path.sh<br />
    ++ mkdir -p -v /tmp/rear.U4Lsmb4pp4DEyYu/outputfs<br />
    mkdir: created directory '/tmp/rear.U4Lsmb4pp4DEyYu/outputfs'<br />
    ++ StopIfError 'Could not mkdir
    '''/tmp/rear.U4Lsmb4pp4DEyYu/outputfs''''<br />
    ++ (( 0 != 0 ))<br />
    ++ AddExitTask 'rmdir -v
    /tmp/rear.U4Lsmb4pp4DEyYu/outputfs &gt;&amp;2'<br />
    ++ EXIT_TASKS=("$<em>" "${EXIT_TASKS[@]}")<br />
    ++ Debug 'Added '''rmdir -v
    /tmp/rear.U4Lsmb4pp4DEyYu/outputfs &gt;&amp;2''' as an exit task'<br />
    ++ test 1<br />
    ++ Log 'Added '''rmdir -v
    /tmp/rear.U4Lsmb4pp4DEyYu/outputfs &gt;&amp;2''' as an exit task'<br />
    +++ date '+%Y-%m-%d %H:%M:%S.%N '<br />
    ++ local 'timestamp=2019-01-22 06:29:01.134124305 '<br />
    ++ test 1 -gt 0<br />
    ++ echo '2019-01-22 06:29:01.134124305 Added '''rmdir -v
    /tmp/rear.U4Lsmb4pp4DEyYu/outputfs &gt;&amp;2''' as an exit task'<br />
    2019-01-22 06:29:01.134124305 Added 'rmdir -v
    /tmp/rear.U4Lsmb4pp4DEyYu/outputfs &gt;&amp;2' as an exit task<br />
    ++ [[ -n '' ]]<br />
    ++ mount_url iso:///iso_fs/REAR_BACKUP
    /tmp/rear.U4Lsmb4pp4DEyYu/outputfs<br />
    ++ local url=iso:///iso_fs/REAR_BACKUP<br />
    ++ local mountpoint=/tmp/rear.U4Lsmb4pp4DEyYu/outputfs<br />
    ++ local defaultoptions=rw,noatime<br />
    ++ local options=rw,noatime<br />
    ++ local mount_cmd<br />
    ++ case $(url_scheme $url) in<br />
    +++ url_scheme iso:///iso_fs/REAR_BACKUP<br />
    +++ local url=iso:///iso_fs/REAR_BACKUP<br />
    +++ local scheme=iso<br />
    +++ echo iso<br />
    +++ grep -q :<br />
    +++ echo iso<br />
    ++ test recover = recover<br />
    +++ blkid -l -o device -t LABEL=RELAXRECOVER<br />
    ++ local relaxrecover_block_device=/dev/sr0<br />
    ++ local
    relaxrecover_symlink_name=/dev/disk/by-label/RELAXRECOVER<br />
    +++ readlink --verbose -e /dev/disk/by-label/RELAXRECOVER<br />
    readlink: /dev/disk/by-label/RELAXRECOVER: No such file or
    directory<br />
    ++ local relaxrecover_symlink_target=<br />
    ++ test /dev/sr0 -a '' -a '' = /dev/sr0<br />
    ++ Log 'Symlink '''/dev/disk/by-label/RELAXRECOVER''' does not exist
    or does not point to a block device with '''RELAXRECOVER'''
    filesystem label'<br />
    +++ date '+%Y-%m-%d %H:%M:%S.%N '<br />
    ++ local 'timestamp=2019-01-22 06:29:01.246007452 '<br />
    ++ test 1 -gt 0<br />
    ++ echo '2019-01-22 06:29:01.246007452 Symlink
    '''/dev/disk/by-label/RELAXRECOVER''' does not exist or does not
    point to a block device with '''RELAXRECOVER''' filesystem label'<br />
    2019-01-22 06:29:01.246007452 Symlink
    '/dev/disk/by-label/RELAXRECOVER' does not exist or does not point
    to a block device with 'RELAXRECOVER' filesystem label<br />
    ++ mkdir --verbose -p /dev/disk/by-label<br />
    mkdir: created directory '/dev/disk/by-label'<br />
    ++ test -b /dev/sr0<br />
    ++ Log 'Making symlink '''/dev/disk/by-label/RELAXRECOVER''' point
    to '''/dev/sr0''' because it has filesystem label
    '''RELAXRECOVER''''<br />
    +++ date '+%Y-%m-%d %H:%M:%S.%N '<br />
    ++ local 'timestamp=2019-01-22 06:29:01.248549903 '<br />
    ++ test 1 -gt 0<br />
    ++ echo '2019-01-22 06:29:01.248549903 Making symlink
    '''/dev/disk/by-label/RELAXRECOVER''' point to '''/dev/sr0'''
    because it has filesystem label '''RELAXRECOVER''''<br />
    2019-01-22 06:29:01.248549903 Making symlink
    '/dev/disk/by-label/RELAXRECOVER' point to '/dev/sr0' because it has
    filesystem label 'RELAXRECOVER'<br />
    ++ ln --verbose -sf /dev/sr0 /dev/disk/by-label/RELAXRECOVER<br />
    '/dev/disk/by-label/RELAXRECOVER' -&gt; '/dev/sr0'<br />
    ++ test -e /dev/disk/by-label/RELAXRECOVER<br />
    ++ mount_cmd='mount /dev/disk/by-label/RELAXRECOVER
    /tmp/rear.U4Lsmb4pp4DEyYu/outputfs'<br />
    ++ Log 'Mounting with '''mount /dev/disk/by-label/RELAXRECOVER
    /tmp/rear.U4Lsmb4pp4DEyYu/outputfs''''<br />
    +++ date '+%Y-%m-%d %H:%M:%S.%N '<br />
    ++ local 'timestamp=2019-01-22 06:29:01.251314878 '<br />
    ++ test 1 -gt 0<br />
    ++ echo '2019-01-22 06:29:01.251314878 Mounting with '''mount
    /dev/disk/by-label/RELAXRECOVER
    /tmp/rear.U4Lsmb4pp4DEyYu/outputfs''''<br />
    2019-01-22 06:29:01.251314878 Mounting with 'mount
    /dev/disk/by-label/RELAXRECOVER
    /tmp/rear.U4Lsmb4pp4DEyYu/outputfs'<br />
    ++ eval mount /dev/disk/by-label/RELAXRECOVER
    /tmp/rear.U4Lsmb4pp4DEyYu/outputfs<br />
    +++ mount /dev/disk/by-label/RELAXRECOVER
    /tmp/rear.U4Lsmb4pp4DEyYu/outputfs<br />
    mount: /dev/sr0 is write-protected, mounting read-only<br />
    ++ AddExitTask 'umount -f -v
    '''/tmp/rear.U4Lsmb4pp4DEyYu/outputfs''' &gt;&amp;2'<br />
    ++ EXIT_TASKS=("$</em>" "${EXIT_TASKS[@]}")<br />
    ++ Debug 'Added '''umount -f -v
    '''/tmp/rear.U4Lsmb4pp4DEyYu/outputfs''' &gt;&amp;2''' as an exit
    task'<br />
    ++ test 1<br />
    ++ Log 'Added '''umount -f -v
    '''/tmp/rear.U4Lsmb4pp4DEyYu/outputfs''' &gt;&amp;2''' as an exit
    task'<br />
    +++ date '+%Y-%m-%d %H:%M:%S.%N '<br />
    ++ local 'timestamp=2019-01-22 06:29:01.274404951 '<br />
    ++ test 1 -gt 0<br />
    ++ echo '2019-01-22 06:29:01.274404951 Added '''umount -f -v
    '''/tmp/rear.U4Lsmb4pp4DEyYu/outputfs''' &gt;&amp;2''' as an exit
    task'<br />
    2019-01-22 06:29:01.274404951 Added 'umount -f -v
    '/tmp/rear.U4Lsmb4pp4DEyYu/outputfs' &gt;&amp;2' as an exit task<br />
    ++ return 0</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:01.275950230 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:01.275950230 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:01.275950230 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:01.280754977 Including
    verify/NETFS/default/070_set_backup_archive.sh<br />
    2019-01-22 06:29:01.282023305 Entering debugscripts mode via 'set
    -x'.</li>
<li>source
    /usr/share/rear/verify/NETFS/default/070_set_backup_archive.sh<br />
    ++ test ''<br />
    ++ local backup_file_suffix=.tar.gz<br />
    ++ local backup_file_name=backup.tar.gz<br />
    +++ url_scheme iso:///iso_fs/REAR_BACKUP<br />
    +++ local url=iso:///iso_fs/REAR_BACKUP<br />
    +++ local scheme=iso<br />
    +++ echo iso<br />
    +++ grep -q :<br />
    +++ echo iso<br />
    ++ local scheme=iso<br />
    +++ url_path iso:///iso_fs/REAR_BACKUP<br />
    +++ local url=iso:///iso_fs/REAR_BACKUP<br />
    +++ local url_without_scheme=/iso_fs/REAR_BACKUP<br />
    +++ echo /iso_fs/REAR_BACKUP<br />
    ++ local path=/iso_fs/REAR_BACKUP<br />
    ++ case "$scheme" in<br />
    +++ backup_path iso /iso_fs/REAR_BACKUP<br />
    +++ local scheme=iso<br />
    +++ local path=/iso_fs/REAR_BACKUP<br />
    +++ case $scheme in<br />
    +++ [[ recover = \r\e\c\o\v\e\r ]]<br />
    +++ path=/tmp/rear.U4Lsmb4pp4DEyYu/outputfs/iso_fs/REAR_BACKUP<br />
    +++ echo /tmp/rear.U4Lsmb4pp4DEyYu/outputfs/iso_fs/REAR_BACKUP<br />
    ++ local
    outputpath=/tmp/rear.U4Lsmb4pp4DEyYu/outputfs/iso_fs/REAR_BACKUP<br />
    ++
    backuparchive=/tmp/rear.U4Lsmb4pp4DEyYu/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz<br />
    ++ LogPrint 'Using backup archive
    '''/tmp/rear.U4Lsmb4pp4DEyYu/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz''''<br />
    ++ Log 'Using backup archive
    '''/tmp/rear.U4Lsmb4pp4DEyYu/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz''''<br />
    +++ date '+%Y-%m-%d %H:%M:%S.%N '<br />
    ++ local 'timestamp=2019-01-22 06:29:01.290993322 '<br />
    ++ test 1 -gt 0<br />
    ++ echo '2019-01-22 06:29:01.290993322 Using backup archive
    '''/tmp/rear.U4Lsmb4pp4DEyYu/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz''''<br />
    2019-01-22 06:29:01.290993322 Using backup archive
    '/tmp/rear.U4Lsmb4pp4DEyYu/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz'<br />
    ++ Print 'Using backup archive
    '''/tmp/rear.U4Lsmb4pp4DEyYu/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz''''<br />
    ++ test 1<br />
    ++ echo -e 'Using backup archive
    '''/tmp/rear.U4Lsmb4pp4DEyYu/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz''''<br />
    ++ return</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:01.292502181 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:01.292502181 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:01.292502181 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:01.297016379 Including
    verify/NETFS/default/090_set_readonly_options.sh<br />
    2019-01-22 06:29:01.298107632 Entering debugscripts mode via 'set
    -x'.</li>
<li>source
    /usr/share/rear/verify/NETFS/default/090_set_readonly_options.sh<br />
    ++ BACKUP_OPTIONS=ro</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:01.302477003 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:01.302477003 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:01.302477003 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:01.306853087 Including
    verify/GNU/Linux/230_storage_and_network_modules.sh<br />
    2019-01-22 06:29:01.307929063 Entering debugscripts mode via 'set
    -x'.</li>
<li>source
    /usr/share/rear/verify/GNU/Linux/230_storage_and_network_modules.sh<br />
    ++ Log 'Including storage drivers'<br />
    +++ date '+%Y-%m-%d %H:%M:%S.%N '<br />
    ++ local 'timestamp=2019-01-22 06:29:01.312737492 '<br />
    ++ test 1 -gt 0<br />
    ++ echo '2019-01-22 06:29:01.312737492 Including storage drivers'<br />
    2019-01-22 06:29:01.312737492 Including storage drivers<br />
    ++ STORAGE_DRIVERS=($( find_modules_in_dirs
    /lib/modules/$KERNEL_VERSION/kernel/drivers/{block,firewire,ide,ata,md,message,scsi,usb/storage}
    ))<br />
    +++ find_modules_in_dirs
    /lib/modules/4.4.162-94.72-default/kernel/drivers/block
    /lib/modules/4.4.162-94.72-default/kernel/drivers/firewire
    /lib/modules/4.4.162-94.72-default/kernel/drivers/ide
    /lib/modules/4.4.162-94.72-default/kernel/drivers/ata
    /lib/modules/4.4.162-94.72-default/kernel/drivers/md
    /lib/modules/4.4.162-94.72-default/kernel/drivers/message
    /lib/modules/4.4.162-94.72-default/kernel/drivers/scsi
    /lib/modules/4.4.162-94.72-default/kernel/drivers/usb/storage<br />
    +++ find /lib/modules/4.4.162-94.72-default/kernel/drivers/block
    /lib/modules/4.4.162-94.72-default/kernel/drivers/firewire
    /lib/modules/4.4.162-94.72-default/kernel/drivers/ide
    /lib/modules/4.4.162-94.72-default/kernel/drivers/ata
    /lib/modules/4.4.162-94.72-default/kernel/drivers/md
    /lib/modules/4.4.162-94.72-default/kernel/drivers/message
    /lib/modules/4.4.162-94.72-default/kernel/drivers/scsi
    /lib/modules/4.4.162-94.72-default/kernel/drivers/usb/storage -type
    f -name '<em>.ko</em>' -printf '%f\n'<br />
    +++ sed -e 's/^(.<em>).ko.</em>/\1/'<br />
    ++ Log 'Including network drivers'<br />
    +++ date '+%Y-%m-%d %H:%M:%S.%N '<br />
    ++ local 'timestamp=2019-01-22 06:29:01.318733109 '<br />
    ++ test 1 -gt 0<br />
    ++ echo '2019-01-22 06:29:01.318733109 Including network drivers'<br />
    2019-01-22 06:29:01.318733109 Including network drivers<br />
    ++ NETWORK_DRIVERS=($( find_modules_in_dirs
    /lib/modules/$KERNEL_VERSION/kernel/drivers/net ))<br />
    +++ find_modules_in_dirs
    /lib/modules/4.4.162-94.72-default/kernel/drivers/net<br />
    +++ find /lib/modules/4.4.162-94.72-default/kernel/drivers/net -type
    f -name '<em>.ko</em>' -printf '%f\n'<br />
    +++ sed -e 's/^(.<em>).ko.</em>/\1/'<br />
    ++ Log 'Including crypto drivers'<br />
    +++ date '+%Y-%m-%d %H:%M:%S.%N '<br />
    ++ local 'timestamp=2019-01-22 06:29:01.325980866 '<br />
    ++ test 1 -gt 0<br />
    ++ echo '2019-01-22 06:29:01.325980866 Including crypto drivers'<br />
    2019-01-22 06:29:01.325980866 Including crypto drivers<br />
    ++ CRYPTO_DRIVERS=($( find_modules_in_dirs
    /lib/modules/$KERNEL_VERSION/kernel/crypto ))<br />
    +++ find_modules_in_dirs
    /lib/modules/4.4.162-94.72-default/kernel/crypto<br />
    +++ find /lib/modules/4.4.162-94.72-default/kernel/crypto -type f
    -name '<em>.ko</em>' -printf '%f\n'<br />
    +++ sed -e 's/^(.<em>).ko.</em>/\1/'<br />
    ++ Log 'Including virtualization drivers'<br />
    +++ date '+%Y-%m-%d %H:%M:%S.%N '<br />
    ++ local 'timestamp=2019-01-22 06:29:01.330257531 '<br />
    ++ test 1 -gt 0<br />
    ++ echo '2019-01-22 06:29:01.330257531 Including virtualization
    drivers'<br />
    2019-01-22 06:29:01.330257531 Including virtualization drivers<br />
    ++ VIRTUAL_DRIVERS=($( find_modules_in_dirs
    /lib/modules/$KERNEL_VERSION/kernel/drivers/{virtio,xen} ))<br />
    +++ find_modules_in_dirs
    /lib/modules/4.4.162-94.72-default/kernel/drivers/virtio
    /lib/modules/4.4.162-94.72-default/kernel/drivers/xen<br />
    +++ find /lib/modules/4.4.162-94.72-default/kernel/drivers/virtio
    /lib/modules/4.4.162-94.72-default/kernel/drivers/xen -type f -name
    '<em>.ko</em>' -printf '%f\n'<br />
    +++ sed -e 's/^(.<em>).ko.</em>/\1/'<br />
    ++ Log 'Including additional drivers'<br />
    +++ date '+%Y-%m-%d %H:%M:%S.%N '<br />
    ++ local 'timestamp=2019-01-22 06:29:01.334448810 '<br />
    ++ test 1 -gt 0<br />
    ++ echo '2019-01-22 06:29:01.334448810 Including additional
    drivers'<br />
    2019-01-22 06:29:01.334448810 Including additional drivers<br />
    ++ EXTRA_DRIVERS=($( find_modules_in_dirs
    /lib/modules/$KERNEL_VERSION/{extra,weak-updates} ))<br />
    +++ find_modules_in_dirs /lib/modules/4.4.162-94.72-default/extra
    /lib/modules/4.4.162-94.72-default/weak-updates<br />
    +++ find /lib/modules/4.4.162-94.72-default/extra
    /lib/modules/4.4.162-94.72-default/weak-updates -type f -name
    '<em>.ko</em>' -printf '%f\n'<br />
    +++ sed -e 's/^(.<em>).ko.</em>/\1/'<br />
    ++ unset -f find_modules_in_dirs</li>
<li>source_return_code=0</li>
<li>test 0 -eq 0</li>
<li>test 1</li>
<li>Debug 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'</li>
<li>test 1</li>
<li>Log 'Leaving debugscripts mode (back to previous bash flags and
    options settings).'<br />
    ++ date '+%Y-%m-%d %H:%M:%S.%N '</li>
<li>local 'timestamp=2019-01-22 06:29:01.338525922 '</li>
<li>test 1 -gt 0</li>
<li>echo '2019-01-22 06:29:01.338525922 Leaving debugscripts mode (back
    to previous bash flags and options settings).'<br />
    2019-01-22 06:29:01.338525922 Leaving debugscripts mode (back to
    previous bash flags and options settings).<br />
    2019-01-22 06:29:01.343180784 Including
    verify/GNU/Linux/260_recovery_storage_drivers.sh<br />
    2019-01-22 06:29:01.344281530 Entering debugscripts mode via 'set
    -x'.</li>
<li>source
    /usr/share/rear/verify/GNU/Linux/260_recovery_storage_drivers.sh<br />
    ++ have_udev<br />
    ++ test -d /etc/udev/rules.d<br />
    ++ has_binary udevadm udevtrigger udevsettle udevinfo udevstart<br />
    ++ for bin in '$@'<br />
    ++ type udevadm<br />
    ++ return 0<br />
    ++ return 0<br />
    ++ FindStorageDrivers /tmp/rear.U4Lsmb4pp4DEyYu/tmp/dev<br />
    ++ test no_modules = vfat<br />
    ++ (( 145 == 0 ))<br />
    ++ grep -v -E '(loop)'<br />
    +++ lsmod<br />
    ++ read module junk<br />
    ++ sort -u<br />
    ++ IsInArray Module zram virtio_blk skd rbd pktcdvd nbd mtip32xx
    floppy loop cryptoloop brd aoe nosy firewire-sbp2 firewire-ohci
    firewire-net firewire-core sata_sx4 sata_svw sata_sil24
    sata_qstor sata_inic162x pdc_adma ata_generic libahci_platform
    ahci_platform ahci libata libahci acard-ahci md-cluster raid10
    raid1 raid0 linear faulty dm-zero dm-thin-pool dm-switch dm-snapshot
    dm-service-time dm-round-robin raid456 md-mod dm-raid
    dm-queue-length dm-region-hash dm-mirror dm-log-writes dm-log
    dm-log-userspace dm-multipath dm-least-pending dm-flakey dm-era
    dm-delay dm-crypt dm-cache-smq dm-persistent-data dm-cache
    dm-cache-cleaner dm-mod dm-bufio dm-bio-prison bcache mptscsih
    mptsas mptctl mptbase virtio_scsi sym53c8xx stex st snic sg ses
    sd_mod qla4xxx tcm_qla2xxx qla2xxx qedi qedf pmcraid pm80xx osd
    libosd mvsas raid_class mpt3sas megaraid_sas lpfc iscsi_tcp ipr
    scsi_transport_srp ibmvscsi ibmvfc esas2r scsi_dh_rdac
    scsi_dh_hp_sw scsi_dh_emc scsi_dh_alua cxlflash libiscsi_tcp
    cxgb4i libcxgbi cxgb3i csiostor ch bnx2i libfc fcoe libfcoe bnx2fc
    scsi_transport_fc bfa scsi_transport_iscsi libiscsi
    iscsi_boot_sysfs be2iscsi arcmsr scsi_transport_spi esp_scsi
    am53c974 libsas aic94xx aacraid 3w-sas scsi_transport_sas sr_mod
    scsi_mod ums-usbat ums-sddr55 ums-sddr09 ums-realtek ums-onetouch
    ums-karma ums-jumpshot ums-isd200 ums-freecom ums-eneub6250
    ums-datafab ums-cypress ums-alauda uas usb-storage<br />
    ++ local needle=Module<br />
    ++ test -z Module<br />
    ++ shift<br />
    ++ test Module == zram<br />
    ++ shift<br />
    ++ test Module == virtio_blk<br />
    ++ shift<br />
    ++ test Module == skd<br />
    ++ shift<br />
    ++ test Module == rbd<br />
    ++ shift<br />
    ++ test Module == pktcdvd<br />
    ++ shift<br />
    ++ test Module == nbd<br />
    ++ shift<br />
    ++ test Module == mtip32xx<br />
    ++ shift<br />
    ++ test Module == floppy<br />
    ++ shift<br />
    ++ test Module == loop<br />
    ++ shift<br />
    ++ test Module == cryptoloop<br />
    ++ shift<br />
    ++ test Module == brd<br />
    ++ shift<br />
    ++ test Module == aoe<br />
    ++ shift<br />
    ++ test Module == nosy<br />
    ++ shift<br />
    ++ test Module == firewire-sbp2<br />
    ++ shift<br />
    ++ test Module == firewire-ohci<br />
    ++ shift<br />
    ++ test Module == firewire-net<br />
    ++ shift<br />
    ++ test Module == firewire-core<br />
    ++ shift<br />
    ++ test Module == sata_sx4<br />
    ++ shift<br />
    ++ test Module == sata_svw<br />
    ++ shift<br />
    ++ test Module == sata_sil24<br />
    ++ shift<br />
    ++ test Module == sata_qstor<br />
    ++ shift<br />
    ++ test Module == sata_inic162x<br />
    ++ shift<br />
    ++ test Module == pdc_adma<br />
    ++ shift<br />
    ++ test Module == ata_generic<br />
    ++ shift<br />
    ++ test Module == libahci_platform<br />
    ++ shift<br />
    ++ test Module == ahci_platform<br />
    ++ shift<br />
    ++ test Module == ahci<br />
    ++ shift<br />
    ++ test Module == libata<br />
    ++ shift<br />
    ++ test Module == libahci<br />
    ++ shift<br />
    ++ test Module == acard-ahci<br />
    ++ shift<br />
    ++ test Module == md-cluster<br />
    ++ shift<br />
    ++ test Module == raid10<br />
    ++ shift<br />
    ++ test Module == raid1<br />
    ++ shift<br />
    ++ test Module == raid0<br />
    ++ shift<br />
    ++ test Module == linear<br />
    ++ shift<br />
    ++ test Module == faulty<br />
    ++ shift<br />
    ++ test Module == dm-zero<br />
    ++ shift<br />
    ++ test Module == dm-thin-pool<br />
    ++ shift<br />
    ++ test Module == dm-switch<br />
    ++ shift<br />
    ++ test Module == dm-snapshot<br />
    ++ shift<br />
    ++ test Module == dm-service-time<br />
    ++ shift<br />
    ++ test Module == dm-round-robin<br />
    ++ shift<br />
    ++ test Module == raid456<br />
    ++ shift<br />
    ++ test Module == md-mod<br />
    ++ shift<br />
    ++ test Module == dm-raid<br />
    ++ shift<br />
    ++ test Module == dm-queue-length<br />
    ++ shift<br />
    ++ test Module == dm-region-hash<br />
    ++ shift<br />
    ++ test Module == dm-mirror<br />
    ++ shift<br />
    ++ test Module == dm-log-writes<br />
    ++ shift<br />
    ++ test Module == dm-log<br />
    ++ shift<br />
    ++ test Module == dm-log-userspace<br />
    ++ shift<br />
    ++ test Module == dm-multipath<br />
    ++ shift<br />
    ++ test Module == dm-least-pending<br />
    ++ shift<br />
    ++ test Module == dm-flakey<br />
    ++ shift<br />
    ++ test Module == dm-era<br />
    ++ shift<br />
    ++ test Module == dm-delay<br />
    ++ shift<br />
    ++ test Module == dm-crypt<br />
    ++ shift<br />
    ++ test Module == dm-cache-smq<br />
    ++ shift<br />
    ++ test Module == dm-persistent-data<br />
    ++ shift<br />
    ++ test Module == dm-cache<br />
    ++ shift<br />
    ++ test Module == dm-cache-cleaner<br />
    ++ shift<br />
    ++ test Module == dm-mod<br />
    ++ shift<br />
    ++ test Module == dm-bufio<br />
    ++ shift<br />
    ++ test Module == dm-bio-prison<br />
    ++ shift<br />
    ++ test Module == bcache<br />
    ++ shift<br />
    ++ test Module == mptscsih<br />
    ++ shift<br />
    ++ test Module == mptsas<br />
    ++ shift<br />
    ++ test Module == mptctl<br />
    ++ shift<br />
    ++ test Module == mptbase<br />
    ++ shift<br />
    ++ test Module == virtio_scsi<br />
    ++ shift<br />
    ++ test Module == sym53c8xx<br />
    ++ shift<br />
    ++ test Module == stex<br />
    ++ shift<br />
    ++ test Module == st<br />
    ++ shift<br />
    ++ test Module == snic<br />
    ++ shift<br />
    ++ test Module == sg<br />
    ++ shift<br />
    ++ test Module == ses<br />
    ++ shift<br />
    ++ test Module == sd_mod<br />
    ++ shift<br />
    ++ test Module == qla4xxx<br />
    ++ shift<br />
    ++ test Module == tcm_qla2xxx<br />
    ++ shift<br />
    ++ test Module == qla2xxx<br />
    ++ shift<br />
    ++ test Module == qedi<br />
    ++ shift<br />
    ++ test Module == qedf<br />
    ++ shift<br />
    ++ test Module == pmcraid<br />
    ++ shift<br />
    ++ test Module == pm80xx<br />
    ++ shift<br />
    ++ test Module == osd<br />
    ++ shift<br />
    ++ test Module == libosd<br />
    ++ shift<br />
    ++ test Module == mvsas<br />
    ++ shift<br />
    ++ test Module == raid_class<br />
    ++ shift<br />
    ++ test Module == mpt3sas<br />
    ++ shift<br />
    ++ test Module == megaraid_sas<br />
    ++ shift<br />
    ++ test Module == lpfc<br />
    ++ shift<br />
    ++ test Module == iscsi_tcp<br />
    ++ shift<br />
    ++ test Module == ipr<br />
    ++ shift<br />
    ++ test Module == scsi_transport_srp<br />
    ++ shift<br />
    ++ test Module == ibmvscsi<br />
    ++ shift<br />
    ++ test Module == ibmvfc<br />
    ++ shift<br />
    ++ test Module == esas2r<br />
    ++ shift<br />
    ++ test Module == scsi_dh_rdac<br />
    ++ shift<br />
    ++ test Module == scsi_dh_hp_sw<br />
    ++ shift<br />
    ++ test Module == scsi_dh_emc<br />
    ++ shift<br />
    ++ test Module == scsi_dh_alua<br />
    ++ shift<br />
    ++ test Module == cxlflash<br />
    ++ shift<br />
    ++ test Module == libiscsi_tcp<br />
    ++ shift<br />
    ++ test Module == cxgb4i<br />
    ++ shift<br />
    ++ test Module == libcxgbi<br />
    ++ shift<br />
    ++ test Module == cxgb3i<br />
    ++ shift<br />
    ++ test Module == csiostor<br />
    ++ shift<br />
    ++ test Module == ch<br />
    ++ shift<br />
    ++ test Module == bnx2i<br />
    ++ shift<br />
    ++ test Module == libfc<br />
    ++ shift<br />
    ++ test Module == fcoe<br />
    ++ shift<br />
    ++ test Module == libfcoe<br />
    ++ shift<br />
    ++ test Module == bnx2fc<br />
    ++ shift<br />
    ++ test Module == scsi_transport_fc<br />
    ++ shift<br />
    ++ test Module == bfa<br />
    ++ shift<br />
    ++ test Module == scsi_transport_iscsi<br />
    ++ shift<br />
    ++ test Module == libiscsi<br />
    ++ shift<br />
    ++ test Module == iscsi_boot_sysfs<br />
    ++ shift<br />
    ++ test Module == be2iscsi<br />
    ++ shift<br />
    ++ test Module == arcmsr<br />
    ++ shift<br />
    ++ test Module == scsi_transport_spi<br />
    ++ shift<br />
    ++ test Module == esp_scsi<br />
    ++ shift<br />
    ++ test Module == am53c974<br />
    ++ shift<br />
    ++ test Module == libsas<br />
    ++ shift<br />
    ++ test Module == aic94xx<br />
    ++ shift<br />
    ++ test Module == aacraid<br />
    ++ shift<br />
    ++ test Module == 3w-sas<br />
    ++ shift<br />
    ++ test Module == scsi_transport_sas<br />
    ++ shift<br />
    ++ test Module == sr_mod<br />
    ++ shift<br />
    ++ test Module == scsi_mod<br />
    ++ shift<br />
    ++ test Module == ums-usbat<br />
    ++ shift<br />
    ++ test Module == ums-sddr55<br />
    ++ shift<br />
    ++ test Module == ums-sddr09<br />
    ++ shift<br />
    ++ test Module == ums-realtek<br />
    ++ shift<br />
    ++ test Module == ums-onetouch<br />
    ++ shift<br />
    ++ test Module == ums-karma<br />
    ++ shift<br />
    ++ test Module == ums-jumpshot<br />
    ++ shift<br />
    ++ test Module == ums-isd200<br />
    ++ shift<br />
    ++ test Module == ums-freecom<br />
    ++ shift<br />
    ++ test Module == ums-eneub6250<br />
    ++ shift<br />
    ++ test Module == ums-datafab<br />
    ++ shift<br />
    ++ test Module == ums-cypress<br />
    ++ shift<br />
    ++ test Module == ums-alauda<br />
    ++ shift<br />
    ++ test Module == uas<br />
    ++ shift<br />
    ++ test Module == usb-storage<br />
    ++ shift<br />
    ++ test Module == ''<br />
    ++ shift<br />
    ++ return 1<br />
    ++ read module junk<br />
    ++ IsInArray nls_utf8 zram virtio_blk skd rbd pktcdvd nbd mtip32xx
    floppy loop cryptoloop brd aoe nosy firewire-sbp2 firewire-ohci
    firewire-net firewire-core sata_sx4 sata_svw sata_sil24
    sata_qstor sata_inic162x pdc_adma ata_generic libahci_platform
    ahci_platform ahci libata libahci acard-ahci md-cluster raid10
    raid1 raid0 linear faulty dm-zero dm-thin-pool dm-switch dm-snapshot
    dm-service-time dm-round-robin raid456 md-mod dm-raid
    dm-queue-length dm-region-hash dm-mirror dm-log-writes dm-log
    dm-log-userspace dm-multipath dm-least-pending dm-flakey dm-era
    dm-delay dm-crypt dm-cache-smq dm-persistent-data dm-cache
    dm-cache-cleaner dm-mod dm-bufio dm-bio-prison bcache mptscsih
    mptsas mptctl mptbase virtio_scsi sym53c8xx stex st snic sg ses
    sd_mod qla4xxx tcm_qla2xxx qla2xxx qedi qedf pmcraid pm80xx osd
    libosd mvsas raid_class mpt3sas megaraid_sas lpfc iscsi_tcp ipr
    scsi_transport_srp ibmvscsi ibmvfc esas2r scsi_dh_rdac
    scsi_dh_hp_sw scsi_dh_emc scsi_dh_alua cxlflash libiscsi_tcp
    cxgb4i libcxgbi cxgb3i csiostor ch bnx2i libfc fcoe libfcoe bnx2fc
    scsi_transport_fc bfa scsi_transport_iscsi libiscsi
    iscsi_boot_sysfs be2iscsi arcmsr scsi_transport_spi esp_scsi
    am53c974 libsas aic94xx aacraid 3w-sas scsi_transport_sas sr_mod
    scsi_mod ums-usbat ums-sddr55 ums-sddr09 ums-realtek ums-onetouch
    ums-karma ums-jumpshot ums-isd200 ums-freecom ums-eneub6250
    ums-datafab ums-cypress ums-alauda uas usb-storage<br />
    ++ local needle=nls_utf8<br />
    ++ test -z nls_utf8<br />
    ++ shift<br />
    ++ test nls_utf8 == zram<br />
    ++ shift<br />
    ++ test nls_utf8 == virtio_blk<br />
    ++ shift<br />
    ++ test nls_utf8 == skd<br />
    ++ shift<br />
    ++ test nls_utf8 == rbd<br />
    ++ shift<br />
    ++ test nls_utf8 == pktcdvd<br />
    ++ shift<br />
    ++ test nls_utf8 == nbd<br />
    ++ shift<br />
    ++ test nls_utf8 == mtip32xx<br />
    ++ shift<br />
    ++ test nls_utf8 == floppy<br />
    ++ shift<br />
    ++ test nls_utf8 == loop<br />
    ++ shift<br />
    ++ test nls_utf8 == cryptoloop<br />
    ++ shift<br />
    ++ test nls_utf8 == brd<br />
    ++ shift<br />
    ++ test nls_utf8 == aoe<br />
    ++ shift<br />
    ++ test nls_utf8 == nosy<br />
    ++ shift<br />
    ++ test nls_utf8 == firewire-sbp2<br />
    ++ shift<br />
    ++ test nls_utf8 == firewire-ohci<br />
    ++ shift<br />
    ++ test nls_utf8 == firewire-net<br />
    ++ shift<br />
    ++ test nls_utf8 == firewire-core<br />
    ++ shift<br />
    ++ test nls_utf8 == sata_sx4<br />
    ++ shift<br />
    ++ test nls_utf8 == sata_svw<br />
    ++ shift<br />
    ++ test nls_utf8 == sata_sil24<br />
    ++ shift<br />
    ++ test nls_utf8 == sata_qstor<br />
    ++ shift<br />
    ++ test nls_utf8 == sata_inic162x<br />
    ++ shift<br />
    ++ test nls_utf8 == pdc_adma<br />
    ++ shift<br />
    ++ test nls_utf8 == ata_generic<br />
    ++ shift<br />
    ++ test nls_utf8 == libahci_platform<br />
    ++ shift<br />
    ++ test nls_utf8 == ahci_platform<br />
    ++ shift<br />
    ++ test nls_utf8 == ahci<br />
    ++ shift<br />
    ++ test nls_utf8 == libata<br />
    ++ shift<br />
    ++ test nls_utf8 == libahci<br />
    ++ shift<br />
    ++ test nls_utf8 == acard-ahci<br />
    ++ shift<br />
    ++ test nls_utf8 == md-cluster<br />
    ++ shift<br />
    ++ test nls_utf8 == raid10<br />
    ++ shift<br />
    ++ test nls_utf8 == raid1<br />
    ++ shift<br />
    ++ test nls_utf8 == raid0<br />
    ++ shift<br />
    ++ test nls_utf8 == linear<br />
    ++ shift<br />
    ++ test nls_utf8 == faulty<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-zero<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-thin-pool<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-switch<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-snapshot<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-service-time<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-round-robin<br />
    ++ shift<br />
    ++ test nls_utf8 == raid456<br />
    ++ shift<br />
    ++ test nls_utf8 == md-mod<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-raid<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-queue-length<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-region-hash<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-mirror<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-log-writes<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-log<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-log-userspace<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-multipath<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-least-pending<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-flakey<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-era<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-delay<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-crypt<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-cache-smq<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-persistent-data<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-cache<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-cache-cleaner<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-mod<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-bufio<br />
    ++ shift<br />
    ++ test nls_utf8 == dm-bio-prison<br />
    ++ shift<br />
    ++ test nls_utf8 == bcache<br />
    ++ shift<br />
    ++ test nls_utf8 == mptscsih<br />
    ++ shift<br />
    ++ test nls_utf8 == mptsas<br />
    ++ shift<br />
    ++ test nls_utf8 == mptctl<br />
    ++ shift<br />
    ++ test nls_utf8 == mptbase<br />
    ++ shift<br />
    ++ test nls_utf8 == virtio_scsi<br />
    ++ shift<br />
    ++ test nls_utf8 == sym53c8xx<br />
    ++ shift<br />
    ++ test nls_utf8 == stex<br />
    ++ shift<br />
    ++ test nls_utf8 == st<br />
    ++ shift<br />
    ++ test nls_utf8 == snic<br />
    ++ shift<br />
    ++ test nls_utf8 == sg<br />
    ++ shift<br />
    ++ test nls_utf8 == ses<br />
    ++ shift<br />
    ++ test nls_utf8 == sd_mod<br />
    ++ shift<br />
    ++ test nls_utf8 == qla4xxx<br />
    ++ shift<br />
    ++ test nls_utf8 == tcm_qla2xxx<br />
    ++ shift<br />
    ++ test nls_utf8 == qla2xxx<br />
    ++ shift<br />
    ++ test nls_utf8 == qedi<br />
    ++ shift<br />
    ++ test nls_utf8 == qedf<br />
    ++ shift<br />
    ++ test nls_utf8 == pmcraid<br />
    ++ shift<br />
    ++ test nls_utf</li>
</ul>
<h4 id="dewagner1_commented_at_2019-02-19_1310"><img src="https://avatars.githubusercontent.com/u/42152522?v=4" width="50"><a href="https://github.com/dewagner1">dewagner1</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-465122332">2019-02-19 13:10</a>:<a class="headerlink" href="#dewagner1_commented_at_2019-02-19_1310" title="Permanent link">&para;</a></h4>
<p>Debug info from testing rear-2.4-1.git.3227.0f1f9dbb.master.ppc64le.rpm
provided by Sebastien.</p>
<p>I have created a rear backup image from a SLES 12 SP4 server and tried
restoring that image to another lpar three different times - one right
after the other.</p>
<p>The first time failed, the second time required the work-around you gave
us for the previous version of rear and the third time worked. I have
captured console output and the debug log file for the first two
scenarios and just the console output for the third.</p>
<p><a href="https://github.com/rear/rear/files/2880076/1-fail.txt">1-fail.txt</a><br />
<a href="https://github.com/rear/rear/files/2880079/2-required.workaround.txt">2-required
workaround.txt</a><br />
<a href="https://github.com/rear/rear/files/2880081/3.-worked.txt">3
-worked.txt</a></p>
<h4 id="dewagner1_commented_at_2019-02-19_1312"><img src="https://avatars.githubusercontent.com/u/42152522?v=4" width="50"><a href="https://github.com/dewagner1">dewagner1</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-465122616">2019-02-19 13:12</a>:<a class="headerlink" href="#dewagner1_commented_at_2019-02-19_1312" title="Permanent link">&para;</a></h4>
<p>I closed this issue by mistake</p>
<h4 id="ccjung_commented_at_2019-02-21_1920"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-466130589">2019-02-21 19:20</a>:<a class="headerlink" href="#ccjung_commented_at_2019-02-21_1920" title="Permanent link">&para;</a></h4>
<p>Hello,<br />
Dan has attached files with the different test results. It seems we get
different results with SLES12 SP4.</p>
<p>What is the status on this ticket?</p>
<p>Thanks.</p>
<h4 id="jsmeix_commented_at_2019-02-22_1023"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-466349187">2019-02-22 10:23</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-02-22_1023" title="Permanent link">&para;</a></h4>
<p>I know nothing about that special hardware<br />
(POWER LPAR with SAN and multipath)<br />
so that I can do only some basically blind guesswork:</p>
<p>In your
<a href="https://github.com/rear/rear/issues/2019#issuecomment-465122332">https://github.com/rear/rear/issues/2019#issuecomment-465122332</a><br />
both your
<a href="https://github.com/rear/rear/files/2880076/1-fail.txt">https://github.com/rear/rear/files/2880076/1-fail.txt</a><br />
and
<a href="https://github.com/rear/rear/files/2880079/2-required.workaround.txt">https://github.com/rear/rear/files/2880079/2-required.workaround.txt</a><br />
contain a device like <code>/dev/mapper/SIBM_</code> while in contrast<br />
<a href="https://github.com/rear/rear/files/2880081/3.-worked.txt">https://github.com/rear/rear/files/2880081/3.-worked.txt</a><br />
does not contain such a device.</p>
<p>According to<br />
<a href="https://github.com/rear/rear/issues/2016#issuecomment-454333190">https://github.com/rear/rear/issues/2016#issuecomment-454333190</a><br />
and<br />
<a href="https://github.com/rear/rear/issues/2016#issuecomment-454344375">https://github.com/rear/rear/issues/2016#issuecomment-454344375</a><br />
this usually means something wrong in the SAN zoning configuration</p>
<p>Perhaps you still have issues in your SAN zoning configuration<br />
as you had in<br />
<a href="https://github.com/rear/rear/issues/2016#issuecomment-454759822">https://github.com/rear/rear/issues/2016#issuecomment-454759822</a></p>
<p>On the other hand in<br />
<a href="https://github.com/rear/rear/files/2880079/2-required.workaround.txt">https://github.com/rear/rear/files/2880079/2-required.workaround.txt</a><br />
there is (excerpt)</p>
<pre><code>UserInput -I LAYOUT_MIGRATION_CONFIRM_MAPPINGS needed in /usr/share/rear/layout/prepare/default/300_map_disks.sh line 275
Confirm or edit the disk mapping
1) Confirm disk mapping and continue 'rear recover'
2) n/a
3) Edit disk mapping (/var/lib/rear/layout/disk_mappings)
4) Use Relax-and-Recover shell and return back to here
5) Abort 'rear recover'
(default '1' timeout 300 seconds)
4
UserInput: Valid choice number result 'Use Relax-and-Recover shell and return back to here'

Welcome to Relax-and-Recover.

rear&gt; udevadm control --reload-rules
rear&gt; udevadm trigger
</code></pre>
<p>which seems to be what you mean with <code>the work-around you gave us</code><br />
which matches<br />
<a href="https://github.com/schabrolles/rear/commit/03228ffdbf748e16026d8776c0745b0794c74148">https://github.com/schabrolles/rear/commit/03228ffdbf748e16026d8776c0745b0794c74148</a></p>
<p>That change is not yet merged into the ReaR master code.<br />
Currently it is only in
<a href="https://github.com/schabrolles/rear">https://github.com/schabrolles/rear</a></p>
<p>@schabrolles<br />
it seems your <code>refresh udev with trigger before activating multipath</code><br />
helps in such cases so that I think you should "just merge" it<br />
into the ReaR master code.</p>
<p>My assumption is that the additional commands</p>
<pre><code>udevadm control --reload-rules
udevadm trigger
</code></pre>
<p>cannot cause bad side effects on systems where they are not really
needed.</p>
<p>FWIW:<br />
In general I think<br />
<code>Waiting for udev and "kicking udev" are wrong (both miss the point)</code><br />
according to what I described in
<a href="https://github.com/rear/rear/issues/791">https://github.com/rear/rear/issues/791</a><br />
but if it helps in this particular case here we should just do that<br />
according to "Dirty hacks welcome" in<br />
<a href="https://github.com/rear/rear/wiki/Coding-Style">https://github.com/rear/rear/wiki/Coding-Style</a></p>
<p>@suseusr168 @dewagner1<br />
you can adapt your<br />
usr/share/rear/layout/prepare/GNU/Linux/210_load_multipath.sh<br />
script as in<br />
<a href="https://github.com/schabrolles/rear/commit/03228ffdbf748e16026d8776c0745b0794c74148">https://github.com/schabrolles/rear/commit/03228ffdbf748e16026d8776c0745b0794c74148</a><br />
and then redo <code>rear mkrescue/mkbackup</code> to get that workaround<br />
into your ReaR recovery system so that those udevadm commands<br />
are run atomatically during <code>rear recover</code>.</p>
<p>The whole updated script from @schabrolles<br />
at
<a href="https://github.com/schabrolles/rear">https://github.com/schabrolles/rear</a><br />
is visible via<br />
<a href="https://raw.githubusercontent.com/schabrolles/rear/03228ffdbf748e16026d8776c0745b0794c74148/usr/share/rear/layout/prepare/GNU/Linux/210_load_multipath.sh">https://raw.githubusercontent.com/schabrolles/rear/03228ffdbf748e16026d8776c0745b0794c74148/usr/share/rear/layout/prepare/GNU/Linux/210_load_multipath.sh</a><br />
so that you could better see where to add those udevadm commands<br />
when you have an older version of<br />
usr/share/rear/layout/prepare/GNU/Linux/210_load_multipath.sh</p>
<h4 id="schabrolles_commented_at_2019-02-24_1226"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-466769572">2019-02-24 12:26</a>:<a class="headerlink" href="#schabrolles_commented_at_2019-02-24_1226" title="Permanent link">&para;</a></h4>
<p>@dewagner1, @suseusr168,</p>
<p>Sorry for the long delay in my answer, but I don't have a lot of time
and will be really busy till the end of next week.</p>
<p>For what I can see from the logs provided by @dewagner1 is still a
problem around <code>/dev/mapper/SIBM...</code> devices...<br />
We still don't know what can explain such device in your SAN + XIV
environment...<br />
This is the root cause of your issues...</p>
<p>Some LVM objects (pv, lv, fs) are detected on both <code>/dev/mapper/&lt;WWID&gt;</code>
and the strange device <code>/dev/mapper/SIBM_&lt;WWID&gt;</code> which conducts to LVM
errors due to duplicates devices... You should be able to mitigates this
by adding a filter in <code>/etc/lvm.conf</code> ( add <code>"r|/dev/mapper/SIBM_.*|"</code>)</p>
<p>Here is an example of <code>/etc/lvm.conf</code> taken from my SLES12 SP4 with
<code>"r|/dev/mapper/SIBM_.*|"</code> added just before <code>"a/.*/"</code></p>
<pre><code>...
filter = [ "r|/dev/.*/by-path/.*|", "r|/dev/.*/by-id/.*|", "r|/dev/fd.*|", "r|/dev/cdrom|", "r|/dev/mapper/SIBM_.*|", "a/.*/" ]
...
</code></pre>
<p>You can set this up on the server to backup (as we also don't want to
have LVM detected on /dev/mapper/SIBM devices), backup with rear.
<code>/etc/lvm.conf</code> file should be added to your ReaR iso image.</p>
<h4 id="jsmeix_commented_at_2019-03-04_1128"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-469219216">2019-03-04 11:28</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-03-04_1128" title="Permanent link">&para;</a></h4>
<p>@dewagner1 @suseusr168<br />
right now
<a href="https://github.com/rear/rear/pull/2064">https://github.com/rear/rear/pull/2064</a>
was merged<br />
so that this issue should be now somehow avoided in ReaR, cf.<br />
<a href="https://github.com/rear/rear/issues/2019#issuecomment-466349187">https://github.com/rear/rear/issues/2019#issuecomment-466349187</a></p>
<p>Nevertheless it seems the root cause of your issues is still there,
cf.<br />
<a href="https://github.com/rear/rear/issues/2019#issuecomment-466769572">https://github.com/rear/rear/issues/2019#issuecomment-466769572</a></p>
<p>@dewagner1 @suseusr168<br />
how you could try out our current ReaR GitHub master code<br />
to test whether or not
<a href="https://github.com/rear/rear/pull/2064">https://github.com/rear/rear/pull/2064</a><br />
actually helps in your case:</p>
<p>Basically "git clone" our current ReaR upstream GitHub master code<br />
into a separated directory and then configure and run ReaR<br />
from within that directory like:</p>
<pre><code># git clone https://github.com/rear/rear.git

# mv rear rear.github.master

# cd rear.github.master

# vi etc/rear/local.conf

# usr/sbin/rear -D mkbackup
</code></pre>
<p>Note the relative paths "etc/rear/" and "usr/sbin/".</p>
<h4 id="ccjung_commented_at_2019-03-13_1316"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-472417054">2019-03-13 13:16</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-13_1316" title="Permanent link">&para;</a></h4>
<p>Hello,<br />
Any status on determining the root cause of the SLES12SP4 on Power
restore problem ?</p>
<p>Do we have the #2059 bug problem or is it fixed?</p>
<p>I have attached the logs in case you haven't seen them.</p>
<p>We have implemented this workaround but still not having 100% success
rate with the restore on SLES12SP4.</p>
<p>Here is an example of /etc/lvm.conf taken from my SLES12 SP4 with
"r|/dev/mapper/SIBM_.<em>|" added just before "a/.</em>/"<br />
...<br />
filter = [ "r|/dev/.<em>/by-path/.</em>|", "r|/dev/.<em>/by-id/.</em>|",
"r|/dev/fd.<em>|", "r|/dev/cdrom|", "r|/dev/mapper/SIBM_.</em>|", "a/.*/"
]<br />
...</p>
<p>LPAR eniesdbp001p does not have shared disks and the Rear restored 4
times with no problems<br />
The 5th time failed.</p>
<p>I have attached both failed and worked logs for comparison.</p>
<p>putty.2019.02.26.eniesdbp001p.log - Failed<br />
putty.2019.02.26.eniesdbp001p.worked.log - Worked</p>
<p>eniesdbp011p has shared disks. It detects the lower LUN id but fails the
diskrestore.sh script all the time (3 times)<br />
putty.2019.02.26.eniesdbp011p.log - Failed</p>
<p><a href="https://github.com/rear/rear/files/2961573/putty.2019.02.26.eniesdbp001p.log">putty.2019.02.26.eniesdbp001p.log</a><br />
<a href="https://github.com/rear/rear/files/2961574/putty.2019.02.26.eniesdbp001p.worked.log">putty.2019.02.26.eniesdbp001p.worked.log</a><br />
<a href="https://github.com/rear/rear/files/2961575/putty.2019.02.26.eniesdbp011p.log">putty.2019.02.26.eniesdbp011p.log</a></p>
<h4 id="ccjung_commented_at_2019-03-18_1845"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-474051110">2019-03-18 18:45</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-18_1845" title="Permanent link">&para;</a></h4>
<p>Hello,<br />
Is there any information we can provide to help debug this problem?</p>
<p>Thank you,</p>
<h4 id="schabrolles_commented_at_2019-03-18_1915"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-474062018">2019-03-18 19:15</a>:<a class="headerlink" href="#schabrolles_commented_at_2019-03-18_1915" title="Permanent link">&para;</a></h4>
<p>@suseusr168,<br />
I don't have a lot of time, but I had a quick look to your files.<br />
For <code>eniesdbp011p</code> I think you try to recover a PV to
<code>/dev/mapper/20017380033e70088</code> that already exist on the machine
<code>/dev/mapper/20017380033e700e8</code>. Both disk cannot have the same LVM PV
UUID.</p>
<p>If you want to use <code>/dev/mapper/20017380033e70088</code> instead of
<code>/dev/mapper/20017380033e700e8</code>, you need to unmap the last one from the
server first.</p>
<pre><code>+++ lvm pvcreate -ff --yes -v --uuid emSwP2-fCya-vSee-BOCA-LUdO-qYCw-41Lc01 --norestorefile /dev/mapper/20017380033e70088-part3
  WARNING: Failed to connect to lvmetad. Falling back to device scanning.
  UUID emSwP2-fCya-vSee-BOCA-LUdO-qYCw-41Lc01 already in use on "/dev/mapper/20017380033e700e8-part3".
</code></pre>
<h4 id="ccjung_commented_at_2019-03-18_1934"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-474068564">2019-03-18 19:34</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-18_1934" title="Permanent link">&para;</a></h4>
<p>How do I unmap the previous disk before doing the restore?</p>
<p>Thanks.</p>
<h4 id="ccjung_commented_at_2019-03-18_2023"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-474085827">2019-03-18 20:23</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-18_2023" title="Permanent link">&para;</a></h4>
<p>It looks like ReaR was able to map the target disk 112GB disk
(/dev/mapper/20017380033e70088)</p>
<p>Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than one
with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/mapper/20017380033e70088 (same size) for recreating
/dev/mapper/200173800348802c6<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802c6 =&gt; /dev/mapper/20017380033e70088</p>
<p>The SAN person told me that this is shared disk so 112G disk showed up
twice in the "Listing multipath device found" list below and I was
supposed to use the 20017380033e70088 LUN ,</p>
<p>20017380033e70088 dm-0 IBM,2810XIV size=112G<br />
20017380033e700e8 dm-8 IBM,2810XIV size=112G</p>
<p>Listing multipath device found<br />
20017380033e700dc dm-13 IBM,2810XIV size=32G<br />
20017380033e700db dm-12 IBM,2810XIV size=32G<br />
20017380033e700da dm-6 IBM,2810XIV size=32G<br />
20017380033e70088 dm-0 IBM,2810XIV size=112G<br />
20017380033e700e2 dm-19 IBM,2810XIV size=64G<br />
20017380033e700d9 dm-5 IBM,2810XIV size=64G<br />
20017380033e700e1 dm-18 IBM,2810XIV size=64G<br />
20017380033e700d8 dm-4 IBM,2810XIV size=32G<br />
20017380033e700e0 dm-17 IBM,2810XIV size=64G<br />
20017380033e700e8 dm-8 IBM,2810XIV size=112G<br />
20017380033e700df dm-16 IBM,2810XIV size=64G<br />
20017380033e700e7 dm-7 IBM,2810XIV size=112G<br />
20017380033e700de dm-15 IBM,2810XIV size=64G<br />
20017380033e700dd dm-14 IBM,2810XIV size=32G</p>
<p>Is there a something we need to do differently in order to restore to a
shared disk?<br />
Thanks.</p>
<h4 id="mahespth_commented_at_2019-03-18_2125"><img src="https://avatars.githubusercontent.com/u/7555925?v=4" width="50"><a href="https://github.com/mahespth">mahespth</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-474107468">2019-03-18 21:25</a>:<a class="headerlink" href="#mahespth_commented_at_2019-03-18_2125" title="Permanent link">&para;</a></h4>
<p>HI, ex IBM AIX guy here and this sounds like like a typical multi
path/mpio configuration where the storage is presented to the lpar from
two separate virtualisation servers for redundancy using vscsi drivers,
they would be presented over two separate bus numbers and would expect
mutltipath to be configured to deal with this. There is a REPO of tools
for this if you do not already have it connected or available.</p>
<p><a href="https://www14.software.ibm.com/webapp/set2/sas/f/lopdiags/yum.html">https://www14.software.ibm.com/webapp/set2/sas/f/lopdiags/yum.html</a></p>
<p>Hope this helps somehow.</p>
<blockquote>
<p>On 18 Mar 2019, at 20:23, suseusr168 <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a> wrote:</p>
<p>It looks like ReaR was able to map the target disk 112GB disk
(/dev/mapper/20017380033e70088)</p>
<p>Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than
one with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/mapper/20017380033e70088 (same size) for recreating
/dev/mapper/200173800348802c6<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802c6 =&gt; /dev/mapper/20017380033e70088</p>
<p>The SAN person told me that this is shared disk so 112G disk showed up
twice in the "Listing multipath device found" list below and I was
supposed to use the 20017380033e70088 LUN ,</p>
<p>20017380033e70088 dm-0 IBM,2810XIV size=112G<br />
20017380033e700e8 dm-8 IBM,2810XIV size=112G</p>
<p>Listing multipath device found<br />
20017380033e700dc dm-13 IBM,2810XIV size=32G<br />
20017380033e700db dm-12 IBM,2810XIV size=32G<br />
20017380033e700da dm-6 IBM,2810XIV size=32G<br />
20017380033e70088 dm-0 IBM,2810XIV size=112G<br />
20017380033e700e2 dm-19 IBM,2810XIV size=64G<br />
20017380033e700d9 dm-5 IBM,2810XIV size=64G<br />
20017380033e700e1 dm-18 IBM,2810XIV size=64G<br />
20017380033e700d8 dm-4 IBM,2810XIV size=32G<br />
20017380033e700e0 dm-17 IBM,2810XIV size=64G<br />
20017380033e700e8 dm-8 IBM,2810XIV size=112G<br />
20017380033e700df dm-16 IBM,2810XIV size=64G<br />
20017380033e700e7 dm-7 IBM,2810XIV size=112G<br />
20017380033e700de dm-15 IBM,2810XIV size=64G<br />
20017380033e700dd dm-14 IBM,2810XIV size=32G</p>
<p>Is there a something we need to do differently in order to restore to
a shared disk?<br />
Thanks.</p>
<p><br />
You are receiving this because you are subscribed to this thread.<br />
Reply to this email directly, view it on GitHub
<a href="https://github.com/rear/rear/issues/2019#issuecomment-474085827">https://github.com/rear/rear/issues/2019#issuecomment-474085827</a>,
or mute the thread
<a href="https://github.com/notifications/unsubscribe-auth/AHNLVUDaqS7RjP9lgmq9HWDs8grA6pvwks5vX_WvgaJpZM4aG0iu">https://github.com/notifications/unsubscribe-auth/AHNLVUDaqS7RjP9lgmq9HWDs8grA6pvwks5vX_WvgaJpZM4aG0iu</a>.</p>
</blockquote>
<h4 id="ccjung_commented_at_2019-03-19_0139"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-474164583">2019-03-19 01:39</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-19_0139" title="Permanent link">&para;</a></h4>
<p>There are actually 3 - 112G disks on this system.</p>
<p>20017380033e70088 dm-0 IBM,2810XIV size=112G - this is for the rootvg</p>
<p>20017380033e700e8 dm-8 IBM,2810XIV size=112G - this is for shared_vg</p>
<p>20017380033e700e7 dm-7 IBM,2810XIV size=112G - this is for shared_vg</p>
<p>I might have confused myself thinking the shared_vg disks were shared
disks between 2 systems because of the volume group name of shared_vg.
I check the other partner HANA cluster system and they have different
LUN ID numbers and they both have the volume group name shared_vg.</p>
<p>We want to restore the Rear backup to 20017380033e70088.</p>
<p>You had mentioned:<br />
If you want to use /dev/mapper/20017380033e70088 instead of
/dev/mapper/20017380033e700e8, you need to unmap the last one from the
server first.</p>
<p>Do we unmap /dev/mapper/20017380033e700e8 from the SAN first before
restoring?</p>
<h4 id="ccjung_commented_at_2019-03-19_1406"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-474385331">2019-03-19 14:06</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-19_1406" title="Permanent link">&para;</a></h4>
<p>Hello,<br />
I have received confirmation from the SAN admin that the 2 SLES LPAR in
the HANA cluster only share 1 heartbeat disk. The shared_vg disks are
NOT shared even though the VG name has "shared" in it.</p>
<p>Do we have duplicate UUID numbers or something causing Rear to not be
able to use disk 088 and use disk 0e8?</p>
<p>Thanks.</p>
<h4 id="schabrolles_commented_at_2019-03-19_1519"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-474418988">2019-03-19 15:19</a>:<a class="headerlink" href="#schabrolles_commented_at_2019-03-19_1519" title="Permanent link">&para;</a></h4>
<p>Just a guess, but I think a previous "Rear restore" operation was made
by mistake on <code>/dev/mapper/20017380033e700e8</code> instead of
<code>/dev/mapper/20017380033e70088</code> ... (they have the same size and a
pretty close wwid number)</p>
<p>This have recreate "3 partitions" on <code>/dev/mapper/20017380033e700e8</code> and
recreate a PV on <code>/dev/mapper/20017380033e700e8-part3</code> with UUID
<code>emSwP2-fCya-vSee-BOCA-LUdO-qYCw-41Lc01</code></p>
<p>This prevent you to recreate your PV on <code>/dev/mapper/20017380033e70088</code>
(because <code>/dev/mapper/20017380033e700e8</code> already has the UUID)</p>
<p>The solution could be to erase the configuration of
<code>/dev/mapper/20017380033e700e8</code>.<br />
Is the shared_vg part of the rear backup ?<br />
Be sure to have a backup of your <code>shared_vg</code>, because it will wipe your
disk.</p>
<p>if yes, you can clean the disk configuration by running the following dd
command</p>
<pre><code>dd if=/dev/zero of=/dev/mapper/20017380033e700e8 bs=1M count=1000
</code></pre>
<p>then reboot and try to restore again</p>
<h4 id="ccjung_commented_at_2019-03-19_1549"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-474436087">2019-03-19 15:49</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-19_1549" title="Permanent link">&para;</a></h4>
<p>Hi Sebastien,<br />
I'll give it a try on Thursday when the Change Request to do this
testing begins.</p>
<p>eniesdbp011p was the only system that had 3 - 112GB disks. Maybe the
wrong disk was picked at one time. The serial number do look alike. This
might explain why it keeps failing.</p>
<p>Is the shared_vg part of the rear backup ? No, only rootvg is in the
Rear backup.</p>
<p>How to clean the disk configuration by running the following dd
command.?</p>
<p>Do I boot the target system into the Rear rescue shell and run the dd
command and then reboot and then try to restore again?</p>
<p>Thanks,<br />
Cora</p>
<h4 id="schabrolles_commented_at_2019-03-19_1605"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-474445294">2019-03-19 16:05</a>:<a class="headerlink" href="#schabrolles_commented_at_2019-03-19_1605" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Is the shared_vg part of the rear backup ? No, only rootvg is in the
Rear backup.<br />
So be aware that the dd command will destroy the shared_vg with the
data.... This mean you will have to restore it from another backup if
you have.</p>
</blockquote>
<p>Anyway, if the previous operation use the wrong disk
<code>/dev/mapper/20017380033e700e8</code> this mean that it already destroy the
shared_vg data....</p>
<blockquote>
<p>How to clean the disk configuration by running the following dd
command.?<br />
Do I boot the target system into the Rear rescue shell and run the dd
command and then reboot and then try to restore again?</p>
</blockquote>
<p>Yes, you can boot the system in recue mode and run the dd command from
here... then reboot and try to restore again on
<code>/dev/mapper/20017380033e70088</code></p>
<p>But before, you need to know: how to recover the shared_vg data if it
is not part of rear and seems to be damaged ...</p>
<h4 id="ccjung_commented_at_2019-03-19_1718"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-474477762">2019-03-19 17:18</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-19_1718" title="Permanent link">&para;</a></h4>
<p>This is our disaster recovery server so we can wipe out this disk and
don't need to worry about restoring shared_vg. This shared_vg will get
recreated/restored in the next DR test.</p>
<p>Thanks.</p>
<h4 id="ccjung_commented_at_2019-03-20_1037"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-474775534">2019-03-20 10:37</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-20_1037" title="Permanent link">&para;</a></h4>
<p>Hello Sebastien,<br />
I forgot that we also have another issue where another SLES12 SP4 server
was able to restore using your workaround but it fails periodically. The
SLES12 SP4 restore doesn't work all the time like SLES11 SP4.</p>
<p>I had attached the logs for the working restore and not working restore.</p>
<p>putty.2019.02.26.eniesdbp001p.log - Failed<br />
putty.2019.02.26.eniesdbp001p.worked.log - Worked</p>
<p>Could you review the logs to see what was causing it to fail.</p>
<p>Thanks,</p>
<h4 id="ccjung_commented_at_2019-03-20_1459"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-474869886">2019-03-20 14:59</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-20_1459" title="Permanent link">&para;</a></h4>
<p>@mahespth ,<br />
Thanks for the info. I think we have these tools installed. I found out
we only have one shared disk for the heartbeat for SAP HANA cluster.</p>
<h4 id="ccjung_commented_at_2019-03-21_2124"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-475408391">2019-03-21 21:24</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-21_2124" title="Permanent link">&para;</a></h4>
<p>Disk 0e8 got zeroed out and I was able to restore the Rear backup.</p>
<p>This output was before the disk was zeroed out.</p>
<p>The disk 0e8 was unknown.</p>
<p>[unknown] shared_vg lvm2 a-m 112.18g 0</p>
<p>Welcome to Relax-and-Recover.</p>
<p>rear&gt; pvs<br />
WARNING: Failed to connect to lvmetad. Falling back to device
scanning.<br />
Couldn't find device with uuid cPe3uI-5X3T-P92O-uXyO-e8gA-f6wQ-QBtrht.<br />
PV VG Fmt Attr PSize PFree<br />
/dev/mapper/20017380033e700d8 iso_vg lvm2 a-- 32.05g 0<br />
/dev/mapper/20017380033e700d9 tools_vg lvm2 a-- 64.10g 37.10g<br />
/dev/mapper/20017380033e700da log_vg lvm2 a-- 32.05g 0<br />
/dev/mapper/20017380033e700db log_vg lvm2 a-- 32.05g 0<br />
/dev/mapper/20017380033e700dc log_vg lvm2 a-- 32.05g 0<br />
/dev/mapper/20017380033e700dd log_vg lvm2 a-- 32.05g 0<br />
/dev/mapper/20017380033e700de sap_vg lvm2 a-- 64.10g 0<br />
/dev/mapper/20017380033e700df data_vg lvm2 a-- 64.10g 0<br />
/dev/mapper/20017380033e700e0 data_vg lvm2 a-- 64.10g 0<br />
/dev/mapper/20017380033e700e1 data_vg lvm2 a-- 64.10g 0<br />
/dev/mapper/20017380033e700e2 data_vg lvm2 a-- 64.10g 0<br />
/dev/mapper/20017380033e700e7 shared_vg lvm2 a-- 112.18g 0<br />
/dev/mapper/20017380033e700e8-part3 system_vg lvm2 a-- 111.43g 26.43g<br />
[unknown] shared_vg lvm2 a-m 112.18g 0<br />
rear&gt;</p>
<p>In /dev/mapper directory, disks 0e8 and 088 had -part1, -part2, -part3.</p>
<p>rear&gt; cd /dev/mapper<br />
rear&gt; ls -trl<br />
total 0<br />
crw------- 1 root root 10, 236 Mar 21 15:03 control<br />
lrwxrwxrwx 1 root root 8 Mar 21 15:03 20017380033e700e8_part3 -&gt;
../dm-18<br />
lrwxrwxrwx 1 root root 8 Mar 21 15:03 20017380033e700e8-part3 -&gt;
../dm-18<br />
lrwxrwxrwx 1 root root 8 Mar 21 15:03 20017380033e700e8_part1 -&gt;
../dm-16<br />
lrwxrwxrwx 1 root root 8 Mar 21 15:03 20017380033e700e8-part1 -&gt;
../dm-16<br />
lrwxrwxrwx 1 root root 8 Mar 21 15:03 20017380033e700e8_part2 -&gt;
../dm-17<br />
lrwxrwxrwx 1 root root 8 Mar 21 15:03 20017380033e700e8-part2 -&gt;
../dm-17<br />
lrwxrwxrwx 1 root root 7 Mar 21 15:03 20017380033e700d8 -&gt; ../dm-4<br />
lrwxrwxrwx 1 root root 7 Mar 21 15:03 20017380033e70088 -&gt; ../dm-0<br />
lrwxrwxrwx 1 root root 7 Mar 21 15:03 20017380033e700e7 -&gt; ../dm-7<br />
lrwxrwxrwx 1 root root 7 Mar 21 15:03 20017380033e700d9 -&gt; ../dm-5<br />
lrwxrwxrwx 1 root root 7 Mar 21 15:03 20017380033e700db -&gt; ../dm-8<br />
lrwxrwxrwx 1 root root 7 Mar 21 15:03 20017380033e700da -&gt; ../dm-6<br />
lrwxrwxrwx 1 root root 8 Mar 21 15:03 20017380033e700e8 -&gt; ../dm-15<br />
lrwxrwxrwx 1 root root 8 Mar 21 15:03 20017380033e700e0 -&gt; ../dm-19<br />
lrwxrwxrwx 1 root root 8 Mar 21 15:03 20017380033e700dd -&gt; ../dm-10<br />
lrwxrwxrwx 1 root root 7 Mar 21 15:03 20017380033e700dc -&gt; ../dm-9<br />
lrwxrwxrwx 1 root root 7 Mar 21 15:03 20017380033e70088_part1 -&gt;
../dm-1<br />
lrwxrwxrwx 1 root root 7 Mar 21 15:03 20017380033e70088-part1 -&gt;
../dm-1<br />
lrwxrwxrwx 1 root root 8 Mar 21 15:03 20017380033e700e1 -&gt; ../dm-13<br />
lrwxrwxrwx 1 root root 8 Mar 21 15:03 20017380033e700df -&gt; ../dm-12<br />
lrwxrwxrwx 1 root root 8 Mar 21 15:03 20017380033e700de -&gt; ../dm-11<br />
lrwxrwxrwx 1 root root 7 Mar 21 15:03 20017380033e70088_part3 -&gt;
../dm-3<br />
lrwxrwxrwx 1 root root 7 Mar 21 15:03 20017380033e70088-part3 -&gt;
../dm-3<br />
lrwxrwxrwx 1 root root 8 Mar 21 15:03 20017380033e700e2 -&gt; ../dm-14<br />
lrwxrwxrwx 1 root root 7 Mar 21 15:03 20017380033e70088_part2 -&gt;
../dm-2<br />
lrwxrwxrwx 1 root root 7 Mar 21 15:03 20017380033e70088-part2 -&gt;
../dm-2<br />
rear&gt; dd if=/dev/zero of=/dev/mapper/20017380033e700e8 bs=1M
count=1000<br />
1000+0 records in<br />
1000+0 records out<br />
1048576000 bytes (1.0 GB, 1000 MiB) copied, 0.110047 s, 9.5 GB/s</p>
<p>0e8 and 088 looks similar without eyeglasses. I must have picked the
wrong disk at one point and the wrong disk kept the UUID used by 088.</p>
<p>Thanks for the suggestion.</p>
<h4 id="ccjung_commented_at_2019-03-25_1453"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-476232083">2019-03-25 14:53</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-25_1453" title="Permanent link">&para;</a></h4>
<p>I am testing the restore and it worked 2 times was able to select the
088 as the correct target disk.</p>
<p>The third time, it is picking a different SIBM target disk.</p>
<pre><code>Current disk mapping table (source =&gt; target):
  /dev/mapper/200173800348802c6 =&gt; /dev/mapper/SIBM_2810XIV_78033E700E7
</code></pre>
<p>Which disk should I zero out?</p>
<pre><code>Listing multipath device found
20017380033e700dc dm-6 IBM,2810XIV size=32G
SIBM_2810XIV_78033E700DA dm-11 IBM,2810XIV size=32G
20017380033e700db dm-5 IBM,2810XIV size=32G
20017380033e700da dm-2 IBM,2810XIV size=32G
SIBM_2810XIV_78033E700E7 dm-12 IBM,2810XIV size=112G
20017380033e700e2 dm-1 IBM,2810XIV size=64G
20017380033e700e1 dm-0 IBM,2810XIV size=64G
20017380033e700e0 dm-10 IBM,2810XIV size=64G
20017380033e700e8 dm-4 IBM,2810XIV size=112G
20017380033e700df dm-9 IBM,2810XIV size=64G
20017380033e700e7 dm-3 IBM,2810XIV size=112G
20017380033e700de dm-8 IBM,2810XIV size=64G
20017380033e700dd dm-7 IBM,2810XIV size=32G
Comparing disks
Ambiguous possible target disks need manual configuration (more than one with same size found)
Switching to manual disk layout configuration
Using /dev/mapper/SIBM_2810XIV_78033E700E7 (same size) for recreating /dev/mapper/200173800348802c6
Current disk mapping table (source =&gt; target):
  /dev/mapper/200173800348802c6 =&gt; /dev/mapper/SIBM_2810XIV_78033E700E7

UserInput -I LAYOUT_MIGRATION_CONFIRM_MAPPINGS needed in /usr/share/rear/layout/prepare/default/300_map_disks.sh line 275
Confirm or edit the disk mapping
1) Confirm disk mapping and continue 'rear recover'
2) n/a
3) Edit disk mapping (/var/lib/rear/layout/disk_mappings)
4) Use Relax-and-Recover shell and return back to here
5) Abort 'rear recover'
(default '1' timeout 300 seconds)
4
UserInput: Valid choice number result 'Use Relax-and-Recover shell and return back to here'

Welcome to Relax-and-Recover.

rear&gt; cd /dev/mapper
rear&gt; ls -al
total 0
drwxr-xr-x  2 root root     540 Mar 25 10:44 .
drwxr-xr-x 11 root root    4180 Mar 25 10:44 ..
lrwxrwxrwx  1 root root       8 Mar 25 10:44 20017380033e70088 -&gt; ../dm-15
lrwxrwxrwx  1 root root       8 Mar 25 10:44 20017380033e70088-part1 -&gt; ../dm-17
lrwxrwxrwx  1 root root       8 Mar 25 10:44 20017380033e70088-part2 -&gt; ../dm-18
lrwxrwxrwx  1 root root       8 Mar 25 10:44 20017380033e70088-part3 -&gt; ../dm-19
lrwxrwxrwx  1 root root       8 Mar 25 10:44 20017380033e70088_part1 -&gt; ../dm-17
lrwxrwxrwx  1 root root       8 Mar 25 10:44 20017380033e70088_part2 -&gt; ../dm-18
lrwxrwxrwx  1 root root       8 Mar 25 10:44 20017380033e70088_part3 -&gt; ../dm-19
lrwxrwxrwx  1 root root       8 Mar 25 10:44 20017380033e700d8 -&gt; ../dm-13
lrwxrwxrwx  1 root root       8 Mar 25 10:44 20017380033e700d9 -&gt; ../dm-14
lrwxrwxrwx  1 root root       7 Mar 25 10:44 20017380033e700da -&gt; ../dm-2
lrwxrwxrwx  1 root root       7 Mar 25 10:44 20017380033e700db -&gt; ../dm-5
lrwxrwxrwx  1 root root       7 Mar 25 10:44 20017380033e700dc -&gt; ../dm-6
lrwxrwxrwx  1 root root       7 Mar 25 10:44 20017380033e700dd -&gt; ../dm-7
lrwxrwxrwx  1 root root       7 Mar 25 10:44 20017380033e700de -&gt; ../dm-8
lrwxrwxrwx  1 root root       7 Mar 25 10:44 20017380033e700df -&gt; ../dm-9
lrwxrwxrwx  1 root root       8 Mar 25 10:44 20017380033e700e0 -&gt; ../dm-10
lrwxrwxrwx  1 root root       7 Mar 25 10:44 20017380033e700e1 -&gt; ../dm-0
lrwxrwxrwx  1 root root       7 Mar 25 10:44 20017380033e700e2 -&gt; ../dm-1
lrwxrwxrwx  1 root root       7 Mar 25 10:44 20017380033e700e7 -&gt; ../dm-3
lrwxrwxrwx  1 root root       7 Mar 25 10:44 20017380033e700e8 -&gt; ../dm-4
lrwxrwxrwx  1 root root       8 Mar 25 10:44 SIBM_2810XIV_78033E700D8 -&gt; ../dm-16
lrwxrwxrwx  1 root root       8 Mar 25 10:44 SIBM_2810XIV_78033E700D9 -&gt; ../dm-20
lrwxrwxrwx  1 root root       8 Mar 25 10:44 SIBM_2810XIV_78033E700DA -&gt; ../dm-11
lrwxrwxrwx  1 root root       8 Mar 25 10:44 SIBM_2810XIV_78033E700E7 -&gt; ../dm-12
crw-------  1 root root 10, 236 Mar 25 10:44 control
rear&gt;
</code></pre>
<h4 id="ccjung_commented_at_2019-03-25_1532"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-476249936">2019-03-25 15:32</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-25_1532" title="Permanent link">&para;</a></h4>
<p>The SAN admin told me the following:</p>
<p>That's one of the 2 X 112GB LUNs requested for the shared_vg:</p>
<pre><code>20017380033e700e7 dm-3 IBM,2810XIV size=112G
20017380033e700e8 dm-4 IBM,2810XIV size=112G
</code></pre>
<p>Will it cause problems for Rear to select the correct target disk if
there are more than 1 disk that is the same size (eg. we have three
112GB disks but one of the disk should be the OS rootvg disk)?</p>
<h4 id="schabrolles_commented_at_2019-03-25_1811"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-476316677">2019-03-25 18:11</a>:<a class="headerlink" href="#schabrolles_commented_at_2019-03-25_1811" title="Permanent link">&para;</a></h4>
<p>Yes, because the original disk cannot be found, rear will then find a
disk with the same size. Because you have 2 disks with this criteria,
rear can choose one or the other.</p>
<p>This is why, it proposes you a mapping ... you can correct it if you
want, but the warning messages are normal: "Ambiguous possible target
disks...."</p>
<h4 id="ccjung_commented_at_2019-03-25_1839"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-476327125">2019-03-25 18:39</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-25_1839" title="Permanent link">&para;</a></h4>
<p>On the target system in the /dev/mapper directory, I see the following
SIBM softlinks:</p>
<pre><code>lrwxrwxrwx 1 root root 8 Mar 25 10:44 SIBM_2810XIV_78033E700D8 -&gt; ../dm-16
lrwxrwxrwx 1 root root 8 Mar 25 10:44 SIBM_2810XIV_78033E700D9 -&gt; ../dm-20
lrwxrwxrwx 1 root root 8 Mar 25 10:44 SIBM_2810XIV_78033E700DA -&gt; ../dm-11
lrwxrwxrwx 1 root root 8 Mar 25 10:44 SIBM_2810XIV_78033E700E7 -&gt; ../dm-12
</code></pre>
<p>I don't see these SIBM softlinks on the source system.</p>
<p>What are they used for?</p>
<p>Isn't this a problem if we see these SIBM softlinks or see /dev/sda?</p>
<h4 id="ccjung_commented_at_2019-03-26_1213"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-476598723">2019-03-26 12:13</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-26_1213" title="Permanent link">&para;</a></h4>
<p>Everytime the disk layout recreation script failed, I cleared the target
disk with zeroes, reboot it and the next restore attempt works.</p>
<p>Should I be clearing out the target disk (which is not newly created and
been used before) with zeros before I even attempt a restore?</p>
<p>What are these files below which has SIBM in the name used for on the
target system?</p>
<p>lrwxrwxrwx 1 root root 8 Mar 25 10:44 SIBM_2810XIV_78033E700D8 -&gt;
../dm-16<br />
lrwxrwxrwx 1 root root 8 Mar 25 10:44 SIBM_2810XIV_78033E700D9 -&gt;
../dm-20<br />
lrwxrwxrwx 1 root root 8 Mar 25 10:44 SIBM_2810XIV_78033E700DA -&gt;
../dm-11<br />
lrwxrwxrwx 1 root root 8 Mar 25 10:44 SIBM_2810XIV_78033E700E7 -&gt;
../dm-12</p>
<p>Thanks.</p>
<h4 id="jsmeix_commented_at_2019-03-26_1312"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-476624517">2019-03-26 13:12</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-03-26_1312" title="Permanent link">&para;</a></h4>
<p>@suseusr168<br />
yes, as long as we do not have a "cleanupdisk" script in ReaR,<br />
cf.
<a href="https://github.com/rear/rear/issues/799">https://github.com/rear/rear/issues/799</a><br />
you should clear out your target disk if it had been ever used before<br />
to be in general on the safe side against unexpected weird issues<br />
because of whatever kind of remainder data on an already used disk.</p>
<p>You may look through the other isues that are linked in<br />
<a href="https://github.com/rear/rear/issues/799">https://github.com/rear/rear/issues/799</a><br />
perhaps there was already one that matches your particular case here.</p>
<h4 id="jsmeix_commented_at_2019-03-26_1334"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-476637491">2019-03-26 13:34</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-03-26_1334" title="Permanent link">&para;</a></h4>
<p>@suseusr168<br />
usually it should be sufficient to use <code>wipefs</code> to clear out your target
disk,<br />
see
<a href="https://github.com/rear/rear/issues/799">https://github.com/rear/rear/issues/799</a>
for some example.</p>
<p><code>wipefs</code> is very much faster than zeroing out a whole big disk<br />
because <code>wipefs</code> clears out only some known small areas on the disk<br />
where filesystem, raid or partition-table signatures are usually
located.</p>
<p>On the other hand it could happen that <code>wipefs</code> misses to clear out<br />
special kind of currently not yet known metadata so that zeroing out<br />
the whole disk should be the 100% fail-safe way - in particular<br />
when you can do that in advance when you have time for it<br />
to prepare a disk to be later re-used for disaster recovery, cf.<br />
<code>A note on the meaning of 'Relax' in 'Relax-and-Recover'</code><br />
in
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<h4 id="ccjung_commented_at_2019-03-26_1423"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-476669445">2019-03-26 14:23</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-26_1423" title="Permanent link">&para;</a></h4>
<p>@jsmeix ,<br />
I ran the find command and I don't see cleanupdisk</p>
<p>I ran this command and don't see the cleanupdisk<br />
rpm -ql rear-2.4-198.git.0.e9f9d4b.unknown.ppc64le|grep -i clean</p>
<p>How do I find out if we have the cleanupdisk script?</p>
<p>Do I run the wipefs command in the ReaR rescue shell and reboot and try
the restore?</p>
<h4 id="ccjung_commented_at_2019-03-26_1447"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-476681213">2019-03-26 14:47</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-26_1447" title="Permanent link">&para;</a></h4>
<p>@jsmeix ,<br />
What are these files below which has SIBM in the name used for on the
target system?</p>
<p>lrwxrwxrwx 1 root root 8 Mar 25 10:44 SIBM_2810XIV_78033E700D8 -&gt;
../dm-16<br />
lrwxrwxrwx 1 root root 8 Mar 25 10:44 SIBM_2810XIV_78033E700D9 -&gt;
../dm-20<br />
lrwxrwxrwx 1 root root 8 Mar 25 10:44 SIBM_2810XIV_78033E700DA -&gt;
../dm-11<br />
lrwxrwxrwx 1 root root 8 Mar 25 10:44 SIBM_2810XIV_78033E700E7 -&gt;
../dm-12</p>
<h4 id="jsmeix_commented_at_2019-03-26_1526"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-476701880">2019-03-26 15:26</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-03-26_1526" title="Permanent link">&para;</a></h4>
<p>@suseusr168<br />
in
<a href="https://github.com/rear/rear/issues/2019#issuecomment-476624517">https://github.com/rear/rear/issues/2019#issuecomment-476624517</a>
I wrote</p>
<pre><code>as long as we do not have a "cleanupdisk" script in ReaR,
cf. https://github.com/rear/rear/issues/799
</code></pre>
<p>i.e. we do not yet have any kind of "cleanupdisk" script in ReaR and<br />
accordingly
<a href="https://github.com/rear/rear/issues/799">https://github.com/rear/rear/issues/799</a>
is still in state <code>Open</code>.</p>
<p>I am neither a SAN nor a multipath user so that I cannot provide any
real<br />
useful help in those areas - @schabrolles is our ReaR upstream expert<br />
for IBM POWER in general and for SAN and multipath in particular.</p>
<h4 id="ccjung_commented_at_2019-03-26_1857"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-476799513">2019-03-26 18:57</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-26_1857" title="Permanent link">&para;</a></h4>
<p>@jsmeix ,<br />
For the wipefs, do we need to reboot after running it?</p>
<p>Is the wipefs run from the Rear Rescue shell?</p>
<p>Is the following correct order?</p>
<ol>
<li>Clear the used target disk (either use dd or wipefs command)</li>
<li>Restore the backup to the used target disk</li>
</ol>
<p>We didn't need to clear the disk for SLES11 SP4 restores. We seem to
have more issues with SLES12 SP4 restores.</p>
<p>Thanks!</p>
<h4 id="jsmeix_commented_at_2019-03-27_1215"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-477124637">2019-03-27 12:15</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-03-27_1215" title="Permanent link">&para;</a></h4>
<p>@suseusr168<br />
according to my experience with <code>wipefs</code> you do not need to reboot,<br />
cf.
<a href="https://github.com/rear/rear/issues/799#issuecomment-197286229">https://github.com/rear/rear/issues/799#issuecomment-197286229</a><br />
but I needed a final <code>parted /dev/sda mklabel ...</code><br />
to make the old/outdated partition device nodes go away.</p>
<p>How device nodes appear and disaapear depends on kernel, udev,<br />
and what tools like <code>parted</code>, <code>partprobe</code>, and others... do<br />
so that device nodes behaviour depends on the particular<br />
currently running system - and SLES12 is certainly different<br />
in those areas comaped to SLES11.</p>
<p>I did run the disk cleanup commands manually<br />
in the ReaR recovery system directly after login as root,<br />
cf.
<a href="https://github.com/rear/rear/issues/799#issuecomment-197286229">https://github.com/rear/rear/issues/799#issuecomment-197286229</a></p>
<p>After the disk cleanup commands succeded<br />
one can run <code>rear -D recover</code>.</p>
<p>I don't know what is different in SLES11 versus SLES12<br />
why SLES12 causes more issues in your particular case<br />
when (re)installing onto a disk that was already used before<br />
cf. "Disaster recovery means installation (reinstalling from scratch)"
at<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<p>For some basic info what I learned about what could happen<br />
at higher levels when there is a higher stack of storage objects<br />
you may have a look at<br />
<a href="https://github.com/rear/rear/issues/791#issuecomment-196212960">https://github.com/rear/rear/issues/791#issuecomment-196212960</a></p>
<p>I am not at all a kernel, udev, partitioning, MD, LVM, whatever...<br />
expert. I only report what "I was told", see also<br />
<a href="https://github.com/rear/rear/issues/791">https://github.com/rear/rear/issues/791</a></p>
<h4 id="ccjung_commented_at_2019-03-27_1713"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-477261312">2019-03-27 17:13</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-27_1713" title="Permanent link">&para;</a></h4>
<p>@jsmeix<br />
I went into the Rear Rescue shell:<br />
Welcome to Relax-and-Recover.</p>
<pre><code>rear&gt; cd /dev/mapper

rear&gt; ls -trl
total 0
crw------- 1 root root 10, 236 Mar 27 12:52 control
lrwxrwxrwx 1 root root       7 Mar 27 12:52 20017380033e70071 -&gt; ../dm-0
lrwxrwxrwx 1 root root       7 Mar 27 12:52 20017380033e70092 -&gt; ../dm-5
lrwxrwxrwx 1 root root       7 Mar 27 12:52 20017380033e70093 -&gt; ../dm-6
lrwxrwxrwx 1 root root       7 Mar 27 12:52 20017380033e70091 -&gt; ../dm-4
lrwxrwxrwx 1 root root       7 Mar 27 12:52 20017380033e700a1 -&gt; ../dm-8
lrwxrwxrwx 1 root root       8 Mar 27 12:52 20017380033e70097 -&gt; ../dm-12
lrwxrwxrwx 1 root root       8 Mar 27 12:52 20017380033e70096 -&gt; ../dm-11
lrwxrwxrwx 1 root root       7 Mar 27 12:52 20017380033e700a0 -&gt; ../dm-7
lrwxrwxrwx 1 root root       8 Mar 27 12:52 20017380033e70095 -&gt; ../dm-10
lrwxrwxrwx 1 root root       8 Mar 27 12:52 20017380033e70098 -&gt; ../dm-13
lrwxrwxrwx 1 root root       7 Mar 27 12:52 20017380033e70094 -&gt; ../dm-9
lrwxrwxrwx 1 root root       8 Mar 27 12:52 20017380033e7009a -&gt; ../dm-15
lrwxrwxrwx 1 root root       8 Mar 27 12:52 20017380033e70099 -&gt; ../dm-14
lrwxrwxrwx 1 root root       7 Mar 27 12:52 20017380033e70071_part1 -&gt; ../dm-1
lrwxrwxrwx 1 root root       7 Mar 27 12:52 20017380033e70071-part1 -&gt; ../dm-1
lrwxrwxrwx 1 root root       8 Mar 27 12:52 20017380033e7009b -&gt; ../dm-16
lrwxrwxrwx 1 root root       7 Mar 27 12:52 20017380033e70071_part2 -&gt; ../dm-2
lrwxrwxrwx 1 root root       7 Mar 27 12:52 20017380033e70071-part2 -&gt; ../dm-2
lrwxrwxrwx 1 root root       7 Mar 27 12:52 20017380033e70071_part3 -&gt; ../dm-3
lrwxrwxrwx 1 root root       7 Mar 27 12:52 20017380033e70071-part3 -&gt; ../dm-3

rear&gt; cd /dev/mapper

rear&gt; parted /dev/mapper/20017380033e70071 print
Model: Linux device-mapper (multipath) (dm)
Disk /dev/mapper/20017380033e70071: 120GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size    Type     File system  Flags
 1      1049kB  8193kB  7144kB  primary               boot, prep, type=41
 2      272MB   806MB   535MB   primary  ext3         type=83
 3      806MB   120GB   120GB   primary               lvm, type=8e
</code></pre>
<p>Do I run the following wipefs command or do I also run the wipefs on all
the -partX?</p>
<pre><code>wipefs -a -f /dev/mapper/20017380033e70071
</code></pre>
<p>or</p>
<pre><code>wipefs -a -f /dev/mapper/20017380033e70071
wipefs -a -f /dev/mapper/20017380033e70071-part1
wipefs -a -f /dev/mapper/20017380033e70071-part2
wipefs -a -f /dev/mapper/20017380033e70071-part3
</code></pre>
<h4 id="gdha_commented_at_2019-03-27_1741"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-477273881">2019-03-27 17:41</a>:<a class="headerlink" href="#gdha_commented_at_2019-03-27_1741" title="Permanent link">&para;</a></h4>
<p>Is this issue a blocker for release or a very long thread on support
with rear? Sorry too much to read in my free time.</p>
<h4 id="ccjung_commented_at_2019-03-27_1747"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-477276556">2019-03-27 17:47</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-27_1747" title="Permanent link">&para;</a></h4>
<p>This issue is a very long thread on support with Rear.</p>
<p>We are having intermittent problems with restore on SLES12 SP4 on Power.
It works some of the time.</p>
<p>I am testing to see if clearing out previously used disk before doing a
restore will fix the intermittent restore problems.</p>
<h4 id="jsmeix_commented_at_2019-03-29_1016"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-477944856">2019-03-29 10:16</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-03-29_1016" title="Permanent link">&para;</a></h4>
<p>@suseusr168<br />
regarding your<br />
<a href="https://github.com/rear/rear/issues/2019#issuecomment-477261312">https://github.com/rear/rear/issues/2019#issuecomment-477261312</a><br />
<code>do I also run the wipefs on all the -partX?</code></p>
<p>You need to run <code>wipefs</code> in reverse ordering on each storage object<br />
starting from higher level storage objects (like partitions)<br />
down to lower level storage objects (like whole disks)<br />
for example first on all partitions on a disk, and then on the whole
disk,<br />
and finally <code>parted mklabel</code> could be additionally needed too<br />
cf.
<a href="https://github.com/rear/rear/issues/799#issue-141001306">https://github.com/rear/rear/issues/799#issue-141001306</a></p>
<pre><code>wipefs -a -f /dev/sda2
wipefs -a -f /dev/sda1
wipefs -a -f /dev/sda
</code></pre>
<p>plus perhaps
<a href="https://github.com/rear/rear/issues/799#issuecomment-197286229">https://github.com/rear/rear/issues/799#issuecomment-197286229</a></p>
<pre><code>parted /dev/sda mklabel gpt
</code></pre>
<p>so that in your case in<br />
<a href="https://github.com/rear/rear/issues/2019#issuecomment-477261312">https://github.com/rear/rear/issues/2019#issuecomment-477261312</a><br />
<code>wipefs</code> should be called this way</p>
<pre><code># wipefs -a -f /dev/mapper/20017380033e70071-part3
# wipefs -a -f /dev/mapper/20017380033e70071-part2
# wipefs -a -f /dev/mapper/20017380033e70071-part1
# wipefs -a -f /dev/mapper/20017380033e70071
</code></pre>
<p>plus perhaps a final</p>
<pre><code># parted /dev/mapper/20017380033e70071 mklabel msdos
</code></pre>
<p>so that in the end <code>parted /dev/mapper/20017380033e70071 print</code><br />
shows only the plain disk without any partitions on it like</p>
<pre><code># parted /dev/mapper/20017380033e70071 print
Model: Linux device-mapper (multipath) (dm)
Disk /dev/mapper/20017380033e70071: 120GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:
Number  Start   End     Size    Type     File system  Flags
</code></pre>
<p>and a command like</p>
<pre><code># find /dev -ls | grep -o '/dev/.*' | grep '20017380033e70071'
</code></pre>
<p>shows only the plain whole disk device node and symbolic links to it<br />
but no longer partition device nodes or symbolic links to them.</p>
<p>Careful!</p>
<p>On what device nodes you have to run <code>wipefs</code> depends on<br />
what there actually is on your current already used target disk<br />
(not on what should be installed later on that target disk).</p>
<p>What stack of storage objects there currently is on a disk<br />
should be shown by the command</p>
<pre><code># lsblk -i -p -o NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,SIZE,MOUNTPOINT
</code></pre>
<p>For example on my currently running SLES12 test system with LVM I get</p>
<pre><code># lsblk -i -p -o NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,SIZE,MOUNTPOINT
NAME                        KNAME     PKNAME    TRAN TYPE FSTYPE       SIZE MOUNTPOINT
/dev/sda                    /dev/sda            ata  disk               30G 
|-/dev/sda1                 /dev/sda1 /dev/sda       part vfat         156M /boot/efi
`-/dev/sda2                 /dev/sda2 /dev/sda       part LVM2_member 29.9G 
  |-/dev/mapper/system-root /dev/dm-0 /dev/sda2      lvm  btrfs         12G /
  |-/dev/mapper/system-swap /dev/dm-1 /dev/sda2      lvm  swap         1.4G [SWAP]
  `-/dev/mapper/system-home /dev/dm-2 /dev/sda2      lvm  xfs         16.4G /home
</code></pre>
<p>If I would get such an output within the ReaR recovery system<br />
for an already used target disk I would run <code>wipefs</code> on all<br />
those storage device nodes in reverse ordering<br />
of what the <code>KNAME</code> column of <code>lsblk</code> lists like</p>
<pre><code># wipefs -a -f /dev/dm-2
# wipefs -a -f /dev/dm-1
# wipefs -a -f /dev/dm-0
# wipefs -a -f /dev/sda2
# wipefs -a -f /dev/sda1
# wipefs -a -f /dev/sda
</code></pre>
<p>For me when I am in the ReaR recovery system with a target disk<br />
that was already used as in my running SLES12 test system with LVM<br />
I do not get the 'lvm' TYPE <code>/dev/dm*</code> storage device nodes listed by
<code>lsblk</code>.</p>
<p>In my case I get only the 'disk' and 'part' TYPE storage device nodes<br />
<code>/dev/sda</code>, <code>/dev/sda1</code>, and <code>/dev/sda2</code> listed by <code>lsblk</code><br />
so that in my case I would do only</p>
<pre><code># wipefs -a -f /dev/sda2
# wipefs -a -f /dev/sda1
# wipefs -a -f /dev/sda
</code></pre>
<p>to clean up the target disk.</p>
<p>To get <code>lsblk</code> included in the ReaR recovery system<br />
you may need to set in your /etc/rear/local.conf</p>
<pre><code>PROGS=( "${PROGS[@]}" lsblk )
</code></pre>
<p>Since<br />
<a href="https://github.com/rear/rear/commit/b4fd97fd47d8c15ca1383dd911ec018780dce77b">https://github.com/rear/rear/commit/b4fd97fd47d8c15ca1383dd911ec018780dce77b</a><br />
(which had happened after the ReaR 2.4 release in June 2018))<br />
<code>lsblk</code> is included in the recovery system by default.</p>
<h4 id="ccjung_commented_at_2019-03-29_1154"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-477971330">2019-03-29 11:54</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-29_1154" title="Permanent link">&para;</a></h4>
<p>@jsmeix<br />
Thanks for the detailed information.</p>
<p>I wasn't sure what was the correct way to run wipefs so I just ran the
following (the lower storage object):</p>
<pre><code>wipefs -a -f /dev/mapper/20017380033e70071
</code></pre>
<p>The LPAR has 16 GB of Memory and 10 CPUs. Is that enough to bootup?</p>
<p>It was able to restore but when I reboot the LPAR, I get the following
errors on bootup:</p>
<pre><code>FAILED] Failed to start Notify NFS peers of a restart.
See 'systemctl status rpc-statd-notify.service' for details.
[ OK ] Stopped YaST2 Firstboot.
[ OK ] Stopped LSB: Start the sapstartsrv.
[ OK ] Reached target Network is Online.
[ OK ] Reached target Remote File Systems.
[ OK ] Reached target System Time Synchronized.
[ OK ] Stopped YaST2 Second Stage.
[ OK ] Stopped target Basic System.
[ OK ] Reached target Sockets.
[ OK ] Stopped target System Initialization.
[FAILED] Failed to start Create Volatile Files and Directories.
See 'systemctl status systemd-tmpfiles-setup.service' for details.
[FAILED] Failed to start Update UTMP about System Boot/Shutdown.
See 'systemctl status systemd-update-utmp.service' for details.
[DEPEND] Dependency failed for Update UTMP about System Runlevel Changes.
[FAILED] Failed to start Tell Plymouth To Write Out Runtime Data.
See 'systemctl status plymouth-read-write.service' for details.
[FAILED] Failed to start Emergency Shell.
See 'systemctl status emergency.service' for details.
[DEPEND] Dependency failed for Emergency Mode.
[** ] (1 of 14) A start job is running fo...ce 254:17 (14min 16s / no limit)
</code></pre>
<p>Any idea what is causing this? Is it because I only ran wipefs on the
lower storage object?</p>
<p>Also, for the dd command do I run on all objects in the same order as
well like the wipefs?</p>
<p>dd if=/dev/zero of=/dev/mapper/20017380033e70071 bs=1M count=1000</p>
<h4 id="jsmeix_commented_at_2019-03-29_1337"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-478000132">2019-03-29 13:37</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-03-29_1337" title="Permanent link">&para;</a></h4>
<p>@suseusr168<br />
I can say nothing about booting issues with a PPC64LE PowerVM LPAR<br />
because I am not an IBM POWER user so that I cannot provide any<br />
real useful help in those areas - @schabrolles is our ReaR upstream
expert<br />
for IBM POWER in general and for booting a PPC64LE PowerVM LPAR in
particular.</p>
<p>I think when you only <code>wipefs</code> a lower-level storage object (e.g. a
whole disk)<br />
without <code>wipefs</code> each one of its higher-level storage objects (e.g. its
partitions),<br />
it could happen that <code>wipefs</code> on the lower-level storage object<br />
misses to clear out certain kind of signatures (magic strings)<br />
from its higher-level storage objects so that those missed<br />
signatures are still there and could cause issues later.</p>
<p>This is the reason behind why I recommend - to be on the safe side - to
run<br />
<code>wipefs</code> in reverse ordering on each storage object (listed by <code>lsblk</code>
as KNAME)<br />
starting from higher-level storage objects (like partitions)<br />
down to lower-level storage objects (like whole disks).</p>
<p>Because all existing storage objects on an already used target disk
are<br />
old, outdated, and useless and should be all completely overwritten by
the<br />
new storage objects that get created from scratch by "rear recover" on
that disk,<br />
it cannot cause harm if <code>wipefs</code> is run on more of those old storage
objects<br />
than what would be minimally needed to fully clear out the target disk.</p>
<p>In contrast when you use <code>dd if=/dev/zero of=/dev/whole_disk</code><br />
you zero out the whole disk from its very first byte to it very last
byte<br />
which implicitly zeroes out all bytes that belong to all its
higher-level<br />
storage objects so that <code>dd if=/dev/zero of=/dev/whole_disk</code><br />
should be the 100% fail-safe way to get any kind of unwanted<br />
remainders on an already used target disk out of the way, cf.<br />
<a href="https://github.com/rear/rear/issues/2019#issuecomment-476637491">https://github.com/rear/rear/issues/2019#issuecomment-476637491</a></p>
<p>@suseusr168<br />
when you use</p>
<pre><code>dd if=/dev/zero of=/dev/mapper/20017380033e70071 bs=1M count=1000
</code></pre>
<p>and then run "rear recover" does then reboot of the recreated LPAR work?</p>
<p>I ask because your<br />
<a href="https://github.com/rear/rear/issues/2019#issuecomment-476598723">https://github.com/rear/rear/issues/2019#issuecomment-476598723</a></p>
<pre><code>Everytime the disk layout recreation script failed,
I cleared the target disk with zeroes, reboot it
and the next restore attempt works.
</code></pre>
<p>indicates that when you did <code>dd if=/dev/zero of=/dev/whole_disk</code><br />
before "rear recover", then reboot of your recreated LPAR had worked.</p>
<h4 id="ccjung_commented_at_2019-03-29_1424"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-478016347">2019-03-29 14:24</a>:<a class="headerlink" href="#ccjung_commented_at_2019-03-29_1424" title="Permanent link">&para;</a></h4>
<p>@jsmeix<br />
Thanks for the info.</p>
<p>I might just use the dd command to zero it out, reboot and then restore
.</p>
<p>It is one command to type and less chance to make human errors.</p>
<h4 id="jsmeix_commented_at_2019-03-29_1449"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-478025694">2019-03-29 14:49</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-03-29_1449" title="Permanent link">&para;</a></h4>
<p>I added a new section<br />
"Prepare replacement hardware for disaster recovery" to<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<h4 id="jsmeix_commented_at_2019-04-03_1450"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-479522995">2019-04-03 14:50</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-04-03_1450" title="Permanent link">&para;</a></h4>
<p>According to<br />
<a href="https://github.com/rear/rear/issues/2019#issuecomment-478016347">https://github.com/rear/rear/issues/2019#issuecomment-478016347</a><br />
I think this issue is sufficiently answered so that I can close it.<br />
@suseusr168 if not I can of course reopen it.</p>
<h4 id="ccjung_commented_at_2019-04-03_1529"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-479539691">2019-04-03 15:29</a>:<a class="headerlink" href="#ccjung_commented_at_2019-04-03_1529" title="Permanent link">&para;</a></h4>
<p>@jsmeix ,<br />
We didn't have the test systems from last Wednesday till today to do any
testing.</p>
<p>Today, I did some more repetitive restore testing and I am seeing some
weird results.</p>
<p>Here was my steps for today:</p>
<ol>
<li>Zero out the OS target disk</li>
<li>Reboot</li>
<li>Do a Rear restore<br />
    I sometimes see /dev/sda or /dev/SIBMxxxx as the the target disk.</li>
</ol>
<p>If I reboot once or twice again, I see the correct target disk.</p>
<p>Last week, I just zero the disk once and was able to reboot and restore
several times.</p>
<ol>
<li>Zero target disk</li>
<li>Reboot</li>
<li>Do a Rear restore</li>
<li>Repeat steps 2 and step 3 several times with no problems</li>
</ol>
<p>Not sure what is the problem.</p>
<p>Can you reopen this issue again?</p>
<p>Thanks!</p>
<h4 id="ccjung_commented_at_2019-04-03_1632"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-479564434">2019-04-03 16:32</a>:<a class="headerlink" href="#ccjung_commented_at_2019-04-03_1632" title="Permanent link">&para;</a></h4>
<p>Getting different errors now (can't find the disk):<br />
The failures are at the end of the putty log.</p>
<p><a href="https://github.com/rear/rear/files/3039749/putty_10.253.196.17_20190403_091717.log">putty_10.253.196.17_20190403_091717.log</a></p>
<p>preferably with full debug information via '''rear -D recover'''</p>
<pre><code>===================='
+++ echo '2019-04-03 12:21:45.405365550 ERROR: 
====================
BUG in /usr/share/rear/lib/layout-functions.sh line 512:
'\''No device returned for major/minor 254:12'\''
--------------------
Please report this issue at https://github.com/rear/rear/issues
and include the relevant parts from /var/log/rear/rear-eniesdbp101p.log
preferably with full debug information via '\''rear -D recover'\''
===================='
2019-04-03 12:21:45.405365550 ERROR: 
====================
BUG in /usr/share/rear/lib/layout-functions.sh line 512:
'No device returned for major/minor 254:12'
--------------------
Please report this issue at https://github.com/rear/rear/issues
and include the relevant parts from /var/log/rear/rear-eniesdbp101p.log
preferably with full debug information via 'rear -D recover'
====================
+++ LogToSyslog 'ERROR: 
====================
BUG in /usr/share/rear/lib/layout-functions.sh line 512:
'\''No device returned for major/minor 254:12'\''
--------------------
Please report this issue at https://github.com/rear/rear/issues
and include the relevant parts from /var/log/rear/rear-eniesdbp101p.log
preferably with full debug information via '\''rear -D recover'\''
===================='
+++ logger -t rear -i 'ERROR: 
====================
BUG in /usr/share/rear/lib/layout-functions.sh line 512:
'\''No device returned for major/minor 254:12'\''
--------------------
Please report this issue at https://github.com/rear/rear/issues
and include the relevant parts from /var/log/rear/rear-eniesdbp101p.log
preferably with full debug information via '\''rear -D recover'\''
</code></pre>
<h4 id="ccjung_commented_at_2019-04-03_1848"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-479613396">2019-04-03 18:48</a>:<a class="headerlink" href="#ccjung_commented_at_2019-04-03_1848" title="Permanent link">&para;</a></h4>
<p>I used a new backup created today was able to bypass the error in the
previous post.</p>
<p>Here are the consistent results:</p>
<ol>
<li>Boot up LPAR and see diskrestore error</li>
<li>Clear the target OS disk</li>
<li>Shutdown/power up LPAR and see wrong disk mapping (eg. /dev/sda)</li>
<li>Shutdown/power up LPAR and see wrong disk mapping (eg.
    /dev/SIBM.xxx)</li>
<li>Shutdown/power up PLAR and see correct disk mapping (eg.
    /dev/mapper/Disk_Serial_Number</li>
<li>Able to restore backup</li>
</ol>
<p>I am not sure what happened from last week vs this week (same backup was
used for testing last week and this week).</p>
<p>Any suggestions on how to restore SLES12SP4 with one try instead of
rebooting several times to get the correct disk mapping in order to
restore?</p>
<p>Thank you!</p>
<h4 id="jsmeix_commented_at_2019-04-04_0802"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-479793466">2019-04-04 08:02</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-04-04_0802" title="Permanent link">&para;</a></h4>
<p>@dewagner1<br />
I think as long as you do not see the expected disk mapping like</p>
<pre><code>/dev/mapper/&lt;Disk_Serial_Number&gt;
</code></pre>
<p>but something different like <code>/dev/sda</code><br />
or even a <code>SIBM.xxx</code> named device<br />
things will not work.</p>
<p>According to your<br />
<a href="https://github.com/rear/rear/issues/2019#issuecomment-479613396">https://github.com/rear/rear/issues/2019#issuecomment-479613396</a><br />
it looks like some obscure timing related issue during system startup<br />
that sometimes you get the expected disk mapping<br />
and sometimes something different.</p>
<p>@schabrolles<br />
could you have a look here?<br />
Perhaps you have an idea what timing related issue<br />
during ReaR recovery system startup<br />
could cause such differences?</p>
<p>@dewagner1<br />
I assume when you shutdown/power up several times another<br />
LPAR with a pristine SLES 12 system you always get<br />
the expected disk mapping <code>/dev/mapper/&lt;Disk_Serial_Number&gt;</code><br />
any you never get unexpected disks like <code>/dev/sda</code><br />
or even a <code>SIBM.xxx</code> named device.</p>
<p>I.e. I would like to know if the unexpected disks only appear<br />
in case of a ReaR recovery system startup or if that also<br />
could happen with an original SLES 12 system.</p>
<h4 id="ccjung_commented_at_2019-04-04_1022"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-479840273">2019-04-04 10:22</a>:<a class="headerlink" href="#ccjung_commented_at_2019-04-04_1022" title="Permanent link">&para;</a></h4>
<p>@jsmeix<br />
The unexpected disk mapping occurs with both pristine and previously
used disk.</p>
<p>We haven't recently restored the backup to itself.</p>
<p>We restore the backup normally for the following:</p>
<ol>
<li>to clone a new server which has pristine disks</li>
<li>to test Disaster Recovery which will have previously used disks.</li>
</ol>
<p>Clearing out the previously used disk did help fix the diskrestore
script failures. But, we see the unexpected disk mapping twice before we
see the correct disk mapping on the third try.</p>
<p>Last week, after I zeroed out the used disk, I was able to see the
expected disk mapping and do a restore 5 times with no problems on 2
different LPARs using the same backup.</p>
<p>This week (using the same system and backup), after I zero out the used
disk, I see unexpected disk mapping. I had to shutdown/power up three
times. The third time is when I can see the expected disk mapping and do
the restore.</p>
<h4 id="jsmeix_commented_at_2019-04-04_1128"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-479859279">2019-04-04 11:28</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-04-04_1128" title="Permanent link">&para;</a></h4>
<p>@dewagner1<br />
I meant that I like to know if unexpected disks also appear sometimes<br />
when you boot such an LPAR with SLES 12 several times<br />
(when you boot a ReaR recovery system it is clear<br />
that the unexpected disks appear sometimes).</p>
<h4 id="ccjung_commented_at_2019-04-04_1354"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-479906555">2019-04-04 13:54</a>:<a class="headerlink" href="#ccjung_commented_at_2019-04-04_1354" title="Permanent link">&para;</a></h4>
<p>@jsmeix ,<br />
Do you mean boot up an existing LPAR with SLES12SP3?</p>
<h4 id="jsmeix_commented_at_2019-04-04_1415"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-479915204">2019-04-04 14:15</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-04-04_1415" title="Permanent link">&para;</a></h4>
<p>@dewagner1<br />
yes, of course not a production system.</p>
<p>You may for example use the same testing LPAR<br />
where you do your above "rear recover" tests.<br />
Do a successful "rear recover" to get a SLES 12 system<br />
onto your testing LPAR and then re-boot that recreated<br />
SLES 12 system several times and each time inspect it<br />
if during SLES 12 startup such unexpected disks also<br />
appear sometimes there.</p>
<p>I like to find out if the root cause is only inside the ReaR recovery
system<br />
or if something from outside is involved - in the latter case I would
expect<br />
that the unexpected disks also appear sometimes during SLES 12 startup.</p>
<h4 id="jsmeix_commented_at_2019-04-04_1418"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-479916489">2019-04-04 14:18</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-04-04_1418" title="Permanent link">&para;</a></h4>
<p>@dewagner1<br />
in
<a href="https://github.com/rear/rear/issues/2019#issuecomment-479613396">https://github.com/rear/rear/issues/2019#issuecomment-479613396</a><br />
I noticed you use meanwhile <code>SLES12SP4</code><br />
I had <code>SLES12 SP3</code> from
<a href="https://github.com/rear/rear/issues/2016">https://github.com/rear/rear/issues/2016</a><br />
I don't care about the SLES12 service pack version.<br />
Use <code>SLES12 SP3</code> or <code>SLES12 SP4</code> as you like.</p>
<p>I removed <code>SP3</code> in my above comments.</p>
<h4 id="ccjung_commented_at_2019-04-04_1605"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-479960881">2019-04-04 16:05</a>:<a class="headerlink" href="#ccjung_commented_at_2019-04-04_1605" title="Permanent link">&para;</a></h4>
<p>@jsmeix,<br />
Do you mean after the restore, check if there are any unexpected disk
mapping in the /dev/mapper directory?</p>
<h4 id="ccjung_commented_at_2019-04-04_1609"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-479962170">2019-04-04 16:09</a>:<a class="headerlink" href="#ccjung_commented_at_2019-04-04_1609" title="Permanent link">&para;</a></h4>
<p>I just did a restore and I don't see any SIBM or sda unexpected disk
mappings.</p>
<pre><code>eniesdbp001p:/dev/mapper # ls -al
total 0
drwxr-xr-x  2 root root     840 Apr  4 11:20 .
drwxr-xr-x 23 root root    6660 Apr  4 11:20 ..
lrwxrwxrwx  1 root root       7 Apr  4 11:20 20017380033e70071 -&gt; ../dm-0
lrwxrwxrwx  1 root root       7 Apr  4 11:20 20017380033e70071-part1 -&gt; ../dm-2
lrwxrwxrwx  1 root root       7 Apr  4 11:20 20017380033e70071-part2 -&gt; ../dm-3
lrwxrwxrwx  1 root root       7 Apr  4 11:20 20017380033e70071-part3 -&gt; ../dm-4
lrwxrwxrwx  1 root root       7 Apr  4 11:20 20017380033e70071_part1 -&gt; ../dm-2
lrwxrwxrwx  1 root root       7 Apr  4 11:20 20017380033e70071_part2 -&gt; ../dm-3
lrwxrwxrwx  1 root root       7 Apr  4 11:20 20017380033e70071_part3 -&gt; ../dm-4
lrwxrwxrwx  1 root root       7 Apr  4 11:20 20017380033e70091 -&gt; ../dm-1
lrwxrwxrwx  1 root root       7 Apr  4 11:20 20017380033e70092 -&gt; ../dm-5
lrwxrwxrwx  1 root root       7 Apr  4 11:20 20017380033e70093 -&gt; ../dm-6
lrwxrwxrwx  1 root root       7 Apr  4 11:20 20017380033e70094 -&gt; ../dm-9
lrwxrwxrwx  1 root root       8 Apr  4 11:20 20017380033e70095 -&gt; ../dm-10
lrwxrwxrwx  1 root root       8 Apr  4 11:20 20017380033e70096 -&gt; ../dm-12
lrwxrwxrwx  1 root root       8 Apr  4 11:20 20017380033e70097 -&gt; ../dm-13
lrwxrwxrwx  1 root root       8 Apr  4 11:20 20017380033e70098 -&gt; ../dm-14
lrwxrwxrwx  1 root root       8 Apr  4 11:20 20017380033e70099 -&gt; ../dm-15
lrwxrwxrwx  1 root root       8 Apr  4 11:20 20017380033e7009a -&gt; ../dm-17
lrwxrwxrwx  1 root root       8 Apr  4 11:20 20017380033e7009b -&gt; ../dm-18
lrwxrwxrwx  1 root root       7 Apr  4 11:20 20017380033e700a0 -&gt; ../dm-7
lrwxrwxrwx  1 root root       7 Apr  4 11:20 20017380033e700a1 -&gt; ../dm-8
crw-------  1 root root 10, 236 Apr  4 11:20 control
lrwxrwxrwx  1 root root       8 Apr  4 11:20 data_vg-data_lv -&gt; ../dm-20
lrwxrwxrwx  1 root root       8 Apr  4 11:20 iso_vg-iso_lv -&gt; ../dm-27
lrwxrwxrwx  1 root root       8 Apr  4 11:20 log_vg-log_lv -&gt; ../dm-34
lrwxrwxrwx  1 root root       8 Apr  4 11:20 sap_vg-sap_lv -&gt; ../dm-26
lrwxrwxrwx  1 root root       8 Apr  4 11:20 shared_vg-shared_lv -&gt; ../dm-35
lrwxrwxrwx  1 root root       8 Apr  4 11:20 system_vg-home_lv -&gt; ../dm-28
lrwxrwxrwx  1 root root       8 Apr  4 11:20 system_vg-opt_lv -&gt; ../dm-29
lrwxrwxrwx  1 root root       8 Apr  4 11:20 system_vg-root_lv -&gt; ../dm-16
lrwxrwxrwx  1 root root       8 Apr  4 11:20 system_vg-support_lv -&gt; ../dm-30
lrwxrwxrwx  1 root root       8 Apr  4 11:20 system_vg-swap_lv -&gt; ../dm-31
lrwxrwxrwx  1 root root       8 Apr  4 11:20 system_vg-syslogs_lv -&gt; ../dm-32
lrwxrwxrwx  1 root root       8 Apr  4 11:20 system_vg-tmp_lv -&gt; ../dm-33
lrwxrwxrwx  1 root root       8 Apr  4 11:20 system_vg-usr_lv -&gt; ../dm-19
lrwxrwxrwx  1 root root       8 Apr  4 11:20 system_vg-var_lv -&gt; ../dm-11
lrwxrwxrwx  1 root root       8 Apr  4 11:20 tools_vg-commv_lv -&gt; ../dm-21
lrwxrwxrwx  1 root root       8 Apr  4 11:20 tools_vg-iem_lv -&gt; ../dm-22
lrwxrwxrwx  1 root root       8 Apr  4 11:20 tools_vg-itm_lv -&gt; ../dm-23
lrwxrwxrwx  1 root root       8 Apr  4 11:20 tools_vg-splunk_lv -&gt; ../dm-24
lrwxrwxrwx  1 root root       8 Apr  4 11:20 tools_vg-teamq_lv -&gt; ../dm-25

eniesdbp001p:/dev/mapper # multipath -ll
20017380033e70092 dm-5 IBM,2810XIV
size=64G features='1 queue_if_no_path' hwhandler='1 alua' wp=rw
`-+- policy='service-time 0' prio=50 status=active
  |- 2:0:0:3  sdc  8:32   active ready running
  |- 2:0:1:3  sdf  8:80   active ready running
  |- 3:0:0:3  sdi  8:128  active ready running
  `- 3:0:1:3  sdl  8:176  active ready running
20017380033e70091 dm-1 IBM,2810XIV
size=32G features='1 queue_if_no_path' hwhandler='1 alua' wp=rw
`-+- policy='service-time 0' prio=50 status=active
  |- 2:0:0:2  sdb  8:16   active ready running
  |- 2:0:1:2  sde  8:64   active ready running
  |- 3:0:0:2  sdh  8:112  active ready running
  `- 3:0:1:2  sdk  8:160  active ready running
20017380033e7009b dm-18 IBM,2810XIV
size=240G features='1 queue_if_no_path' hwhandler='1 alua' wp=rw
`-+- policy='service-time 0' prio=50 status=active
  |- 4:0:0:9  sdu  65:64  active ready running
  |- 4:0:1:9  sdaf 65:240 active ready running
  |- 5:0:0:9  sdaq 66:160 active ready running
  `- 5:0:1:9  sdbb 67:80  active ready running
20017380033e70071 dm-0 IBM,2810XIV
size=112G features='1 queue_if_no_path' hwhandler='1 alua' wp=rw
`-+- policy='service-time 0' prio=50 status=active
  |- 2:0:0:1  sda  8:0    active ready running
  |- 2:0:1:1  sdd  8:48   active ready running
  |- 3:0:0:1  sdg  8:96   active ready running
  `- 3:0:1:1  sdj  8:144  active ready running
20017380033e7009a dm-17 IBM,2810XIV
size=240G features='1 queue_if_no_path' hwhandler='1 alua' wp=rw
`-+- policy='service-time 0' prio=50 status=active
  |- 4:0:0:8  sdt  65:48  active ready running
  |- 4:0:1:8  sdae 65:224 active ready running
  |- 5:0:0:8  sdap 66:144 active ready running
  `- 5:0:1:8  sdba 67:64  active ready running
20017380033e70099 dm-15 IBM,2810XIV
size=240G features='1 queue_if_no_path' hwhandler='1 alua' wp=rw
`-+- policy='service-time 0' prio=50 status=active
  |- 4:0:0:7  sds  65:32  active ready running
  |- 4:0:1:7  sdad 65:208 active ready running
  |- 5:0:0:7  sdao 66:128 active ready running
  `- 5:0:1:7  sdaz 67:48  active ready running
20017380033e70098 dm-14 IBM,2810XIV
size=240G features='1 queue_if_no_path' hwhandler='1 alua' wp=rw
`-+- policy='service-time 0' prio=50 status=active
  |- 4:0:0:6  sdr  65:16  active ready running
  |- 4:0:1:6  sdac 65:192 active ready running
  |- 5:0:0:6  sdan 66:112 active ready running
  `- 5:0:1:6  sday 67:32  active ready running
20017380033e70097 dm-13 IBM,2810XIV
size=96G features='1 queue_if_no_path' hwhandler='1 alua' wp=rw
`-+- policy='service-time 0' prio=50 status=active
  |- 4:0:0:5  sdq  65:0   active ready running
  |- 4:0:1:5  sdab 65:176 active ready running
  |- 5:0:0:5  sdam 66:96  active ready running
  `- 5:0:1:5  sdax 67:16  active ready running
20017380033e70096 dm-12 IBM,2810XIV
size=96G features='1 queue_if_no_path' hwhandler='1 alua' wp=rw
`-+- policy='service-time 0' prio=50 status=active
  |- 4:0:0:4  sdp  8:240  active ready running
  |- 4:0:1:4  sdaa 65:160 active ready running
  |- 5:0:0:4  sdal 66:80  active ready running
  `- 5:0:1:4  sdaw 67:0   active ready running
20017380033e700a1 dm-8 IBM,2810XIV
size=385G features='1 queue_if_no_path' hwhandler='1 alua' wp=rw
`-+- policy='service-time 0' prio=50 status=active
  |- 4:0:0:15 sdw  65:96  active ready running
  |- 4:0:1:15 sdah 66:16  active ready running
  |- 5:0:0:15 sdas 66:192 active ready running
  `- 5:0:1:15 sdbd 67:112 active ready running
20017380033e70095 dm-10 IBM,2810XIV
size=96G features='1 queue_if_no_path' hwhandler='1 alua' wp=rw
`-+- policy='service-time 0' prio=50 status=active
  |- 4:0:0:3  sdo  8:224  active ready running
  |- 4:0:1:3  sdz  65:144 active ready running
  |- 5:0:0:3  sdak 66:64  active ready running
  `- 5:0:1:3  sdav 66:240 active ready running
20017380033e700a0 dm-7 IBM,2810XIV
size=385G features='1 queue_if_no_path' hwhandler='1 alua' wp=rw
`-+- policy='service-time 0' prio=50 status=active
  |- 4:0:0:14 sdv  65:80  active ready running
  |- 4:0:1:14 sdag 66:0   active ready running
  |- 5:0:0:14 sdar 66:176 active ready running
  `- 5:0:1:14 sdbc 67:96  active ready running
20017380033e70094 dm-9 IBM,2810XIV
size=96G features='1 queue_if_no_path' hwhandler='1 alua' wp=rw
`-+- policy='service-time 0' prio=50 status=active
  |- 4:0:0:2  sdn  8:208  active ready running
  |- 4:0:1:2  sdy  65:128 active ready running
  |- 5:0:0:2  sdaj 66:48  active ready running
  `- 5:0:1:2  sdau 66:224 active ready running
20017380033e70093 dm-6 IBM,2810XIV
size=64G features='1 queue_if_no_path' hwhandler='1 alua' wp=rw
`-+- policy='service-time 0' prio=50 status=active
  |- 4:0:0:1  sdm  8:192  active ready running
  |- 4:0:1:1  sdx  65:112 active ready running
  |- 5:0:0:1  sdai 66:32  active ready running
  `- 5:0:1:1  sdat 66:208 active ready running
</code></pre>
<h4 id="ccjung_commented_at_2019-04-05_1813"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-480372697">2019-04-05 18:13</a>:<a class="headerlink" href="#ccjung_commented_at_2019-04-05_1813" title="Permanent link">&para;</a></h4>
<p>We have put this workaround in the /etc/lvm/lvm.conf to exclude the SIBM
disk.</p>
<pre><code>filter = [ "r|/dev/.*/by-path/.*|", "r|/dev/.*/by-id/.*|", "r|/dev/fd.*|", "r|/dev/cdrom|", "r|/dev/mapper/SIBM|", "a/.*/" ]
</code></pre>
<p>We still sometimes see the unexpected disk mappings using SIBM names.</p>
<p>Should we not see SIBM disk mappings when we restore?</p>
<h4 id="schabrolles_commented_at_2019-04-07_0816"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-480569345">2019-04-07 08:16</a>:<a class="headerlink" href="#schabrolles_commented_at_2019-04-07_0816" title="Permanent link">&para;</a></h4>
<p>@suseusr168</p>
<p>could you try to run the following command just before running
<code>rear recover</code></p>
<pre><code>/sbin/modprobe -a scsi_dh_alua scsi_dh_emc scsi_dh_rdac dm-multipath
</code></pre>
<p>I never had any <code>/dev/mapper/SIBM....</code> on my test environment. You
should avoid recovering on those devices when rear proposes a list of
potential device to recover your system (recover on a different system).
<code>/dev/mapper/SIBM....</code> seems to be a single path that was not grouped
with other paths that point to the same target device (I don't know
why). It could be related to the Storage you are using (XiV) or SAN
configuration (dual fabric).</p>
<p>I just want to verify if loading additional scsi modules could help to
avoid this situation.<br />
(those modules are loaded by SLES12 when multipath is loaded by
systemd... that's why I think we should try it)</p>
<h4 id="dewagner1_commented_at_2019-04-08_1112"><img src="https://avatars.githubusercontent.com/u/42152522?v=4" width="50"><a href="https://github.com/dewagner1">dewagner1</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-480788763">2019-04-08 11:12</a>:<a class="headerlink" href="#dewagner1_commented_at_2019-04-08_1112" title="Permanent link">&para;</a></h4>
<p>Hi Sebastian,<br />
My colleague is on vacation for 2 weeks and I will be continuing with
this<br />
issue.</p>
<p>I ran the command you suggested below. - /sbin/modprobe -a
scsi_dh_alua<br />
scsi_dh_emc scsi_dh_rdac dm-multipath</p>
<p>The mapping this time was correct but should we still see the SIBM
devices<br />
in the multipath device list?</p>
<p>The following line is in /etc/lvm/lvm.conf. Should this prevent us
from<br />
seeing the SIBM devices in the multipath list?<br />
filter = [ "r|/dev/.<em>/by-path/.</em>|", "r|/dev/.<em>/by-id/.</em>|",
"r|/dev/fd.<em>|",<br />
"r|/dev/cdrom|", "r|/dev/mapper/SIBM|", "a/.</em>/" ]<br />
Is it true that the device could not be mapped if it does not appear in
the<br />
multipath device list?</p>
<h1 id="console_output_1">Console output<a class="headerlink" href="#console_output_1" title="Permanent link">&para;</a></h1>
<p>RESCUE eniesdbp101p:~ # /sbin/modprobe -a scsi_dh_alua
scsi_dh_emc<br />
scsi_dh_rdac dm-multipath<br />
RESCUE eniesdbp101p:~ # rear recover<br />
Relax-and-Recover 2.4-git.3227.0f1f9dbb.master / 2019-02-10<br />
Running rear recover (PID 13528)<br />
Using log file: /var/log/rear/rear-eniesdbp101p.log<br />
Running workflow recover within the ReaR rescue/recovery system<br />
Using backup archive<br />
'/tmp/rear.EXnVw8e6ixVRgqf/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz'<br />
Will do driver migration (recreating initramfs/initrd)<br />
Calculating backup archive size<br />
Backup archive size is 2598.19M (compressed)<br />
Setting up multipathing<br />
Activating multipath<br />
multipath activated<br />
Starting multipath daemon<br />
multipathd started<br />
Listing multipath device found<br />
20017380033e7008a dm-16 IBM,2810XIV size=240G<br />
20017380033e70075 dm-0 ##,## size=64G<br />
20017380033e70089 dm-15 IBM,2810XIV size=240G<br />
SIBM_2810XIV_78033E7008C dm-18 IBM,2810XIV size=240G<br />
SIBM_2810XIV_78033E70084 dm-2 ##,## size=385G<br />
20017380033e70084 dm-13 IBM,2810XIV size=385G<br />
20017380033e70118 dm-11 IBM,2810XIV size=16G<br />
SIBM_2810XIV_78033E70116 dm-1 ##,## size=16G<br />
20017380033e70083 dm-12 IBM,2810XIV size=385G<br />
20017380033e70117 dm-10 IBM,2810XIV size=16G<br />
SIBM_2810XIV_78033E70115 dm-19 IBM,2810XIV size=16G<br />
20017380033e7007a dm-14 IBM,2810XIV size=96G<br />
20017380033e70116 dm-9 IBM,2810XIV size=16G<br />
20017380033e70079 dm-4 IBM,2810XIV size=96G<br />
20017380033e70115 dm-8 IBM,2810XIV size=16G<br />
20017380033e70078 dm-17 IBM,2810XIV size=96G<br />
20017380033e7008c dm-6 IBM,2810XIV size=240G<br />
20017380033e70077 dm-3 IBM,2810XIV size=96G<br />
20017380033e7008b dm-5 IBM,2810XIV size=240G<br />
20017380033e70076 dm-7 IBM,2810XIV size=64G<br />
Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than
one<br />
with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/mapper/20017380033e70072 (same size) for<br />
recreating /dev/mapper/200173800348802c6<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802c6 =&gt; /dev/mapper/20017380033e70072</p>
<p>Confirm or edit the disk mapping</p>
<ol>
<li>Confirm disk mapping and continue 'rear recover'</li>
<li>n/a</li>
<li>Edit disk mapping (/var/lib/rear/layout/disk_mappings)</li>
<li>Use Relax-and-Recover shell and return back to here</li>
<li>Abort 'rear recover'</li>
</ol>
<p>Dan Wagner<br />
Senior Enterprise System Specialist</p>
<p>(717) 580-3844 Mobile<br />
(717) 409-5858 Office<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;">&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;</a></p>
<p>IBM Services</p>
<p>From: "Sbastien Chabrolles" <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
To: rear/rear <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
Cc: dewagner1 <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;">&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;</a>, Mention<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
Date: 04/07/2019 04:16 AM<br />
Subject: Re: [rear/rear] Update to closed issue #2016 (Unable to
clone<br />
Power lpar from rear backup SLES 12) (#2019)</p>
<p>@suseusr168</p>
<p>could you try to run the following command just before running rear
recover</p>
<p>/sbin/modprobe -a scsi_dh_alua scsi_dh_emc scsi_dh_rdac
dm-multipath</p>
<p>I never had any /dev/mapper/SIBM.... on my test environment. You
should<br />
avoid recovering on those devices when rear proposes a list of
potential<br />
device to recover your system (recover on a different system).<br />
/dev/mapper/SIBM.... seems to be a single path that was not grouped
with<br />
other paths that point to the same target device (I don't know why).
It<br />
could be related to the Storage you are using (XiV) or SAN
configuration<br />
(dual fabric).</p>
<p>I just want to verify if loading additional scsi modules could help to<br />
avoid this situation.<br />
(those modules are loaded by SLES12 when multipath is loaded by
systemd...<br />
that's why I think we should try it)</p>
<p><br />
You are receiving this because you were mentioned.<br />
Reply to this email directly, view it on GitHub, or mute the thread.</p>
<h4 id="schabrolles_commented_at_2019-04-11_1952"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-482281167">2019-04-11 19:52</a>:<a class="headerlink" href="#schabrolles_commented_at_2019-04-11_1952" title="Permanent link">&para;</a></h4>
<p>@dewagner1 @suseusr168</p>
<p>If you still see SIBM devices, this mean that loading the additional
scsi modules does not help here.</p>
<p>From my point of view, you should not have any SIBM devices in the
multipath list. But you have and I still dont know why and cant
reproduce it in my lab.</p>
<p>The line in the lvm.conf file help to not detect any lvm device from the
SIBM device.</p>
<p>My recommendations is to check the binding proposed by rear and correct
it if it proposes any SIBM device as target for restoration.</p>
<p>Tell me if you can restore in this condition and if after reboot on the
real disk if you still see any SIBM devices (<code>multipath -ll</code>)</p>
<h4 id="jsmeix_commented_at_2019-04-12_0811"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-482482002">2019-04-12 08:11</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-04-12_0811" title="Permanent link">&para;</a></h4>
<p>Regarding @schabrolles <code>multiparty -ll</code><br />
I like to suggest<br />
<a href="https://en.wikipedia.org/wiki/(You_Gotta)_Fight_for_Your_Right_(To_Party!)">https://en.wikipedia.org/wiki/(You_Gotta)_Fight_for_Your_Right_(To_Party!)</a><br />
on this sunny Friday morning - just before the weekend ;-)<br />
(SCNR)</p>
<p>Seriously:<br />
Does <code>multiparty</code> really exists or is it a typo?</p>
<h4 id="schabrolles_commented_at_2019-04-12_0822"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-482485265">2019-04-12 08:22</a>:<a class="headerlink" href="#schabrolles_commented_at_2019-04-12_0822" title="Permanent link">&para;</a></h4>
<p>:D<br />
@jsmeix, you are right !!! it is <code>multipath -ll</code><br />
It's because I used my Iphone to answer yesterday evening... the
auto-corrector change automatically multipath to multiparty :)</p>
<h4 id="jsmeix_commented_at_2019-04-12_0850"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-482493829">2019-04-12 08:50</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-04-12_0850" title="Permanent link">&para;</a></h4>
<p>@schabrolles<br />
interesting to see how communication with an iPhone "in between"
actually works.</p>
<p>I assume there is no real difference when you use another product<br />
from another one of those well known companies who pretend<br />
to "care for" their users with various "needful services", cf.<br />
<a href="https://en.wikipedia.org/wiki/Needful_Things">https://en.wikipedia.org/wiki/Needful_Things</a></p>
<p>Enjoy the party on the weekend!</p>
<h4 id="jsmeix_commented_at_2019-04-12_0857"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-482496005">2019-04-12 08:57</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-04-12_0857" title="Permanent link">&para;</a></h4>
<p>It seems the addressee in<br />
<a href="https://github.com/rear/rear/issues/2019#issuecomment-482281167">https://github.com/rear/rear/issues/2019#issuecomment-482281167</a><br />
also got wrong:<br />
It was <code>@dagwieers</code> - I corrected it to <code>@dewagner1 @suseusr168</code><br />
plus the <code>multipath -ll</code> typo fix.</p>
<h4 id="dewagner1_commented_at_2019-04-12_1238"><img src="https://avatars.githubusercontent.com/u/42152522?v=4" width="50"><a href="https://github.com/dewagner1">dewagner1</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-482558971">2019-04-12 12:38</a>:<a class="headerlink" href="#dewagner1_commented_at_2019-04-12_1238" title="Permanent link">&para;</a></h4>
<p>Sebastian,<br />
I have included screen captures of my most recent tests.</p>
<p>The SIBM devices aren't always discovered during the rear restore and
they<br />
do not exist after a restore.</p>
<p>If the wrong device is mapped, I have been able to edit the file,
correct<br />
the mapping and successfully restore.</p>
<p>I have also included another issue which we have seen occasionally.
After<br />
the filesystems are created and the restore starts, we get chown
failures.</p>
<p>Dan Wagner<br />
Senior Enterprise System Specialist</p>
<p>(717) 580-3844 Mobile<br />
(717) 409-5858 Office<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;">&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;</a></p>
<p>IBM Services</p>
<p>From: "Sbastien Chabrolles" <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
To: rear/rear <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
Cc: dewagner1 <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;">&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;</a>, Mention<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
Date: 04/11/2019 03:56 PM<br />
Subject: Re: [rear/rear] Update to closed issue #2016 (Unable to
clone<br />
Power lpar from rear backup SLES 12) (#2019)</p>
<p>@dagwieers</p>
<p>If you still see SIBM devices, this mean that loading the additional
scsi<br />
modules does not help here.</p>
<p>From my point of view, you should not have any SIBM devices in the<br />
multipath list. But you have and I still dont know why and cant
reproduce<br />
it in my lab.</p>
<p>The line in the lvm.conf file help to not detect any lvm device from
the<br />
SIBM device.</p>
<p>My recommendations is to check the binding proposed by rear and correct
it<br />
if it proposes any SIBM device as target for restoration.</p>
<p>Tell me if you can restore in this condition and if after reboot on
the<br />
real disk if you still see any SIBM devices (multiparty -ll)</p>
<p><br />
You are receiving this because you were mentioned.<br />
Reply to this email directly, view it on GitHub, or mute the thread.</p>
<h4 id="dewagner1_commented_at_2019-04-12_1240"><img src="https://avatars.githubusercontent.com/u/42152522?v=4" width="50"><a href="https://github.com/dewagner1">dewagner1</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-482559412">2019-04-12 12:40</a>:<a class="headerlink" href="#dewagner1_commented_at_2019-04-12_1240" title="Permanent link">&para;</a></h4>
<p>I forgot to include the attachment</p>
<p>(See attached file: Rear Testing 20190412.txt)</p>
<p>Dan Wagner<br />
Senior Enterprise System Specialist</p>
<p>(717) 580-3844 Mobile<br />
(717) 409-5858 Office<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;">&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;</a></p>
<p>IBM Services</p>
<p>From: Dan Wagner/Mechanicsburg/Contr/IBM<br />
To: rear/rear &lt;reply<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#43;&#48;&#50;&#56;&#51;&#51;&#50;&#52;&#97;&#99;&#55;&#53;&#98;&#49;&#50;&#53;&#102;&#99;&#101;&#98;&#56;&#55;&#101;&#49;&#102;&#49;&#55;&#53;&#57;&#53;&#57;&#56;&#49;&#57;&#48;&#97;&#101;&#101;&#56;&#56;&#49;&#99;&#98;&#98;&#49;&#56;&#97;&#51;&#51;&#57;&#50;&#99;&#101;&#98;&#97;&#98;&#99;&#99;&#100;&#55;&#101;&#57;&#50;&#97;&#49;&#54;&#57;&#99;&#101;&#49;&#55;&#100;&#101;&#100;&#99;&#51;&#56;&#64;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#43;&#48;&#50;&#56;&#51;&#51;&#50;&#52;&#97;&#99;&#55;&#53;&#98;&#49;&#50;&#53;&#102;&#99;&#101;&#98;&#56;&#55;&#101;&#49;&#102;&#49;&#55;&#53;&#57;&#53;&#57;&#56;&#49;&#57;&#48;&#97;&#101;&#101;&#56;&#56;&#49;&#99;&#98;&#98;&#49;&#56;&#97;&#51;&#51;&#57;&#50;&#99;&#101;&#98;&#97;&#98;&#99;&#99;&#100;&#55;&#101;&#57;&#50;&#97;&#49;&#54;&#57;&#99;&#101;&#49;&#55;&#100;&#101;&#100;&#99;&#51;&#56;&#64;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a>&gt;<br />
Cc: Mention <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a>, rear/rear<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
Date: 04/12/2019 08:38 AM<br />
Subject: Re: [rear/rear] Update to closed issue #2016 (Unable to
clone<br />
Power lpar from rear backup SLES 12) (#2019)</p>
<p>Sebastian,<br />
I have included screen captures of my most recent tests.</p>
<p>The SIBM devices aren't always discovered during the rear restore and
they<br />
do not exist after a restore.</p>
<p>If the wrong device is mapped, I have been able to edit the file,
correct<br />
the mapping and successfully restore.</p>
<p>I have also included another issue which we have seen occasionally.
After<br />
the filesystems are created and the restore starts, we get chown
failures.</p>
<p>Dan Wagner<br />
Senior Enterprise System Specialist</p>
<p>(717) 580-3844 Mobile<br />
(717) 409-5858 Office<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;">&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;</a></p>
<p>IBM Services</p>
<p>From: "Sbastien Chabrolles" <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
To: rear/rear <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#114;&#101;&#97;&#114;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
Cc: dewagner1 <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;">&#100;&#119;&#97;&#103;&#110;&#101;&#114;&#49;&#64;&#117;&#115;&#46;&#105;&#98;&#109;&#46;&#99;&#111;&#109;</a>, Mention<br />
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#109;&#101;&#110;&#116;&#105;&#111;&#110;&#64;&#110;&#111;&#114;&#101;&#112;&#108;&#121;&#46;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
Date: 04/11/2019 03:56 PM<br />
Subject: Re: [rear/rear] Update to closed issue #2016 (Unable to
clone<br />
Power lpar from rear backup SLES 12) (#2019)</p>
<p>@dagwieers</p>
<p>If you still see SIBM devices, this mean that loading the additional
scsi<br />
modules does not help here.</p>
<p>From my point of view, you should not have any SIBM devices in the<br />
multipath list. But you have and I still dont know why and cant
reproduce<br />
it in my lab.</p>
<p>The line in the lvm.conf file help to not detect any lvm device from
the<br />
SIBM device.</p>
<p>My recommendations is to check the binding proposed by rear and correct
it<br />
if it proposes any SIBM device as target for restoration.</p>
<p>Tell me if you can restore in this condition and if after reboot on
the<br />
real disk if you still see any SIBM devices (multiparty -ll)</p>
<p><br />
You are receiving this because you were mentioned.<br />
Reply to this email directly, view it on GitHub, or mute the thread.</p>
<p>Search for "#@"</p>
<p>You will find<br />
#@ First Activation<br />
This activation was used to wipe the disk with dd<br />
SIBM multipath devices were discovered<br />
Rear mapped the correct disk<br />
#@ Second Activation<br />
SIBM multiapth devices were NOT discovered<br />
Rear mapped the correct disk<br />
This activation did not work due to chown failures<br />
Wiped disk with dd and tried again<br />
#@ Third Activation<br />
SIBM multipath devices were discovered<br />
Rear mapped the correct disk<br />
This activation completed successfully<br />
#@ After final reboot<br />
After the final reboot there is no indication of SIBM devices</p>
<p>Rear mapped the correct disk in all activations above.<br />
There are still cases where rear will select /dev/sda or SIBM devices
but<br />
it seems to have become less frequent</p>
<h1 id="first_activation">#@ First Activation<a class="headerlink" href="#first_activation" title="Permanent link">&para;</a></h1>
<p>SIBM multipath devices discovered<br />
Rear selected correct disk<br />
wipe the disk with dd</p>
<pre><code>                         GNU GRUB  version 2.02
</code></pre>
<p>+----------------------------------------------------------------------------+<br />
|*Relax-and-Recover |<br />
| |<br />
| |<br />
| |<br />
| |<br />
+----------------------------------------------------------------------------+</p>
<pre><code>  Use the ^ and v keys to select which entry is highlighted.
  Press enter to boot the selected OS, `e' to edit the commands
  before booting or `c' for a command-line.
</code></pre>
<p>OF stdout device is: /vdevice/vty@30000000<br />
Preparing to boot Linux version 4.12.14-95.6-default (geeko@buildhost)
(gcc version 4.8.5 (SUSE Linux) ) #1 SMP Thu Jan 17 06:04:39 UTC 2019
(6af4ef8)<br />
Detected machine type: 0000000000000101<br />
command line: BOOT_IMAGE=/kernel root=/dev/ram0 selinux=0<br />
Max number of cores passed to firmware: 256 (NR_CPUS = 2048)<br />
Calling ibm,client-architecture-support...-<br />
Elapsed time since release of system processors: 127901 mins 6 secs<br />
Welcome to GRUB!</p>
<h2 id="of_stdout_device_is_vdevicevty30000000_preparing_to_boot_linux_version_41214-956-default_geekobuildhost_gcc_version_485_suse_linux_1_smp_thu_jan_17_060439_utc_2019_6af4ef8_detected_machine_type_0000000000000101_command_line_boot_imagekernel_rootdevram0_selinux0_max_number_of_cores_passed_to_firmware_256_nr_cpus_2048_calling_ibmclient-architecture-support_done_memory_layout_at_init_memory_limit_0000000000000000_16_mb_aligned_alloc_bottom_000000000f4d0000_alloc_top_0000000020000000_alloc_top_hi_0000000020000000_rmo_top_0000000020000000_ram_top_0000000020000000_instantiating_rtas_at_0x000000001eca0000_done_prom_hold_cpus_skipped_copying_of_device_tree_building_dt_strings_building_dt_structure_device_tree_strings_0x000000000f4e0000_-_0x000000000f4e1751_device_tree_struct_0x000000000f4f0000_-_0x000000000f520000_quiescing_open_firmware_booting_linux_via_start_0x000000000a6f0000_page_sizes_from_device-tree_base_shift12_shift12_sllp0x0000_avpnm0x00000000_tlbiel1_penc0_base_shift12_shift16_sllp0x0000_avpnm0x00000000_tlbiel1_penc7_base_shift12_shift24_sllp0x0000_avpnm0x00000000_tlbiel1_penc56_base_shift16_shift16_sllp0x0110_avpnm0x00000000_tlbiel1_penc1_base_shift16_shift24_sllp0x0110_avpnm0x00000000_tlbiel1_penc8_base_shift24_shift24_sllp0x0100_avpnm0x00000001_tlbiel0_penc0_base_shift34_shift34_sllp0x0120_avpnm0x000007ff_tlbiel0_penc3_using_1tb_segments_initializing_hash_mmu_with_slb_linux_version_41214-956-default_geekobuildhost_gcc_version_485_suse_linux_1_smp_thu_jan_17_060439_utc_2019_6af4ef8_found_initrd_at_0xc00000000c6000000xc00000000f4cfeda_using_pseries_machine_description_bootconsole_udbg0_enabled_partition_configured_for_96_cpus_cpu_maps_initialized_for_8_threads_per_core_-_smp_release_cpus_spinning_secondaries_31_-_smp_release_cpus">OF stdout device is: /vdevice/vty@30000000 Preparing to boot Linux version 4.12.14-95.6-default (geeko@buildhost) (gcc version 4.8.5 (SUSE Linux) ) #1 SMP Thu Jan 17 06:04:39 UTC 2019 (6af4ef8) Detected machine type: 0000000000000101 command line: BOOT_IMAGE=/kernel root=/dev/ram0 selinux=0 Max number of cores passed to firmware: 256 (NR_CPUS = 2048) Calling ibm,client-architecture-support... done memory layout at init: memory_limit : 0000000000000000 (16 MB aligned) alloc_bottom : 000000000f4d0000 alloc_top : 0000000020000000 alloc_top_hi : 0000000020000000 rmo_top : 0000000020000000 ram_top : 0000000020000000 instantiating rtas at 0x000000001eca0000... done prom_hold_cpus: skipped copying OF device tree... Building dt strings... Building dt structure... Device tree strings 0x000000000f4e0000 -&gt; 0x000000000f4e1751 Device tree struct 0x000000000f4f0000 -&gt; 0x000000000f520000 Quiescing Open Firmware ... Booting Linux via __start() @ 0x000000000a6f0000 ... Page sizes from device-tree: base_shift=12: shift=12, sllp=0x0000, avpnm=0x00000000, tlbiel=1, penc=0 base_shift=12: shift=16, sllp=0x0000, avpnm=0x00000000, tlbiel=1, penc=7 base_shift=12: shift=24, sllp=0x0000, avpnm=0x00000000, tlbiel=1, penc=56 base_shift=16: shift=16, sllp=0x0110, avpnm=0x00000000, tlbiel=1, penc=1 base_shift=16: shift=24, sllp=0x0110, avpnm=0x00000000, tlbiel=1, penc=8 base_shift=24: shift=24, sllp=0x0100, avpnm=0x00000001, tlbiel=0, penc=0 base_shift=34: shift=34, sllp=0x0120, avpnm=0x000007ff, tlbiel=0, penc=3 Using 1TB segments Initializing hash mmu with SLB Linux version 4.12.14-95.6-default (geeko@buildhost) (gcc version 4.8.5 (SUSE Linux) ) #1 SMP Thu Jan 17 06:04:39 UTC 2019 (6af4ef8) Found initrd at 0xc00000000c600000:0xc00000000f4cfeda Using pSeries machine description bootconsole [udbg0] enabled Partition configured for 96 cpus. CPU maps initialized for 8 threads per core -&gt; smp_release_cpus() spinning_secondaries = 31 &lt;- smp_release_cpus()<a class="headerlink" href="#of_stdout_device_is_vdevicevty30000000_preparing_to_boot_linux_version_41214-956-default_geekobuildhost_gcc_version_485_suse_linux_1_smp_thu_jan_17_060439_utc_2019_6af4ef8_detected_machine_type_0000000000000101_command_line_boot_imagekernel_rootdevram0_selinux0_max_number_of_cores_passed_to_firmware_256_nr_cpus_2048_calling_ibmclient-architecture-support_done_memory_layout_at_init_memory_limit_0000000000000000_16_mb_aligned_alloc_bottom_000000000f4d0000_alloc_top_0000000020000000_alloc_top_hi_0000000020000000_rmo_top_0000000020000000_ram_top_0000000020000000_instantiating_rtas_at_0x000000001eca0000_done_prom_hold_cpus_skipped_copying_of_device_tree_building_dt_strings_building_dt_structure_device_tree_strings_0x000000000f4e0000_-_0x000000000f4e1751_device_tree_struct_0x000000000f4f0000_-_0x000000000f520000_quiescing_open_firmware_booting_linux_via_start_0x000000000a6f0000_page_sizes_from_device-tree_base_shift12_shift12_sllp0x0000_avpnm0x00000000_tlbiel1_penc0_base_shift12_shift16_sllp0x0000_avpnm0x00000000_tlbiel1_penc7_base_shift12_shift24_sllp0x0000_avpnm0x00000000_tlbiel1_penc56_base_shift16_shift16_sllp0x0110_avpnm0x00000000_tlbiel1_penc1_base_shift16_shift24_sllp0x0110_avpnm0x00000000_tlbiel1_penc8_base_shift24_shift24_sllp0x0100_avpnm0x00000001_tlbiel0_penc0_base_shift34_shift34_sllp0x0120_avpnm0x000007ff_tlbiel0_penc3_using_1tb_segments_initializing_hash_mmu_with_slb_linux_version_41214-956-default_geekobuildhost_gcc_version_485_suse_linux_1_smp_thu_jan_17_060439_utc_2019_6af4ef8_found_initrd_at_0xc00000000c6000000xc00000000f4cfeda_using_pseries_machine_description_bootconsole_udbg0_enabled_partition_configured_for_96_cpus_cpu_maps_initialized_for_8_threads_per_core_-_smp_release_cpus_spinning_secondaries_31_-_smp_release_cpus" title="Permanent link">&para;</a></h2>
<h2 id="ppc64_pft_size_0x1e_phys_mem_size_0x2000000000_dcache_bsize_0x80_icache_bsize_0x80_cpu_features_0x000000ff8f5d91a7_possible_0x00007fffcf5fb1a7_always_0x0000006f835c91a1_cpu_user_features_0xdc0065c2_0xef000000_mmu_features_0x7c006001_firmware_features_0x00000017c45bfc57_htab_hash_mask_0x7fffff">ppc64_pft_size = 0x1e phys_mem_size = 0x2000000000 dcache_bsize = 0x80 icache_bsize = 0x80 cpu_features = 0x000000ff8f5d91a7 possible = 0x00007fffcf5fb1a7 always = 0x0000006f835c91a1 cpu_user_features = 0xdc0065c2 0xef000000 mmu_features = 0x7c006001 firmware_features = 0x00000017c45bfc57 htab_hash_mask = 0x7fffff<a class="headerlink" href="#ppc64_pft_size_0x1e_phys_mem_size_0x2000000000_dcache_bsize_0x80_icache_bsize_0x80_cpu_features_0x000000ff8f5d91a7_possible_0x00007fffcf5fb1a7_always_0x0000006f835c91a1_cpu_user_features_0xdc0065c2_0xef000000_mmu_features_0x7c006001_firmware_features_0x00000017c45bfc57_htab_hash_mask_0x7fffff" title="Permanent link">&para;</a></h2>
<p>numa: NODE_DATA [mem 0x1fffcd6300-0x1fffcdffff]<br />
numa: NODE_DATA(0) on node 5<br />
numa: NODE_DATA [mem 0x1fffccc600-0x1fffcd62ff]<br />
Section 8189 and 8191 (node 5) have a circular dependency on usemap and
pgdat allocations<br />
rfi-flush: fallback displacement flush available<br />
rfi-flush: ori type flush available<br />
barrier-nospec: using ORI speculation barrier<br />
stf-barrier: hwsync barrier available<br />
PPC64 nvram contains 15360 bytes<br />
Zone ranges:<br />
DMA [mem 0x0000000000000000-0x0000001fffffffff]<br />
DMA32 empty<br />
Normal empty<br />
Movable zone start for each node<br />
Early memory node ranges<br />
node 5: [mem 0x0000000000000000-0x0000001fffffffff]<br />
Could not find start_pfn for node 0<br />
Initmem setup node 0 [mem 0x0000000000000000-0x0000000000000000]<br />
Initmem setup node 5 [mem 0x0000000000000000-0x0000001fffffffff]<br />
percpu: Embedded 3 pages/cpu @c000001ffe400000 s155160 r0 d41448
u262144<br />
Built 2 zonelists in Node order, mobility grouping on. Total pages:
2095104<br />
Policy zone: DMA<br />
Kernel command line: BOOT_IMAGE=/kernel root=/dev/ram0 selinux=0<br />
log_buf_len individual max cpu contribution: 4096 bytes<br />
log_buf_len total cpu_extra contributions: 389120 bytes<br />
log_buf_len min size: 524288 bytes<br />
log_buf_len: 1048576 bytes<br />
early log buf free: 519164(99%)<br />
PID hash table entries: 4096 (order: -1, 32768 bytes)<br />
Memory: 2108096K/134217728K available (9600K kernel code, 1792K rwdata,
2788K rodata, 3840K init, 11735K bss, 258048K reserved, 0K
cma-reserved)<br />
ftrace: allocating 26365 entries in 10 pages<br />
Hierarchical RCU implementation.<br />
RCU event tracing is enabled.<br />
RCU restricting CPUs from NR_CPUS=2048 to nr_cpu_ids=96.<br />
RCU: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=96<br />
NR_IRQS:512 nr_irqs:512 16<br />
clocksource: timebase: mask: 0xffffffffffffffff max_cycles:
0x761537d007, max_idle_ns: 440795202126 ns<br />
clocksource: timebase mult[1f40000] shift[24] registered<br />
Console: colour dummy device 80x25<br />
console [hvc0] enabled<br />
console [hvc0] enabled<br />
bootconsole [udbg0] disabled<br />
bootconsole [udbg0] disabled<br />
mempolicy: Disabling automatic NUMA balancing. Configure with
numa_balancing= or the kernel.numa_balancing sysctl<br />
pid_max: default: 98304 minimum: 768<br />
Security Framework initialized<br />
AppArmor: AppArmor initialized<br />
Dentry cache hash table entries: 8388608 (order: 10, 67108864 bytes)<br />
Inode-cache hash table entries: 4194304 (order: 9, 33554432 bytes)<br />
Mount-cache hash table entries: 131072 (order: 4, 1048576 bytes)<br />
Mountpoint-cache hash table entries: 131072 (order: 4, 1048576 bytes)<br />
EEH: pSeries platform initialized<br />
POWER8 performance monitor hardware support registered<br />
smp: Bringing up secondary CPUs ...<br />
smp: Brought up 2 nodes, 32 CPUs<br />
numa: Node 0 CPUs:<br />
numa: Node 5 CPUs: 0-31<br />
node 5 initialised, 2060181 pages in 40ms<br />
devtmpfs: initialized<br />
evm: security.selinux<br />
evm: security.ima<br />
evm: security.capability<br />
clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff,
max_idle_ns: 19112604462750000 ns<br />
futex hash table entries: 32768 (order: 6, 4194304 bytes)<br />
NET: Registered protocol family 16<br />
EEH: No capable adapters found<br />
cpuidle: using governor ladder<br />
cpuidle: using governor menu<br />
pstore: using zlib compression<br />
pstore: Registered nvram as persistent store backend<br />
PCI: Probing PCI hardware<br />
pseries-rng: Registering arch random hook.<br />
HugeTLB registered 16 MB page size, pre-allocated 0 pages<br />
HugeTLB registered 16 GB page size, pre-allocated 0 pages<br />
vgaarb: loaded<br />
EDAC MC: Ver: 3.0.0<br />
NetLabel: Initializing<br />
NetLabel: domain hash size = 128<br />
NetLabel: protocols = UNLABELED CIPSOv4 CALIPSO<br />
NetLabel: unlabeled traffic allowed by default<br />
clocksource: Switched to clocksource timebase<br />
VFS: Disk quotas dquot_6.6.0<br />
VFS: Dquot-cache hash table entries: 8192 (order 0, 65536 bytes)<br />
AppArmor: AppArmor Filesystem Enabled<br />
NET: Registered protocol family 2<br />
TCP established hash table entries: 524288 (order: 6, 4194304 bytes)<br />
TCP bind hash table entries: 65536 (order: 4, 1048576 bytes)<br />
TCP: Hash tables configured (established 524288 bind 65536)<br />
UDP hash table entries: 65536 (order: 5, 2097152 bytes)<br />
UDP-Lite hash table entries: 65536 (order: 5, 2097152 bytes)<br />
NET: Registered protocol family 1<br />
Unpacking initramfs...<br />
random: fast init done<br />
Freeing initrd memory: 47872K<br />
numa: Starting topology update prrn_enabled<br />
IOMMU table initialized, virtual merging enabled<br />
hv-24x7: read 1330 catalog entries, created 337 event attrs (0
failures), 169 descs<br />
audit: initializing netlink subsys (disabled)<br />
audit: type=2000 audit(1555067111.290:1): state=initialized
audit_enabled=0 res=1<br />
Initialise system trusted keyrings<br />
workingset: timestamp_bits=38 max_order=21 bucket_order=0<br />
zbud: loaded<br />
Key type asymmetric registered<br />
Asymmetric key parser 'x509' registered<br />
Block layer SCSI generic (bsg) driver version 0.4 loaded (major 249)<br />
io scheduler noop registered<br />
io scheduler deadline registered<br />
io scheduler cfq registered (default)<br />
io scheduler mq-deadline registered<br />
io scheduler kyber registered<br />
io scheduler bfq registered<br />
Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled<br />
pseries_rng: Registering IBM pSeries RNG driver<br />
mousedev: PS/2 mouse device common for all mice<br />
ledtrig-cpu: registered to indicate activity on CPUs<br />
nx_compress_pseries ibm,compression-v1: nx842_OF_upd: device
disabled<br />
hidraw: raw HID events driver (C) Jiri Kosina<br />
NET: Registered protocol family 10<br />
Segment Routing with IPv6<br />
NET: Registered protocol family 15<br />
registered taskstats version 1<br />
Loading compiled-in X.509 certificates<br />
Loaded X.509 cert 'SUSE Linux Enterprise Secure Boot Signkey:
3fb077b6cebc6ff2522e1c148c57c777c788e3e7'<br />
zswap: loaded using pool lzo/zbud<br />
page_owner is disabled<br />
Key type trusted registered<br />
Key type encrypted registered<br />
AppArmor: AppArmor sha1 policy hashing enabled<br />
ima: No TPM chip found, activating TPM-bypass! (rc=-19)<br />
ima: Allocated hash algorithm: sha256<br />
evm: HMAC attrs: 0x1<br />
Freeing unused kernel memory: 3840K<br />
This architecture does not have kernel memory protection.<br />
alg: No test for pkcs1pad(rsa,sha256) (pkcs1pad(rsa-generic,sha256))<br />
random: systemd: uninitialized urandom read (16 bytes read)<br />
random: systemd: uninitialized urandom read (16 bytes read)<br />
random: systemd: uninitialized urandom read (16 bytes read)</p>
<p>Welcome to SUSE Linux Enterprise Server 12 SP4!</p>
<p>[ OK ] Reached target System Initialization.<br />
[ OK ] Listening on Journal Socket.<br />
[ OK ] Listening on udev Kernel Socket.<br />
[ OK ] Created slice system.slice.<br />
[ OK ] Created slice system-serial\x2dgetty.slice.<br />
[ OK ] Listening on udev Control Socket.<br />
Starting udev Kernel Device Manager...<br />
[ OK ] Started Journal Service.<br />
[ OK ] Created slice system-getty.slice.<br />
Starting Relax-and-Recover boot script...<br />
[ OK ] Started Relax-and-Recover sshd service.<br />
Starting udev Coldplug all Devices...<br />
[ OK ] Started udev Kernel Device Manager.<br />
Starting Initialize Rescue System...<br />
[ OK ] Started Relax-and-Recover boot script.<br />
[ OK ] Found device /dev/ttyS0.<br />
[ OK ] Started udev Coldplug all Devices.<br />
[ OK ] Found device /dev/hvc0.</p>
<p>Verifying md5sums of the files in the Relax-and-Recover rescue system</p>
<p>md5sums are OK</p>
<p>Configuring Relax-and-Recover rescue system</p>
<p>Running 00-functions.sh...<br />
Running 01-run-ldconfig.sh...<br />
Running 10-console-setup.sh...<br />
Using keymap of the original system<br />
Running 20-check-boot-options.sh...<br />
Running 40-start-udev-or-load-modules.sh...<br />
Waiting for udev ... done.<br />
Running 41-load-special-modules.sh...<br />
Running 42-engage-scsi.sh...<br />
Running 45-serial-console.sh...<br />
Running 55-migrate-network-devices.sh...<br />
No network interface mapping is specified in /etc/rear/mappings/mac<br />
The original network interface eth0 d6:8b:e5:4d:db:08 is not available</p>
<ol>
<li>eth3 c6:c5:cb:8e:5c:04 ibmveth</li>
<li>eth4 c6:c5:cb:8e:5c:03 ibmveth</li>
<li>eth5 c6:c5:cb:8e:5c:05 ibmveth</li>
<li>Skip replacing eth0 d6:8b:e5:4d:db:08<br />
    Choose replacement for eth0 d6:8b:e5:4d:db:08 2<br />
    Mapping eth0 d6:8b:e5:4d:db:08 to eth4 c6:c5:cb:8e:5c:03<br />
    The original network interface eth1 d6:8b:e5:4d:db:09 is not
    available</li>
<li>eth3 c6:c5:cb:8e:5c:04 ibmveth</li>
<li>
<ol>
<li>eth5 c6:c5:cb:8e:5c:05 ibmveth</li>
</ol>
</li>
<li>Skip replacing eth1 d6:8b:e5:4d:db:09<br />
    Choose replacement for eth1 d6:8b:e5:4d:db:09 1<br />
    Mapping eth1 d6:8b:e5:4d:db:09 to eth3 c6:c5:cb:8e:5c:04<br />
    The original network interface eth2 d6:8b:e5:4d:db:0a is not
    available</li>
<li>
<ol>
<li>
<ol>
<li>eth5 c6:c5:cb:8e:5c:05 ibmveth</li>
</ol>
</li>
</ol>
</li>
<li>Skip replacing eth2 d6:8b:e5:4d:db:0a<br />
    Choose replacement for eth2 d6:8b:e5:4d:db:0a 3<br />
    Mapping eth2 d6:8b:e5:4d:db:0a to eth5 c6:c5:cb:8e:5c:05<br />
    Reloading udev ... done.<br />
    Running 58-start-dhclient.sh...<br />
    Running 60-network-devices.sh...<br />
    Running 62-routing.sh...<br />
    Running 65-sysctl.sh...<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 0<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    vm.min_free_kbytes = 10485760<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_timestamps = 1<br />
    net.ipv4.tcp_slow_start_after_idle = 0<br />
    net.ipv4.tcp_window_scaling = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.core.rmem_max = 56623104<br />
    net.core.wmem_max = 56623104<br />
    net.ipv4.tcp_rmem = 65536 262088 56623104<br />
    net.ipv4.tcp_wmem = 65536 262088 56623104<br />
    net.ipv4.tcp_mem = 56623104 56623104 56623104<br />
    fs.aio-max-nr = 18446744073709551615<br />
    fs.file-max = 20000000<br />
    vm.memory_failure_early_kill = 1<br />
    kernel.shmmni = 65536<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 0<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    vm.min_free_kbytes = 10485760<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_timestamps = 1<br />
    net.ipv4.tcp_slow_start_after_idle = 0<br />
    net.ipv4.tcp_window_scaling = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.core.rmem_max = 56623104<br />
    net.core.wmem_max = 56623104<br />
    net.ipv4.tcp_rmem = 65536 262088 56623104<br />
    net.ipv4.tcp_wmem = 65536 262088 56623104<br />
    net.ipv4.tcp_mem = 56623104 56623104 56623104<br />
    fs.aio-max-nr = 18446744073709551615<br />
    fs.file-max = 20000000<br />
    vm.memory_failure_early_kill = 1<br />
    kernel.shmmni = 65536<br />
    Running 99-makedev.sh...</li>
</ol>
<p>Relax-and-Recover rescue system is ready</p>
<p>[ OK ] Started Initialize Rescue System.<br />
[ OK ] Started Getty on tty0.<br />
[ OK ] Reached target Login Prompts.<br />
[ OK ] Started Serial Getty on ttyS0.<br />
[ OK ] Started Serial Getty on hvc0.<br />
[ OK ] Reached target Multi-User.</p>
<p>Relax-and-Recover 2.4-git.3227.0f1f9dbb.master / 2019-02-10</p>
<p>Relax-and-Recover comes with ABSOLUTELY NO WARRANTY; for details see<br />
the GNU General Public License at:
<a href="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</a></p>
<p>Host eniesdbp101p using Backup NETFS and Output ISO<br />
Build date: Tue, 09 Apr 2019 14:15:01 -0400</p>
<p>Welcome to SUSE Linux Enterprise Server for SAP Applications 12 SP4
(ppc64le) - Kernel 4.12.14-95.6-default (hvc0).</p>
<p>SSH fingerprint: 2048 SHA256:DnwYyS1WBORjJp5MuiuGa2YSoJkCo4VvOnDK7p3dRJQ
root@eniesdbp101p (RSA)</p>
<p>eniesdbp101p login: root</p>
<p>Welcome to Relax-and-Recover. Run "rear recover" to restore your system
!</p>
<p>RESCUE eniesdbp101p:~ # rear recover<br />
Relax-and-Recover 2.4-git.3227.0f1f9dbb.master / 2019-02-10<br />
Running rear recover (PID 13469)<br />
Using log file: /var/log/rear/rear-eniesdbp101p.log<br />
Running workflow recover within the ReaR rescue/recovery system<br />
Using backup archive
'/tmp/rear.Fn3f91MQf71uuBA/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz'<br />
Will do driver migration (recreating initramfs/initrd)<br />
Calculating backup archive size<br />
Backup archive size is 2614.94M (compressed)<br />
Setting up multipathing<br />
Activating multipath<br />
multipath activated<br />
Starting multipath daemon<br />
multipathd started<br />
Listing multipath device found<br />
20017380033e7008a dm-12 IBM,2810XIV size=240G<br />
20017380033e70075 dm-3 ##,## size=64G<br />
20017380033e70089 dm-11 IBM,2810XIV size=240G<br />
20017380033e70074 dm-2 ##,## size=32G<br />
20017380033e70073 dm-1 IBM,2810XIV size=16G<br />
20017380033e70072 dm-0 ##,## size=112G<br />
SIBM_2810XIV_78033E70083 dm-20 IBM,2810XIV size=385G<br />
20017380033e70084 dm-6 IBM,2810XIV size=385G<br />
20017380033e70118 dm-4 IBM,2810XIV size=16G<br />
SIBM_2810XIV_78033E70116 dm-22 IBM,2810XIV size=16G<br />
20017380033e70117 dm-17 IBM,2810XIV size=16G<br />
20017380033e70083 dm-5 IBM,2810XIV size=385G<br />
SIBM_2810XIV_78033E70115 dm-18 IBM,2810XIV size=16G<br />
20017380033e7007a dm-10 IBM,2810XIV size=96G<br />
20017380033e70116 dm-19 IBM,2810XIV size=16G<br />
20017380033e70079 dm-9 IBM,2810XIV size=96G<br />
20017380033e70115 dm-16 IBM,2810XIV size=16G<br />
20017380033e70078 dm-8 IBM,2810XIV size=96G<br />
20017380033e7008c dm-14 IBM,2810XIV size=240G<br />
20017380033e70077 dm-7 IBM,2810XIV size=96G<br />
20017380033e7008b dm-13 IBM,2810XIV size=240G<br />
SIBM_2810XIV_78033E7007A dm-21 IBM,2810XIV size=96G<br />
20017380033e70076 dm-15 IBM,2810XIV size=64G<br />
Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than one
with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/mapper/20017380033e70072 (same size) for recreating
/dev/mapper/200173800348802c6<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802c6 =&gt; /dev/mapper/20017380033e70072</p>
<p>Confirm or edit the disk mapping</p>
<ol>
<li>Confirm disk mapping and continue 'rear recover'</li>
<li>n/a</li>
<li>Edit disk mapping (/var/lib/rear/layout/disk_mappings)</li>
<li>Use Relax-and-Recover shell and return back to here</li>
<li>Abort 'rear recover'<br />
    (default '1' timeout 300 seconds)<br />
    4</li>
</ol>
<p>Welcome to Relax-and-Recover.</p>
<p>rear&gt; dd if=/dev/zero of=/dev/mapper/20017380033e70072 bs=1M
count=1000<br />
1000+0 records in<br />
1000+0 records out<br />
1048576000 bytes (1.0 GB, 1000 MiB) copied, 1.53403 s, 684 MB/s<br />
rear&gt;</p>
<h1 id="second_activation">#@ Second Activation<a class="headerlink" href="#second_activation" title="Permanent link">&para;</a></h1>
<p>No SIBM multipath devices discovered<br />
Rear selected correct disk<br />
Recover didn't work - chown failures</p>
<pre><code>                         GNU GRUB  version 2.02
</code></pre>
<p>+----------------------------------------------------------------------------+<br />
|*Relax-and-Recover |<br />
| |<br />
| |<br />
| |<br />
| |<br />
+----------------------------------------------------------------------------+</p>
<pre><code>  Use the ^ and v keys to select which entry is highlighted.
  Press enter to boot the selected OS, `e' to edit the commands
  before booting or `c' for a command-line.
</code></pre>
<h2 id="of_stdout_device_is_vdevicevty30000000_preparing_to_boot_linux_version_41214-956-default_geekobuildhost_gcc_version_485_suse_linux_1_smp_thu_jan_17_060439_utc_2019_6af4ef8_detected_machine_type_0000000000000101_command_line_boot_imagekernel_rootdevram0_selinux0_max_number_of_cores_passed_to_firmware_256_nr_cpus_2048_calling_ibmclient-architecture-support_done_memory_layout_at_init_memory_limit_0000000000000000_16_mb_aligned_alloc_bottom_000000000f4d0000_alloc_top_0000000020000000_alloc_top_hi_0000000020000000_rmo_top_0000000020000000_ram_top_0000000020000000_instantiating_rtas_at_0x000000001eca0000_done_prom_hold_cpus_skipped_copying_of_device_tree_building_dt_strings_building_dt_structure_device_tree_strings_0x000000000f4e0000_-_0x000000000f4e1751_device_tree_struct_0x000000000f4f0000_-_0x000000000f520000_quiescing_open_firmware_booting_linux_via_start_0x000000000a6f0000_page_sizes_from_device-tree_base_shift12_shift12_sllp0x0000_avpnm0x00000000_tlbiel1_penc0_base_shift12_shift16_sllp0x0000_avpnm0x00000000_tlbiel1_penc7_base_shift12_shift24_sllp0x0000_avpnm0x00000000_tlbiel1_penc56_base_shift16_shift16_sllp0x0110_avpnm0x00000000_tlbiel1_penc1_base_shift16_shift24_sllp0x0110_avpnm0x00000000_tlbiel1_penc8_base_shift24_shift24_sllp0x0100_avpnm0x00000001_tlbiel0_penc0_base_shift34_shift34_sllp0x0120_avpnm0x000007ff_tlbiel0_penc3_using_1tb_segments_initializing_hash_mmu_with_slb_linux_version_41214-956-default_geekobuildhost_gcc_version_485_suse_linux_1_smp_thu_jan_17_060439_utc_2019_6af4ef8_found_initrd_at_0xc00000000c6000000xc00000000f4cfeda_using_pseries_machine_description_bootconsole_udbg0_enabled_partition_configured_for_96_cpus_cpu_maps_initialized_for_8_threads_per_core_-_smp_release_cpus_spinning_secondaries_31_-_smp_release_cpus_1">OF stdout device is: /vdevice/vty@30000000 Preparing to boot Linux version 4.12.14-95.6-default (geeko@buildhost) (gcc version 4.8.5 (SUSE Linux) ) #1 SMP Thu Jan 17 06:04:39 UTC 2019 (6af4ef8) Detected machine type: 0000000000000101 command line: BOOT_IMAGE=/kernel root=/dev/ram0 selinux=0 Max number of cores passed to firmware: 256 (NR_CPUS = 2048) Calling ibm,client-architecture-support... done memory layout at init: memory_limit : 0000000000000000 (16 MB aligned) alloc_bottom : 000000000f4d0000 alloc_top : 0000000020000000 alloc_top_hi : 0000000020000000 rmo_top : 0000000020000000 ram_top : 0000000020000000 instantiating rtas at 0x000000001eca0000... done prom_hold_cpus: skipped copying OF device tree... Building dt strings... Building dt structure... Device tree strings 0x000000000f4e0000 -&gt; 0x000000000f4e1751 Device tree struct 0x000000000f4f0000 -&gt; 0x000000000f520000 Quiescing Open Firmware ... Booting Linux via __start() @ 0x000000000a6f0000 ... Page sizes from device-tree: base_shift=12: shift=12, sllp=0x0000, avpnm=0x00000000, tlbiel=1, penc=0 base_shift=12: shift=16, sllp=0x0000, avpnm=0x00000000, tlbiel=1, penc=7 base_shift=12: shift=24, sllp=0x0000, avpnm=0x00000000, tlbiel=1, penc=56 base_shift=16: shift=16, sllp=0x0110, avpnm=0x00000000, tlbiel=1, penc=1 base_shift=16: shift=24, sllp=0x0110, avpnm=0x00000000, tlbiel=1, penc=8 base_shift=24: shift=24, sllp=0x0100, avpnm=0x00000001, tlbiel=0, penc=0 base_shift=34: shift=34, sllp=0x0120, avpnm=0x000007ff, tlbiel=0, penc=3 Using 1TB segments Initializing hash mmu with SLB Linux version 4.12.14-95.6-default (geeko@buildhost) (gcc version 4.8.5 (SUSE Linux) ) #1 SMP Thu Jan 17 06:04:39 UTC 2019 (6af4ef8) Found initrd at 0xc00000000c600000:0xc00000000f4cfeda Using pSeries machine description bootconsole [udbg0] enabled Partition configured for 96 cpus. CPU maps initialized for 8 threads per core -&gt; smp_release_cpus() spinning_secondaries = 31 &lt;- smp_release_cpus()<a class="headerlink" href="#of_stdout_device_is_vdevicevty30000000_preparing_to_boot_linux_version_41214-956-default_geekobuildhost_gcc_version_485_suse_linux_1_smp_thu_jan_17_060439_utc_2019_6af4ef8_detected_machine_type_0000000000000101_command_line_boot_imagekernel_rootdevram0_selinux0_max_number_of_cores_passed_to_firmware_256_nr_cpus_2048_calling_ibmclient-architecture-support_done_memory_layout_at_init_memory_limit_0000000000000000_16_mb_aligned_alloc_bottom_000000000f4d0000_alloc_top_0000000020000000_alloc_top_hi_0000000020000000_rmo_top_0000000020000000_ram_top_0000000020000000_instantiating_rtas_at_0x000000001eca0000_done_prom_hold_cpus_skipped_copying_of_device_tree_building_dt_strings_building_dt_structure_device_tree_strings_0x000000000f4e0000_-_0x000000000f4e1751_device_tree_struct_0x000000000f4f0000_-_0x000000000f520000_quiescing_open_firmware_booting_linux_via_start_0x000000000a6f0000_page_sizes_from_device-tree_base_shift12_shift12_sllp0x0000_avpnm0x00000000_tlbiel1_penc0_base_shift12_shift16_sllp0x0000_avpnm0x00000000_tlbiel1_penc7_base_shift12_shift24_sllp0x0000_avpnm0x00000000_tlbiel1_penc56_base_shift16_shift16_sllp0x0110_avpnm0x00000000_tlbiel1_penc1_base_shift16_shift24_sllp0x0110_avpnm0x00000000_tlbiel1_penc8_base_shift24_shift24_sllp0x0100_avpnm0x00000001_tlbiel0_penc0_base_shift34_shift34_sllp0x0120_avpnm0x000007ff_tlbiel0_penc3_using_1tb_segments_initializing_hash_mmu_with_slb_linux_version_41214-956-default_geekobuildhost_gcc_version_485_suse_linux_1_smp_thu_jan_17_060439_utc_2019_6af4ef8_found_initrd_at_0xc00000000c6000000xc00000000f4cfeda_using_pseries_machine_description_bootconsole_udbg0_enabled_partition_configured_for_96_cpus_cpu_maps_initialized_for_8_threads_per_core_-_smp_release_cpus_spinning_secondaries_31_-_smp_release_cpus_1" title="Permanent link">&para;</a></h2>
<h2 id="ppc64_pft_size_0x1e_phys_mem_size_0x2000000000_dcache_bsize_0x80_icache_bsize_0x80_cpu_features_0x000000ff8f5d91a7_possible_0x00007fffcf5fb1a7_always_0x0000006f835c91a1_cpu_user_features_0xdc0065c2_0xef000000_mmu_features_0x7c006001_firmware_features_0x00000017c45bfc57_htab_hash_mask_0x7fffff_1">ppc64_pft_size = 0x1e phys_mem_size = 0x2000000000 dcache_bsize = 0x80 icache_bsize = 0x80 cpu_features = 0x000000ff8f5d91a7 possible = 0x00007fffcf5fb1a7 always = 0x0000006f835c91a1 cpu_user_features = 0xdc0065c2 0xef000000 mmu_features = 0x7c006001 firmware_features = 0x00000017c45bfc57 htab_hash_mask = 0x7fffff<a class="headerlink" href="#ppc64_pft_size_0x1e_phys_mem_size_0x2000000000_dcache_bsize_0x80_icache_bsize_0x80_cpu_features_0x000000ff8f5d91a7_possible_0x00007fffcf5fb1a7_always_0x0000006f835c91a1_cpu_user_features_0xdc0065c2_0xef000000_mmu_features_0x7c006001_firmware_features_0x00000017c45bfc57_htab_hash_mask_0x7fffff_1" title="Permanent link">&para;</a></h2>
<p>numa: NODE_DATA [mem 0x1fffcd6300-0x1fffcdffff]<br />
numa: NODE_DATA(0) on node 5<br />
numa: NODE_DATA [mem 0x1fffccc600-0x1fffcd62ff]<br />
Section 8189 and 8191 (node 5) have a circular dependency on usemap and
pgdat allocations<br />
rfi-flush: fallback displacement flush available<br />
rfi-flush: ori type flush available<br />
barrier-nospec: using ORI speculation barrier<br />
stf-barrier: hwsync barrier available<br />
PPC64 nvram contains 15360 bytes<br />
Zone ranges:<br />
DMA [mem 0x0000000000000000-0x0000001fffffffff]<br />
DMA32 empty<br />
Normal empty<br />
Movable zone start for each node<br />
Early memory node ranges<br />
node 5: [mem 0x0000000000000000-0x0000001fffffffff]<br />
Could not find start_pfn for node 0<br />
Initmem setup node 0 [mem 0x0000000000000000-0x0000000000000000]<br />
Initmem setup node 5 [mem 0x0000000000000000-0x0000001fffffffff]<br />
percpu: Embedded 3 pages/cpu @c000001ffe400000 s155160 r0 d41448
u262144<br />
Built 2 zonelists in Node order, mobility grouping on. Total pages:
2095104<br />
Policy zone: DMA<br />
Kernel command line: BOOT_IMAGE=/kernel root=/dev/ram0 selinux=0<br />
log_buf_len individual max cpu contribution: 4096 bytes<br />
log_buf_len total cpu_extra contributions: 389120 bytes<br />
log_buf_len min size: 524288 bytes<br />
log_buf_len: 1048576 bytes<br />
early log buf free: 519164(99%)<br />
PID hash table entries: 4096 (order: -1, 32768 bytes)<br />
Memory: 2108096K/134217728K available (9600K kernel code, 1792K rwdata,
2788K rodata, 3840K init, 11735K bss, 258048K reserved, 0K
cma-reserved)<br />
ftrace: allocating 26365 entries in 10 pages<br />
Hierarchical RCU implementation.<br />
RCU event tracing is enabled.<br />
RCU restricting CPUs from NR_CPUS=2048 to nr_cpu_ids=96.<br />
RCU: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=96<br />
NR_IRQS:512 nr_irqs:512 16<br />
clocksource: timebase: mask: 0xffffffffffffffff max_cycles:
0x761537d007, max_idle_ns: 440795202126 ns<br />
clocksource: timebase mult[1f40000] shift[24] registered<br />
Console: colour dummy device 80x25<br />
console [hvc0] enabled<br />
console [hvc0] enabled<br />
bootconsole [udbg0] disabled<br />
bootconsole [udbg0] disabled<br />
mempolicy: Disabling automatic NUMA balancing. Configure with
numa_balancing= or the kernel.numa_balancing sysctl<br />
pid_max: default: 98304 minimum: 768<br />
Security Framework initialized<br />
AppArmor: AppArmor initialized<br />
Dentry cache hash table entries: 8388608 (order: 10, 67108864 bytes)<br />
Inode-cache hash table entries: 4194304 (order: 9, 33554432 bytes)<br />
Mount-cache hash table entries: 131072 (order: 4, 1048576 bytes)<br />
Mountpoint-cache hash table entries: 131072 (order: 4, 1048576 bytes)<br />
EEH: pSeries platform initialized<br />
POWER8 performance monitor hardware support registered<br />
smp: Bringing up secondary CPUs ...<br />
smp: Brought up 2 nodes, 32 CPUs<br />
numa: Node 0 CPUs:<br />
numa: Node 5 CPUs: 0-31<br />
node 5 initialised, 2060181 pages in 40ms<br />
devtmpfs: initialized<br />
evm: security.selinux<br />
evm: security.ima<br />
evm: security.capability<br />
clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff,
max_idle_ns: 19112604462750000 ns<br />
futex hash table entries: 32768 (order: 6, 4194304 bytes)<br />
NET: Registered protocol family 16<br />
EEH: No capable adapters found<br />
cpuidle: using governor ladder<br />
cpuidle: using governor menu<br />
pstore: using zlib compression<br />
pstore: Registered nvram as persistent store backend<br />
PCI: Probing PCI hardware<br />
pseries-rng: Registering arch random hook.<br />
HugeTLB registered 16 MB page size, pre-allocated 0 pages<br />
HugeTLB registered 16 GB page size, pre-allocated 0 pages<br />
vgaarb: loaded<br />
EDAC MC: Ver: 3.0.0<br />
NetLabel: Initializing<br />
NetLabel: domain hash size = 128<br />
NetLabel: protocols = UNLABELED CIPSOv4 CALIPSO<br />
NetLabel: unlabeled traffic allowed by default<br />
clocksource: Switched to clocksource timebase<br />
VFS: Disk quotas dquot_6.6.0<br />
VFS: Dquot-cache hash table entries: 8192 (order 0, 65536 bytes)<br />
AppArmor: AppArmor Filesystem Enabled<br />
NET: Registered protocol family 2<br />
TCP established hash table entries: 524288 (order: 6, 4194304 bytes)<br />
TCP bind hash table entries: 65536 (order: 4, 1048576 bytes)<br />
TCP: Hash tables configured (established 524288 bind 65536)<br />
UDP hash table entries: 65536 (order: 5, 2097152 bytes)<br />
UDP-Lite hash table entries: 65536 (order: 5, 2097152 bytes)<br />
NET: Registered protocol family 1<br />
Unpacking initramfs...<br />
random: fast init done<br />
Freeing initrd memory: 47872K<br />
numa: Starting topology update prrn_enabled<br />
IOMMU table initialized, virtual merging enabled<br />
hv-24x7: read 1330 catalog entries, created 337 event attrs (0
failures), 169 descs<br />
audit: initializing netlink subsys (disabled)<br />
audit: type=2000 audit(1555067286.280:1): state=initialized
audit_enabled=0 res=1<br />
Initialise system trusted keyrings<br />
workingset: timestamp_bits=38 max_order=21 bucket_order=0<br />
zbud: loaded<br />
Key type asymmetric registered<br />
Asymmetric key parser 'x509' registered<br />
Block layer SCSI generic (bsg) driver version 0.4 loaded (major 249)<br />
io scheduler noop registered<br />
io scheduler deadline registered<br />
io scheduler cfq registered (default)<br />
io scheduler mq-deadline registered<br />
io scheduler kyber registered<br />
io scheduler bfq registered<br />
Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled<br />
pseries_rng: Registering IBM pSeries RNG driver<br />
mousedev: PS/2 mouse device common for all mice<br />
ledtrig-cpu: registered to indicate activity on CPUs<br />
nx_compress_pseries ibm,compression-v1: nx842_OF_upd: device
disabled<br />
hidraw: raw HID events driver (C) Jiri Kosina<br />
NET: Registered protocol family 10<br />
Segment Routing with IPv6<br />
NET: Registered protocol family 15<br />
registered taskstats version 1<br />
Loading compiled-in X.509 certificates<br />
Loaded X.509 cert 'SUSE Linux Enterprise Secure Boot Signkey:
3fb077b6cebc6ff2522e1c148c57c777c788e3e7'<br />
zswap: loaded using pool lzo/zbud<br />
page_owner is disabled<br />
Key type trusted registered<br />
Key type encrypted registered<br />
AppArmor: AppArmor sha1 policy hashing enabled<br />
ima: No TPM chip found, activating TPM-bypass! (rc=-19)<br />
ima: Allocated hash algorithm: sha256<br />
evm: HMAC attrs: 0x1<br />
Freeing unused kernel memory: 3840K<br />
This architecture does not have kernel memory protection.<br />
alg: No test for pkcs1pad(rsa,sha256) (pkcs1pad(rsa-generic,sha256))<br />
random: systemd: uninitialized urandom read (16 bytes read)<br />
random: systemd: uninitialized urandom read (16 bytes read)<br />
random: systemd: uninitialized urandom read (16 bytes read)</p>
<p>Welcome to SUSE Linux Enterprise Server 12 SP4!</p>
<p>[ OK ] Listening on udev Control Socket.<br />
[ OK ] Listening on Journal Socket.<br />
[ OK ] Reached target System Initialization.<br />
[ OK ] Listening on udev Kernel Socket.<br />
[ OK ] Created slice system.slice.<br />
Starting Relax-and-Recover boot script...<br />
[ OK ] Started Relax-and-Recover sshd service.<br />
Starting udev Coldplug all Devices...<br />
[ OK ] Started Journal Service.<br />
Starting udev Kernel Device Manager...<br />
[ OK ] Created slice system-getty.slice.<br />
[ OK ] Created slice system-serial\x2dgetty.slice.<br />
[ OK ] Started Relax-and-Recover boot script.<br />
[ OK ] Started udev Kernel Device Manager.<br />
Starting Initialize Rescue System...<br />
[ OK ] Found device /dev/ttyS0.<br />
[ OK ] Started udev Coldplug all Devices.<br />
[ OK ] Found device /dev/hvc0.</p>
<p>Verifying md5sums of the files in the Relax-and-Recover rescue system</p>
<p>md5sums are OK</p>
<p>Configuring Relax-and-Recover rescue system</p>
<p>Running 00-functions.sh...<br />
Running 01-run-ldconfig.sh...<br />
Running 10-console-setup.sh...<br />
Using keymap of the original system<br />
Running 20-check-boot-options.sh...<br />
Running 40-start-udev-or-load-modules.sh...<br />
Waiting for udev ... done.<br />
Running 41-load-special-modules.sh...<br />
Running 42-engage-scsi.sh...<br />
Running 45-serial-console.sh...<br />
Running 55-migrate-network-devices.sh...<br />
No network interface mapping is specified in /etc/rear/mappings/mac<br />
The original network interface eth0 d6:8b:e5:4d:db:08 is not available</p>
<ol>
<li>eth3 c6:c5:cb:8e:5c:04 ibmveth</li>
<li>eth4 c6:c5:cb:8e:5c:03 ibmveth</li>
<li>eth5 c6:c5:cb:8e:5c:05 ibmveth</li>
<li>Skip replacing eth0 d6:8b:e5:4d:db:08<br />
    Choose replacement for eth0 d6:8b:e5:4d:db:08 2<br />
    Mapping eth0 d6:8b:e5:4d:db:08 to eth4 c6:c5:cb:8e:5c:03<br />
    The original network interface eth1 d6:8b:e5:4d:db:09 is not
    available</li>
<li>eth3 c6:c5:cb:8e:5c:04 ibmveth</li>
<li>
<ol>
<li>eth5 c6:c5:cb:8e:5c:05 ibmveth</li>
</ol>
</li>
<li>Skip replacing eth1 d6:8b:e5:4d:db:09<br />
    Choose replacement for eth1 d6:8b:e5:4d:db:09 1<br />
    Mapping eth1 d6:8b:e5:4d:db:09 to eth3 c6:c5:cb:8e:5c:04<br />
    The original network interface eth2 d6:8b:e5:4d:db:0a is not
    available</li>
<li>
<ol>
<li>
<ol>
<li>eth5 c6:c5:cb:8e:5c:05 ibmveth</li>
</ol>
</li>
</ol>
</li>
<li>Skip replacing eth2 d6:8b:e5:4d:db:0a<br />
    Choose replacement for eth2 d6:8b:e5:4d:db:0a 3<br />
    Mapping eth2 d6:8b:e5:4d:db:0a to eth5 c6:c5:cb:8e:5c:05<br />
    Reloading udev ... done.<br />
    Running 58-start-dhclient.sh...<br />
    Running 60-network-devices.sh...<br />
    Running 62-routing.sh...<br />
    Running 65-sysctl.sh...<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 0<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    vm.min_free_kbytes = 10485760<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_timestamps = 1<br />
    net.ipv4.tcp_slow_start_after_idle = 0<br />
    net.ipv4.tcp_window_scaling = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.core.rmem_max = 56623104<br />
    net.core.wmem_max = 56623104<br />
    net.ipv4.tcp_rmem = 65536 262088 56623104<br />
    net.ipv4.tcp_wmem = 65536 262088 56623104<br />
    net.ipv4.tcp_mem = 56623104 56623104 56623104<br />
    fs.aio-max-nr = 18446744073709551615<br />
    fs.file-max = 20000000<br />
    vm.memory_failure_early_kill = 1<br />
    kernel.shmmni = 65536<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 0<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    vm.min_free_kbytes = 10485760<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_timestamps = 1<br />
    net.ipv4.tcp_slow_start_after_idle = 0<br />
    net.ipv4.tcp_window_scaling = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.core.rmem_max = 56623104<br />
    net.core.wmem_max = 56623104<br />
    net.ipv4.tcp_rmem = 65536 262088 56623104<br />
    net.ipv4.tcp_wmem = 65536 262088 56623104<br />
    net.ipv4.tcp_mem = 56623104 56623104 56623104<br />
    fs.aio-max-nr = 18446744073709551615<br />
    fs.file-max = 20000000<br />
    vm.memory_failure_early_kill = 1<br />
    kernel.shmmni = 65536<br />
    Running 99-makedev.sh...</li>
</ol>
<p>Relax-and-Recover rescue system is ready</p>
<p>[ OK ] Started Initialize Rescue System.<br />
[ OK ] Started Getty on tty0.<br />
[ OK ] Reached target Login Prompts.<br />
[ OK ] Started Serial Getty on hvc0.<br />
[ OK ] Reached target Multi-User.<br />
[ OK ] Started Serial Getty on ttyS0.</p>
<p>Relax-and-Recover 2.4-git.3227.0f1f9dbb.master / 2019-02-10</p>
<p>Relax-and-Recover comes with ABSOLUTELY NO WARRANTY; for details see<br />
the GNU General Public License at:
<a href="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</a></p>
<p>Host eniesdbp101p using Backup NETFS and Output ISO<br />
Build date: Tue, 09 Apr 2019 14:15:01 -0400</p>
<p>Welcome to SUSE Linux Enterprise Server for SAP Applications 12 SP4
(ppc64le) - Kernel 4.12.14-95.6-default (hvc0).</p>
<p>SSH fingerprint: 2048 SHA256:F09o81EVv2vH8hduRjB9PAjclYlADlu6nEIE+8gRB8c
root@eniesdbp101p (RSA)</p>
<p>eniesdbp101p login: root</p>
<p>Welcome to Relax-and-Recover. Run "rear recover" to restore your system
!</p>
<p>RESCUE eniesdbp101p:~ # ls -l /dev/disk/by-label<br />
ls: cannot access '/dev/disk/by-label': No such file or directory<br />
RESCUE eniesdbp101p:~ # mkdir /dev/disk/by-label<br />
RESCUE eniesdbp101p:~ # ln -s /dev/sr0
/dev/disk/by-label/RELAXRECOVER<br />
RESCUE eniesdbp101p:~ # rear recover<br />
Relax-and-Recover 2.4-git.3227.0f1f9dbb.master / 2019-02-10<br />
Running rear recover (PID 13701)<br />
Using log file: /var/log/rear/rear-eniesdbp101p.log<br />
Running workflow recover within the ReaR rescue/recovery system<br />
Using backup archive
'/tmp/rear.HS3iq4f30qsvesD/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz'<br />
Will do driver migration (recreating initramfs/initrd)<br />
Calculating backup archive size<br />
Backup archive size is 2614.94M (compressed)<br />
Setting up multipathing<br />
Activating multipath<br />
multipath activated<br />
Starting multipath daemon<br />
multipathd started<br />
Listing multipath device found<br />
20017380033e7008a dm-2 IBM,2810XIV size=240G<br />
20017380033e70089 dm-1 IBM,2810XIV size=240G<br />
20017380033e70072 dm-0 ##,## size=112G<br />
20017380033e70084 dm-11 IBM,2810XIV size=385G<br />
20017380033e70118 dm-9 IBM,2810XIV size=16G<br />
20017380033e70083 dm-10 IBM,2810XIV size=385G<br />
20017380033e70117 dm-8 IBM,2810XIV size=16G<br />
20017380033e7007a dm-15 IBM,2810XIV size=96G<br />
20017380033e70116 dm-7 IBM,2810XIV size=16G<br />
20017380033e70079 dm-14 IBM,2810XIV size=96G<br />
20017380033e70115 dm-6 IBM,2810XIV size=16G<br />
20017380033e70078 dm-13 IBM,2810XIV size=96G<br />
20017380033e7008c dm-4 IBM,2810XIV size=240G<br />
20017380033e70077 dm-12 IBM,2810XIV size=96G<br />
20017380033e7008b dm-3 IBM,2810XIV size=240G<br />
20017380033e70076 dm-5 IBM,2810XIV size=64G<br />
Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than one
with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/mapper/20017380033e70072 (same size) for recreating
/dev/mapper/200173800348802c6<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802c6 =&gt; /dev/mapper/20017380033e70072</p>
<p>Confirm or edit the disk mapping</p>
<ol>
<li>Confirm disk mapping and continue 'rear recover'</li>
<li>n/a</li>
<li>Edit disk mapping (/var/lib/rear/layout/disk_mappings)</li>
<li>Use Relax-and-Recover shell and return back to here</li>
<li>Abort 'rear recover'<br />
    (default '1' timeout 300 seconds)<br />
    1<br />
    User confirmed disk mapping<br />
    Confirm or edit the disk layout file</li>
<li>Confirm disk layout and continue 'rear recover'</li>
<li>Edit disk layout (/var/lib/rear/layout/disklayout.conf)</li>
<li>View disk layout (/var/lib/rear/layout/disklayout.conf)</li>
<li>View original disk space usage (/var/lib/rear/layout/config/df.txt)</li>
<li>Use Relax-and-Recover shell and return back to here</li>
<li>Abort 'rear recover'<br />
    (default '1' timeout 300 seconds)<br />
    1<br />
    User confirmed disk layout file<br />
    Confirm or edit the disk recreation script</li>
<li>Confirm disk recreation script and continue 'rear recover'</li>
<li>Edit disk recreation script (/var/lib/rear/layout/diskrestore.sh)</li>
<li>View disk recreation script (/var/lib/rear/layout/diskrestore.sh)</li>
<li>View original disk space usage (/var/lib/rear/layout/config/df.txt)</li>
<li>Use Relax-and-Recover shell and return back to here</li>
<li>Abort 'rear recover'<br />
    (default '1' timeout 300 seconds)<br />
    1<br />
    User confirmed disk recreation script<br />
    Start system layout restoration.<br />
    Creating partitions for disk /dev/mapper/20017380033e70072 (msdos)<br />
    Creating LVM PV /dev/mapper/20017380033e70072-part3<br />
    Creating LVM VG 'system_vg'; Warning: some properties may not be
    preserved...<br />
    Creating LVM volume 'system_vg/home_lv'; Warning: some properties
    may not be preserved...<br />
    Creating LVM volume 'system_vg/opt_lv'; Warning: some properties
    may not be preserved...<br />
    Creating LVM volume 'system_vg/root_lv'; Warning: some properties
    may not be preserved...<br />
    Creating LVM volume 'system_vg/support_lv'; Warning: some
    properties may not be preserved...<br />
    Creating LVM volume 'system_vg/swap_lv'; Warning: some properties
    may not be preserved...<br />
    Creating LVM volume 'system_vg/syslogs_lv'; Warning: some
    properties may not be preserved...<br />
    Creating LVM volume 'system_vg/tmp_lv'; Warning: some properties
    may not be preserved...<br />
    Creating LVM volume 'system_vg/usr_lv'; Warning: some properties
    may not be preserved...<br />
    Creating LVM volume 'system_vg/var_lv'; Warning: some properties
    may not be preserved...<br />
    Creating filesystem of type xfs with mount point / on
    /dev/mapper/system_vg-root_lv.<br />
    Mounting filesystem /<br />
    Creating filesystem of type ext3 with mount point /boot on
    /dev/mapper/20017380033e70072-part2.<br />
    Mounting filesystem /boot<br />
    Creating filesystem of type xfs with mount point /home on
    /dev/mapper/system_vg-home_lv.<br />
    Mounting filesystem /home<br />
    Creating filesystem of type xfs with mount point /opt on
    /dev/mapper/system_vg-opt_lv.<br />
    Mounting filesystem /opt<br />
    Creating filesystem of type xfs with mount point /IBMsupport on
    /dev/mapper/system_vg-support_lv.<br />
    Mounting filesystem /IBMsupport<br />
    Creating filesystem of type xfs with mount point /syslogs on
    /dev/mapper/system_vg-syslogs_lv.<br />
    Mounting filesystem /syslogs<br />
    Creating filesystem of type xfs with mount point /tmp on
    /dev/mapper/system_vg-tmp_lv.<br />
    Mounting filesystem /tmp<br />
    Creating filesystem of type xfs with mount point /usr on
    /dev/mapper/system_vg-usr_lv.<br />
    Mounting filesystem /usr<br />
    Creating filesystem of type xfs with mount point /var on
    /dev/mapper/system_vg-var_lv.<br />
    Mounting filesystem /var<br />
    Creating swap on /dev/mapper/system_vg-swap_lv<br />
    Disk layout created.<br />
    Confirm the recreated disk layout or go back one step</li>
<li>Confirm recreated disk layout and continue 'rear recover'</li>
<li>Go back one step to redo disk layout recreation</li>
<li>Use Relax-and-Recover shell and return back to here</li>
<li>Abort 'rear recover'<br />
    (default '1' timeout 300 seconds)<br />
    1<br />
    User confirmed recreated disk layout<br />
    Restoring from '/tmp/rear.HS3iq4f30qsvesD/tmp/tar_fifo' (restore
    log in /var/lib/rear/restore/recover.tar_fifo.13701.restore.log)
    ...<br />
    Backup restore program 'tar' started in subshell (PID=21918)<br />
    Preparing to restore backup.tar.gz.00 ...<br />
    Processing backup.tar.gz.00 ...<br />
    Restoring finished (verify backup restore log messages in
    /var/lib/rear/restore/recover.tar_fifo.13701.restore.log)<br />
    Recreating directories (with permissions) from
    /var/lib/rear/recovery/directories_permissions_owner_group<br />
    Failed to 'chown root:root hana/data'<br />
    Failed to 'chown root:root iso_fs'<br />
    Failed to 'chown root:root usr/sap'<br />
    Failed to 'chown root:root hana/shared'<br />
    Failed to 'chown root:root var/opt/BESClient'<br />
    Failed to 'chown root:root cv'<br />
    Failed to 'chown root:root hana/log'<br />
    Failed to 'chown root:root opt/teamquest'<br />
    Failed to 'chown root:root opt/IBM/ITM'<br />
    Failed to 'chown UNKNOWN:sudolinux opt/splunkforwarder'<br />
    Failed to 'chown ph1adm:sapsys usr/sap/basis'<br />
    Failed to 'chown ph1adm:UNKNOWN usr/sap/srm'<br />
    Failed to 'chown ph1adm:sapsys PA_backup'<br />
    Failed to 'chown root:root bin'<br />
    Failed to 'chown root:root dev'<br />
    Failed to 'chown root:root etc'<br />
    Failed to 'chown root:root etc/opt'<br />
    Failed to 'chown root:root etc/sgml'<br />
    Failed to 'chown root:root etc/X11'<br />
    Failed to 'chown root:root etc/xml'<br />
    Failed to 'chown root:root lib'<br />
    Failed to 'chown root:root lib64'<br />
    Failed to 'chown root:root mnt'<br />
    Failed to 'chown root:root proc'<br />
    Failed to 'chown root:root root'<br />
    Failed to 'chown root:root run'<br />
    Failed to 'chown root:root sbin'<br />
    Failed to 'chown root:root srv'<br />
    Failed to 'chown root:root usr/bin'<br />
    Failed to 'chown root:root usr/include'<br />
    Failed to 'chown root:root usr/lib'<br />
    Failed to 'chown root:root usr/lib64'<br />
    Failed to 'chown root:root usr/local'<br />
    Failed to 'chown root:root usr/sbin'<br />
    Failed to 'chown root:root usr/share'<br />
    Failed to 'chown root:root usr/src'<br />
    Failed to 'chown root:root usr/X11R6'<br />
    Failed to 'chown root:root var/cache'<br />
    Failed to 'chown root:root var/lib'<br />
    Failed to 'chown root:root var/log'<br />
    Failed to 'chown root:root var/spool'<br />
    Failed to 'chown root:root var/spool/mail'<br />
    Failed to 'chown root:root var/tmp'<br />
    ERROR: Unmounting '/tmp/rear.HS3iq4f30qsvesD/outputfs' failed.<br />
    Some latest log messages since the last called script
    980_umount_NETFS_dir.sh:<br />
    umount: /tmp/rear.HS3iq4f30qsvesD/outputfs: target is busy<br />
    (In some cases useful info about processes that<br />
    use the device is found by lsof(8) or fuser(1).)<br />
    2019-04-12 07:10:49.414246239 Forced unmount of
    '/tmp/rear.HS3iq4f30qsvesD/outputfs'<br />
    umount: /tmp/rear.HS3iq4f30qsvesD/outputfs: target is busy<br />
    (In some cases useful info about processes that<br />
    use the device is found by lsof(8) or fuser(1).)<br />
    2019-04-12 07:10:49.416780999 Unmounting
    '/tmp/rear.HS3iq4f30qsvesD/outputfs' failed.<br />
    Aborting due to an error, check /var/log/rear/rear-eniesdbp101p.log
    for details<br />
    Exiting rear recover (PID 13701) and its descendant processes<br />
    Terminating descendant process 21935 dd
    if=/tmp/rear.HS3iq4f30qsvesD/outputfs<br />
    Running exit tasks<br />
    Terminated<br />
    RESCUE eniesdbp101p:~ # dd if=/dev/zero
    of=/dev/mapper/20017380033e70072 bs=1M<br />
    count=1000<br />
    1000+0 records in<br />
    1000+0 records out<br />
    1048576000 bytes (1.0 GB, 1000 MiB) copied, 0.0904238 s, 11.6 GB/s<br />
    RESCUE eniesdbp101p:~ #</li>
</ol>
<h1 id="third_activation">#@ Third Activation<a class="headerlink" href="#third_activation" title="Permanent link">&para;</a></h1>
<p>SIBM multipath devices discovered<br />
rear selected correct disk<br />
Recover worked - chown failures</p>
<pre><code>                         GNU GRUB  version 2.02
</code></pre>
<p>+----------------------------------------------------------------------------+<br />
|*Relax-and-Recover |<br />
| |<br />
| |<br />
| |<br />
| |<br />
+----------------------------------------------------------------------------+</p>
<pre><code>  Use the ^ and v keys to select which entry is highlighted.
  Press enter to boot the selected OS, `e' to edit the commands
  before booting or `c' for a command-line.
</code></pre>
<h2 id="of_stdout_device_is_vdevicevty30000000_preparing_to_boot_linux_version_41214-956-default_geekobuildhost_gcc_version_485_suse_linux_1_smp_thu_jan_17_060439_utc_2019_6af4ef8_detected_machine_type_0000000000000101_command_line_boot_imagekernel_rootdevram0_selinux0_max_number_of_cores_passed_to_firmware_256_nr_cpus_2048_calling_ibmclient-architecture-support_done_memory_layout_at_init_memory_limit_0000000000000000_16_mb_aligned_alloc_bottom_000000000f4d0000_alloc_top_0000000020000000_alloc_top_hi_0000000020000000_rmo_top_0000000020000000_ram_top_0000000020000000_instantiating_rtas_at_0x000000001eca0000_done_prom_hold_cpus_skipped_copying_of_device_tree_building_dt_strings_building_dt_structure_device_tree_strings_0x000000000f4e0000_-_0x000000000f4e1751_device_tree_struct_0x000000000f4f0000_-_0x000000000f520000_quiescing_open_firmware_booting_linux_via_start_0x000000000a6f0000_page_sizes_from_device-tree_base_shift12_shift12_sllp0x0000_avpnm0x00000000_tlbiel1_penc0_base_shift12_shift16_sllp0x0000_avpnm0x00000000_tlbiel1_penc7_base_shift12_shift24_sllp0x0000_avpnm0x00000000_tlbiel1_penc56_base_shift16_shift16_sllp0x0110_avpnm0x00000000_tlbiel1_penc1_base_shift16_shift24_sllp0x0110_avpnm0x00000000_tlbiel1_penc8_base_shift24_shift24_sllp0x0100_avpnm0x00000001_tlbiel0_penc0_base_shift34_shift34_sllp0x0120_avpnm0x000007ff_tlbiel0_penc3_using_1tb_segments_initializing_hash_mmu_with_slb_linux_version_41214-956-default_geekobuildhost_gcc_version_485_suse_linux_1_smp_thu_jan_17_060439_utc_2019_6af4ef8_found_initrd_at_0xc00000000c6000000xc00000000f4cfeda_using_pseries_machine_description_bootconsole_udbg0_enabled_partition_configured_for_96_cpus_cpu_maps_initialized_for_8_threads_per_core_-_smp_release_cpus_spinning_secondaries_31_-_smp_release_cpus_2">OF stdout device is: /vdevice/vty@30000000 Preparing to boot Linux version 4.12.14-95.6-default (geeko@buildhost) (gcc version 4.8.5 (SUSE Linux) ) #1 SMP Thu Jan 17 06:04:39 UTC 2019 (6af4ef8) Detected machine type: 0000000000000101 command line: BOOT_IMAGE=/kernel root=/dev/ram0 selinux=0 Max number of cores passed to firmware: 256 (NR_CPUS = 2048) Calling ibm,client-architecture-support... done memory layout at init: memory_limit : 0000000000000000 (16 MB aligned) alloc_bottom : 000000000f4d0000 alloc_top : 0000000020000000 alloc_top_hi : 0000000020000000 rmo_top : 0000000020000000 ram_top : 0000000020000000 instantiating rtas at 0x000000001eca0000... done prom_hold_cpus: skipped copying OF device tree... Building dt strings... Building dt structure... Device tree strings 0x000000000f4e0000 -&gt; 0x000000000f4e1751 Device tree struct 0x000000000f4f0000 -&gt; 0x000000000f520000 Quiescing Open Firmware ... Booting Linux via __start() @ 0x000000000a6f0000 ... Page sizes from device-tree: base_shift=12: shift=12, sllp=0x0000, avpnm=0x00000000, tlbiel=1, penc=0 base_shift=12: shift=16, sllp=0x0000, avpnm=0x00000000, tlbiel=1, penc=7 base_shift=12: shift=24, sllp=0x0000, avpnm=0x00000000, tlbiel=1, penc=56 base_shift=16: shift=16, sllp=0x0110, avpnm=0x00000000, tlbiel=1, penc=1 base_shift=16: shift=24, sllp=0x0110, avpnm=0x00000000, tlbiel=1, penc=8 base_shift=24: shift=24, sllp=0x0100, avpnm=0x00000001, tlbiel=0, penc=0 base_shift=34: shift=34, sllp=0x0120, avpnm=0x000007ff, tlbiel=0, penc=3 Using 1TB segments Initializing hash mmu with SLB Linux version 4.12.14-95.6-default (geeko@buildhost) (gcc version 4.8.5 (SUSE Linux) ) #1 SMP Thu Jan 17 06:04:39 UTC 2019 (6af4ef8) Found initrd at 0xc00000000c600000:0xc00000000f4cfeda Using pSeries machine description bootconsole [udbg0] enabled Partition configured for 96 cpus. CPU maps initialized for 8 threads per core -&gt; smp_release_cpus() spinning_secondaries = 31 &lt;- smp_release_cpus()<a class="headerlink" href="#of_stdout_device_is_vdevicevty30000000_preparing_to_boot_linux_version_41214-956-default_geekobuildhost_gcc_version_485_suse_linux_1_smp_thu_jan_17_060439_utc_2019_6af4ef8_detected_machine_type_0000000000000101_command_line_boot_imagekernel_rootdevram0_selinux0_max_number_of_cores_passed_to_firmware_256_nr_cpus_2048_calling_ibmclient-architecture-support_done_memory_layout_at_init_memory_limit_0000000000000000_16_mb_aligned_alloc_bottom_000000000f4d0000_alloc_top_0000000020000000_alloc_top_hi_0000000020000000_rmo_top_0000000020000000_ram_top_0000000020000000_instantiating_rtas_at_0x000000001eca0000_done_prom_hold_cpus_skipped_copying_of_device_tree_building_dt_strings_building_dt_structure_device_tree_strings_0x000000000f4e0000_-_0x000000000f4e1751_device_tree_struct_0x000000000f4f0000_-_0x000000000f520000_quiescing_open_firmware_booting_linux_via_start_0x000000000a6f0000_page_sizes_from_device-tree_base_shift12_shift12_sllp0x0000_avpnm0x00000000_tlbiel1_penc0_base_shift12_shift16_sllp0x0000_avpnm0x00000000_tlbiel1_penc7_base_shift12_shift24_sllp0x0000_avpnm0x00000000_tlbiel1_penc56_base_shift16_shift16_sllp0x0110_avpnm0x00000000_tlbiel1_penc1_base_shift16_shift24_sllp0x0110_avpnm0x00000000_tlbiel1_penc8_base_shift24_shift24_sllp0x0100_avpnm0x00000001_tlbiel0_penc0_base_shift34_shift34_sllp0x0120_avpnm0x000007ff_tlbiel0_penc3_using_1tb_segments_initializing_hash_mmu_with_slb_linux_version_41214-956-default_geekobuildhost_gcc_version_485_suse_linux_1_smp_thu_jan_17_060439_utc_2019_6af4ef8_found_initrd_at_0xc00000000c6000000xc00000000f4cfeda_using_pseries_machine_description_bootconsole_udbg0_enabled_partition_configured_for_96_cpus_cpu_maps_initialized_for_8_threads_per_core_-_smp_release_cpus_spinning_secondaries_31_-_smp_release_cpus_2" title="Permanent link">&para;</a></h2>
<h2 id="ppc64_pft_size_0x1e_phys_mem_size_0x2000000000_dcache_bsize_0x80_icache_bsize_0x80_cpu_features_0x000000ff8f5d91a7_possible_0x00007fffcf5fb1a7_always_0x0000006f835c91a1_cpu_user_features_0xdc0065c2_0xef000000_mmu_features_0x7c006001_firmware_features_0x00000017c45bfc57_htab_hash_mask_0x7fffff_2">ppc64_pft_size = 0x1e phys_mem_size = 0x2000000000 dcache_bsize = 0x80 icache_bsize = 0x80 cpu_features = 0x000000ff8f5d91a7 possible = 0x00007fffcf5fb1a7 always = 0x0000006f835c91a1 cpu_user_features = 0xdc0065c2 0xef000000 mmu_features = 0x7c006001 firmware_features = 0x00000017c45bfc57 htab_hash_mask = 0x7fffff<a class="headerlink" href="#ppc64_pft_size_0x1e_phys_mem_size_0x2000000000_dcache_bsize_0x80_icache_bsize_0x80_cpu_features_0x000000ff8f5d91a7_possible_0x00007fffcf5fb1a7_always_0x0000006f835c91a1_cpu_user_features_0xdc0065c2_0xef000000_mmu_features_0x7c006001_firmware_features_0x00000017c45bfc57_htab_hash_mask_0x7fffff_2" title="Permanent link">&para;</a></h2>
<p>numa: NODE_DATA [mem 0x1fffcd6300-0x1fffcdffff]<br />
numa: NODE_DATA(0) on node 5<br />
numa: NODE_DATA [mem 0x1fffccc600-0x1fffcd62ff]<br />
Section 8189 and 8191 (node 5) have a circular dependency on usemap and
pgdat allocations<br />
rfi-flush: fallback displacement flush available<br />
rfi-flush: ori type flush available<br />
barrier-nospec: using ORI speculation barrier<br />
stf-barrier: hwsync barrier available<br />
PPC64 nvram contains 15360 bytes<br />
Zone ranges:<br />
DMA [mem 0x0000000000000000-0x0000001fffffffff]<br />
DMA32 empty<br />
Normal empty<br />
Movable zone start for each node<br />
Early memory node ranges<br />
node 5: [mem 0x0000000000000000-0x0000001fffffffff]<br />
Could not find start_pfn for node 0<br />
Initmem setup node 0 [mem 0x0000000000000000-0x0000000000000000]<br />
Initmem setup node 5 [mem 0x0000000000000000-0x0000001fffffffff]<br />
percpu: Embedded 3 pages/cpu @c000001ffe400000 s155160 r0 d41448
u262144<br />
Built 2 zonelists in Node order, mobility grouping on. Total pages:
2095104<br />
Policy zone: DMA<br />
Kernel command line: BOOT_IMAGE=/kernel root=/dev/ram0 selinux=0<br />
log_buf_len individual max cpu contribution: 4096 bytes<br />
log_buf_len total cpu_extra contributions: 389120 bytes<br />
log_buf_len min size: 524288 bytes<br />
log_buf_len: 1048576 bytes<br />
early log buf free: 519164(99%)<br />
PID hash table entries: 4096 (order: -1, 32768 bytes)<br />
Memory: 2108096K/134217728K available (9600K kernel code, 1792K rwdata,
2788K rodata, 3840K init, 11735K bss, 258048K reserved, 0K
cma-reserved)<br />
ftrace: allocating 26365 entries in 10 pages<br />
Hierarchical RCU implementation.<br />
RCU event tracing is enabled.<br />
RCU restricting CPUs from NR_CPUS=2048 to nr_cpu_ids=96.<br />
RCU: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=96<br />
NR_IRQS:512 nr_irqs:512 16<br />
clocksource: timebase: mask: 0xffffffffffffffff max_cycles:
0x761537d007, max_idle_ns: 440795202126 ns<br />
clocksource: timebase mult[1f40000] shift[24] registered<br />
Console: colour dummy device 80x25<br />
console [hvc0] enabled<br />
console [hvc0] enabled<br />
bootconsole [udbg0] disabled<br />
bootconsole [udbg0] disabled<br />
mempolicy: Disabling automatic NUMA balancing. Configure with
numa_balancing= or the kernel.numa_balancing sysctl<br />
pid_max: default: 98304 minimum: 768<br />
Security Framework initialized<br />
AppArmor: AppArmor initialized<br />
Dentry cache hash table entries: 8388608 (order: 10, 67108864 bytes)<br />
Inode-cache hash table entries: 4194304 (order: 9, 33554432 bytes)<br />
Mount-cache hash table entries: 131072 (order: 4, 1048576 bytes)<br />
Mountpoint-cache hash table entries: 131072 (order: 4, 1048576 bytes)<br />
EEH: pSeries platform initialized<br />
POWER8 performance monitor hardware support registered<br />
smp: Bringing up secondary CPUs ...<br />
smp: Brought up 2 nodes, 32 CPUs<br />
numa: Node 0 CPUs:<br />
numa: Node 5 CPUs: 0-31<br />
node 5 initialised, 2060181 pages in 40ms<br />
devtmpfs: initialized<br />
evm: security.selinux<br />
evm: security.ima<br />
evm: security.capability<br />
clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff,
max_idle_ns: 19112604462750000 ns<br />
futex hash table entries: 32768 (order: 6, 4194304 bytes)<br />
NET: Registered protocol family 16<br />
EEH: No capable adapters found<br />
cpuidle: using governor ladder<br />
cpuidle: using governor menu<br />
pstore: using zlib compression<br />
pstore: Registered nvram as persistent store backend<br />
PCI: Probing PCI hardware<br />
pseries-rng: Registering arch random hook.<br />
HugeTLB registered 16 MB page size, pre-allocated 0 pages<br />
HugeTLB registered 16 GB page size, pre-allocated 0 pages<br />
vgaarb: loaded<br />
EDAC MC: Ver: 3.0.0<br />
NetLabel: Initializing<br />
NetLabel: domain hash size = 128<br />
NetLabel: protocols = UNLABELED CIPSOv4 CALIPSO<br />
NetLabel: unlabeled traffic allowed by default<br />
clocksource: Switched to clocksource timebase<br />
VFS: Disk quotas dquot_6.6.0<br />
VFS: Dquot-cache hash table entries: 8192 (order 0, 65536 bytes)<br />
AppArmor: AppArmor Filesystem Enabled<br />
NET: Registered protocol family 2<br />
TCP established hash table entries: 524288 (order: 6, 4194304 bytes)<br />
TCP bind hash table entries: 65536 (order: 4, 1048576 bytes)<br />
TCP: Hash tables configured (established 524288 bind 65536)<br />
UDP hash table entries: 65536 (order: 5, 2097152 bytes)<br />
UDP-Lite hash table entries: 65536 (order: 5, 2097152 bytes)<br />
NET: Registered protocol family 1<br />
Unpacking initramfs...<br />
random: fast init done<br />
Freeing initrd memory: 47872K<br />
numa: Starting topology update prrn_enabled<br />
IOMMU table initialized, virtual merging enabled<br />
hv-24x7: read 1330 catalog entries, created 337 event attrs (0
failures), 169 descs<br />
audit: initializing netlink subsys (disabled)<br />
audit: type=2000 audit(1555068164.290:1): state=initialized
audit_enabled=0 res=1<br />
Initialise system trusted keyrings<br />
workingset: timestamp_bits=38 max_order=21 bucket_order=0<br />
zbud: loaded<br />
Key type asymmetric registered<br />
Asymmetric key parser 'x509' registered<br />
Block layer SCSI generic (bsg) driver version 0.4 loaded (major 249)<br />
io scheduler noop registered<br />
io scheduler deadline registered<br />
io scheduler cfq registered (default)<br />
io scheduler mq-deadline registered<br />
io scheduler kyber registered<br />
io scheduler bfq registered<br />
Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled<br />
pseries_rng: Registering IBM pSeries RNG driver<br />
mousedev: PS/2 mouse device common for all mice<br />
ledtrig-cpu: registered to indicate activity on CPUs<br />
nx_compress_pseries ibm,compression-v1: nx842_OF_upd: device
disabled<br />
hidraw: raw HID events driver (C) Jiri Kosina<br />
NET: Registered protocol family 10<br />
Segment Routing with IPv6<br />
NET: Registered protocol family 15<br />
registered taskstats version 1<br />
Loading compiled-in X.509 certificates<br />
Loaded X.509 cert 'SUSE Linux Enterprise Secure Boot Signkey:
3fb077b6cebc6ff2522e1c148c57c777c788e3e7'<br />
zswap: loaded using pool lzo/zbud<br />
page_owner is disabled<br />
Key type trusted registered<br />
Key type encrypted registered<br />
AppArmor: AppArmor sha1 policy hashing enabled<br />
ima: No TPM chip found, activating TPM-bypass! (rc=-19)<br />
ima: Allocated hash algorithm: sha256<br />
evm: HMAC attrs: 0x1<br />
Freeing unused kernel memory: 3840K<br />
This architecture does not have kernel memory protection.<br />
alg: No test for pkcs1pad(rsa,sha256) (pkcs1pad(rsa-generic,sha256))<br />
random: systemd: uninitialized urandom read (16 bytes read)<br />
random: systemd: uninitialized urandom read (16 bytes read)<br />
random: systemd: uninitialized urandom read (16 bytes read)</p>
<p>Welcome to SUSE Linux Enterprise Server 12 SP4!</p>
<p>[ OK ] Created slice system.slice.<br />
[ OK ] Started Relax-and-Recover sshd service.<br />
[ OK ] Reached target System Initialization.<br />
[ OK ] Created slice system-getty.slice.<br />
[ OK ] Listening on Journal Socket.<br />
[ OK ] Listening on udev Kernel Socket.<br />
[ OK ] Listening on udev Control Socket.<br />
Starting udev Coldplug all Devices...<br />
Starting udev Kernel Device Manager...<br />
[ OK ] Started Journal Service.<br />
[ OK ] Created slice system-serial\x2dgetty.slice.<br />
Starting Relax-and-Recover boot script...<br />
[ OK ] Started udev Kernel Device Manager.<br />
Starting Initialize Rescue System...<br />
[ OK ] Started Relax-and-Recover boot script.<br />
[ OK ] Found device /dev/ttyS0.<br />
[ OK ] Started udev Coldplug all Devices.<br />
[ OK ] Found device /dev/hvc0.</p>
<p>Verifying md5sums of the files in the Relax-and-Recover rescue system</p>
<p>md5sums are OK</p>
<p>Configuring Relax-and-Recover rescue system</p>
<p>Running 00-functions.sh...<br />
Running 01-run-ldconfig.sh...<br />
Running 10-console-setup.sh...<br />
Using keymap of the original system<br />
Running 20-check-boot-options.sh...<br />
Running 40-start-udev-or-load-modules.sh...<br />
Waiting for udev ... done.<br />
Running 41-load-special-modules.sh...<br />
Running 42-engage-scsi.sh...<br />
Running 45-serial-console.sh...<br />
Running 55-migrate-network-devices.sh...<br />
No network interface mapping is specified in /etc/rear/mappings/mac<br />
The original network interface eth0 d6:8b:e5:4d:db:08 is not available</p>
<ol>
<li>eth3 c6:c5:cb:8e:5c:03 ibmveth</li>
<li>eth4 c6:c5:cb:8e:5c:05 ibmveth</li>
<li>eth5 c6:c5:cb:8e:5c:04 ibmveth</li>
<li>Skip replacing eth0 d6:8b:e5:4d:db:08<br />
    Choose replacement for eth0 d6:8b:e5:4d:db:08 1<br />
    Mapping eth0 d6:8b:e5:4d:db:08 to eth3 c6:c5:cb:8e:5c:03<br />
    The original network interface eth1 d6:8b:e5:4d:db:09 is not
    available</li>
<li>
<ol>
<li>eth4 c6:c5:cb:8e:5c:05 ibmveth</li>
</ol>
</li>
<li>eth5 c6:c5:cb:8e:5c:04 ibmveth</li>
<li>Skip replacing eth1 d6:8b:e5:4d:db:09<br />
    Choose replacement for eth1 d6:8b:e5:4d:db:09 3<br />
    Mapping eth1 d6:8b:e5:4d:db:09 to eth5 c6:c5:cb:8e:5c:04<br />
    The original network interface eth2 d6:8b:e5:4d:db:0a is not
    available</li>
<li>
<ol>
<li>eth4 c6:c5:cb:8e:5c:05 ibmveth</li>
</ol>
</li>
<li>
<ol>
<li>Skip replacing eth2 d6:8b:e5:4d:db:0a<br />
    Choose replacement for eth2 d6:8b:e5:4d:db:0a 2<br />
    Mapping eth2 d6:8b:e5:4d:db:0a to eth4 c6:c5:cb:8e:5c:05<br />
    Reloading udev ... done.<br />
    Running 58-start-dhclient.sh...<br />
    Running 60-network-devices.sh...<br />
    Running 62-routing.sh...<br />
    Running 65-sysctl.sh...<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 0<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    vm.min_free_kbytes = 10485760<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_timestamps = 1<br />
    net.ipv4.tcp_slow_start_after_idle = 0<br />
    net.ipv4.tcp_window_scaling = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.core.rmem_max = 56623104<br />
    net.core.wmem_max = 56623104<br />
    net.ipv4.tcp_rmem = 65536 262088 56623104<br />
    net.ipv4.tcp_wmem = 65536 262088 56623104<br />
    net.ipv4.tcp_mem = 56623104 56623104 56623104<br />
    fs.aio-max-nr = 18446744073709551615<br />
    fs.file-max = 20000000<br />
    vm.memory_failure_early_kill = 1<br />
    kernel.shmmni = 65536<br />
    net.ipv6.conf.all.disable_ipv6 = 1<br />
    net.ipv4.ip_forward = 0<br />
    net.ipv6.conf.all.forwarding = 0<br />
    vm.pagecache_limit_ignore_dirty = 2<br />
    vm.min_free_kbytes = 10485760<br />
    net.core.somaxconn = 4096<br />
    net.ipv4.tcp_max_syn_backlog = 8192<br />
    net.ipv4.tcp_tw_reuse = 1<br />
    net.ipv4.tcp_timestamps = 1<br />
    net.ipv4.tcp_slow_start_after_idle = 0<br />
    net.ipv4.tcp_window_scaling = 1<br />
    net.ipv4.tcp_syn_retries = 8<br />
    net.core.rmem_max = 56623104<br />
    net.core.wmem_max = 56623104<br />
    net.ipv4.tcp_rmem = 65536 262088 56623104<br />
    net.ipv4.tcp_wmem = 65536 262088 56623104<br />
    net.ipv4.tcp_mem = 56623104 56623104 56623104<br />
    fs.aio-max-nr = 18446744073709551615<br />
    fs.file-max = 20000000<br />
    vm.memory_failure_early_kill = 1<br />
    kernel.shmmni = 65536<br />
    Running 99-makedev.sh...</li>
</ol>
</li>
</ol>
<p>Relax-and-Recover rescue system is ready</p>
<p>[ OK ] Started Initialize Rescue System.<br />
[ OK ] Started Getty on tty0.<br />
[ OK ] Reached target Login Prompts.<br />
[ OK ] Started Serial Getty on ttyS0.<br />
[ OK ] Started Serial Getty on hvc0.<br />
[ OK ] Reached target Multi-User.</p>
<p>Relax-and-Recover 2.4-git.3227.0f1f9dbb.master / 2019-02-10</p>
<p>Relax-and-Recover comes with ABSOLUTELY NO WARRANTY; for details see<br />
the GNU General Public License at:
<a href="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</a></p>
<p>Host eniesdbp101p using Backup NETFS and Output ISO<br />
Build date: Tue, 09 Apr 2019 14:15:01 -0400</p>
<p>Welcome to SUSE Linux Enterprise Server for SAP Applications 12 SP4
(ppc64le) - Kernel 4.12.14-95.6-default (hvc0).</p>
<p>SSH fingerprint: 2048 SHA256:uEJQ+W510Qrpjp4WSfutZFRqhrPJ0/3YOdxw1bgp7KE
root@eniesdbp101p (RSA)</p>
<p>eniesdbp101p login: root</p>
<p>Welcome to Relax-and-Recover. Run "rear recover" to restore your system
!</p>
<p>RESCUE eniesdbp101p:~ # ls -l /dev/disk/by-label<br />
ls: cannot access '/dev/disk/by-label': No such file or directory<br />
RESCUE eniesdbp101p:~ # mkdir /dev/disk/by-label<br />
RESCUE eniesdbp101p:~ # ln -s /dev/sr0
/dev/disk/by-label/RELAXRECOVER<br />
RESCUE eniesdbp101p:~ # rear recover<br />
Relax-and-Recover 2.4-git.3227.0f1f9dbb.master / 2019-02-10<br />
Running rear recover (PID 25732)<br />
Using log file: /var/log/rear/rear-eniesdbp101p.log<br />
Running workflow recover within the ReaR rescue/recovery system<br />
Using backup archive
'/tmp/rear.aAxYg7j9BmHnaTQ/outputfs/iso_fs/REAR_BACKUP/backup.tar.gz'<br />
Will do driver migration (recreating initramfs/initrd)<br />
Calculating backup archive size<br />
Backup archive size is 2614.94M (compressed)<br />
Setting up multipathing<br />
Activating multipath<br />
multipath activated<br />
Starting multipath daemon<br />
multipathd started<br />
Listing multipath device found<br />
20017380033e7008a dm-15 IBM,2810XIV size=240G<br />
20017380033e70075 dm-21 IBM,2810XIV size=64G<br />
SIBM_2810XIV_78033E70073 dm-0 IBM,2810XIV size=16G<br />
20017380033e70074 dm-20 IBM,2810XIV size=32G<br />
20017380033e70089 dm-14 IBM,2810XIV size=240G<br />
SIBM_2810XIV_78033E70072 dm-2 ##,## size=112G<br />
20017380033e70073 dm-19 IBM,2810XIV size=16G<br />
20017380033e70072 dm-18 IBM,2810XIV size=112G<br />
SIBM_2810XIV_78033E70117 dm-24 IBM,2810XIV size=16G<br />
20017380033e70084 dm-9 IBM,2810XIV size=385G<br />
20017380033e70118 dm-7 IBM,2810XIV size=16G<br />
20017380033e70083 dm-8 IBM,2810XIV size=385G<br />
20017380033e70117 dm-6 IBM,2810XIV size=16G<br />
SIBM_2810XIV_78033E70115 dm-23 IBM,2810XIV size=16G<br />
20017380033e7007a dm-13 IBM,2810XIV size=96G<br />
20017380033e70116 dm-5 IBM,2810XIV size=16G<br />
20017380033e70079 dm-12 IBM,2810XIV size=96G<br />
20017380033e70115 dm-4 IBM,2810XIV size=16G<br />
20017380033e70078 dm-11 IBM,2810XIV size=96G<br />
20017380033e7008c dm-16 IBM,2810XIV size=240G<br />
20017380033e70077 dm-10 IBM,2810XIV size=96G<br />
SIBM_2810XIV_78033E70075 dm-1 IBM,2810XIV size=64G<br />
20017380033e7008b dm-17 IBM,2810XIV size=240G<br />
SIBM_2810XIV_78033E7007A dm-25 IBM,2810XIV size=96G<br />
20017380033e70076 dm-3 IBM,2810XIV size=64G<br />
SIBM_2810XIV_78033E70074 dm-22 IBM,2810XIV size=32G<br />
Comparing disks<br />
Ambiguous possible target disks need manual configuration (more than one
with same size found)<br />
Switching to manual disk layout configuration<br />
Using /dev/mapper/20017380033e70072 (same size) for recreating
/dev/mapper/200173800348802c6<br />
Current disk mapping table (source =&gt; target):<br />
/dev/mapper/200173800348802c6 =&gt; /dev/mapper/20017380033e70072</p>
<p>Confirm or edit the disk mapping</p>
<ol>
<li>Confirm disk mapping and continue 'rear recover'</li>
<li>n/a</li>
<li>Edit disk mapping (/var/lib/rear/layout/disk_mappings)</li>
<li>Use Relax-and-Recover shell and return back to here</li>
<li>Abort 'rear recover'<br />
    (default '1' timeout 300 seconds)<br />
    1<br />
    User confirmed disk mapping<br />
    Confirm or edit the disk layout file</li>
<li>Confirm disk layout and continue 'rear recover'</li>
<li>Edit disk layout (/var/lib/rear/layout/disklayout.conf)</li>
<li>View disk layout (/var/lib/rear/layout/disklayout.conf)</li>
<li>View original disk space usage (/var/lib/rear/layout/config/df.txt)</li>
<li>Use Relax-and-Recover shell and return back to here</li>
<li>Abort 'rear recover'<br />
    (default '1' timeout 300 seconds)<br />
    1<br />
    User confirmed disk layout file<br />
    Confirm or edit the disk recreation script</li>
<li>Confirm disk recreation script and continue 'rear recover'</li>
<li>Edit disk recreation script (/var/lib/rear/layout/diskrestore.sh)</li>
<li>View disk recreation script (/var/lib/rear/layout/diskrestore.sh)</li>
<li>View original disk space usage (/var/lib/rear/layout/config/df.txt)</li>
<li>Use Relax-and-Recover shell and return back to here</li>
<li>Abort 'rear recover'<br />
    (default '1' timeout 300 seconds)<br />
    1<br />
    User confirmed disk recreation script<br />
    Start system layout restoration.<br />
    Creating partitions for disk /dev/mapper/20017380033e70072 (msdos)<br />
    Creating LVM PV /dev/mapper/20017380033e70072-part3<br />
    Creating LVM VG 'system_vg'; Warning: some properties may not be
    preserved...<br />
    Creating LVM volume 'system_vg/home_lv'; Warning: some properties
    may not be preserved...<br />
    Creating LVM volume 'system_vg/opt_lv'; Warning: some properties
    may not be preserved...<br />
    Creating LVM volume 'system_vg/root_lv'; Warning: some properties
    may not be preserved...<br />
    Creating LVM volume 'system_vg/support_lv'; Warning: some
    properties may not be preserved...<br />
    Creating LVM volume 'system_vg/swap_lv'; Warning: some properties
    may not be preserved...<br />
    Creating LVM volume 'system_vg/syslogs_lv'; Warning: some
    properties may not be preserved...<br />
    Creating LVM volume 'system_vg/tmp_lv'; Warning: some properties
    may not be preserved...<br />
    Creating LVM volume 'system_vg/usr_lv'; Warning: some properties
    may not be preserved...<br />
    Creating LVM volume 'system_vg/var_lv'; Warning: some properties
    may not be preserved...<br />
    Creating filesystem of type xfs with mount point / on
    /dev/mapper/system_vg-root_lv.<br />
    Mounting filesystem /<br />
    Creating filesystem of type ext3 with mount point /boot on
    /dev/mapper/20017380033e70072-part2.<br />
    Mounting filesystem /boot<br />
    Creating filesystem of type xfs with mount point /home on
    /dev/mapper/system_vg-home_lv.<br />
    Mounting filesystem /home<br />
    Creating filesystem of type xfs with mount point /opt on
    /dev/mapper/system_vg-opt_lv.<br />
    Mounting filesystem /opt<br />
    Creating filesystem of type xfs with mount point /IBMsupport on
    /dev/mapper/system_vg-support_lv.<br />
    Mounting filesystem /IBMsupport<br />
    Creating filesystem of type xfs with mount point /syslogs on
    /dev/mapper/system_vg-syslogs_lv.<br />
    Mounting filesystem /syslogs<br />
    Creating filesystem of type xfs with mount point /tmp on
    /dev/mapper/system_vg-tmp_lv.<br />
    Mounting filesystem /tmp<br />
    Creating filesystem of type xfs with mount point /usr on
    /dev/mapper/system_vg-usr_lv.<br />
    Mounting filesystem /usr<br />
    Creating filesystem of type xfs with mount point /var on
    /dev/mapper/system_vg-var_lv.<br />
    Mounting filesystem /var<br />
    Creating swap on /dev/mapper/system_vg-swap_lv<br />
    Disk layout created.<br />
    Confirm the recreated disk layout or go back one step</li>
<li>Confirm recreated disk layout and continue 'rear recover'</li>
<li>Go back one step to redo disk layout recreation</li>
<li>Use Relax-and-Recover shell and return back to here</li>
<li>Abort 'rear recover'<br />
    (default '1' timeout 300 seconds)<br />
    1<br />
    User confirmed recreated disk layout<br />
    Restoring from '/tmp/rear.aAxYg7j9BmHnaTQ/tmp/tar_fifo' (restore
    log in /var/lib/rear/restore/recover.tar_fifo.25732.restore.log)
    ...<br />
    Backup restore program 'tar' started in subshell (PID=33713)<br />
    Preparing to restore backup.tar.gz.00 ...<br />
    Processing backup.tar.gz.00 ...<br />
    Restored 7904 MiB [avg. 120808 KiB/sec] OK<br />
    Restored 7904 MiB in 68 seconds [avg. 119031 KiB/sec]<br />
    Restoring finished (verify backup restore log messages in
    /var/lib/rear/restore/recover.tar_fifo.25732.restore.log)<br />
    Recreating directories (with permissions) from
    /var/lib/rear/recovery/directories_permissions_owner_group<br />
    Failed to 'chown ph1adm:UNKNOWN usr/sap/srm'<br />
    Confirm restored config files or edit them</li>
<li>Confirm it is OK to recreate initrd and reinstall bootloader and
    continue 'rear recover'</li>
<li>Edit restored etc/fstab (/mnt/local/etc/fstab)</li>
<li>View restored etc/fstab (/mnt/local/etc/fstab)</li>
<li>Use Relax-and-Recover shell and return back to here</li>
<li>Abort 'rear recover'<br />
    (default '1' timeout 300 seconds)<br />
    1<br />
    User confirmed restored files<br />
    Applying disk layout mappings in /var/lib/rear/layout/disk_mappings
    to certain restored files...<br />
    The original restored files get saved in
    var/lib/rear/saved_original_files/ (in /mnt/local)<br />
    Applied disk layout mappings to restored 'boot/grub2/grub.cfg' (in
    /mnt/local)<br />
    Applied disk layout mappings to restored 'boot/grub2/device.map' (in
    /mnt/local)<br />
    Applied disk layout mappings to restored 'etc/sysconfig/bootloader'
    (in /mnt/local)<br />
    Applied disk layout mappings to restored 'etc/fstab' (in
    /mnt/local)<br />
    Applied disk layout mappings to restored 'etc/mtools.conf' (in
    /mnt/local)<br />
    Applied disk layout mappings to restored 'etc/smartd.conf' (in
    /mnt/local)<br />
    Applied disk layout mappings to restored
    'etc/sysconfig/smartmontools' (in /mnt/local)<br />
    Applied disk layout mappings to restored 'etc/security/pam_m</li>
</ol>
<h4 id="jsmeix_commented_at_2019-04-26_0856"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-486982389">2019-04-26 08:56</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-04-26_0856" title="Permanent link">&para;</a></h4>
<p>This is a very special case that cannot be fully solved for ReaR 2.5<br />
so I postpone it to ReaR 2.6...</p>
<h4 id="dewagner1_commented_at_2019-04-26_1114"><img src="https://avatars.githubusercontent.com/u/42152522?v=4" width="50"><a href="https://github.com/dewagner1">dewagner1</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-487021286">2019-04-26 11:14</a>:<a class="headerlink" href="#dewagner1_commented_at_2019-04-26_1114" title="Permanent link">&para;</a></h4>
<p>Do you have an estimate for ReaR 2.6 availability?</p>
<h4 id="jsmeix_commented_at_2019-04-26_1314"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-487052297">2019-04-26 13:14</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-04-26_1314" title="Permanent link">&para;</a></h4>
<p>@dewagner1<br />
not that it actually helps you, see<br />
<a href="https://github.com/rear/rear/milestones">https://github.com/rear/rear/milestones</a></p>
<pre><code>ReaR v2.6
No due date
</code></pre>
<p>I postponed this issue to ReaR 2.6 to be able to move forward<br />
with releasing ReaR 2.5 because its intended release date is<br />
currently <code>Past due by about 1 month</code> and even that had been<br />
already postponed from beginning of February to end of March,<br />
see
<a href="https://github.com/rear/rear/issues/2033">https://github.com/rear/rear/issues/2033</a></p>
<p>Simply put:<br />
This special case issue should not block releasing ReaR 2.5<br />
that is already very late (overall past due by about 3 month).</p>
<h4 id="jsmeix_commented_at_2020-03-13_1618"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-598802903">2020-03-13 16:18</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-03-13_1618" title="Permanent link">&para;</a></h4>
<p>FYI regarding the above<br />
<a href="https://github.com/rear/rear/issues/2019#issuecomment-476598723">https://github.com/rear/rear/issues/2019#issuecomment-476598723</a><br />
and the subsequent comments:</p>
<p>I think I am one step closer to the general problem, see<br />
<a href="https://github.com/rear/rear/issues/799#issuecomment-598626162">https://github.com/rear/rear/issues/799#issuecomment-598626162</a></p>
<p>I used LVM on top of RAID1 (i.e. the PVs are RAID1 storage objects).<br />
In this case here it seems LVM is used on top of multipath storage
objects.<br />
So it seems the common thing in both cases is that LVM PVs are<br />
not plain disk partitions like <code>/dev/sdXn</code> but higher level storage
objects<br />
where <code>wipefs -af /dev/sdXn</code> is insufficient to remove old metadata.</p>
<h4 id="ccjung_commented_at_2020-03-13_1642"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-598813756">2020-03-13 16:42</a>:<a class="headerlink" href="#ccjung_commented_at_2020-03-13_1642" title="Permanent link">&para;</a></h4>
<p>Hello,<br />
Thanks for the info.</p>
<p>When will the update for this issue be available?</p>
<p>A different question: Is there a ReaR version to support RHEL7 or 8 on
Power?</p>
<h4 id="jsmeix_commented_at_2020-03-16_1529"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-599600341">2020-03-16 15:29</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-03-16_1529" title="Permanent link">&para;</a></h4>
<p>@ccjung<br />
what do you mean with "the update for this issue"?</p>
<p>Did you read<br />
<a href="https://github.com/rear/rear/issues/799#issuecomment-598626162">https://github.com/rear/rear/issues/799#issuecomment-598626162</a><br />
?</p>
<p>Neither is there currently nor will there be in the foreseeable future<br />
an automatic solution within ReaR.</p>
<p>Currently and in the foreseeable future how to deal with it is to<br />
"Prepare replacement hardware for disaster recovery", cf.<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a><br />
therein in particular the part about<br />
"you must completely zero out your replacement storage".</p>
<p>Regarding which ReaR upstream version supports<br />
which Linux distributions and which hardware architectures see<br />
<a href="https://raw.githubusercontent.com/rear/rear/master/doc/rear-release-notes.txt">https://raw.githubusercontent.com/rear/rear/master/doc/rear-release-notes.txt</a><br />
or (the same) at<br />
<a href="http://relax-and-recover.org/documentation/release-notes-2-5">http://relax-and-recover.org/documentation/release-notes-2-5</a></p>
<p>In particular regarding RHEL specific questions about what<br />
ReaR versions Red Hat officially supports you may also<br />
get in contact with your particular RHEL support contact.</p>
<p>Additionally or alternatively see also<br />
<a href="http://relax-and-recover.org/support/">http://relax-and-recover.org/support/</a></p>
<h4 id="ccjung_commented_at_2020-03-16_1549"><img src="https://avatars.githubusercontent.com/u/29214472?u=58ae98d864664297a19702de40bf4767338e396b&v=4" width="50"><a href="https://github.com/ccjung">ccjung</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-599611044">2020-03-16 15:49</a>:<a class="headerlink" href="#ccjung_commented_at_2020-03-16_1549" title="Permanent link">&para;</a></h4>
<p>Yes, I read the #799 so I thought there might be an update to the ReaR
program.</p>
<p>It sounds like the workaround is to zero out the previously used disk if
there is restore problem.</p>
<p>We have been using this zero out disk workaround and it is working so
far.</p>
<h4 id="jsmeix_commented_at_2020-03-16_1650"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-599643998">2020-03-16 16:50</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-03-16_1650" title="Permanent link">&para;</a></h4>
<p>To zero out whole disks is not possible by default within ReaR<br />
because on huge disks that can take very much (i.e. too much) time<br />
BUT<br />
I see now that it might be possible if explicitly requested by the
user<br />
via a new config array variable for example something like</p>
<pre><code>ZERO_OUT_DISKS=( /dev/sda /dev/sdb )
</code></pre>
<p>BUT<br />
that would need to be implemented carefully right<br />
to avoid that accidentally wrong disks get zeroed out<br />
e.g. when <code>/dev/sda</code> is a USB disk with the ReaR recovery system<br />
cf.
<a href="https://github.com/rear/rear/issues/1271">https://github.com/rear/rear/issues/1271</a></p>
<p>I will have to meditate on it...</p>
<h4 id="github-actions_commented_at_2020-06-30_0133"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/issues/2019#issuecomment-651464891">2020-06-30 01:33</a>:<a class="headerlink" href="#github-actions_commented_at_2020-06-30_0133" title="Permanent link">&para;</a></h4>
<p>Stale issue message</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2019-01-17.2019.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
