<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#1155 Issue closed: P2V: Is it possible to do a ReaR backup on physical and restore to Vmware host? - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#1155 Issue closed: P2V: Is it possible to do a ReaR backup on physical and restore to Vmware host?";
        var mkdocs_page_input_path = "issues/2017-01-05.1155.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_rsync.html">Internal Backup with rsync to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rsync.html">External Backup using BACKUP=RSYNC method</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/restic.html">External Backup using restic</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/duplicity.html">External Backup using duplicity</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#1155 Issue closed: P2V: Is it possible to do a ReaR backup on physical and restore to Vmware host?</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1155_issue_closed_p2v_is_it_possible_to_do_a_rear_backup_on_physical_and_restore_to_vmware_host"><a href="https://github.com/rear/rear/issues/1155">#1155 Issue</a> <code>closed</code>: P2V: Is it possible to do a ReaR backup on physical and restore to Vmware host?<a class="headerlink" href="#1155_issue_closed_p2v_is_it_possible_to_do_a_rear_backup_on_physical_and_restore_to_vmware_host" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>fixed / solved / done</code></p>
<h4 id="unix1adm_opened_issue_at_2017-01-05_1620"><img src="https://avatars.githubusercontent.com/u/24937117?v=4" width="50"><a href="https://github.com/unix1adm">unix1adm</a> opened issue at <a href="https://github.com/rear/rear/issues/1155">2017-01-05 16:20</a>:<a class="headerlink" href="#unix1adm_opened_issue_at_2017-01-05_1620" title="Permanent link">&para;</a></h4>
<h4 id="relax-and-recover_rear_issue_template">Relax-and-Recover (rear) Issue Template<a class="headerlink" href="#relax-and-recover_rear_issue_template" title="Permanent link">&para;</a></h4>
<p>Please fill in the following items before submitting a new issue (quick
response is not guaranteed with free support):</p>
<ul>
<li>rear version (/usr/sbin/rear -V): Relax-and-Recover 1.17.2 / Git</li>
<li>OS version (cat /etc/rear/os.conf or lsb_release -a): Rehl 6/7</li>
<li>rear configuration files (cat /etc/rear/site.conf or cat
    /etc/rear/local.conf):</li>
<li>Are you using legacy BIOS of UEFI boot?</li>
<li>Brief description of the issue:</li>
</ul>
<p>I backed up a physical system successfully. I was able to restore to the
physical system successfully.</p>
<p>I want to restore the image of the physical system to a VMware client.</p>
<p>However no Ethernet interfaces show up when I boot into the rescue ISO
file.</p>
<p>I am assuming that could be because the image did not have the VMware
Ethernet drivers so it did not load anything.</p>
<p>Is there a way to get this to work?</p>
<p>I have need to move a physical system to the VM world and was hoping
ReaR would work for us.<br />
P2V was is not giving us what we need.</p>
<p>Thank you in advance for your help.</p>
<ul>
<li>Work-around, if any:</li>
</ul>
<h4 id="unix1adm_commented_at_2017-01-05_1748"><img src="https://avatars.githubusercontent.com/u/24937117?v=4" width="50"><a href="https://github.com/unix1adm">unix1adm</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-270708963">2017-01-05 17:48</a>:<a class="headerlink" href="#unix1adm_commented_at_2017-01-05_1748" title="Permanent link">&para;</a></h4>
<p>As an update I tried a vm to a new vm container restore and that worked
fine. This makes me think my first assumption is correct about the
physical not having the drivers that are needed.</p>
<p>I did have to change the IP manually and the MAC address to be the new
nic,</p>
<p>Something interesting when I tried to do a restore of a VM back to its
original container. Networking did not get configured as it did on the
physical system. I did the following commands to get it working:</p>
<p>a. ip link set dev ens32 up<br />
b. ip addr add <ip>/24 dev ens32<br />
c. ip route add default via <my subnet gw> dev ens32</p>
<p>Restore then worked fine.</p>
<h4 id="gdha_commented_at_2017-01-07_1056"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-271076607">2017-01-07 10:56</a>:<a class="headerlink" href="#gdha_commented_at_2017-01-07_1056" title="Permanent link">&para;</a></h4>
<p>@unix1adm Have a look at the loaded network drivers of the VM and you
have to make sure that these kernel drivers are copied/loaded on the
physical system before you can do a P2V cloning.<br />
E.g. add
<code>MODULES_LOAD=( "${MODULES_LOAD[@]}" "my_vm_kernel_network_module" )</code>
into <code>/etc/rear/local.conf</code></p>
<h4 id="jsmeix_commented_at_2017-01-09_0907"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-271236931">2017-01-09 09:07</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-09_0907" title="Permanent link">&para;</a></h4>
<p>@unix1adm<br />
what you like to do is not a pure recovery but actually it is<br />
a system migration (from physical to virtual: 'P2V').</p>
<p>In general using ReaR for migrating a system onto<br />
different kind of "hardware" is tricky and depending<br />
on the exact difference it may become a complicated task.<br />
Simply put: The more different the new "hardware" is<br />
the more tricky and complicated the migration it will be.</p>
<p>Regarding P2V system migration<br />
you may have a look at the example in<br />
<a href="https://github.com/rear/rear/issues/943">https://github.com/rear/rear/issues/943</a></p>
<p>In general regarding special networking setup see<br />
<a href="http://relax-and-recover.org/documentation/faq">http://relax-and-recover.org/documentation/faq</a><br />
therein the "IP migration" section and see<br />
<a href="https://github.com/rear/rear/issues/819#issuecomment-239458728">https://github.com/rear/rear/issues/819#issuecomment-239458728</a><br />
and follow the links therein.</p>
<h4 id="unix1adm_commented_at_2017-01-09_1223"><img src="https://avatars.githubusercontent.com/u/24937117?v=4" width="50"><a href="https://github.com/unix1adm">unix1adm</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-271271931">2017-01-09 12:23</a>:<a class="headerlink" href="#unix1adm_commented_at_2017-01-09_1223" title="Permanent link">&para;</a></h4>
<p>Thank you for the info.<br />
We tried P2V and it failed that is why I was hoping ReaR would help us
out. I will review the links your provided.</p>
<p>I appreciate the feed back and will post more question if any after I
review.</p>
<h4 id="jsmeix_commented_at_2017-01-12_0918"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-272113074">2017-01-12 09:18</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-12_0918" title="Permanent link">&para;</a></h4>
<p>Only FYI an untested idea regarding possibly easier migration<br />
of an existing system onto very different new "hardware":</p>
<p>Instead of what I wrote in<br />
<a href="https://github.com/rear/rear/issues/943#issuecomment-236129462">https://github.com/rear/rear/issues/943#issuecomment-236129462</a></p>
<pre>
... you need to manually adapt the
var/lib/rear/layout/disklayout.conf
file into something that matches the new "hardware"
</pre>

<p>I like to suggest to try out if it works perhaps easier<br />
when you do it the other way round:</p>
<p>Instead of running "rear mkrescue" on the old hardware and<br />
then manually adapt the old var/lib/rear/layout/disklayout.conf<br />
file into something that matches the new "hardware"<br />
I like to suggest the following opposite way:</p>
<p>Install a small initial system from scratch on the new hardware<br />
with the disk layout (i.e. partitioning, filesystems, mount points)<br />
as intended for the final system on the new hardware<br />
(e.g. by using the Linux distribution's native installer) and then<br />
run "rear mkbackup" in that initial system on the new hardware<br />
so that you get in particular a var/lib/rear/layout/disklayout.conf<br />
file that matches the intended disk layout on the new hardware<br />
and save the whole var/lib/rear/ directory contents<br />
from the initial system to a safe place.</p>
<p>On the old system run "rear mkbackup" to get primarily<br />
only a backup of the files of the old system.</p>
<p>Then overwrite the initial system on the new hardware<br />
via "rear recover" where you use in particular the<br />
var/lib/rear/layout/disklayout.conf that you made<br />
before in the initial system on the new hardware<br />
and the backup of the files of the old system that<br />
you made before on the old system.</p>
<p>Perhaps you could even use the ReaR recovery system<br />
from the "rear mkbackup" run on the new hardware<br />
because that one should contain the right kernel modules<br />
and other needed stuff that match the new hardware<br />
provided you used for the "rear mkbackup" run on the<br />
new hardware the same backup method as you use<br />
when you run "rear mkbackup" run on the old hardware<br />
to ensure the new ReaR recovery system also contains<br />
the right backup restore tools.</p>
<p>I guess it should work when you overwrite the backup.tar.gz<br />
from the "rear mkbackup" run on the new hardware<br />
with the backup.tar.gz that contains the files of the old system<br />
so that you could run the new ReaR recovery system on<br />
the new hardware and run "rear recover" to get the old<br />
system's files migrated onto the new hardware with the<br />
intended new hardware's disk layout.</p>
<p>Again:<br />
This is only an untested idea.</p>
<p>@unix1adm<br />
I would appreciate it very much if you could provide feedback<br />
whether or not that idea seems to work in general<br />
or if it is perhaps only a nonsese dead end.</p>
<h4 id="jsmeix_commented_at_2017-01-12_0924"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-272114510">2017-01-12 09:24</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-12_0924" title="Permanent link">&para;</a></h4>
<p>An addedum:</p>
<p>System software migration at the same time<br />
together with hardware migration cannot work.</p>
<p>At least it cannot work when you intend to use the<br />
ReaR recovery system from the "rear mkbackup" run<br />
on the new hardware.</p>
<p>I.e. when you install the above mentioned initial system<br />
from scratch on the new hardware you must use the same<br />
Linux distribution version that you currently run on your<br />
old hardware to ensure the programs and other files<br />
in the new ReaR recovery system match what you<br />
use on the old hardware.</p>
<h4 id="unix1adm_commented_at_2017-01-12_1224"><img src="https://avatars.githubusercontent.com/u/24937117?v=4" width="50"><a href="https://github.com/unix1adm">unix1adm</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-272150519">2017-01-12 12:24</a>:<a class="headerlink" href="#unix1adm_commented_at_2017-01-12_1224" title="Permanent link">&para;</a></h4>
<p>Good Day jsmeix</p>
<p>Well the initial issue I am having is that I cannot even do a recover as
I am missing the ethernet. The backup files are on a nfs share ( I have
them on a Linux system as well as a AIX nfs share.)<br />
but when I boot the system from the ISO file I cannot load anything as
there is no networking to mount the backed up files.</p>
<p>So you are saying to load a basic OS on the new VM container so it has
the networking? Then try to overlay a rear restore? I was under the
assumption you had to boot from the ISO file to do a restore.</p>
<h4 id="unix1adm_commented_at_2017-01-12_1233"><img src="https://avatars.githubusercontent.com/u/24937117?v=4" width="50"><a href="https://github.com/unix1adm">unix1adm</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-272152128">2017-01-12 12:33</a>:<a class="headerlink" href="#unix1adm_commented_at_2017-01-12_1233" title="Permanent link">&para;</a></h4>
<p>On a similar point :</p>
<p>The other thing I am going to be working on is I need to take a backup
of a Rhel Linux system on Power then restore it to another Power system
as is. Hardware specs are not know at this time but they are in the same
family of Power systems. So I am hoping I will be able to restore it.</p>
<p>If I can get the networking going I think a restore will work in this
case.</p>
<p>Another question I have is :<br />
I am assuming I can make a backup to ANY nfs mountpoint then copy the
files over to another NFS server (different domain) and then do a
restore.</p>
<p>Now the question I have is with the /etc/rear/local.conf file will be
pointing to the OLD nfs server</p>
<p>sample local.conf file:</p>
<p>a. vi /etc/rear/local.conf add the below lines to the end of the file.<br />
UTPUT=ISO<br />
OUTPUT_URL=nfs://192.168.56.1/storage<br />
BACKUP=NETFS<br />
BACKUP_URL=nfs://192.168.56.1/storage<br />
SSH_ROOT_PASSWORD="redhat"<br />
BACKUP_PROG_EXCLUDE=("${BACKUP_PROG_EXCLUDE[@]}" '/media'
'/var/tmp' '/var/crash')<br />
NETFS_KEEP_OLD_BACKUP_COPY=</p>
<p>So is there a way to edit this file from the ISO or a command line
option to point to the new NFS server?</p>
<h4 id="unix1adm_commented_at_2017-01-12_1310"><img src="https://avatars.githubusercontent.com/u/24937117?v=4" width="50"><a href="https://github.com/unix1adm">unix1adm</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-272159268">2017-01-12 13:10</a>:<a class="headerlink" href="#unix1adm_commented_at_2017-01-12_1310" title="Permanent link">&para;</a></h4>
<p>By the way I am not changing the release of the OS. If it is at 6.8 it
will stay at 6.8.</p>
<h4 id="jsmeix_commented_at_2017-01-12_1345"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-272166335">2017-01-12 13:45</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-12_1345" title="Permanent link">&para;</a></h4>
<p>If your backup is on a remote machine you<br />
need networking in the ReaR recovery system.<br />
I think you cannot boot something else and<br />
overlay that with ReaR with reasonable effort.</p>
<p>What I use and what always works for me<br />
in my network environment to get networking<br />
in the ReaR recovery system is in local.conf</p>
<pre>
USE_DHCLIENT="yes"
SSH_ROOT_PASSWORD="rear"
</pre>

<p>cf. "First steps with Relax-and-Recover" at<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<p>But in restricted network environments<br />
(e.g. when there is no DHCP server)<br />
you may have to do manual networking setup<br />
for the ReaR recovery system, cf.<br />
NETWORKING_PREPARATION_COMMANDS<br />
in default.conf.</p>
<p>When you copy the ReaR files (in particular backup.tar.gz)<br />
over to another NFS server you need to adapt in the<br />
running ReaR recovery system /etc/rear/local.conf<br />
before you run "rear recover" so that the BACKUP_URL<br />
points to the right NFS share wherefrom "rear recover"<br />
can get the backup.tar.gz to be restored.</p>
<p>In general you can adapt in the ReaR recovery system<br />
anything as you need before you run "rear recover".</p>
<p>For example you can manually type appropriate commands<br />
in the ReaR recovery system to set up networking therein.</p>
<h4 id="didacog_commented_at_2017-01-12_1426"><img src="https://avatars.githubusercontent.com/u/5380209?u=163f1571e6b9c9c7df94e2c6ca152b0a7406b52d&v=4" width="50"><a href="https://github.com/didacog">didacog</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-272176117">2017-01-12 14:26</a>:<a class="headerlink" href="#didacog_commented_at_2017-01-12_1426" title="Permanent link">&para;</a></h4>
<p>Hi @unix1adm,</p>
<p>Regarding P2V to VMWare, the easiest way to do it is to assign e1000
driver to the VM NIC for the initial restore. This should work without
issues and linux will recognize it in order you can have the network
working, after the recover, reboot, install vmware tools, shutdown,
switch the NIC driver to vmxnet and after boot will work as expected and
P2V.</p>
<p>Hope this helps.</p>
<p>Regards,</p>
<h4 id="jsmeix_commented_at_2017-01-12_1458"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-272184540">2017-01-12 14:58</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-12_1458" title="Permanent link">&para;</a></h4>
<p>@didacog<br />
many thanks for your help regarding possible issues with VMWare.<br />
I don't have VMWare so that I cannot help with its issues.<br />
My KVM/QEMU VMs "just work" for me ;-)</p>
<h4 id="didacog_commented_at_2017-01-12_1503"><img src="https://avatars.githubusercontent.com/u/5380209?u=163f1571e6b9c9c7df94e2c6ca152b0a7406b52d&v=4" width="50"><a href="https://github.com/didacog">didacog</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-272185990">2017-01-12 15:03</a>:<a class="headerlink" href="#didacog_commented_at_2017-01-12_1503" title="Permanent link">&para;</a></h4>
<p>You're welcome @jsmeix! ;)</p>
<h4 id="unix1adm_commented_at_2017-01-12_1741"><img src="https://avatars.githubusercontent.com/u/24937117?v=4" width="50"><a href="https://github.com/unix1adm">unix1adm</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-272230571">2017-01-12 17:41</a>:<a class="headerlink" href="#unix1adm_commented_at_2017-01-12_1741" title="Permanent link">&para;</a></h4>
<p>To jsmeix</p>
<p>I think you dotn understand my question. Yes I have to modify the
/etc/rear/local.conf file</p>
<p>The initial backup needs to go to a NFS server on a ip 192.168.1.x says
for eample<br />
During the restore it needs ot be changed to point to 192.168.2.x say</p>
<p>How do I get to the local.conf file after the system is booting from the
restore ISO file?</p>
<p>If I change it before i take the backup it wont go to the NFS server it
needs to for that.</p>
<p>Sorry if I was not clear before.</p>
<p>or are you saying I can backup the system to a local dir on the system
then move that file off to another system and restore from that?</p>
<p>The issue I see is that I need to have the tar file on some mount point
that rear knows about so it can pull it down and restore the OS.</p>
<h4 id="gdha_commented_at_2017-01-12_1831"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-272243032">2017-01-12 18:31</a>:<a class="headerlink" href="#gdha_commented_at_2017-01-12_1831" title="Permanent link">&para;</a></h4>
<p>@unix1adm Just edit <code>/etc/rear/local.conf</code> and change it manually before
starting the recover. As simple as that :-)</p>
<h4 id="unix1adm_commented_at_2017-01-12_1920"><img src="https://avatars.githubusercontent.com/u/24937117?v=4" width="50"><a href="https://github.com/unix1adm">unix1adm</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-272255685">2017-01-12 19:20</a>:<a class="headerlink" href="#unix1adm_commented_at_2017-01-12_1920" title="Permanent link">&para;</a></h4>
<p>Are you saying once I boot the ReaR ISO file this can be changed?</p>
<p>That would be simple. I have not had time to try that but I will and
report back.</p>
<p>Thank you.</p>
<h4 id="unix1adm_commented_at_2017-01-12_1955"><img src="https://avatars.githubusercontent.com/u/24937117?v=4" width="50"><a href="https://github.com/unix1adm">unix1adm</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-272265449">2017-01-12 19:55</a>:<a class="headerlink" href="#unix1adm_commented_at_2017-01-12_1955" title="Permanent link">&para;</a></h4>
<p>Well thank you a bunch. That solution to the part of the restore using a
new NFS system worked great. I still have to test physical hardware but
in Vm it worked.</p>
<h4 id="jsmeix_commented_at_2017-01-13_0756"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-272382678">2017-01-13 07:56</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-13_0756" title="Permanent link">&para;</a></h4>
<p>In<br />
<a href="https://github.com/rear/rear/issues/1155#issuecomment-272166335">https://github.com/rear/rear/issues/1155#issuecomment-272166335</a><br />
I wrote</p>
<pre>
When you copy the ReaR files (in particular backup.tar.gz)
over to another NFS server you need to adapt in the
running ReaR recovery system /etc/rear/local.conf
before you run "rear recover" so that the BACKUP_URL
points to the right NFS share wherefrom "rear recover"
can get the backup.tar.gz to be restored.
</pre>

<p>What is not clear about:<br />
"adapt in the running ReaR recovery system /etc/rear/local.conf"<br />
?</p>
<h4 id="unix1adm_commented_at_2017-01-17_1156"><img src="https://avatars.githubusercontent.com/u/24937117?v=4" width="50"><a href="https://github.com/unix1adm">unix1adm</a> commented at <a href="https://github.com/rear/rear/issues/1155#issuecomment-273120079">2017-01-17 11:56</a>:<a class="headerlink" href="#unix1adm_commented_at_2017-01-17_1156" title="Permanent link">&para;</a></h4>
<p>I am set with this issue for now. Thank you again for the great info.<br />
I will be testing the restore of the Linux on Power this week as I was
able to get the backup successfully.<br />
Crossing fingers the restores goes as smooth.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2017-01-05.1155.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
