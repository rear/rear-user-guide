<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#1740 PR merged: Yum+backup - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#1740 PR merged: Yum+backup";
        var mkdocs_page_input_path = "issues/2018-02-26.1740.pr.merged.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#1740 PR merged: Yum+backup</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1740_pr_merged_yumbackup"><a href="https://github.com/rear/rear/pull/1740">#1740 PR</a> <code>merged</code>: Yum+backup<a class="headerlink" href="#1740_pr_merged_yumbackup" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>fixed / solved / done</code></p>
<h4 id="n3wwn_opened_issue_at_2018-02-26_2210"><img src="https://avatars.githubusercontent.com/u/19431804?v=4" width="50"><a href="https://github.com/N3WWN">N3WWN</a> opened issue at <a href="https://github.com/rear/rear/pull/1740">2018-02-26 22:10</a>:<a class="headerlink" href="#n3wwn_opened_issue_at_2018-02-26_2210" title="Permanent link">&para;</a></h4>
<h5 id="pull_request_details">Pull Request Details:<a class="headerlink" href="#pull_request_details" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>Type: <strong>Enhancement</strong></p>
</li>
<li>
<p>Impact: <strong>Low</strong></p>
</li>
<li>
<p>Reference to related issue (URL):</p>
</li>
</ul>
<p>This is a continuation of the YUM backup method #1464</p>
<ul>
<li>How was this pull request tested?</li>
</ul>
<p>CentOS 6 and CentOS 7 source VMs in Virtualbox, restoring to another VM</p>
<ul>
<li>Brief description of the changes in this pull request:</li>
</ul>
<p>YUM+backup adds the ability to backup and restore files to the YUM
method, which, like the ZYPPER method, recreates the target system from
scratch using a list of RPMs captured from the source system.</p>
<p>The only files backed up are those which were either</p>
<ul>
<li>Not provided by RPM packages</li>
<li>Were provided by RPM packages, but have been modified after
    installation</li>
</ul>
<p>This minimizes the number of files included in the backups while still
capturing every file on the system not explicitly excluded using options
like BACKUP_PROG_EXCLUDE, EXCLUDE_MOUNTPOINTS, etc</p>
<p>New configuration options are</p>
<ul>
<li>YUM_BACKUP_FILES<br />
    If true, a backup archive (much like the NETFS archive) will be
    built</li>
<li>YUM_BACKUP_FILES_FULL_EXCL<br />
    If true, the filesystem is scanned for files which, though symlinked
    directories, point to the files which have been excluded from the
    backup. This minimizes the size of the backup archive in exchange
    for additional processing time</li>
<li>YUM_BACKUP_SELINUX_CONTEXTS<br />
    If true, also capture all of the SELinux contexts so they can be
    restored on the target system</li>
<li>RECREATE_USERS_GROUPS<br />
    Has 3 options, <em>"no"</em>, <em>"yes"</em> and <em>"yes" "passwords"</em>. If "no", no
    users that weren't added by RPM packages during install will exist
    on the target system. If "yes", users and groups will be recreated
    on the target system. If "yes" "passwords", users, groups <strong>and</strong>
    passwords are recreated on the target system.</li>
</ul>
<p>Thanks!</p>
<p>-Rich Alloway (Rogue Wave)</p>
<h4 id="n3wwn_commented_at_2018-02-27_2157"><img src="https://avatars.githubusercontent.com/u/19431804?v=4" width="50"><a href="https://github.com/N3WWN">N3WWN</a> commented at <a href="https://github.com/rear/rear/pull/1740#issuecomment-369040841">2018-02-27 21:57</a>:<a class="headerlink" href="#n3wwn_commented_at_2018-02-27_2157" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/rear/rear/pull/1740/commits/6b9d8d8508183144f56eec92b828ae037c03a6f7">https://github.com/rear/rear/pull/1740/commits/6b9d8d8508183144f56eec92b828ae037c03a6f7</a>
and
<a href="https://github.com/rear/rear/pull/1740/commits/53afd8629589d660bc17a332439dffd6fca135d7">https://github.com/rear/rear/pull/1740/commits/53afd8629589d660bc17a332439dffd6fca135d7</a>
address the dollar-paren issue that @jsmeix mentioned as well as add the
documentation @gdha requested.</p>
<h4 id="jsmeix_commented_at_2018-02-28_1209"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/1740#issuecomment-369220434">2018-02-28 12:09</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-02-28_1209" title="Permanent link">&para;</a></h4>
<p>@N3WWN<br />
many thanks in particular for the documentation.</p>
<p>When you do not plan to add more commits I would like to merge it
soon,<br />
e.g. tomorrow (unless you tell me otherwise).</p>
<h4 id="n3wwn_commented_at_2018-02-28_1539"><img src="https://avatars.githubusercontent.com/u/19431804?v=4" width="50"><a href="https://github.com/N3WWN">N3WWN</a> commented at <a href="https://github.com/rear/rear/pull/1740#issuecomment-369279165">2018-02-28 15:39</a>:<a class="headerlink" href="#n3wwn_commented_at_2018-02-28_1539" title="Permanent link">&para;</a></h4>
<p>Hi @jsmeix !</p>
<p>No additional commits are planned at this time. üòÅ</p>
<p>Thanks!</p>
<h4 id="jsmeix_commented_at_2018-03-01_0822"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/1740#issuecomment-369512311">2018-03-01 08:22</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-03-01_0822" title="Permanent link">&para;</a></h4>
<p>@N3WWN<br />
many thanks for this major contribution that much improves the YUM
method<br />
towards a full solution to recreate the system completely as it was
before.</p>
<p>Now we have three fundamentally different methods in ReaR<br />
how to recreate the system:</p>
<p>The most generic and very low level "BLOCKCLONE" method,<br />
the various usual backup methods,<br />
the higher level YUM and ZYPPER methods.</p>
<p>Those fundamentally different methods together with "multiple backups",
cf.<br />
<a href="https://github.com/rear/rear/blob/master/doc/user-guide/11-multiple-backups.adoc">https://github.com/rear/rear/blob/master/doc/user-guide/11-multiple-backups.adoc</a><br />
provide great flexibility and freedom to the user how he can recreate
each of his<br />
various systems as he specifically needs it in his particular
environment.</p>
<p>When time permits I would like to enhance the ZYPPER method in the same
way<br />
(i.e. I will basically copy as much of your code to implement
ZYPPER+backup).<br />
For now I like to keep the scripts for YUM and ZYPPER totally
separated<br />
until things stabilized - in particular after more user feedback (I am
still waiting<br />
for a first user "out there" of the ZYPPER method - I am in particular
happy<br />
that my ZYPPER method at least was useful to have now your much more<br />
complete YUM+backup method in ReaR).<br />
Later we can see what is really duplicate code and have common scripts
for that<br />
or introduce a set of common functions that are used both by YUM and
ZYPPER.</p>
<h4 id="jsmeix_commented_at_2018-03-01_0825"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/1740#issuecomment-369513061">2018-03-01 08:25</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-03-01_0825" title="Permanent link">&para;</a></h4>
<p>For the log:<br />
I fixed a serious typo in my<br />
<a href="https://github.com/rear/rear/pull/1740#issuecomment-369512311">https://github.com/rear/rear/pull/1740#issuecomment-369512311</a><br />
which reads now (excerpt):</p>
<pre>
... I am in particular happy
that my ZYPPER method at least was useful to have now your much more
complete YUM+backup method in ReaR
</pre>

<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2018-02-26.1740.pr.merged.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
