<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2752 Issue closed: ReaR backup error - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2752 Issue closed: ReaR backup error";
        var mkdocs_page_input_path = "issues/2022-02-03.2752.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/restic.html">External Backup using restic</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#2752 Issue closed: ReaR backup error</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2752_issue_closed_rear_backup_error"><a href="https://github.com/rear/rear/issues/2752">#2752 Issue</a> <code>closed</code>: ReaR backup error<a class="headerlink" href="#2752_issue_closed_rear_backup_error" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>fixed / solved / done</code></p>
<h4 id="exfarmer_opened_issue_at_2022-02-03_0318"><img src="https://avatars.githubusercontent.com/u/77739333?v=4" width="50"><a href="https://github.com/exfarmer">exfarmer</a> opened issue at <a href="https://github.com/rear/rear/issues/2752">2022-02-03 03:18</a>:<a class="headerlink" href="#exfarmer_opened_issue_at_2022-02-03_0318" title="Permanent link">&para;</a></h4>
<h4 id="relax-and-recover_rear_issue_template">Relax-and-Recover (ReaR) Issue Template<a class="headerlink" href="#relax-and-recover_rear_issue_template" title="Permanent link">&para;</a></h4>
<p>Fill in the following items before submitting a new issue<br />
(quick response is not guaranteed with free support):</p>
<ul>
<li>
<p>ReaR version ("/usr/sbin/rear -V"): Relax-and-Recover 2.6 /
    2020-06-17</p>
</li>
<li>
<p>OS version ("cat /etc/os-release" or "lsb_release -a" or "cat
    /etc/rear/os.conf"): Red Hat Enterprise Linux Server release 6.10
    (Santiago)</p>
</li>
<li>
<p>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
    /etc/rear/local.conf"):</p>
</li>
<li>
<p>OUTPUT=ISO<br />
    OUTPUT_URL=nfs://ussydd6300/data/col1/sylmar_linux_bu_image<br />
    BACKUP=NETFS<br />
    BACKUP_OPTIONS="nfsvers=3,nolock"<br />
    BACKUP_URL=nfs://ussydd6300/data/col1/sylmar_linux_bu_image<br />
    ONLY_INCLUDE_VG=( 'VolGroup00' 'vg01' )<br />
    BACKUP_PROG_EXCLUDE=("${BACKUP_PROG_EXCLUDE[@]}" '/media'
    '/var/tmp' '/var/crash' '/srv')<br />
    NETFS_KEEP_OLD_BACKUP_COPY=y</p>
</li>
<li>
<p>Hardware vendor/product (PC or PowerNV BareMetal or ARM) or VM (KVM
    guest or PowerVM LPAR):<br />
    VM</p>
</li>
<li>
<p>System architecture (x86 compatible or PPC64/PPC64LE or what exact
    ARM device):<br />
    x86_64</p>
</li>
<li>
<p>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or
    ELILO or Petitboot):</p>
</li>
<li>
<p>Storage (local disk or SSD) and/or SAN (FC or iSCSI or FCoE) and/or
    multipath (DM or NVMe):<br />
    SAN</p>
</li>
<li>
<p>Storage layout ("lsblk -ipo
    NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,LABEL,SIZE,MOUNTPOINT"):</p>
</li>
<li>
<p>Description of the issue (ideally so that others can reproduce
    it):<br />
    Info 02/02/2022 21:35:11 Relax-and-Recover 2.6 / 2020-06-17<br />
    Info 02/02/2022 21:35:11 Running rear mkbackup (PID 7507)<br />
    Info 02/02/2022 21:35:11 Using log file:
    /var/log/rear/rear-ussy-messtgora20.log<br />
    Error 02/02/2022 21:35:12 Script 'default/01_set_drlm_env.sh'
    without leading 3-digit number 'NNN_' is likely run in wrong
    order<br />
    Info 02/02/2022 21:35:12 Running workflow mkbackup on the
    normal/original system<br />
    Error 02/02/2022 21:35:12 Script 'GNU/Linux/20_include_agetty.sh'
    without leading 3-digit number 'NNN_' is likely run in wrong
    order<br />
    Error 02/02/2022 21:35:12 speed 9600 baud; line = 0;<br />
    Error 02/02/2022 21:35:12 -brkint -imaxbel<br />
    Error 02/02/2022 21:35:12 speed 9600 baud; line = 0;<br />
    Error 02/02/2022 21:35:12 -brkint -imaxbel<br />
    Error 02/02/2022 21:35:12 stty: /dev/ttyS2: Input/output error<br />
    Error 02/02/2022 21:35:12 stty: /dev/ttyS3: Input/output error<br />
    Error 02/02/2022 21:35:12 Script
    'GNU/Linux/21_include_dhclient.sh' without leading 3-digit number
    'NNN_' is likely run in wrong order<br />
    Error 02/02/2022 21:35:12 Script
    'GNU/Linux/22_include_lvm_tools.sh' without leading 3-digit
    number 'NNN_' is likely run in wrong order<br />
    Error 02/02/2022 21:35:12 Script
    'GNU/Linux/23_include_md_tools.sh' without leading 3-digit number
    'NNN_' is likely run in wrong order<br />
    Error 02/02/2022 21:35:12 Script
    'GNU/Linux/24_include_multipath_tools.sh' without leading 3-digit
    number 'NNN_' is likely run in wrong order<br />
    Error 02/02/2022 21:35:13 Script 'GNU/Linux/28_include_systemd.sh'
    without leading 3-digit number 'NNN_' is likely run in wrong
    order<br />
    Error 02/02/2022 21:35:13 Script
    'GNU/Linux/28_include_vmware_tools.sh' without leading 3-digit
    number 'NNN_' is likely run in wrong order<br />
    ...<br />
    ...<br />
    ...<br />
    Error 02/02/2022 21:40:01 /usr/share/rear/verify/NSR/default/<br />
    Error 02/02/2022 21:40:01
    /usr/share/rear/verify/NSR/default/410_verify_nsr_paths.sh<br />
    Error 02/02/2022 21:40:01
    /usr/share/rear/verify/NSR/default/400_verify_nsr.sh<br />
    Error 02/02/2022 21:40:01
    /usr/share/rear/verify/NSR/default/41_verify_nsr_paths.sh<br />
    Error 02/02/2022 21:40:01
    /usr/share/rear/verify/NSR/default/40_verify_nsr.sh<br />
    Error 02/02/2022 21:40:01 /usr/share/rear/verify/default/<br />
    Error 02/02/2022 21:40:01
    /usr/share/rear/verify/default/04_validate_variables.sh<br />
    Error 02/02/2022 21:40:01
    /usr/share/rear/verify/default/03_translate_tape.sh<br />
    Error 02/02/2022 21:40:01
    /usr/share/rear/verify/default/020_translate_url.sh<br />
    Error 02/02/2022 21:40:01
    /usr/share/rear/verify/default/020_cciss_scsi_engage.sh<br />
    Error 02/02/2022 21:40:01
    /usr/share/rear/verify/default/02_translate_url.sh<br />
    Error 02/02/2022 21:40:01
    /usr/share/rear/verify/default/040_validate_variables.sh<br />
    Error 02/02/2022 21:40:01
    /usr/share/rear/verify/default/050_create_mappings_dir.sh<br />
    Error 02/02/2022 21:40:01
    /usr/share/rear/verify/default/02_cciss_scsi_engage.sh<br />
    Error 02/02/2022 21:40:01
    /usr/share/rear/verify/default/030_translate_tape.sh<br />
    Error 02/02/2022 21:40:01 /usr/share/rear/verify/GALAXY10/<br />
    Error 02/02/2022 21:40:01 /usr/share/rear/verify/GALAXY10/default/<br />
    Error 02/02/2022 21:40:01
    /usr/share/rear/verify/GALAXY10/default/550_request_point_in_time_restore_parameters.sh<br />
    Error 02/02/2022 21:40:01
    /usr/share/rear/verify/GALAXY10/default/39_create_ramdisk.sh<br />
    Info 02/02/2022 21:40:01 You have reached logging limit</p>
</li>
<li>
<p>Workaround, if any: NONE</p>
</li>
<li>
<p>Attachments, as applicable ("rear -D mkrescue/mkbackup/recover"
    debug log files):</p>
</li>
</ul>
<p>To paste verbatim text like command output or file content,<br />
include it between a leading and a closing line of three backticks like</p>
<pre><code>```
verbatim content
```
</code></pre>
<p><a href="https://github.com/rear/rear/files/7991575/rear-ussy-messtgora20.log">rear-ussy-messtgora20.log</a></p>
<h4 id="gdha_commented_at_2022-02-03_0647"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2752#issuecomment-1028651777">2022-02-03 06:47</a>:<a class="headerlink" href="#gdha_commented_at_2022-02-03_0647" title="Permanent link">&para;</a></h4>
<p>@exfarmer you are mixing two ReaR versions I'm afraid. To fix this
remove the current rear package and then remove the directory
<code>/usr/share/rear</code>, then you can re-install the rear package. It will
work better by doing this.</p>
<h4 id="jsmeix_commented_at_2022-02-03_0844"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2752#issuecomment-1028733743">2022-02-03 08:44</a>:<a class="headerlink" href="#jsmeix_commented_at_2022-02-03_0844" title="Permanent link">&para;</a></h4>
<p>@exfarmer<br />
alternatively see the section<br />
"Testing current ReaR upstream GitHub master code" in<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<p>I recommend to try out our latest GitHub master code because<br />
the GitHub master code is the only place where we fix things<br />
and if there are issues it helps when you use exactly the code<br />
where we could fix things.</p>
<h4 id="exfarmer_commented_at_2022-02-03_1306"><img src="https://avatars.githubusercontent.com/u/77739333?v=4" width="50"><a href="https://github.com/exfarmer">exfarmer</a> commented at <a href="https://github.com/rear/rear/issues/2752#issuecomment-1028972595">2022-02-03 13:06</a>:<a class="headerlink" href="#exfarmer_commented_at_2022-02-03_1306" title="Permanent link">&para;</a></h4>
<p>I didn’t notice the 2 versions installed. I removed them both and
re-installed the 2.6 version.<br />
Looks like it is working again.<br />
Thank you</p>
<p>What’s odd is that we made no changes on this server in over a year and
it just started failing.<br />
It’s working, I’m happy, Thank you again</p>
<p>Abbott<br />
Gary Hess<br />
Administrator, Sr - Unix<br />
Abbott</p>
<p>253 Financial Blvd.<br />
Liberty, SC 29657 USA</p>
<p>O:<br />
+1 864-843-8352<br />
M:<br />
+1 864-546-8921</p>
<h4 id="exfarmer_commented_at_2022-02-03_1308"><img src="https://avatars.githubusercontent.com/u/77739333?v=4" width="50"><a href="https://github.com/exfarmer">exfarmer</a> commented at <a href="https://github.com/rear/rear/issues/2752#issuecomment-1028974129">2022-02-03 13:08</a>:<a class="headerlink" href="#exfarmer_commented_at_2022-02-03_1308" title="Permanent link">&para;</a></h4>
<p>I spoke too soon, the last run also failed:</p>
<h1 id="2022-02-03_050550219788567_including_buildgnulinux620_verify_os_release_filesh_2022-02-03_050550257947938_including_buildgnulinux630_simplify_systemd_reboot_halt_poweroff_shutdownsh_2022-02-03_050550296919756_including_buildgnulinux630_verify_resolv_conf_filesh_2022-02-03_050550337276462_supposedly_valid_nameserver_109423124_in_tmprearpjwqli3khcmzyogrootfsetcresolvconf_2022-02-03_050550371171479_including_buildgnulinux640_verify_lvm_confsh_2022-02-03_050550469609420_including_builddefault950_check_missing_programssh_2022-02-03_050550532596894_including_builddefault960_remove_encryption_keyssh_2022-02-03_050550570725235_including_builddefault970_add_rear_releasesh_2022-02-03_050550610752041_including_builddefault975_update_os_confsh_2022-02-03_050550651349708_including_builddefault990_verify_rootfssh_2022-02-03_050550667381525_testing_that_the_recovery_system_in_tmprearpjwqli3khcmzyogrootfs_contains_a_usable_system_2022-02-03_050550731705432_testing_ldd_binbash_to_ensure_ldd_works_for_the_subsequent_ldd_tests_within_the_recovery_system_chroot_failed_to_run_command_binldd_operation_not_permitted_2022-02-03_050550754237421_build_area_kept_for_investigation_in_tmprearpjwqli3khcmzyog_remove_it_when_not_needed_2022-02-03_050550807535723_error">2022-02-03 05:05:50.219788567 Including build/GNU/Linux/620_verify_os_release_file.sh 2022-02-03 05:05:50.257947938 Including build/GNU/Linux/630_simplify_systemd_reboot_halt_poweroff_shutdown.sh 2022-02-03 05:05:50.296919756 Including build/GNU/Linux/630_verify_resolv_conf_file.sh 2022-02-03 05:05:50.337276462 Supposedly valid nameserver '10.94.231.24' in /tmp/rear.PjwQLI3KhCMZyog/rootfs/etc/resolv.conf 2022-02-03 05:05:50.371171479 Including build/GNU/Linux/640_verify_lvm_conf.sh 2022-02-03 05:05:50.469609420 Including build/default/950_check_missing_programs.sh 2022-02-03 05:05:50.532596894 Including build/default/960_remove_encryption_keys.sh 2022-02-03 05:05:50.570725235 Including build/default/970_add_rear_release.sh 2022-02-03 05:05:50.610752041 Including build/default/975_update_os_conf.sh 2022-02-03 05:05:50.651349708 Including build/default/990_verify_rootfs.sh 2022-02-03 05:05:50.667381525 Testing that the recovery system in /tmp/rear.PjwQLI3KhCMZyog/rootfs contains a usable system 2022-02-03 05:05:50.731705432 Testing 'ldd /bin/bash' to ensure 'ldd' works for the subsequent 'ldd' tests within the recovery system chroot: failed to run command `/bin/ldd': Operation not permitted 2022-02-03 05:05:50.754237421 Build area kept for investigation in /tmp/rear.PjwQLI3KhCMZyog, remove it when not needed 2022-02-03 05:05:50.807535723 ERROR:<a class="headerlink" href="#2022-02-03_050550219788567_including_buildgnulinux620_verify_os_release_filesh_2022-02-03_050550257947938_including_buildgnulinux630_simplify_systemd_reboot_halt_poweroff_shutdownsh_2022-02-03_050550296919756_including_buildgnulinux630_verify_resolv_conf_filesh_2022-02-03_050550337276462_supposedly_valid_nameserver_109423124_in_tmprearpjwqli3khcmzyogrootfsetcresolvconf_2022-02-03_050550371171479_including_buildgnulinux640_verify_lvm_confsh_2022-02-03_050550469609420_including_builddefault950_check_missing_programssh_2022-02-03_050550532596894_including_builddefault960_remove_encryption_keyssh_2022-02-03_050550570725235_including_builddefault970_add_rear_releasesh_2022-02-03_050550610752041_including_builddefault975_update_os_confsh_2022-02-03_050550651349708_including_builddefault990_verify_rootfssh_2022-02-03_050550667381525_testing_that_the_recovery_system_in_tmprearpjwqli3khcmzyogrootfs_contains_a_usable_system_2022-02-03_050550731705432_testing_ldd_binbash_to_ensure_ldd_works_for_the_subsequent_ldd_tests_within_the_recovery_system_chroot_failed_to_run_command_binldd_operation_not_permitted_2022-02-03_050550754237421_build_area_kept_for_investigation_in_tmprearpjwqli3khcmzyog_remove_it_when_not_needed_2022-02-03_050550807535723_error" title="Permanent link">&para;</a></h1>
<h2 id="bug_in_usrsharerearbuilddefault990_verify_rootfssh_line_57_rear_recovery_system_in_tmprearpjwqli3khcmzyogrootfs_is_broken_ldd_binbash_failed">BUG in /usr/share/rear/build/default/990_verify_rootfs.sh line 57: 'ReaR recovery system in '/tmp/rear.PjwQLI3KhCMZyog/rootfs' is broken: 'ldd /bin/bash' failed'<a class="headerlink" href="#bug_in_usrsharerearbuilddefault990_verify_rootfssh_line_57_rear_recovery_system_in_tmprearpjwqli3khcmzyogrootfs_is_broken_ldd_binbash_failed" title="Permanent link">&para;</a></h2>
<h1 id="please_report_this_issue_at_httpsgithubcomrearrearissues_and_include_the_relevant_parts_from_varlogrearrear-ussy-messtgora20log_preferably_with_full_debug_information_via_rear_-d_mkbackup">Please report this issue at <a href="https://github.com/rear/rear/issues">https://github.com/rear/rear/issues</a> and include the relevant parts from /var/log/rear/rear-ussy-messtgora20.log preferably with full debug information via 'rear -D mkbackup'<a class="headerlink" href="#please_report_this_issue_at_httpsgithubcomrearrearissues_and_include_the_relevant_parts_from_varlogrearrear-ussy-messtgora20log_preferably_with_full_debug_information_via_rear_-d_mkbackup" title="Permanent link">&para;</a></h1>
<p>===== Stack trace =====<br />
Trace 0: /usr/sbin/rear:541 main<br />
Trace 1: /usr/share/rear/lib/mkbackup-workflow.sh:15
WORKFLOW_mkbackup<br />
Trace 2: /usr/share/rear/lib/framework-functions.sh:116 SourceStage<br />
Trace 3: /usr/share/rear/lib/framework-functions.sh:56 Source<br />
Trace 4: /usr/share/rear/build/default/990_verify_rootfs.sh:57
source<br />
Trace 5: /usr/share/rear/lib/_input-output-functions.sh:708 BugError<br />
=== End stack trace ===<br />
2022-02-03 05:05:50.857382731 Exiting rear mkbackup (PID 48779) and its
descendant processes ...<br />
2022-02-03 05:05:54.331122101 rear,48779 /usr/sbin/rear -d -v mkbackup<br />
<code>-rear,21043 /usr/sbin/rear -d -v mkbackup</code>-pstree,21044 -Aplau 48779<br />
/usr/share/rear/lib/_input-output-functions.sh: line 151: kill: (21049)
- No such process<br />
2022-02-03 05:05:54.645582279 Running exit tasks<br />
2022-02-03 05:05:54.657714555 Exit task
'cleanup_build_area_and_end_program'<br />
2022-02-03 05:05:54.668878451 Finished in 186 seconds<br />
2022-02-03 05:05:54.680255903 You should also rm -Rf
/tmp/rear.PjwQLI3KhCMZyog<br />
2022-02-03 05:05:54.691697218 End of program reached<br />
2022-02-03 05:05:54.703186174 Exit task '(( EXIT_FAIL_MESSAGE )) &amp;&amp;
echo 'rear mkbackup failed, check
/var/log/rear/rear-ussy-messtgora20.log for details' 1&gt;&amp;8'<br />
2022-02-03 05:05:54.714727499 Exit task 'exec 8&gt;&amp;-'<br />
2022-02-03 05:05:54.726234596 Exit task 'exec 7&gt;&amp;-'<br />
2022-02-03 05:05:54.737597558 Exit task 'exec 6&lt;&amp;-'<br />
2022-02-03 05:05:54.749008405 Exit task ''</p>
<p>Version: Relax-and-Recover 2.6 / 2020-06-17</p>
<p>Thank you<br />
Abbott</p>
<h4 id="pcahyna_commented_at_2022-02-03_1312"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/issues/2752#issuecomment-1028977851">2022-02-03 13:12</a>:<a class="headerlink" href="#pcahyna_commented_at_2022-02-03_1312" title="Permanent link">&para;</a></h4>
<p>"chroot: failed to run command `/bin/ldd': Operation not permitted"
that's weird, do you get some SELinux errors when this happens?</p>
<h4 id="exfarmer_commented_at_2022-02-03_1327"><img src="https://avatars.githubusercontent.com/u/77739333?v=4" width="50"><a href="https://github.com/exfarmer">exfarmer</a> commented at <a href="https://github.com/rear/rear/issues/2752#issuecomment-1028990316">2022-02-03 13:27</a>:<a class="headerlink" href="#exfarmer_commented_at_2022-02-03_1327" title="Permanent link">&para;</a></h4>
<p>Not that I know of, but I can ask someone in about an hour.</p>
<h4 id="exfarmer_commented_at_2022-02-03_1335"><img src="https://avatars.githubusercontent.com/u/77739333?v=4" width="50"><a href="https://github.com/exfarmer">exfarmer</a> commented at <a href="https://github.com/rear/rear/issues/2752#issuecomment-1028997484">2022-02-03 13:35</a>:<a class="headerlink" href="#exfarmer_commented_at_2022-02-03_1335" title="Permanent link">&para;</a></h4>
<p>I couldn’t find any messages containing “ldd” with the ausearch.</p>
<h4 id="exfarmer_commented_at_2022-02-03_1631"><img src="https://avatars.githubusercontent.com/u/77739333?v=4" width="50"><a href="https://github.com/exfarmer">exfarmer</a> commented at <a href="https://github.com/rear/rear/issues/2752#issuecomment-1029170402">2022-02-03 16:31</a>:<a class="headerlink" href="#exfarmer_commented_at_2022-02-03_1631" title="Permanent link">&para;</a></h4>
<p>Hi, Any idea where this is coming from?<br />
Like I said, the backup has been working for weeks, now it fails.</p>
<h4 id="exfarmer_commented_at_2022-02-03_2007"><img src="https://avatars.githubusercontent.com/u/77739333?v=4" width="50"><a href="https://github.com/exfarmer">exfarmer</a> commented at <a href="https://github.com/rear/rear/issues/2752#issuecomment-1029356165">2022-02-03 20:07</a>:<a class="headerlink" href="#exfarmer_commented_at_2022-02-03_2007" title="Permanent link">&para;</a></h4>
<p>I found the issue, it was flagged by Carbon Black.<br />
I’ll follow up once that is resolved.</p>
<h4 id="exfarmer_commented_at_2022-02-03_2137"><img src="https://avatars.githubusercontent.com/u/77739333?v=4" width="50"><a href="https://github.com/exfarmer">exfarmer</a> commented at <a href="https://github.com/rear/rear/issues/2752#issuecomment-1029424979">2022-02-03 21:37</a>:<a class="headerlink" href="#exfarmer_commented_at_2022-02-03_2137" title="Permanent link">&para;</a></h4>
<p>The issue with the CarbonBlack blocking the backups is fixed, but the
issue I originally started with is not.</p>
<p>***@***.*** ~]# rear -V<br />
Relax-and-Recover 2.6 / 2020-06-17</p>
<p>This is in the local.conf file: BACKUP_OPTIONS="nfsvers=3,nolock"</p>
<p>I can mount the NFS disk with “mount -v disk directory -t nfs -o
vers=3”<br />
but the mount command isn’t using that:<br />
2022-02-03 13:27:20.222760885 Finished running 'build' stage in 133
seconds<br />
2022-02-03 13:27:20.229017175 ======================<br />
2022-02-03 13:27:20.235056067 Running 'pack' stage<br />
2022-02-03 13:27:20.241021287 ======================<br />
2022-02-03 13:27:20.275957757 Including
pack/GNU/Linux/900_create_initramfs.sh<br />
2022-02-03 13:27:20.299573307 Creating recovery/rescue system
initramfs/initrd initrd.cgz with gzip default compression<br />
2022-02-03 13:27:41.934086644 Created initrd.cgz with gzip default
compression (121700972 bytes) in 21 seconds<br />
2022-02-03 13:27:41.944672771 Finished running 'pack' stage in 21
seconds<br />
2022-02-03 13:27:41.953245896 ======================<br />
2022-02-03 13:27:41.960995281 Running 'output' stage<br />
2022-02-03 13:27:41.969726719 ======================<br />
2022-02-03 13:27:42.013064627 Including
output/default/010_set_umask.sh<br />
2022-02-03 13:27:42.026260058 Setting umask to 077<br />
2022-02-03 13:27:42.053480325 Including
output/default/100_mount_output_path.sh<br />
mkdir: created directory
<code>/tmp/rear.XOaHbxxa0dHb2MK/outputfs' 2022-02-03 13:27:42.076297839 Added 'rm -Rf -v /tmp/rear.XOaHbxxa0dHb2MK/outputfs &gt;&amp;2' as an exit task 2022-02-03 13:27:42.102478106 Mounting with 'mount -v -t nfs -o rw,noatime ussydd6300:/data/col1/sylmar_linux_bu_image /tmp/rear.XOaHbxxa0dHb2MK/outputfs' mount.nfs: mount(2): Permission denied mount.nfs: access denied by server while mounting ussydd6300:/data/col1/sylmar_linux_bu_image mount.nfs: timeout set for Thu Feb  3 13:29:42 2022 mount.nfs: trying text-based options 'vers=4,addr=10.94.101.36,clientaddr=10.94.30.85' 2022-02-03 13:27:44.529708643 ERROR: Mount command 'mount -v -t nfs -o rw,noatime ussydd6300:/data/col1/sylmar_linux_bu_image /tmp/rear.XOaHbxxa0dHb2MK/outputfs' failed. ===== Stack trace ===== Trace 0: /usr/sbin/rear:541 main Trace 1: /usr/share/rear/lib/mkbackup-workflow.sh:24 WORKFLOW_mkbackup Trace 2: /usr/share/rear/lib/framework-functions.sh:116 SourceStage Trace 3: /usr/share/rear/lib/framework-functions.sh:56 Source Trace 4: /usr/share/rear/output/default/100_mount_output_path.sh:15 source Trace 5: /usr/share/rear/lib/global-functions.sh:563 mount_url === End stack trace === 2022-02-03 13:27:44.563688165 Exiting rear mkbackup (PID 18120) and its descendant processes ... 2022-02-03 13:27:47.865810778 rear,18120 /usr/sbin/rear -d -v mkbackup</code>-rear,48523
/usr/sbin/rear -d -v mkbackup<br />
<code>-pstree,48524 -Aplau 18120 /usr/share/rear/lib/_input-output-functions.sh: line 151: kill: (48527) - No such process 2022-02-03 13:27:48.218938568 Running exit tasks 2022-02-03 13:27:48.232315318 Exit task 'rm -Rf -v /tmp/rear.XOaHbxxa0dHb2MK/outputfs &gt;&amp;2' removed directory:</code>/tmp/rear.XOaHbxxa0dHb2MK/outputfs'<br />
2022-02-03 13:27:48.254961580 Exit task
'cleanup_build_area_and_end_program'<br />
2022-02-03 13:27:48.267087127 Finished in 287 seconds<br />
2022-02-03 13:27:48.279517964 You should also rm -Rf
/tmp/rear.XOaHbxxa0dHb2MK<br />
2022-02-03 13:27:48.292739083 End of program reached<br />
2022-02-03 13:27:48.305676846 Exit task '(( EXIT_FAIL_MESSAGE )) &amp;&amp;
echo 'rear mkbackup failed, check
/var/log/rear/rear-ussy-messtgora20.log for details' 1&gt;&amp;8'<br />
2022-02-03 13:27:48.318083562 Exit task 'exec 8&gt;&amp;-'<br />
2022-02-03 13:27:48.330518689 Exit task 'exec 7&gt;&amp;-'<br />
2022-02-03 13:27:48.342243680 Exit task 'exec 6&lt;&amp;-'<br />
2022-02-03 13:27:48.355757205 Exit task ''</p>
<p>I have a work-around, but I don’t want to hard code BACKUP_OPTIONS= and
OUTPUT_OPTIONS= in /usr/share/rear/conf/default.conf<br />
The whole point of this was to not do that.</p>
<p>Thank you<br />
Abbott</p>
<h4 id="pcahyna_commented_at_2022-02-03_2226"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/issues/2752#issuecomment-1029459278">2022-02-03 22:26</a>:<a class="headerlink" href="#pcahyna_commented_at_2022-02-03_2226" title="Permanent link">&para;</a></h4>
<blockquote>
<p>I found the issue, it was flagged by Carbon Black.</p>
</blockquote>
<p>you already found that once half a year ago, #2624 :-)</p>
<blockquote>
<p>The issue with the CarbonBlack blocking the backups is fixed, but the
issue I originally started with is not.</p>
</blockquote>
<p>you originally started with script numbering issue, now you have a nfs
issue. I think you should file a separate issue here, as the original
one seems to be solved.</p>
<blockquote>
<p>This is in the local.conf file: BACKUP_OPTIONS="nfsvers=3,nolock" I
can mount the NFS disk with “mount -v disk directory -t nfs -o vers=3”
but the mount command isn’t using that</p>
</blockquote>
<h4 id="exfarmer_commented_at_2022-02-03_2339"><img src="https://avatars.githubusercontent.com/u/77739333?v=4" width="50"><a href="https://github.com/exfarmer">exfarmer</a> commented at <a href="https://github.com/rear/rear/issues/2752#issuecomment-1029503099">2022-02-03 23:39</a>:<a class="headerlink" href="#exfarmer_commented_at_2022-02-03_2339" title="Permanent link">&para;</a></h4>
<p>I can open a new case if needed, thank you</p>
<p>Please close this one</p>
<h4 id="jsmeix_commented_at_2022-02-04_1316"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2752#issuecomment-1029976564">2022-02-04 13:16</a>:<a class="headerlink" href="#jsmeix_commented_at_2022-02-04_1316" title="Permanent link">&para;</a></h4>
<p>The subsequent issue is
<a href="https://github.com/rear/rear/issues/2753">https://github.com/rear/rear/issues/2753</a><br />
"When OUTPUT_URL is set OUTPUT_OPTIONS does not inherit
BACKUP_OPTIONS"</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2022-02-03.2752.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
