<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#3095 Issue closed: Amazon Linux 2023 : DHCP is enabled but no DHCP client binary (dhcpcd dhclient dhcp6c dhclient6) was found - systemd-networkd - ReaR 2.7 - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#3095 Issue closed: Amazon Linux 2023 : DHCP is enabled but no DHCP client binary (dhcpcd dhclient dhcp6c dhclient6) was found - systemd-networkd - ReaR 2.7";
        var mkdocs_page_input_path = "issues/2023-11-29.3095.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../scenarios/netfs_rsync.md">Internal Backup with rsync to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/restic.html">External Backup using restic</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#3095 Issue closed: Amazon Linux 2023 : DHCP is enabled but no DHCP client binary (dhcpcd dhclient dhcp6c dhclient6) was found - systemd-networkd - ReaR 2.7</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="3095_issue_closed_amazon_linux_2023_dhcp_is_enabled_but_no_dhcp_client_binary_dhcpcd_dhclient_dhcp6c_dhclient6_was_found_-_systemd-networkd_-_rear_27"><a href="https://github.com/rear/rear/issues/3095">#3095 Issue</a> <code>closed</code>: Amazon Linux 2023 : DHCP is enabled but no DHCP client binary (dhcpcd dhclient dhcp6c dhclient6) was found - systemd-networkd - ReaR 2.7<a class="headerlink" href="#3095_issue_closed_amazon_linux_2023_dhcp_is_enabled_but_no_dhcp_client_binary_dhcpcd_dhclient_dhcp6c_dhclient6_was_found_-_systemd-networkd_-_rear_27" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>no-issue-activity</code></p>
<h4 id="ramzcode_opened_issue_at_2023-11-29_0746"><img src="https://avatars.githubusercontent.com/u/76745955?u=f5c61d1790c8abce888534760cd418243fbf82f5&v=4" width="50"><a href="https://github.com/ramzcode">ramzcode</a> opened issue at <a href="https://github.com/rear/rear/issues/3095">2023-11-29 07:46</a>:<a class="headerlink" href="#ramzcode_opened_issue_at_2023-11-29_0746" title="Permanent link">&para;</a></h4>
<p>Using ReaR version 2.7 on Amazon Linux 2023.</p>
<p>systemd-networkd is responsible for DHCP and network setup.</p>
<p>ReaR throws error that no binary resalted to DHCP client is found and
yes it is not needed on AL2023. The Array does not contain binary for
AL2023 builds.</p>
<p>systemd-networkd.service and /usr/lib/systemd/systemd-networkd are core
components responsible in this case it seems.</p>
<p>Please suggest if there is a fix or workaround to this.<br />
Thanks in advance</p>
<h4 id="ramzcode_commented_at_2023-11-30_1349"><img src="https://avatars.githubusercontent.com/u/76745955?u=f5c61d1790c8abce888534760cd418243fbf82f5&v=4" width="50"><a href="https://github.com/ramzcode">ramzcode</a> commented at <a href="https://github.com/rear/rear/issues/3095#issuecomment-1833818971">2023-11-30 13:49</a>:<a class="headerlink" href="#ramzcode_commented_at_2023-11-30_1349" title="Permanent link">&para;</a></h4>
<p>UPDATE: For AL2023, Using EPEL Repo RPM<br />
<a href="https://dl.fedoraproject.org/pub/epel/8/Everything/x86_64/Packages/d/">https://dl.fedoraproject.org/pub/epel/8/Everything/x86_64/Packages/d/</a><br />
install the DHCPCD agent on the source VM before building the rescue
system and before running the ReaR backups. Once the First restore is
done make sure we remove this RPM for sure.</p>
<p>It worked and i could access the Rescue instance via SSH with no
problem. Yet to do the Full restore. Will update</p>
<h4 id="jsmeix_commented_at_2023-11-30_1411"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3095#issuecomment-1833855355">2023-11-30 14:11</a>:<a class="headerlink" href="#jsmeix_commented_at_2023-11-30_1411" title="Permanent link">&para;</a></h4>
<p>I think<br />
usr/share/rear/prep/GNU/Linux/210_include_dhclient.sh<br />
<a href="https://github.com/rear/rear/blob/rear-2.7/usr/share/rear/prep/GNU/Linux/210_include_dhclient.sh">https://github.com/rear/rear/blob/rear-2.7/usr/share/rear/prep/GNU/Linux/210_include_dhclient.sh</a><br />
could be improved to show better messages<br />
(e.g. DebugPrint, LogPrintError, Error)<br />
when USE_DHCLIENT is 'yes'<br />
but none of the</p>
<pre><code>dhcp_clients=(dhcpcd dhclient dhcp6c dhclient6)
</code></pre>
<p>can be found.</p>
<h4 id="ramzcode_commented_at_2023-12-01_0438"><img src="https://avatars.githubusercontent.com/u/76745955?u=f5c61d1790c8abce888534760cd418243fbf82f5&v=4" width="50"><a href="https://github.com/ramzcode">ramzcode</a> commented at <a href="https://github.com/rear/rear/issues/3095#issuecomment-1835446196">2023-12-01 04:38</a>:<a class="headerlink" href="#ramzcode_commented_at_2023-12-01_0438" title="Permanent link">&para;</a></h4>
<p>@jsmeix It did have a clear error message but the distro won't have any
of the listed dhcp clients by default cause it handles everything using
the systems-networkd service and it's based components.</p>
<p>As a workaround and to make rear support DHCP on the rescue system I
need to install an extra DHCPCD binary using EPEL repo based binary.</p>
<p>I think rear does its job correctly.</p>
<h4 id="schlomo_commented_at_2024-01-13_1852"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/3095#issuecomment-1890703811">2024-01-13 18:52</a>:<a class="headerlink" href="#schlomo_commented_at_2024-01-13_1852" title="Permanent link">&para;</a></h4>
<p>@ramzcode if you'd ask me I'd say that Amazon Linux 2 is probably not
yet supported by ReaR, sorry. Maybe there isn't much needed for that - I
simply don't know.</p>
<p>About DHCP indeed we don't support <code>systemd-networkd</code> properly, and we
probably also don't really support all the other stuff that it does for
networking.</p>
<p>Do you feel up for a contribution by submitting a PR with the missing
Amazon Linux 2 support? Alternatively please consider our <a href="https://relax-and-recover.org/support/">commercial
support options</a></p>
<h4 id="github-actions_commented_at_2024-03-14_0201"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/issues/3095#issuecomment-1996256515">2024-03-14 02:01</a>:<a class="headerlink" href="#github-actions_commented_at_2024-03-14_0201" title="Permanent link">&para;</a></h4>
<p>Stale issue message</p>
<h4 id="ramzcode_commented_at_2024-04-19_0702"><img src="https://avatars.githubusercontent.com/u/76745955?u=f5c61d1790c8abce888534760cd418243fbf82f5&v=4" width="50"><a href="https://github.com/ramzcode">ramzcode</a> commented at <a href="https://github.com/rear/rear/issues/3095#issuecomment-2065887455">2024-04-19 07:02</a>:<a class="headerlink" href="#ramzcode_commented_at_2024-04-19_0702" title="Permanent link">&para;</a></h4>
<p>@schlomo @jsmeix Along with the systemd-network service, i did install
installed the dhchcd client with caution and making sure it won't start
on boot. Laster used ReaR and it easily handled the DHCP problem on the
recovery image and we had no trouble moving forward.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2023-11-29.3095.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
