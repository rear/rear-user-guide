<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#1141 Issue closed: bootable UEFI enabled USB stick with incremental backup with BACKUP_URL=usb - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#1141 Issue closed: bootable UEFI enabled USB stick with incremental backup with BACKUP_URL=usb";
        var mkdocs_page_input_path = "issues/2016-12-27.1141.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#1141 Issue closed: bootable UEFI enabled USB stick with incremental backup with BACKUP_URL=usb</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1141_issue_closed_bootable_uefi_enabled_usb_stick_with_incremental_backup_with_backup_urlusb"><a href="https://github.com/rear/rear/issues/1141">#1141 Issue</a> <code>closed</code>: bootable UEFI enabled USB stick with incremental backup with BACKUP_URL=usb<a class="headerlink" href="#1141_issue_closed_bootable_uefi_enabled_usb_stick_with_incremental_backup_with_backup_urlusb" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>bug</code>, <code>fixed / solved / done</code></p>
<h4 id="dwerner1_opened_issue_at_2016-12-27_1529"><img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50"><a href="https://github.com/dwerner1">dwerner1</a> opened issue at <a href="https://github.com/rear/rear/issues/1141">2016-12-27 15:29</a>:<a class="headerlink" href="#dwerner1_opened_issue_at_2016-12-27_1529" title="Permanent link">&para;</a></h4>
<p>I'm trying to create a UEFI enabled USB stick with the following setup
structure</p>
<ul>
<li>rear version 1.19-git201612161033</li>
<li>OS version Debian 8.0 testing ( running in virtualbox VM, EFI
    enabled)</li>
</ul>
<p>/etc/rear/site.conf</p>
<p><code>BACKUP=NETFS</code><br />
<code>OUTPUT=USB</code><br />
<code>USB_DEVICE=/dev/disk/by-label/REAR-000</code><br />
<code>BACKUP_URL=usb:///dev/disk/by-label/REAR-000</code><br />
<code>BACKUP_TYPE=incremental</code><br />
<code>FULLBACKUP_OUTDATED_DAYS=7</code><br />
<code>FULLBACKUPDAY=Mon</code></p>
<p>/etc/rear/local.conf</p>
<p><code>USING_UEFI_BOOTLOADER=1</code></p>
<p>The creation works fine. The steps</p>
<p><code>rear -v format -- --efi /dev/sdb</code><br />
<code>rear -d -D mkbackup</code></p>
<p>run through without reporting any errors.</p>
<p>When I boot that stick and enter rear recover, the process gets stuck
with the message</p>
<p><code>mount: special device /dev/disk/by-label/REAR-000 does not exist 2016-12-27 15:05:41 ERROR: Mount command 'mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.KNRlV5j0vuA5cm1/outputfs' failed</code></p>
<p>Here is the complete log file from the stick:</p>
<pre>
2016-12-27 15:05:41 Relax-and-Recover 1.19-git201612161033 / 2016-12-16
2016-12-27 15:05:41 Command line options: /bin/rear recover
2016-12-27 15:05:41 Using log file: /var/log/rear/rear-debianrearuefi.log
2016-12-27 15:05:41 Including /etc/rear/os.conf
2016-12-27 15:05:41 Including conf/Linux-i386.conf
2016-12-27 15:05:41 Including conf/GNU/Linux.conf
2016-12-27 15:05:41 Including /etc/rear/site.conf
2016-12-27 15:05:41 Including /etc/rear/local.conf
2016-12-27 15:05:41 Including /etc/rear/rescue.conf
2016-12-27 15:05:41 Running 'init' stage
2016-12-27 15:05:41 Including init/default/010_set_drlm_env.sh
2016-12-27 15:05:41 Including init/default/030_update_recovery_system.sh
2016-12-27 15:05:41 Including init/default/050_check_rear-recover_mode.sh
2016-12-27 15:05:41 Running workflow recover within the ReaR rescue/recovery system
2016-12-27 15:05:41 Finished running 'init' stage in 0 seconds
2016-12-27 15:05:41 Using build area '/tmp/rear.KNRlV5j0vuA5cm1'
mkdir: created directory '/tmp/rear.KNRlV5j0vuA5cm1/rootfs'
mkdir: created directory '/tmp/rear.KNRlV5j0vuA5cm1/tmp'
2016-12-27 15:05:41 Running recover workflow
2016-12-27 15:05:41 Running 'setup' stage
2016-12-27 15:05:41 Including setup/default/010_pre_recovery_script.sh
2016-12-27 15:05:41 Finished running 'setup' stage in 0 seconds
2016-12-27 15:05:41 Running 'verify' stage
2016-12-27 15:05:41 Including verify/default/020_cciss_scsi_engage.sh
2016-12-27 15:05:41 Including verify/default/020_translate_url.sh
2016-12-27 15:05:41 Including verify/default/030_translate_tape.sh
2016-12-27 15:05:41 Including verify/default/040_validate_variables.sh
2016-12-27 15:05:41 Including verify/NETFS/default/050_check_NETFS_requirements.sh
2016-12-27 15:05:41 Skipping 'ping' test for host '' in BACKUP_URL 'usb:///dev/disk/by-label/REAR-000'
2016-12-27 15:05:41 Including verify/default/050_create_mappings_dir.sh
2016-12-27 15:05:41 Including verify/GNU/Linux/050_sane_recovery_check.sh
2016-12-27 15:05:41 Including verify/NETFS/default/050_start_required_nfs_daemons.sh
2016-12-27 15:05:41 Including verify/NETFS/default/060_mount_NETFS_path.sh
mkdir: created directory '/tmp/rear.KNRlV5j0vuA5cm1/outputfs'
2016-12-27 15:05:41 Mounting with 'mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.KNRlV5j0vuA5cm1/outputfs'
mount: special device /dev/disk/by-label/REAR-000 does not exist
2016-12-27 15:05:41 ERROR: Mount command 'mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.KNRlV5j0vuA5cm1/outputfs' failed.
==== Stack trace ====
Trace 0: /bin/rear:504 main
Trace 1: /usr/share/rear/lib/recover-workflow.sh:14 WORKFLOW_recover
Trace 2: /usr/share/rear/lib/framework-functions.sh:85 SourceStage
Trace 3: /usr/share/rear/lib/framework-functions.sh:45 Source
Trace 4: /usr/share/rear/verify/NETFS/default/060_mount_NETFS_path.sh:11 source
Trace 5: /usr/share/rear/lib/global-functions.sh:286 mount_url
Trace 6: /usr/share/rear/lib/_input-output-functions.sh:132 StopIfError
Message: Mount command 'mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.KNRlV5j0vuA5cm1/outputfs' failed.
== End stack trace ==
2016-12-27 15:05:41 Running exit tasks.
rmdir: removing directory, '/tmp/rear.KNRlV5j0vuA5cm1/outputfs'
2016-12-27 15:05:41 Finished in 0 seconds
2016-12-27 15:05:41 Removing build area /tmp/rear.KNRlV5j0vuA5cm1
removed directory '/tmp/rear.KNRlV5j0vuA5cm1'
2016-12-27 15:05:41 End of program reached
</pre>

<p>Using <code>BACKUP_URL=usb:///dev/sdb2</code> made no difference. Any idea someone?</p>
<h4 id="gozora_commented_at_2016-12-27_1548"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269342998">2016-12-27 15:48</a>:<a class="headerlink" href="#gozora_commented_at_2016-12-27_1548" title="Permanent link">&para;</a></h4>
<p>This could be "just" some race condition ...<br />
Could you re-run <code>rear recover</code> with debug flags <code>rear -d -D recover</code>
and post log file here?<br />
And please tag log files with <em>insert code button</em> otherwise it is quite
a pain to read it ...</p>
<p>V.</p>
<h4 id="dwerner1_commented_at_2016-12-27_1613"><img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50"><a href="https://github.com/dwerner1">dwerner1</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269346266">2016-12-27 16:13</a>:<a class="headerlink" href="#dwerner1_commented_at_2016-12-27_1613" title="Permanent link">&para;</a></h4>
<p>I had actually put the log file content using the insert code button -
when I do that now again with the new log file, single plus signs are
displayed as points of a bulleted list, I'm unsure if this is better for
you to read ..</p>
<p>log file from having typed <code>rear -d -D recover</code></p>
<pre><code>2016-12-27 15:57:02.062102144 Relax-and-Recover 1.19-git201612161033 / 2016-12-16
2016-12-27 15:57:02.063272825 Command line options: /bin/rear -d -D recover
2016-12-27 15:57:02.064393896 Using log file: /var/log/rear/rear-debianrearuefi.log
2016-12-27 15:57:02.065615777 Current set of flags is 'hB'
2016-12-27 15:57:02.066709974 The debugscripts flags are 'x'
2016-12-27 15:57:02.067819133 Combining configuration files
2016-12-27 15:57:02.068986253 Including /etc/rear/os.conf
2016-12-27 15:57:02.070026158 Entering debugscripts mode via 'set -x'.
+ source /etc/rear/os.conf
++ ARCH=Linux-i386
++ OS=GNU/Linux
++ OS_VERSION=testing
++ OS_VENDOR=Debian
++ OS_VENDOR_VERSION=Debian/testing
++ OS_VENDOR_ARCH=Debian/i386
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.073013440 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.073013440 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.074794374 Including conf/Linux-i386.conf
2016-12-27 15:57:02.075868966 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/conf/Linux-i386.conf
++ REQUIRED_PROGS=("${REQUIRED_PROGS[@]:-}" parted sfdisk)
++ PROGS=("${PROGS[@]:-}" grub partprobe lilo fdisk cfdisk)
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.079036553 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.079036553 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.080756043 Including conf/GNU/Linux.conf
2016-12-27 15:57:02.081921950 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/conf/GNU/Linux.conf
++ PROGS=(${PROGS[@]:-} rpc.statd rpcbind bash mknod blkid vol_id udev_volume_id portmap readlink rpcinfo grep cat tac tr reboot halt shutdown killall5 killall chroot tee awk ip ifconfig nslookup route ifenslave ifrename nameif klogd syslog-ng syslogd rsyslogd echo cp date wc cut rm rmdir test init telinit ethtool expand sed mount umount insmod modprobe lsmod true false mingetty agetty getty rmmod hostname uname sleep logger ps ln dirname basename mkdir tty ping netstat free traceroute less vi pico nano rmmod df ls dmesg du tar gzip netcat top iptraf joe pico getent id ldd strace rsync tail head find md5sum mkfs mkfs.ext2 mkfs.ext3 mkfs.ext4 mkfs.ext4dev mkfs.jfs mkfs.xfs mkfs.reiserfs mkfs.vfat mkfs.btrfs mkreiserfs fsck fsck.ext2 fsck.ext3 fsck.ext4 fsck.ext4dev fsck.xfs fsck.reiserfs reiserfsck fsck.btrfs findmnt btrfsck tune2fs tune4fs xfs_admin xfs_db btrfs jfs_tune reiserfstune expr egrep grep fgrep chmod chown stat mkswap swapon swapoff mknod touch scsi_id lsscsi logd initctl lspci usleep mktemp /bin/true strace which mkfifo seq openvt poweroff chacl getfacl setfacl attr getfattr setfattr mpath_wait strings xargs sg_inq env w dosfslabel sysctl)
++ LIBS=(${LIBS[@]:-} /lib*/libnss_dns* /lib*/libnss_files* /lib/*/libnss_dns* /lib/*/libnss_files* /lib*/libgcc_s* /lib*/libresolv* /usr/lib*/rsyslog/*so /lib*/rsyslog/*so /usr/lib*/syslog-ng/*)
++ MODULES=(${MODULES[@]:-} vfat nls_iso8859_1 nls_utf8 nls_cp437 af_packet unix nfs nfsv4 nfsv3 lockd sunrpc cifs usbcore usb_storage usbhid sr_mod ide_cd cdrom uhci_hcd ehci_hcd xhci_hcd ohci_hcd zlib zlib-inflate zlib-deflate libcrc32c crc32c crc32c-intel)
++ COPY_AS_IS=(${COPY_AS_IS[@]:-} /dev /etc/inputr[c] /etc/protocols /etc/services /etc/rpc /etc/termcap /etc/terminfo /lib*/terminfo /usr/share/terminfo /etc/netconfig /etc/mke2fs.conf /etc/*-release /lib*/firmware /etc/localtime /etc/magic /usr/share/misc/magic /etc/dracut.conf /etc/dracut.conf.d /usr/lib/dracut /sbin/modprobe.ksplice-orig /etc/sysctl.conf /etc/sysctl.d /etc/e2fsck.conf)
++ COPY_AS_IS_EXCLUDE=(${COPY_AS_IS_EXCLUDE[@]:-} dev/shm/\*)
++ KERNEL_CMDLINE=' selinux=0'
++ CLONE_USERS=("${CLONE_USERS[@]:-}" daemon rpc usbmuxd usbmux vcsa nobody)
++ CLONE_GROUPS=("${CLONE_GROUPS[@]:-}" tty usbmuxd usbmux fuse kvm oinstall)
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.086546731 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.086546731 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.088320984 Including /etc/rear/site.conf
2016-12-27 15:57:02.089440464 Entering debugscripts mode via 'set -x'.
+ source /etc/rear/site.conf
++ BACKUP=NETFS
++ OUTPUT=USB
++ USB_DEVICE=/dev/disk/by-label/REAR-000
++ BACKUP_URL=usb:///dev/disk/by-label/REAR-000
++ BACKUP_PROG_EXCLUDE=("${BACKUP_PROG_EXCLUDE[@]}" ‘/tmp/*’ ‘/dev/shm/*’ ‘/mnt/*’ $VAR_DIR/output/\*)
++ BACKUP_TYPE=incremental
++ FULLBACKUP_OUTDATED_DAYS=7
++ FULLBACKUPDAY=Mon
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.092729666 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.092729666 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.094471788 Including /etc/rear/local.conf
2016-12-27 15:57:02.095642361 Entering debugscripts mode via 'set -x'.
+ source /etc/rear/local.conf
++ USING_UEFI_BOOTLOADER=1
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.098936049 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.098936049 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.100690183 Including /etc/rear/rescue.conf
2016-12-27 15:57:02.101884718 Entering debugscripts mode via 'set -x'.
+ source /etc/rear/rescue.conf
++ SHARE_DIR=/usr/share/rear
++ CONFIG_DIR=/etc/rear
++ VAR_DIR=/var/lib/rear
++ LOG_DIR=/var/log/rear
++ USE_DHCLIENT=y
++ DHCLIENT_BIN=dhclient
++ DHCLIENT6_BIN=
++ NETFS_KEEP_OLD_BACKUP_COPY=
++ NETFS_PREFIX=rear/debianrearuefi/20161227.1552
++ NETFS_RESTORE_CAPABILITIES=n
++ unset TMPDIR
++ USING_UEFI_BOOTLOADER=1
++ UEFI_BOOTLOADER=/boot/efi/EFI/debian/grubx64.efi
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.105195737 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.105195737 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.107833906 Running 'init' stage
2016-12-27 15:57:02.111255791 Including init/default/010_set_drlm_env.sh
2016-12-27 15:57:02.112388626 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/init/default/010_set_drlm_env.sh
++ drlm_is_managed
++ [[ n == \y ]]
++ return 1
++ return 0
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.115483537 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.115483537 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.117273079 Including init/default/030_update_recovery_system.sh
2016-12-27 15:57:02.118497785 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/init/default/030_update_recovery_system.sh
++ test recover '!=' recover
++ test ''
++ return
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.121829791 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.121829791 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.123595545 Including init/default/050_check_rear-recover_mode.sh
2016-12-27 15:57:02.124810690 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/init/default/050_check_rear-recover_mode.sh
++ test -f /etc/rear-release
++ case "$WORKFLOW" in
++ LogPrint 'Running workflow recover within the ReaR rescue/recovery system'
++ Log 'Running workflow recover within the ReaR rescue/recovery system'
++ test 1 -gt 0
+++ Stamp
+++ date '+%Y-%m-%d %H:%M:%S.%N '
++ echo '2016-12-27 15:57:02.128068704 Running workflow recover within the ReaR rescue/recovery system'
2016-12-27 15:57:02.128068704 Running workflow recover within the ReaR rescue/recovery system
++ Print 'Running workflow recover within the ReaR rescue/recovery system'
++ test 1
++ echo -e 'Running workflow recover within the ReaR rescue/recovery system'
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.129305626 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.129305626 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.130977768 Finished running 'init' stage in 0 seconds
2016-12-27 15:57:02.135368494 Using build area '/tmp/rear.WSrlzF6VG9a300H'
mkdir: created directory '/tmp/rear.WSrlzF6VG9a300H/rootfs'
mkdir: created directory '/tmp/rear.WSrlzF6VG9a300H/tmp'
2016-12-27 15:57:02.138092616 Running recover workflow
2016-12-27 15:57:02.139254297 Running 'setup' stage
2016-12-27 15:57:02.142720186 Including setup/default/010_pre_recovery_script.sh
2016-12-27 15:57:02.143859405 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/setup/default/010_pre_recovery_script.sh
++ test ''
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.147139342 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.147139342 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.148885384 Finished running 'setup' stage in 0 seconds
2016-12-27 15:57:02.150106575 Running 'verify' stage
2016-12-27 15:57:02.153766856 Including verify/default/020_cciss_scsi_engage.sh
2016-12-27 15:57:02.154924600 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/verify/default/020_cciss_scsi_engage.sh
++ grep -q '^cciss ' /proc/modules
++ return
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.158995249 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.158995249 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.160805051 Including verify/default/020_translate_url.sh
2016-12-27 15:57:02.162034086 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/verify/default/020_translate_url.sh
++ [[ -n '' ]]
++ [[ -n '' ]]
++ [[ -n '' ]]
++ [[ -n '' ]]
++ [[ -n '' ]]
++ [[ -n '' ]]
++ [[ -n '' ]]
++ [[ -n '' ]]
++ [[ -n '' ]]
++ [[ -n '' ]]
++ [[ -z '' ]]
++ [[ -z '' ]]
++ [[ -z '' ]]
++ OUTPUT_OPTIONS=
++ [[ -z '' ]]
++ [[ -n /dev/disk/by-label/REAR-000 ]]
++ OUTPUT_URL=usb:///dev/disk/by-label/REAR-000
++ [[ -z '' ]]
++ [[ -z usb:///dev/disk/by-label/REAR-000 ]]
++ [[ -z '' ]]
++ [[ -z usb:///dev/disk/by-label/REAR-000 ]]
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.165489292 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.165489292 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.167252714 Including verify/default/030_translate_tape.sh
2016-12-27 15:57:02.168492352 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/verify/default/030_translate_tape.sh
++ [[ -n usb:///dev/disk/by-label/REAR-000 ]]
+++ url_scheme usb:///dev/disk/by-label/REAR-000
+++ local url=usb:///dev/disk/by-label/REAR-000
+++ local scheme=usb
+++ echo usb
+++ grep -q :
+++ echo usb
++ backup_scheme=usb
++ [[ usb == tape ]]
++ [[ usb == obdr ]]
++ [[ -z usb:///dev/disk/by-label/REAR-000 ]]
++ [[ -z usb:///dev/disk/by-label/REAR-000 ]]
++ [[ -n '' ]]
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.173323925 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.173323925 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.175106380 Including verify/default/040_validate_variables.sh
2016-12-27 15:57:02.176333507 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/verify/default/040_validate_variables.sh
++ [[ ! -z 30 ]]
+++ is_numeric 30
+++ expr 30 + 0
+++ echo 30
++ WAIT_SECS=30
++ [[ 30 -eq 0 ]]
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.180841688 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.180841688 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.182640945 Including verify/NETFS/default/050_check_NETFS_requirements.sh
2016-12-27 15:57:02.183900245 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/verify/NETFS/default/050_check_NETFS_requirements.sh
++ [[ -n usb:///dev/disk/by-label/REAR-000 ]]
++ StopIfError 'You must specify either BACKUP_URL or BACKUP_MOUNTCMD and BACKUP_UMOUNTCMD !'
++ ((  0 != 0  ))
++ [[ -n usb:///dev/disk/by-label/REAR-000 ]]
+++ url_scheme usb:///dev/disk/by-label/REAR-000
+++ local url=usb:///dev/disk/by-label/REAR-000
+++ local scheme=usb
+++ echo usb
+++ grep -q :
+++ echo usb
++ local scheme=usb
+++ url_hostname usb:///dev/disk/by-label/REAR-000
+++ local url=usb:///dev/disk/by-label/REAR-000
+++ local url_without_scheme=/dev/disk/by-label/REAR-000
+++ local authority_part=
+++ local host_and_port=
+++ echo
++ local hostname=
+++ url_path usb:///dev/disk/by-label/REAR-000
+++ local url=usb:///dev/disk/by-label/REAR-000
+++ local url_without_scheme=/dev/disk/by-label/REAR-000
+++ echo /dev/disk/by-label/REAR-000
++ local path=/dev/disk/by-label/REAR-000
++ case $scheme in
++ :
++ [[ usb = \u\s\b ]]
++ [[ -z /dev/disk/by-label/REAR-000 ]]
++ [[ -n '' ]]
++ Log 'Skipping '\''ping'\'' test for host '\'''\'' in BACKUP_URL '\''usb:///dev/disk/by-label/REAR-000'\'''
++ test 1 -gt 0
+++ Stamp
+++ date '+%Y-%m-%d %H:%M:%S.%N '
++ echo '2016-12-27 15:57:02.189939406 Skipping '\''ping'\'' test for host '\'''\'' in BACKUP_URL '\''usb:///dev/disk/by-label/REAR-000'\'''
2016-12-27 15:57:02.189939406 Skipping 'ping' test for host '' in BACKUP_URL 'usb:///dev/disk/by-label/REAR-000'
++ case "$(basename $BACKUP_PROG)" in
+++ basename tar
++ :
++ PROGS=("${PROGS[@]}" showmount mount.$(url_scheme $BACKUP_URL) umount.$(url_scheme $BACKUP_URL) $( test "$BACKUP_MOUNTCMD" &amp;&amp; echo "${BACKUP_MOUNTCMD%% *}" ) $( test "$BACKUP_UMOUNTCMD" &amp;&amp; echo "${BACKUP_UMOUNTCMD%% *}" ) $BACKUP_PROG gzip bzip2 xz)
+++ url_scheme usb:///dev/disk/by-label/REAR-000
+++ local url=usb:///dev/disk/by-label/REAR-000
+++ local scheme=usb
+++ echo usb
+++ grep -q :
+++ echo usb
+++ url_scheme usb:///dev/disk/by-label/REAR-000
+++ local url=usb:///dev/disk/by-label/REAR-000
+++ local scheme=usb
+++ echo usb
+++ grep -q :
+++ echo usb
+++ test ''
+++ test ''
++ [[ sshfs = \u\s\b ]]
++ [[ ftpfs = \u\s\b ]]
++ MODULES=("${MODULES[@]}" $(url_scheme $BACKUP_URL))
+++ url_scheme usb:///dev/disk/by-label/REAR-000
+++ local url=usb:///dev/disk/by-label/REAR-000
+++ local scheme=usb
+++ echo usb
+++ grep -q :
+++ echo usb
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.197898557 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.197898557 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.199644772 Including verify/default/050_create_mappings_dir.sh
2016-12-27 15:57:02.200954158 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/verify/default/050_create_mappings_dir.sh
++ [[ ! -d /etc/rear/mappings ]]
++ mkdir -m 755 /etc/rear/mappings
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.204986980 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.204986980 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.206761778 Including verify/GNU/Linux/050_sane_recovery_check.sh
2016-12-27 15:57:02.207958739 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/verify/GNU/Linux/050_sane_recovery_check.sh
++ '[' -s /etc/scripts/system-setup ']'
++ StopIfError 'This it not a Relax-and-Recover rescue system.'
++ ((  0 != 0  ))
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.211245798 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.211245798 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.213026244 Including verify/NETFS/default/050_start_required_nfs_daemons.sh
2016-12-27 15:57:02.214232777 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/verify/NETFS/default/050_start_required_nfs_daemons.sh
+++ url_scheme usb:///dev/disk/by-label/REAR-000
+++ local url=usb:///dev/disk/by-label/REAR-000
+++ local scheme=usb
+++ echo usb
+++ grep -q :
+++ echo usb
++ local backup_url_scheme=usb
++ test nfs = usb
++ return
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1 -gt 0
++ Stamp
++ date '+%Y-%m-%d %H:%M:%S.%N '
+ echo '2016-12-27 15:57:02.218931336 Leaving debugscripts mode (back to previous bash flags and options settings).'
2016-12-27 15:57:02.218931336 Leaving debugscripts mode (back to previous bash flags and options settings).
+ apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
+ eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
++ set +o xtrace
2016-12-27 15:57:02.220739894 Including verify/NETFS/default/060_mount_NETFS_path.sh
2016-12-27 15:57:02.221959977 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/verify/NETFS/default/060_mount_NETFS_path.sh
++ mkdir -p -v /tmp/rear.WSrlzF6VG9a300H/outputfs
mkdir: created directory '/tmp/rear.WSrlzF6VG9a300H/outputfs'
++ StopIfError 'Could not mkdir '\''/tmp/rear.WSrlzF6VG9a300H/outputfs'\'''
++ ((  0 != 0  ))
++ AddExitTask 'rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs &gt;&amp;2'
++ EXIT_TASKS=("$*" "${EXIT_TASKS[@]}")
++ Debug 'Added '\''rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs &gt;&amp;2'\'' as an exit task'
++ test 1
++ Log 'Added '\''rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs &gt;&amp;2'\'' as an exit task'
++ test 1 -gt 0
+++ Stamp
+++ date '+%Y-%m-%d %H:%M:%S.%N '
++ echo '2016-12-27 15:57:02.225961046 Added '\''rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs &gt;&amp;2'\'' as an exit task'
2016-12-27 15:57:02.225961046 Added 'rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs &gt;&amp;2' as an exit task
++ [[ -n '' ]]
++ mount_url usb:///dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs
++ local url=usb:///dev/disk/by-label/REAR-000
++ local mountpoint=/tmp/rear.WSrlzF6VG9a300H/outputfs
++ local defaultoptions=rw,noatime
++ local options=rw,noatime
++ local mount_cmd
++ case $(url_scheme $url) in
+++ url_scheme usb:///dev/disk/by-label/REAR-000
+++ local url=usb:///dev/disk/by-label/REAR-000
+++ local scheme=usb
+++ echo usb
+++ grep -q :
+++ echo usb
+++ url_path usb:///dev/disk/by-label/REAR-000
+++ local url=usb:///dev/disk/by-label/REAR-000
+++ local url_without_scheme=/dev/disk/by-label/REAR-000
+++ echo /dev/disk/by-label/REAR-000
++ mount_cmd='mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'
++ Log 'Mounting with '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'''
++ test 1 -gt 0
+++ Stamp
+++ date '+%Y-%m-%d %H:%M:%S.%N '
++ echo '2016-12-27 15:57:02.229340544 Mounting with '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'''
2016-12-27 15:57:02.229340544 Mounting with 'mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'
++ eval mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs
+++ mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs
mount: special device /dev/disk/by-label/REAR-000 does not exist
++ StopIfError 'Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
++ ((  32 != 0  ))
++ Error 'Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
++ VERBOSE=1
++ LogPrint 'ERROR: Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
++ Log 'ERROR: Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
++ test 1 -gt 0
+++ Stamp
+++ date '+%Y-%m-%d %H:%M:%S.%N '
++ echo '2016-12-27 15:57:02.231632812 ERROR: Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
2016-12-27 15:57:02.231632812 ERROR: Mount command 'mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs' failed.
++ Print 'ERROR: Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
++ test 1
++ echo -e 'ERROR: Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
++ has_binary caller
++ for bin in $@
++ type caller
++ return 0
++ echo '==== Stack trace ===='
==== Stack trace ====
++ local c=0
++ caller 0
++ awk ' { l[NR]=$3":"$1" "$2 }
                         END { for (i=NR; i&gt;0;) print "Trace "NR-i": "l[i--] }
                       '
++ :
++ caller 1
++ :
++ caller 2
++ :
++ caller 3
++ :
++ caller 4
++ :
++ caller 5
++ :
++ caller 6
++ :
++ caller 7
Trace 0: /bin/rear:504 main
Trace 1: /usr/share/rear/lib/recover-workflow.sh:14 WORKFLOW_recover
Trace 2: /usr/share/rear/lib/framework-functions.sh:85 SourceStage
Trace 3: /usr/share/rear/lib/framework-functions.sh:45 Source
Trace 4: /usr/share/rear/verify/NETFS/default/060_mount_NETFS_path.sh:11 source
Trace 5: /usr/share/rear/lib/global-functions.sh:286 mount_url
Trace 6: /usr/share/rear/lib/_input-output-functions.sh:132 StopIfError
++ echo 'Message: Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
Message: Mount command 'mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs' failed.
++ echo '== End stack trace =='
== End stack trace ==
++ LogToSyslog 'ERROR: Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
++ logger -t rear -i 'ERROR: Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
++ kill -USR1 557
+++ echo 'Aborting due to an error, check /var/log/rear/rear-debianrearuefi.log for details'
+++ kill 557
+++ DoExitTasks
+++ Log 'Running exit tasks.'
+++ test 1 -gt 0
++++ Stamp
++++ date '+%Y-%m-%d %H:%M:%S.%N '
+++ echo '2016-12-27 15:57:02.236105126 Running exit tasks.'
2016-12-27 15:57:02.236105126 Running exit tasks.
+++ JOBS=($( jobs -p ))
++++ jobs -p
+++ test -n ''
+++ for task in "${EXIT_TASKS[@]}"
+++ Debug 'Exit task '\''rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs &gt;&amp;2'\'''
+++ test 1
+++ Log 'Exit task '\''rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs &gt;&amp;2'\'''
+++ test 1 -gt 0
++++ Stamp
++++ date '+%Y-%m-%d %H:%M:%S.%N '
+++ echo '2016-12-27 15:57:02.237772670 Exit task '\''rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs &gt;&amp;2'\'''
2016-12-27 15:57:02.237772670 Exit task 'rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs &gt;&amp;2'
+++ eval 'rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs &gt;&amp;2'
++++ rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs
rmdir: removing directory, '/tmp/rear.WSrlzF6VG9a300H/outputfs'
+++ for task in "${EXIT_TASKS[@]}"
+++ Debug 'Exit task '\''cleanup_build_area_and_end_program'\'''
+++ test 1
+++ Log 'Exit task '\''cleanup_build_area_and_end_program'\'''
+++ test 1 -gt 0
++++ Stamp
++++ date '+%Y-%m-%d %H:%M:%S.%N '
+++ echo '2016-12-27 15:57:02.239543309 Exit task '\''cleanup_build_area_and_end_program'\'''
2016-12-27 15:57:02.239543309 Exit task 'cleanup_build_area_and_end_program'
+++ eval cleanup_build_area_and_end_program
++++ cleanup_build_area_and_end_program
++++ Log 'Finished in 1 seconds'
++++ test 1 -gt 0
+++++ Stamp
+++++ date '+%Y-%m-%d %H:%M:%S.%N '
++++ echo '2016-12-27 15:57:02.240765524 Finished in 1 seconds'
2016-12-27 15:57:02.240765524 Finished in 1 seconds
++++ test 1
++++ LogPrint 'You should also rm -Rf /tmp/rear.WSrlzF6VG9a300H'
++++ Log 'You should also rm -Rf /tmp/rear.WSrlzF6VG9a300H'
++++ test 1 -gt 0
+++++ Stamp
+++++ date '+%Y-%m-%d %H:%M:%S.%N '
++++ echo '2016-12-27 15:57:02.241927481 You should also rm -Rf /tmp/rear.WSrlzF6VG9a300H'
2016-12-27 15:57:02.241927481 You should also rm -Rf /tmp/rear.WSrlzF6VG9a300H
++++ Print 'You should also rm -Rf /tmp/rear.WSrlzF6VG9a300H'
++++ test 1
++++ echo -e 'You should also rm -Rf /tmp/rear.WSrlzF6VG9a300H'
++++ Log 'End of program reached'
++++ test 1 -gt 0
+++++ Stamp
+++++ date '+%Y-%m-%d %H:%M:%S.%N '
++++ echo '2016-12-27 15:57:02.243123101 End of program reached'
2016-12-27 15:57:02.243123101 End of program reached
+++ for task in "${EXIT_TASKS[@]}"
+++ Debug 'Exit task '\''exec 8&gt;&amp;-'\'''
+++ test 1
+++ Log 'Exit task '\''exec 8&gt;&amp;-'\'''
+++ test 1 -gt 0
++++ Stamp
++++ date '+%Y-%m-%d %H:%M:%S.%N '
+++ echo '2016-12-27 15:57:02.244351602 Exit task '\''exec 8&gt;&amp;-'\'''
2016-12-27 15:57:02.244351602 Exit task 'exec 8&gt;&amp;-'
+++ eval 'exec 8&gt;&amp;-'
++++ exec
+++ for task in "${EXIT_TASKS[@]}"
+++ Debug 'Exit task '\''exec 7&gt;&amp;-'\'''
+++ test 1
+++ Log 'Exit task '\''exec 7&gt;&amp;-'\'''
+++ test 1 -gt 0
++++ Stamp
++++ date '+%Y-%m-%d %H:%M:%S.%N '
+++ echo '2016-12-27 15:57:02.245529573 Exit task '\''exec 7&gt;&amp;-'\'''
2016-12-27 15:57:02.245529573 Exit task 'exec 7&gt;&amp;-'
+++ eval 'exec 7&gt;&amp;-'
++++ exec
+++ for task in "${EXIT_TASKS[@]}"
+++ Debug 'Exit task '\'''\'''
+++ test 1
+++ Log 'Exit task '\'''\'''
+++ test 1 -gt 0
++++ Stamp
++++ date '+%Y-%m-%d %H:%M:%S.%N '
+++ echo '2016-12-27 15:57:02.246708470 Exit task '\'''\'''
2016-12-27 15:57:02.246708470 Exit task ''
+++ eval ''
</code></pre>
<h4 id="gozora_commented_at_2016-12-27_1656"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269352010">2016-12-27 16:56</a>:<a class="headerlink" href="#gozora_commented_at_2016-12-27_1656" title="Permanent link">&para;</a></h4>
<p>Not perfect but definitely better :-)<br />
Once ReaR rescue/recovery system is booted edit following file:<br />
<em>/usr/share/rear/verify/NETFS/default/060_mount_NETFS_path.sh</em> so ti
looks like this:</p>
<pre><code># create mount point
mkdir -p $v "$BUILD_DIR/outputfs" &gt;&amp;2
StopIfError "Could not mkdir '$BUILD_DIR/outputfs'"

AddExitTask "rmdir $v $BUILD_DIR/outputfs &gt;&amp;2"

if [[ "$BACKUP_MOUNTCMD" ]] ; then
    BACKUP_URL="var://BACKUP_MOUNTCMD"
fi

sleep 5
mount_url $BACKUP_URL $BUILD_DIR/outputfs $BACKUP_OPTIONS
</code></pre>
<p>If it doesn't help please post output of:<br />
<code>ls -al /dev/disk/by-label/ &amp;&amp; ls -al /dev/sd*</code></p>
<h4 id="dwerner1_commented_at_2016-12-27_1732"><img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50"><a href="https://github.com/dwerner1">dwerner1</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269356793">2016-12-27 17:32</a>:<a class="headerlink" href="#dwerner1_commented_at_2016-12-27_1732" title="Permanent link">&para;</a></h4>
<p>Changing the file did not help, the output was the same as above.</p>
<p>The directory <code>/dev/disk/by-label</code> does not exist! These folders are
available below <code>/dev/disk</code><br />
<code>by-id</code><br />
<code>by-partlabel</code><br />
<code>by-partuuid</code><br />
<code>by-path</code><br />
<code>by-uuid</code></p>
<p>The output of <code>ls -al /dev/sd*</code> is</p>
<p><code>brw-rw---- 1 root disk 8, 0 Dec 27 17:07 /dev/sda</code><br />
<code>brw-rw---- 1 root disk 8, 1 Dec 27 17:07 /dev/sda1</code><br />
<code>brw-rw---- 1 root disk 8, 2 Dec 27 17:07 /dev/sda2</code><br />
<code>brw-rw---- 1 root disk 8, 3 Dec 27 17:07 /dev/sda3</code><br />
<code>brw-rw---- 1 root disk 8, 4 Dec 27 17:07 /dev/sda4</code><br />
<code>brw-rw---- 1 root disk 8, 5 Dec 27 17:07 /dev/sda5</code></p>
<h4 id="gozora_commented_at_2016-12-27_1744"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269358301">2016-12-27 17:44</a>:<a class="headerlink" href="#gozora_commented_at_2016-12-27_1744" title="Permanent link">&para;</a></h4>
<p>Assuming <em>/dev/sda</em> is your disk, what device file represents your USB ?</p>
<h4 id="dwerner1_commented_at_2016-12-27_1746"><img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50"><a href="https://github.com/dwerner1">dwerner1</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269358549">2016-12-27 17:46</a>:<a class="headerlink" href="#dwerner1_commented_at_2016-12-27_1746" title="Permanent link">&para;</a></h4>
<p>Yes, /dev/sda is the disk, /dev/sdb is the USB disk</p>
<h4 id="gozora_commented_at_2016-12-27_1747"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269358762">2016-12-27 17:47</a>:<a class="headerlink" href="#gozora_commented_at_2016-12-27_1747" title="Permanent link">&para;</a></h4>
<p>hmm, so why is <em>/dev/sdb</em> not listed in <code>ls -al /dev/sd*</code> output?</p>
<h4 id="dwerner1_commented_at_2016-12-27_1749"><img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50"><a href="https://github.com/dwerner1">dwerner1</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269358981">2016-12-27 17:49</a>:<a class="headerlink" href="#dwerner1_commented_at_2016-12-27_1749" title="Permanent link">&para;</a></h4>
<p>I've been asking that myself. Let me give it another shot, it's hard to
believe</p>
<h4 id="gozora_commented_at_2016-12-27_1750"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269359068">2016-12-27 17:50</a>:<a class="headerlink" href="#gozora_commented_at_2016-12-27_1750" title="Permanent link">&para;</a></h4>
<p>Indeed, I'd say that Linux would recognize disk from which it was booted
...</p>
<h4 id="dwerner1_commented_at_2016-12-27_1812"><img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50"><a href="https://github.com/dwerner1">dwerner1</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269361790">2016-12-27 18:12</a>:<a class="headerlink" href="#dwerner1_commented_at_2016-12-27_1812" title="Permanent link">&para;</a></h4>
<p>Well, I still can see no <code>/dev/sdb</code> but it is definitely the USB stick
command line where I do <code>ls -al /dev/sd*</code></p>
<p>I think I'll rebuild and test again.</p>
<p>@gozora thanks for your attention up to here!</p>
<h4 id="dwerner1_commented_at_2016-12-28_1456"><img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50"><a href="https://github.com/dwerner1">dwerner1</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269487898">2016-12-28 14:56</a>:<a class="headerlink" href="#dwerner1_commented_at_2016-12-28_1456" title="Permanent link">&para;</a></h4>
<p>I've found the reason for this - I had not enabled xHCI in the VM
settings, it's a USB 3.0 stick!</p>
<p>Now, <code>/dev/sdb</code> shows up</p>
<p><code>lrwxrwxrwx 1 root root  10 Dec 28 14:26 REAR-000 -&gt; ../../sdb2</code><br />
<code>lrwxrwxrwx 1 root root  10 Dec 28 14:26 REAR-EFI -&gt; ../../sdb1</code></p>
<p>When I type <code>rear recover</code> it get's to the point where I could select a
backup file but the list is empty and <code>1) Abort</code> is the only possible
selection.</p>
<p>This is the content of the directory
<code>REAR-000/rear/debianrearuefi/20161228.1519</code></p>
<p><code>drwx------ 2 root root       4096 Dez 28 15:22 .</code><br />
<code>drwx------ 3 root root       4096 Dez 28 15:19 ..</code><br />
<code>-rw------- 1 root root 1322192312 Dez 28 15:22 2016-12-28-1519-F.tar.gz</code><br />
<code>-rw------- 1 root root    8510649 Dez 28 15:22 backup.log</code><br />
<code>-rw-r--r-- 1 root root   71662593 Dez 28 15:19 initrd.cgz</code><br />
<code>-rw-r--r-- 1 root root    4153384 Dez  3 16:17 kernel</code><br />
<code>-rw------- 1 root root     223114 Dez 28 15:19 rear-debianrearuefi.log</code><br />
<code>-rw------- 1 root root       1011 Dez 28 15:19 syslinux.cfg</code></p>
<p>A full backup exists but is not selectable. BTW, I can see no
timestamp.txt file on the USB disk, when I start the next
<code>rear mkbackup</code> another full backup is being created and still no
timestamp.txt. Last but not least - I'm being asked for a username when
the rear rescue system had booted up, chose root, but it seems to accept
any name - I'm confused about the request for a user name ...</p>
<h4 id="gozora_commented_at_2016-12-28_1501"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269488622">2016-12-28 15:01</a>:<a class="headerlink" href="#gozora_commented_at_2016-12-28_1501" title="Permanent link">&para;</a></h4>
<p>Hmm, when I tried this last time all was working fine.<br />
Again just a guess, but @jsmeix did some patching in incremental backup
code recently, so maybe you've found some bug ;-)<br />
Can you try run <code>rear mkbackup</code> without:</p>
<pre><code>BACKUP_TYPE=incremental
FULLBACKUP_OUTDATED_DAYS=7
FULLBACKUPDAY=Mon
</code></pre>
<p>and check if it helps?</p>
<p>V.</p>
<h4 id="dwerner1_commented_at_2016-12-28_1503"><img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50"><a href="https://github.com/dwerner1">dwerner1</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269488895">2016-12-28 15:03</a>:<a class="headerlink" href="#dwerner1_commented_at_2016-12-28_1503" title="Permanent link">&para;</a></h4>
<p>Thanks for your quick reply! I'll test that right away!</p>
<p>BTW - I have finally learned how to post blocks of code .....</p>
<pre><code>total 1375160
drwx------ 2 root root       4096 Dez 28 15:22 .
drwx------ 3 root root       4096 Dez 28 15:19 ..
-rw------- 1 root root 1322192312 Dez 28 15:22 2016-12-28-1519-F.tar.gz
-rw------- 1 root root    8510649 Dez 28 15:22 backup.log
-rw-r--r-- 1 root root   71662593 Dez 28 15:19 initrd.cgz
-rw-r--r-- 1 root root    4153384 Dez  3 16:17 kernel
-rw------- 1 root root     223114 Dez 28 15:19 rear-debianrearuefi.log
-rw------- 1 root root       1011 Dez 28 15:19 syslinux.cfg
</code></pre>
<p>;-) some things take their time</p>
<h4 id="dwerner1_commented_at_2016-12-28_1532"><img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50"><a href="https://github.com/dwerner1">dwerner1</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269492963">2016-12-28 15:32</a>:<a class="headerlink" href="#dwerner1_commented_at_2016-12-28_1532" title="Permanent link">&para;</a></h4>
<p>That did the trick!</p>
<p>With <code>/etc/rear/site.conf</code> like this</p>
<pre><code>BACKUP=NETFS
OUTPUT=USB
USB_DEVICE=/dev/disk/by-label/REAR-000
BACKUP_URL=usb:///dev/disk/by-label/REAR-000
</code></pre>
<p>I can select the backup from the list! There is no timestamp.txt</p>
<h4 id="gozora_commented_at_2016-12-28_1536"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269493515">2016-12-28 15:36</a>:<a class="headerlink" href="#gozora_commented_at_2016-12-28_1536" title="Permanent link">&para;</a></h4>
<p>So thanks for reporting a bug! :-)<br />
Not sure if I'll have a time to take a look on this, but I'm quite sure
@jsmeix will (someday) ;-)</p>
<h4 id="dwerner1_commented_at_2016-12-28_1541"><img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50"><a href="https://github.com/dwerner1">dwerner1</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269494312">2016-12-28 15:41</a>:<a class="headerlink" href="#dwerner1_commented_at_2016-12-28_1541" title="Permanent link">&para;</a></h4>
<p>My pleasure! - I can stop blaming my mind for doing something stupid
..<br />
The missing incrementalism is not such a problem, as long as I can
select an existing backup for recovery from a list - in case of
disaster!<br />
It's much fun to work with rear though!</p>
<h4 id="jsmeix_commented_at_2016-12-30_1401"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269774723">2016-12-30 14:01</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-12-30_1401" title="Permanent link">&para;</a></h4>
<p>Since I implemented real incremental (plus differential) backup<br />
there is no loger a timestamp.txt file.<br />
All dates are now calculated from the backup file names<br />
like 2016-12-28-1519-F.tar.gz which is a full 'F' backup<br />
made on 2016-12-28 at 15:19.</p>
<p>Most of that happens in 070_set_backup_archive.sh see<br />
<a href="https://raw.githubusercontent.com/rear/rear/master/usr/share/rear/prep/NETFS/default/070_set_backup_archive.sh">https://raw.githubusercontent.com/rear/rear/master/usr/share/rear/prep/NETFS/default/070_set_backup_archive.sh</a></p>
<p>I had tested it a lot and for me incremental and differential<br />
backup worked well but that does of course not mean<br />
there cannot be a subtle bug somewhere.<br />
Next Monday I will have a closer look.</p>
<p>For now:<br />
Happy New Year!</p>
<h4 id="dwerner1_commented_at_2016-12-30_1440"><img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50"><a href="https://github.com/dwerner1">dwerner1</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269778677">2016-12-30 14:40</a>:<a class="headerlink" href="#dwerner1_commented_at_2016-12-30_1440" title="Permanent link">&para;</a></h4>
<p>@jsmeix</p>
<p>Many thanks for your attention and also a happy new year for you and
everyone involved in rear !!</p>
<h4 id="jsmeix_commented_at_2017-01-02_1128"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269960858">2017-01-02 11:28</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-02_1128" title="Permanent link">&para;</a></h4>
<p>I can reproduce<br />
<a href="https://github.com/rear/rear/issues/1141#issuecomment-269487898">https://github.com/rear/rear/issues/1141#issuecomment-269487898</a></p>
<pre>
When I type rear recover it get's to the point
where I could select a backup file but
the list is empty and 1) Abort
is the only possible selection.
</pre>

<p>I had never tested BACKUP_TYPE=incremental<br />
with BACKUP_URL=usb:///...</p>
<p>I had BACKUP_TYPE=incremental/differential<br />
only tested with BACKUP_URL=nfs://<br />
where "rear mkbackup" results on the NFS server files like</p>
<pre>
e205/2017-01-02-1214-F.tar.gz
e205/backup.log
e205/README
e205/rear-e205.iso
e205/rear-e205.log
e205/VERSION
</pre>

<p>and then "rear recover" just works (at least for me).</p>
<p>In contrast with BACKUP_URL=usb:/// the resulting files<br />
are different and then it does not work:</p>
<p>I use this local.conf:</p>
<pre>
OUTPUT=USB
USB_DEVICE=/dev/disk/by-label/REAR-000
BACKUP=NETFS
BACKUP_URL=usb:///dev/disk/by-label/REAR-000
BACKUP_TYPE=incremental
FULLBACKUP_OUTDATED_DAYS=7
FULLBACKUPDAY=Mon
</pre>

<p>I did "usr/sbin/rear -v format /dev/sdb" (I use traditional BIOS)<br />
and the I did "usr/sbin/rear -d -D mkbackup"</p>
<p>This results this files on my /dev/sdb1:</p>
<pre>
# mount /dev/sdb1 /mnt

# find /mnt       
/mnt
/mnt/rear
/mnt/rear/syslinux.cfg
/mnt/rear/e205
/mnt/rear/e205/20170102.1135
/mnt/rear/e205/20170102.1135/syslinux.cfg
/mnt/rear/e205/20170102.1135/rear-e205.log
/mnt/rear/e205/20170102.1135/initrd.cgz
/mnt/rear/e205/20170102.1135/2017-01-02-1135-F.tar.gz
/mnt/rear/e205/20170102.1135/kernel
/mnt/rear/e205/20170102.1135/backup.log
/mnt/boot
/mnt/boot/syslinux
/mnt/boot/syslinux/cmd.c32
/mnt/boot/syslinux/chain.c32
/mnt/boot/syslinux/ls.c32
/mnt/boot/syslinux/kbdmap.c32
/mnt/boot/syslinux/extlinux.conf
/mnt/boot/syslinux/rosh.c32
/mnt/boot/syslinux/config.c32
/mnt/boot/syslinux/vesamenu.c32
/mnt/boot/syslinux/host.c32
/mnt/boot/syslinux/cat.c32
/mnt/boot/syslinux/cpuid.c32
/mnt/boot/syslinux/reboot.c32
/mnt/boot/syslinux/rear.help
/mnt/boot/syslinux/ldlinux.sys
/mnt/boot/syslinux/poweroff.com
/mnt/boot/syslinux/pci.ids
/mnt/boot/syslinux/disk.c32
/mnt/boot/syslinux/message
/mnt/boot/syslinux/lua.c32
/mnt/boot/syslinux/sysdump.c32
/mnt/boot/syslinux/hdt.c32
/mnt/boot/syslinux/menu.c32
/mnt/e205
/mnt/e205/README
/mnt/e205/rear-e205.log
/mnt/e205/.lockfile
/mnt/e205/VERSION
/mnt/lost+found
</pre>

<p>During "rear recover" it is<br />
verify/USB/NETFS/default/540_choose_backup_archive.sh<br />
where it fails to find backups in case of<br />
BACKUP_TYPE=incremental/differential</p>
<p>As far as I see in</p>
<pre>
git log -p --follow usr/share/rear/verify/USB/NETFS/default/540_choose_backup_archive.sh
</pre>

<p>this file is basically the initial one from May 2011<br />
in particular regarding how it detects backups<br />
which is only files of the form 'backup.tar.gz'.</p>
<p>I think BACKUP_TYPE=incremental/differential<br />
had never worked with BACKUP_URL=usb:///</p>
<h4 id="jsmeix_commented_at_2017-01-02_1145"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269962379">2017-01-02 11:45</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-02_1145" title="Permanent link">&para;</a></h4>
<p>As far as I currently understand it<br />
usr/share/rear/verify/USB/NETFS/default/540_choose_backup_archive.sh<br />
is only meant when there are several 'backup.tar.gz'<br />
in case of 'normal' BACKUP_TYPE but it is not meant<br />
for BACKUP_TYPE 'incremental' or 'differential'.</p>
<p>For BACKUP_TYPE=incremental/differential the script<br />
usr/share/rear/prep/NETFS/default/070_set_backup_archive.sh<br />
does all what is needed - i.e. if fills the RESTORE_ARCHIVES<br />
array with the backups that need to be restored in the right<br />
ordering.</p>
<p>For me BACKUP_TYPE=incremental with BACKUP_URL=usb:///...<br />
seems to "just work" when I simply skip<br />
usr/share/rear/verify/USB/NETFS/default/540_choose_backup_archive.sh<br />
with an added plain "return" command at the beginning.</p>
<p>Actually I added this line at the beginning of<br />
usr/share/rear/verify/USB/NETFS/default/540_choose_backup_archive.sh</p>
<pre>
test "incremental" = "$BACKUP_TYPE" -o "differential" = "$BACKUP_TYPE" && return
</pre>

<h4 id="jsmeix_commented_at_2017-01-02_1200"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269963775">2017-01-02 12:00</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-02_1200" title="Permanent link">&para;</a></h4>
<p>For ReaR 2.0<br />
neither BACKUP_TYPE 'incremental' nor 'differential'<br />
will work with BACKUP_URL=usb:///...</p>
<p>The current implementation for BACKUP_URL=usb:///...<br />
only works with full backups.</p>
<p>If one has BACKUP_TYPE=incremental and one runs<br />
after the initial "rear mkbackup" that creates a full backup<br />
a subsequent "rear mkbackup" to get an incremental backup<br />
it does not work.</p>
<p>Instead of an incremental backup one gets another full<br />
backup on the 'usb' medium in a new directory<br />
so that one gets backups on the medium like</p>
<pre>
# mount /dev/sdb1 /mnt

# find /mnt
...
/mnt/rear/e205/20170102.1135
/mnt/rear/e205/20170102.1135/syslinux.cfg
/mnt/rear/e205/20170102.1135/rear-e205.log
/mnt/rear/e205/20170102.1135/initrd.cgz
/mnt/rear/e205/20170102.1135/2017-01-02-1135-F.tar.gz
/mnt/rear/e205/20170102.1135/kernel
/mnt/rear/e205/20170102.1135/backup.log
/mnt/rear/e205/20170102.1248
/mnt/rear/e205/20170102.1248/syslinux.cfg
/mnt/rear/e205/20170102.1248/rear-e205.log
/mnt/rear/e205/20170102.1248/initrd.cgz
/mnt/rear/e205/20170102.1248/2017-01-02-1248-F.tar.gz
/mnt/rear/e205/20170102.1248/kernel
/mnt/rear/e205/20170102.1248/backup.log
...
</pre>

<p>In contrast with BACKUP_URL=nfs://<br />
one gets on the NFS server files like</p>
<pre>
2017-01-02-1214-F.tar.gz
2017-01-02-1259-I.tar.gz
backup.log
README
rear-e205.iso
rear-e205.log
VERSION
</pre>

<h4 id="dwerner1_commented_at_2017-01-02_1204"><img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50"><a href="https://github.com/dwerner1">dwerner1</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269964164">2017-01-02 12:04</a>:<a class="headerlink" href="#dwerner1_commented_at_2017-01-02_1204" title="Permanent link">&para;</a></h4>
<p>I just added the line</p>
<p><code>test "incremental" = "$BACKUP_TYPE" -o "differential" = "$BACKUP_TYPE" &amp;&amp; return</code></p>
<p>at the beginning of the file
<code>usr/share/rear/verify/USB/NETFS/default/540_choose_backup_archive.sh</code></p>
<p>and had exactly the result you just posted ;-)</p>
<h4 id="jsmeix_commented_at_2017-01-02_1254"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1141#issuecomment-269968920">2017-01-02 12:54</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-02_1254" title="Permanent link">&para;</a></h4>
<p>With<br />
<a href="https://github.com/rear/rear/issues/1145">https://github.com/rear/rear/issues/1145</a><br />
and<br />
<a href="https://github.com/rear/rear/pull/1146">https://github.com/rear/rear/pull/1146</a><br />
I consider this issue to be sufficiently handled<br />
so that I close it hereby.</p>
<p>Further comments should be done in<br />
<a href="https://github.com/rear/rear/issues/1145">https://github.com/rear/rear/issues/1145</a></p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2023 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2016-12-27.1141.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
