<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#3332 Issue closed: Unable to boot recover image on SuSE Linux ppc - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#3332 Issue closed: Unable to boot recover image on SuSE Linux ppc";
        var mkdocs_page_input_path = "issues/2024-10-17.3332.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_rsync.html">Internal Backup with rsync to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rsync.html">Internal Backup using BACKUP=RSYNC method</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/restic.html">External Backup using restic</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#3332 Issue closed: Unable to boot recover image on SuSE Linux ppc</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="3332_issue_closed_unable_to_boot_recover_image_on_suse_linux_ppc"><a href="https://github.com/rear/rear/issues/3332">#3332 Issue</a> <code>closed</code>: Unable to boot recover image on SuSE Linux ppc<a class="headerlink" href="#3332_issue_closed_unable_to_boot_recover_image_on_suse_linux_ppc" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>fixed / solved / done</code>,
<code>special hardware or VM</code></p>
<h4 id="tolimar_opened_issue_at_2024-10-17_0908"><img src="https://avatars.githubusercontent.com/u/20188343?u=97767c308d0279651f059028324355c21150d2da&v=4" width="50"><a href="https://github.com/tolimar">tolimar</a> opened issue at <a href="https://github.com/rear/rear/issues/3332">2024-10-17 09:08</a>:<a class="headerlink" href="#tolimar_opened_issue_at_2024-10-17_0908" title="Permanent link">&para;</a></h4>
<!-- Relax-and-Recover (ReaR) Issue Template
Fill in the following items when submitting a new issue.
Use GitHub Markdown, see "Basic writing and formatting syntax" on
https://docs.github.com/en/get-started/writing-on-github
Support is voluntary without guarantee/warranty/liability -->

<ul>
<li>ReaR version ("/usr/sbin/rear -V"):</li>
</ul>
<!-- -->

<pre><code>testhost:~&gt; sudo rear -V
Relax-and-Recover 2.7 / 2022-07-13
</code></pre>
<ul>
<li>
<p>If your ReaR version is not the current version, explain why you
    can't upgrade:</p>
</li>
<li>
<p>OS version ("cat /etc/os-release" or "lsb_release -a" or "cat
    /etc/rear/os.conf"):</p>
</li>
</ul>
<!-- -->

<pre><code>NAME="SLES"
VERSION="15-SP5"
VERSION_ID="15.5"
PRETTY_NAME="SUSE Linux Enterprise Server 15 SP5"
ID="sles"
ID_LIKE="suse"
ANSI_COLOR="0;32"
CPE_NAME="cpe:/o:suse:sles:15:sp5"
</code></pre>
<ul>
<li>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
    /etc/rear/local.conf"):</li>
</ul>
<!-- -->

<pre><code>OUTPUT=ISO
BACKUP=TSM
AUTOEXCLUDE_MULTIPATH=n
GRUB_RESCUE=y
#MODULES=( 'all_modules' )
#FIRMWARE_FILES='yes'
# required on SLES 12 for better working vi
COPY_AS_IS+=( /usr/share/vim )

# Reduce size of initrd (takes longer and uses more CPU but could help when booting PPC64 in POWERVM with TFTP)
REAR_INITRD_COMPRESSION=lzma

ONLY_INCLUDE_VG=( rootvg )
</code></pre>
<ul>
<li>
<p>Hardware vendor/product (PC or PowerNV BareMetal or ARM) or VM (KVM
    guest or PowerVM LPAR):<br />
    Source system is a Logical Partition on a IBM Power server running
    Power 9 CPU mode.<br />
    Target system is a new Logical Partition on an IBM Power 8 server.</p>
</li>
<li>
<p>System architecture (x86 compatible or PPC64/PPC64LE or what exact
    ARM device):<br />
    ppc64le</p>
</li>
<li>
<p>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or
    ELILO or Petitboot):<br />
    Open Firmware.<br />
    Grub.</p>
</li>
<li>
<p>Storage (local disk or SSD) and/or SAN (FC or iSCSI or FCoE) and/or
    multipath (DM or NVMe):<br />
    disks mapped via vscsi from two Virtual IO servers to the LPAR.</p>
</li>
<li>
<p>Storage layout ("lsblk -ipo
    NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,LABEL,SIZE,MOUNTPOINT"):<br />
    Full storage layout follow, but I would be happy to just recover the
    rootvg:</p>
</li>
</ul>
<!-- -->

<pre><code>~&gt; lsblk -ipo NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,LABEL,SIZE,MOUNTPOINT
NAME                                          KNAME   PKNAME  TRAN TYPE  FSTYPE LABEL  SIZE MOUNTPOINT
/dev/sda                                      /dev/sda
|                                                                  disk  LVM2_m         50G 
`-/dev/mapper/mpathg                          /dev/dm-6
                                                      /dev/sda
                                                                   mpath LVM2_m         50G 
  |-/dev/mapper/vg_hana_C10_sap-lv_sap_C10_base
  |                                           /dev/dm-19
  |                                                   /dev/dm-6
  |                                                                lvm   xfs            25G /usr/sap
  `-/dev/mapper/vg_hana_C10_sap-lv_sap_C10_home
                                              /dev/dm-21
                                                      /dev/dm-6
                                                                   lvm   xfs            25G /usr/sap/C
/dev/sdb                                      /dev/sdb
|                                                                  disk  mpath_         50G 
|-/dev/sdb1                                   /dev/sdb1
|                                                     /dev/sdb
|                                                                  part  none          6.8M 
|-/dev/sdb2                                   /dev/sdb2
|                                                     /dev/sdb
|                                                                  part  LVM2_m         50G 
`-/dev/mapper/mpatha                          /dev/dm-7
                                                      /dev/sdb
                                                                   mpath                50G 
  |-/dev/mapper/mpatha-part1                  /dev/dm-11
  |                                                   /dev/dm-7
  |                                                                part                6.8M 
  `-/dev/mapper/mpatha-part2                  /dev/dm-12
                                                      /dev/dm-7
                                                                   part  LVM2_m         50G 
    |-/dev/mapper/rootvg-lv_swap              /dev/dm-16
    |                                                 /dev/dm-12
    |                                                              lvm   swap           20G [SWAP]
    |-/dev/mapper/rootvg-lv_root              /dev/dm-17
    |                                                 /dev/dm-12
    |                                                              lvm   ext4            2G /
    |-/dev/mapper/rootvg-lv_usr               /dev/dm-18
    |                                                 /dev/dm-12
    |                                                              lvm   ext4            6G /usr
    |-/dev/mapper/rootvg-lv_home              /dev/dm-24
    |                                                 /dev/dm-12
    |                                                              lvm   ext4            1G /home
    |-/dev/mapper/rootvg-lv_homeroot          /dev/dm-25
    |                                                 /dev/dm-12
    |                                                              lvm   ext4            1G /root
    |-/dev/mapper/rootvg-lv_opt               /dev/dm-26
    |                                                 /dev/dm-12
    |                                                              lvm   ext4          2.5G /opt
    |-/dev/mapper/rootvg-lv_tmp               /dev/dm-27
    |                                                 /dev/dm-12
    |                                                              lvm   ext4            3G /tmp
    `-/dev/mapper/rootvg-lv_var               /dev/dm-28
                                                      /dev/dm-12
                                                                   lvm   ext4            5G /var
/dev/sdc                                      /dev/sdc
|                                                                  disk  LVM2_m        700G 
`-/dev/mapper/mpathh                          /dev/dm-1
                                                      /dev/sdc
                                                                   mpath LVM2_m        700G 
  `-/dev/mapper/vg_hana_C10_data-lv_hana_C10_data
                                              /dev/dm-20
                                                      /dev/dm-1
                                                                   lvm   xfs           2.7T /hana/data
/dev/sdd                                      /dev/sdd
|                                                                  disk  LVM2_m        700G 
`-/dev/mapper/mpathi                          /dev/dm-2
                                                      /dev/sdd
                                                                   mpath LVM2_m        700G 
  `-/dev/mapper/vg_hana_C10_data-lv_hana_C10_data
                                              /dev/dm-20
                                                      /dev/dm-2
                                                                   lvm   xfs           2.7T /hana/data
/dev/sde                                      /dev/sde
|                                                                  disk  LVM2_m        700G 
`-/dev/mapper/mpathj                          /dev/dm-5
                                                      /dev/sde
                                                                   mpath LVM2_m        700G 
  `-/dev/mapper/vg_hana_C10_data-lv_hana_C10_data
                                              /dev/dm-20
                                                      /dev/dm-5
                                                                   lvm   xfs           2.7T /hana/data
/dev/sdf                                      /dev/sdf
|                                                                  disk  LVM2_m        700G 
`-/dev/mapper/mpathk                          /dev/dm-4
                                                      /dev/sdf
                                                                   mpath LVM2_m        700G 
  `-/dev/mapper/vg_hana_C10_data-lv_hana_C10_data
                                              /dev/dm-20
                                                      /dev/dm-4
                                                                   lvm   xfs           2.7T /hana/data
/dev/sdg                                      /dev/sdg
|                                                                  disk  LVM2_m        128G 
`-/dev/mapper/mpathl                          /dev/dm-8
                                                      /dev/sdg
                                                                   mpath LVM2_m        128G 
  `-/dev/mapper/vg_hana_C10_log-lv_hana_C10_log
                                              /dev/dm-22
                                                      /dev/dm-8
                                                                   lvm   xfs           512G /hana/log/
/dev/sdh                                      /dev/sdh
|                                                                  disk  LVM2_m        128G 
`-/dev/mapper/mpathm                          /dev/dm-13
                                                      /dev/sdh
                                                                   mpath LVM2_m        128G 
  `-/dev/mapper/vg_hana_C10_log-lv_hana_C10_log
                                              /dev/dm-22
                                                      /dev/dm-13
                                                                   lvm   xfs           512G /hana/log/
/dev/sdi                                      /dev/sdi
|                                                                  disk  LVM2_m        128G 
`-/dev/mapper/mpathn                          /dev/dm-14
                                                      /dev/sdi
                                                                   mpath LVM2_m        128G 
  `-/dev/mapper/vg_hana_C10_log-lv_hana_C10_log
                                              /dev/dm-22
                                                      /dev/dm-14
                                                                   lvm   xfs           512G /hana/log/
/dev/sdj                                      /dev/sdj
|                                                                  disk  LVM2_m        128G 
`-/dev/mapper/mpathb                          /dev/dm-3
                                                      /dev/sdj
                                                                   mpath LVM2_m        128G 
  `-/dev/mapper/vg_hana_C10_log-lv_hana_C10_log
                                              /dev/dm-22
                                                      /dev/dm-3
                                                                   lvm   xfs           512G /hana/log/
/dev/sdk                                      /dev/sdk
|                                                                  disk  LVM2_m        256G 
`-/dev/mapper/mpathc                          /dev/dm-15
                                                      /dev/sdk
                                                                   mpath LVM2_m        256G 
  `-/dev/mapper/vg_hana_C10_shared-lv_hana_C10_shared
                                              /dev/dm-23
                                                      /dev/dm-15
                                                                   lvm   xfs          1024G /hana/shar
/dev/sdl                                      /dev/sdl
|                                                                  disk  LVM2_m        256G 
`-/dev/mapper/mpathd                          /dev/dm-0
                                                      /dev/sdl
                                                                   mpath LVM2_m        256G 
  `-/dev/mapper/vg_hana_C10_shared-lv_hana_C10_shared
                                              /dev/dm-23
                                                      /dev/dm-0
                                                                   lvm   xfs          1024G /hana/shar
/dev/sdm                                      /dev/sdm
|                                                                  disk  LVM2_m        256G 
`-/dev/mapper/mpathe                          /dev/dm-10
                                                      /dev/sdm
                                                                   mpath LVM2_m        256G 
  `-/dev/mapper/vg_hana_C10_shared-lv_hana_C10_shared
                                              /dev/dm-23
                                                      /dev/dm-10
                                                                   lvm   xfs          1024G /hana/shar
/dev/sdn                                      /dev/sdn
|                                                                  disk  LVM2_m        256G 
`-/dev/mapper/mpathf                          /dev/dm-9
                                                      /dev/sdn
                                                                   mpath LVM2_m        256G 
  `-/dev/mapper/vg_hana_C10_shared-lv_hana_C10_shared
                                              /dev/dm-23
                                                      /dev/dm-9
                                                                   lvm   xfs          1024G /hana/shar
/dev/sdo                                      /dev/sdo
|                                                                  disk  LVM2_m         50G 
`-/dev/mapper/mpathg                          /dev/dm-6
                                                      /dev/sdo
                                                                   mpath LVM2_m         50G 
  |-/dev/mapper/vg_hana_C10_sap-lv_sap_C10_base
  |                                           /dev/dm-19
  |                                                   /dev/dm-6
  |                                                                lvm   xfs            25G /usr/sap
  `-/dev/mapper/vg_hana_C10_sap-lv_sap_C10_home
                                              /dev/dm-21
                                                      /dev/dm-6
                                                                   lvm   xfs            25G /usr/sap/C
/dev/sdp                                      /dev/sdp
|                                                                  disk  mpath_         50G 
|-/dev/sdp1                                   /dev/sdp1
|                                                     /dev/sdp
|                                                                  part  none          6.8M 
|-/dev/sdp2                                   /dev/sdp2
|                                                     /dev/sdp
|                                                                  part  LVM2_m         50G 
`-/dev/mapper/mpatha                          /dev/dm-7
                                                      /dev/sdp
                                                                   mpath                50G 
  |-/dev/mapper/mpatha-part1                  /dev/dm-11
  |                                                   /dev/dm-7
  |                                                                part                6.8M 
  `-/dev/mapper/mpatha-part2                  /dev/dm-12
                                                      /dev/dm-7
                                                                   part  LVM2_m         50G 
    |-/dev/mapper/rootvg-lv_swap              /dev/dm-16
    |                                                 /dev/dm-12
    |                                                              lvm   swap           20G [SWAP]
    |-/dev/mapper/rootvg-lv_root              /dev/dm-17
    |                                                 /dev/dm-12
    |                                                              lvm   ext4            2G /
    |-/dev/mapper/rootvg-lv_usr               /dev/dm-18
    |                                                 /dev/dm-12
    |                                                              lvm   ext4            6G /usr
    |-/dev/mapper/rootvg-lv_home              /dev/dm-24
    |                                                 /dev/dm-12
    |                                                              lvm   ext4            1G /home
    |-/dev/mapper/rootvg-lv_homeroot          /dev/dm-25
    |                                                 /dev/dm-12
    |                                                              lvm   ext4            1G /root
    |-/dev/mapper/rootvg-lv_opt               /dev/dm-26
    |                                                 /dev/dm-12
    |                                                              lvm   ext4          2.5G /opt
    |-/dev/mapper/rootvg-lv_tmp               /dev/dm-27
    |                                                 /dev/dm-12
    |                                                              lvm   ext4            3G /tmp
    `-/dev/mapper/rootvg-lv_var               /dev/dm-28
                                                      /dev/dm-12
                                                                   lvm   ext4            5G /var
/dev/sdq                                      /dev/sdq
|                                                                  disk  LVM2_m        700G 
`-/dev/mapper/mpathh                          /dev/dm-1
                                                      /dev/sdq
                                                                   mpath LVM2_m        700G 
  `-/dev/mapper/vg_hana_C10_data-lv_hana_C10_data
                                              /dev/dm-20
                                                      /dev/dm-1
                                                                   lvm   xfs           2.7T /hana/data
/dev/sdr                                      /dev/sdr
|                                                                  disk  LVM2_m        700G 
`-/dev/mapper/mpathi                          /dev/dm-2
                                                      /dev/sdr
                                                                   mpath LVM2_m        700G 
  `-/dev/mapper/vg_hana_C10_data-lv_hana_C10_data
                                              /dev/dm-20
                                                      /dev/dm-2
                                                                   lvm   xfs           2.7T /hana/data
/dev/sds                                      /dev/sds
|                                                                  disk  LVM2_m        700G 
`-/dev/mapper/mpathj                          /dev/dm-5
                                                      /dev/sds
                                                                   mpath LVM2_m        700G 
  `-/dev/mapper/vg_hana_C10_data-lv_hana_C10_data
                                              /dev/dm-20
                                                      /dev/dm-5
                                                                   lvm   xfs           2.7T /hana/data
/dev/sdt                                      /dev/sdt
|                                                                  disk  LVM2_m        700G 
`-/dev/mapper/mpathk                          /dev/dm-4
                                                      /dev/sdt
                                                                   mpath LVM2_m        700G 
  `-/dev/mapper/vg_hana_C10_data-lv_hana_C10_data
                                              /dev/dm-20
                                                      /dev/dm-4
                                                                   lvm   xfs           2.7T /hana/data
/dev/sdu                                      /dev/sdu
|                                                                  disk  LVM2_m        128G 
`-/dev/mapper/mpathl                          /dev/dm-8
                                                      /dev/sdu
                                                                   mpath LVM2_m        128G 
  `-/dev/mapper/vg_hana_C10_log-lv_hana_C10_log
                                              /dev/dm-22
                                                      /dev/dm-8
                                                                   lvm   xfs           512G /hana/log/
/dev/sdv                                      /dev/sdv
|                                                                  disk  LVM2_m        128G 
`-/dev/mapper/mpathm                          /dev/dm-13
                                                      /dev/sdv
                                                                   mpath LVM2_m        128G 
  `-/dev/mapper/vg_hana_C10_log-lv_hana_C10_log
                                              /dev/dm-22
                                                      /dev/dm-13
                                                                   lvm   xfs           512G /hana/log/
/dev/sdw                                      /dev/sdw
|                                                                  disk  LVM2_m        128G 
`-/dev/mapper/mpathn                          /dev/dm-14
                                                      /dev/sdw
                                                                   mpath LVM2_m        128G 
  `-/dev/mapper/vg_hana_C10_log-lv_hana_C10_log
                                              /dev/dm-22
                                                      /dev/dm-14
                                                                   lvm   xfs           512G /hana/log/
/dev/sdx                                      /dev/sdx
|                                                                  disk  LVM2_m        128G 
`-/dev/mapper/mpathb                          /dev/dm-3
                                                      /dev/sdx
                                                                   mpath LVM2_m        128G 
  `-/dev/mapper/vg_hana_C10_log-lv_hana_C10_log
                                              /dev/dm-22
                                                      /dev/dm-3
                                                                   lvm   xfs           512G /hana/log/
/dev/sdy                                      /dev/sdy
|                                                                  disk  LVM2_m        256G 
`-/dev/mapper/mpathc                          /dev/dm-15
                                                      /dev/sdy
                                                                   mpath LVM2_m        256G 
  `-/dev/mapper/vg_hana_C10_shared-lv_hana_C10_shared
                                              /dev/dm-23
                                                      /dev/dm-15
                                                                   lvm   xfs          1024G /hana/shar
/dev/sdz                                      /dev/sdz
|                                                                  disk  LVM2_m        256G 
`-/dev/mapper/mpathd                          /dev/dm-0
                                                      /dev/sdz
                                                                   mpath LVM2_m        256G 
  `-/dev/mapper/vg_hana_C10_shared-lv_hana_C10_shared
                                              /dev/dm-23
                                                      /dev/dm-0
                                                                   lvm   xfs          1024G /hana/shar
/dev/sdaa                                     /dev/sdaa
|                                                                  disk  LVM2_m        256G 
`-/dev/mapper/mpathe                          /dev/dm-10
                                                      /dev/sdaa
                                                                   mpath LVM2_m        256G 
  `-/dev/mapper/vg_hana_C10_shared-lv_hana_C10_shared
                                              /dev/dm-23
                                                      /dev/dm-10
                                                                   lvm   xfs          1024G /hana/shar
/dev/sdab                                     /dev/sdab
|                                                                  disk  LVM2_m        256G 
`-/dev/mapper/mpathf                          /dev/dm-9
                                                      /dev/sdab
                                                                   mpath LVM2_m        256G 
  `-/dev/mapper/vg_hana_C10_shared-lv_hana_C10_shared
                                              /dev/dm-23
                                                      /dev/dm-9
                                                                   lvm   xfs          1024G /hana/shar
</code></pre>
<ul>
<li>Description of the issue (ideally so that others can reproduce
    it):<br />
    I try a "greenfield" recovery of a larger SuSE Linux 15 SP5 system
    hosted on an IBM Power server.<br />
    For that I did the following:<ul>
<li>installed rear on the system on the SuSE server</li>
<li>created a rescue image</li>
<li>copied the resulting iso to the VIOS of the recovery server</li>
<li>created a new lpar profile on the new hardware with identical
    settings but the following:<ul>
<li>CPU mode of LPAR changed from Power9 CPU mode to Power8</li>
<li>Some vlan IDs of network adapters changed in the recovery
    environment</li>
<li>New LPAR has only one new disk for the rootvg</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>If start that system, I run into a kernel Panic as it is not able to
mount the root fs:</p>
<pre><code>[    1.294475][    T1] List of all partitions:
[    1.294478][    T1] No filesystem could mount root, tried:
[    1.294478][    T1]
[    1.294483][    T1] Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)
[    1.294488][    T1] CPU: 1 PID: 1 Comm: swapper/0 Not tainted 5.14.21-150500.55.73-default #1 SLE15-SP5 31ad524062d2772a9189361b18629cd4c1e03baf
[    1.294497][    T1] Call Trace:
[    1.294499][    T1] [c00000d558337aa0] [c000000000894d98] dump_stack_lvl+0x8c/0xcc (unreliable)
[    1.294509][    T1] [c00000d558337ae0] [c00000000015a9d4] panic+0x180/0x42c
[    1.294516][    T1] [c00000d558337b70] [c0000000020058d0] mount_block_root+0x3cc/0x430
[    1.294523][    T1] [c00000d558337c50] [c000000002005b88] prepare_namespace+0x1a8/0x1fc
[    1.294529][    T1] [c00000d558337cc0] [c00000000200522c] kernel_init_freeable+0x3b4/0x410
[    1.294535][    T1] [c00000d558337da0] [c000000000012b34] kernel_init+0x34/0x1c0
[    1.294541][    T1] [c00000d558337e10] [c00000000000cf64] ret_from_kernel_thread+0x5c/0x64
[    1.306189][    T1] ------------[ cut here ]------------
[    1.306196][    T1] WARNING: CPU: 1 PID: 1 at ../drivers/tty/vt/vt.c:4417 do_unblank_screen+0x1ac/0x240
[    1.306208][    T1] Modules linked in:
[    1.306215][    T1] Supported: Yes
[    1.306220][    T1] CPU: 1 PID: 1 Comm: swapper/0 Not tainted 5.14.21-150500.55.73-default #1 SLE15-SP5 31ad524062d2772a9189361b18629cd4c1e03baf
[    1.306233][    T1] NIP:  c0000000009a199c LR: c0000000009a197c CTR: c00000000003c450
[    1.306241][    T1] REGS: c00000d5583377c0 TRAP: 0700   Not tainted  (5.14.21-150500.55.73-default)
[    1.306250][    T1] MSR:  8000000002021033 &lt;SF,VEC,ME,IR,DR,RI,LE&gt;  CR: 24002282  XER: 0000000f
[    1.306273][    T1] CFAR: c0000000001f8488 IRQMASK: 3
[    1.306273][    T1] GPR00: c0000000009a197c c00000d558337a60 c000000002887f00 0000000000000000
[    1.306273][    T1] GPR04: 0000000000000003 00000000000004b9 c00000d558337910 0000000000000000
[    1.306273][    T1] GPR08: 0000000000000011 0000000000000000 0000000000000000 0000000000000001
[    1.306273][    T1] GPR12: c00000000003c450 c00000001ec0ee80 c000000000012b08 0000000000000000
[    1.306273][    T1] GPR16: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
[    1.306273][    T1] GPR20: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
[    1.306273][    T1] GPR24: c0000000010ddc60 c000000002934130 c00c000017633cc0 0000000000000000
[    1.306273][    T1] GPR28: c00000000296eb20 0000000000000000 c0000000010ddbf0 0000000000000000
[    1.306376][    T1] NIP [c0000000009a199c] do_unblank_screen+0x1ac/0x240
[    1.306384][    T1] LR [c0000000009a197c] do_unblank_screen+0x18c/0x240
[    1.306393][    T1] Call Trace:
[    1.306397][    T1] [c00000d558337a60] [c00c000017633cc0] 0xc00c000017633cc0 (unreliable)
[    1.306410][    T1] [c00000d558337ae0] [c00000000015aa40] panic+0x1ec/0x42c
[    1.306422][    T1] [c00000d558337b70] [c0000000020058d0] mount_block_root+0x3cc/0x430
[    1.306433][    T1] [c00000d558337c50] [c000000002005b88] prepare_namespace+0x1a8/0x1fc
[    1.306445][    T1] [c00000d558337cc0] [c00000000200522c] kernel_init_freeable+0x3b4/0x410
[    1.306456][    T1] [c00000d558337da0] [c000000000012b34] kernel_init+0x34/0x1c0
[    1.306467][    T1] [c00000d558337e10] [c00000000000cf64] ret_from_kernel_thread+0x5c/0x64
[    1.306478][    T1] Instruction dump:
[    1.306484][    T1] 60000000 7c0802a6 f8010090 4b856b01 60000000 2fa30000 409e002c 3d220017
[    1.306504][    T1] 39294fa8 81290000 2f890000 409e0018 &lt;0fe00000&gt; e8010090 7c0803a6 4bfffe7c
[    1.306525][    T1] ---[ end trace 46aae5ba8887dee8 ]---
[    1.306533][    T1] ---[ end Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0) ]---
</code></pre>
<ul>
<li>
<p>Workaround, if any:<br />
    I have an older rescue image from a nearly identical system, but
    running SuSE 15 SP3. That seems to work.</p>
<p>Other things I tried:<br />
- Using the rear27a package shipped by SuSe, or the rpm package
provided via OBS<br />
- Enabling / disabling <code>AUTOEXCLUDE_MULTIPATH=n</code><br />
- Enabling / disabling <code>MODULES=( 'all_modules' )</code><br />
- Enabling / disabling <code>FIRMWARE_FILES='yes'</code><br />
- Disabling <code>COPY_AS_IS+=( /usr/share/vim )</code> (Some leftovers from
tests with SLES12, that we set to have a better working editor;
doesn't seem to be required on SLES15 anymore anyway)<br />
- Setting <code>REAR_INITRD_COMPRESSION=lzma</code> (I read in some other ppc
rear issues, that sometimes initrd got to large)</p>
</li>
<li>
<p>Attachments, as applicable ("rear -D mkrescue/mkbackup/recover"
    debug log files):<br />
<a href="https://github.com/user-attachments/files/17409196/rear-testhost.log">rear-testhost.log</a></p>
</li>
</ul>
<p>You can drag-drop log files into this editor to create an attachment<br />
or paste verbatim text like command output or file content<br />
by including it between a leading and a closing line of<br />
three backticks like this:</p>
<pre><code>verbatim content
</code></pre>
<h4 id="jsmeix_commented_at_2024-10-17_1154"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3332#issuecomment-2419321349">2024-10-17 11:54</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-10-17_1154" title="Permanent link">&para;</a></h4>
<p>@tolimar</p>
<p>FYI to avoid expectations that I cannot fulfill:<br />
I am not a booting expert and I know basically nothing<br />
about POWER architecure specific things - I only know<br />
that low-level things when booting on POWER architecture<br />
are rather different compared to booting on x86 architecture.<br />
Currently we do not have an active ReaR upstream maintainer<br />
who is an expert in POWER architecure specific things.<br />
If you have a SUSE product/extension like the<br />
SUSE Linux Enterprise High Availability Extension<br />
where SUSE officially supports ReaR,<br />
see the section "SUSE support for Relax-and-Recover" in<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a><br />
I would recommend that you file an official support request<br />
at SUSE via your official support contact at SUSE.<br />
If you do that please provide an URL to this issue<br />
in your SUSE support request.</p>
<p>I try to help you here as good as I can so to proceed here<br />
I would recommend that you read through<br />
<a href="https://github.com/rear/rear/issues/3189">https://github.com/rear/rear/issues/3189</a><br />
which is also about BACKUP=TSM on POWER architecture<br />
where booting also "just failed" with a kernel panic<br />
and no reason was shown (i.e. not meaningful error<br />
message) but the root cause was that the initrd<br />
was too big.</p>
<p>In<br />
<a href="https://github.com/rear/rear/issues/3189">https://github.com/rear/rear/issues/3189</a><br />
in particular have a look at all what belongs<br />
to the size of ReaR's initrd which contains<br />
all the files of the ReaR recovery system<br />
and with BACKUP=TSM defaults that could become<br />
too big on POWER architecture because there are<br />
rather low limits of the initrd maximum size.</p>
<p>As a result I did several ReaR upstream commits<br />
in our GitHub master code (i.e. not in ReaR 2.7)<br />
in particular<br />
<a href="https://github.com/rear/rear/commit/7b2354e8a91306adeaf9228d79d13b23b5426011">https://github.com/rear/rear/commit/7b2354e8a91306adeaf9228d79d13b23b5426011</a><br />
that contains in particular in default.conf</p>
<pre><code># On POWER architecture (e.g. PowerVM LPAR) there is a maximum size of the initrd that can be booted
# cf. https://github.com/rear/rear/issues/3189
# That limit is 128 MiB minus about 4 MiB for some additional prep boot data
# so in practice the maximum remaining size for the initrd is about 123 MiB or even less.
</code></pre>
<p>and an example of COPY_AS_IS_EXCLUDE_TSM that could<br />
reduce much what TSM needs inside the ReaR recovery system<br />
so it could help to get the initrd small enough for POWER<br />
and also<br />
<a href="https://github.com/rear/rear/pull/3219">https://github.com/rear/rear/pull/3219</a><br />
and<br />
<a href="https://github.com/rear/rear/pull/3212">https://github.com/rear/rear/pull/3212</a><br />
and<br />
<a href="https://github.com/rear/rear/pull/3233">https://github.com/rear/rear/pull/3233</a></p>
<p>So I would recommend that you try out our latest<br />
GitHub master code because the GitHub master code<br />
is the only place where we at ReaR upstream can<br />
fix things and if there are issues it helps when<br />
you use exactly the code where we could fix things.</p>
<p>See the section<br />
"Testing current ReaR upstream GitHub master code" in<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a><br />
how you can try out our current ReaR GitHub master code<br />
without conflicts with your already installed ReaR version.</p>
<h4 id="tolimar_commented_at_2024-10-18_1316"><img src="https://avatars.githubusercontent.com/u/20188343?u=97767c308d0279651f059028324355c21150d2da&v=4" width="50"><a href="https://github.com/tolimar">tolimar</a> commented at <a href="https://github.com/rear/rear/issues/3332#issuecomment-2422457402">2024-10-18 13:16</a>:<a class="headerlink" href="#tolimar_commented_at_2024-10-18_1316" title="Permanent link">&para;</a></h4>
<p>@jsmeix<br />
Many thanks for your answers! Even if you say you know nothing about
Power architecture you managed to point me to the right direction. Case
in point: While I was searching in the opposite direction - stuff that
might be missing in the initrd - it is in fact the size limit if the
initrd you refered me too.</p>
<blockquote>
<p>If you have a SUSE product/extension like the SUSE Linux Enterprise
High Availability Extension where SUSE officially supports ReaR, see
the section "SUSE support for Relax-and-Recover" in
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a>
I would recommend that you file an official support request at SUSE
via your official support contact at SUSE. If you do that please
provide an URL to this issue in your SUSE support request.</p>
</blockquote>
<p>We do have SUSE support for SLES4HANA (which to my knowledge includes
the HA extension). But sadly not on the hardware I try my recovery on -
it is an older server, we use for some experiments.</p>
<p>However, I put it on my todo list, to reproduce the issue on hardware
and open a support ticket there.</p>
<blockquote>
<p>[..]<br />
and an example of COPY_AS_IS_EXCLUDE_TSM that could reduce much
what TSM needs inside the ReaR recovery system so it could help to get
the initrd small enough for POWER and aee also #3219 and #3212 and
#3233</p>
<p>So I would recommend that you try out our latest GitHub master code
because the GitHub master code is the only place where we at ReaR
upstream can fix things and if there are issues it helps when you use
exactly the code where we could fix things.</p>
<p>See the section "Testing current ReaR upstream GitHub master code" in
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a>
how you can try out our current ReaR GitHub master code without
conflicts with your already installed ReaR version.</p>
</blockquote>
<p>Thanks for the pointer, trying the git version, I now get a warning from
rear, if the initrd is getting too large :)</p>
<p>I experimented a bit with it, and was able to downsize the resulting
size by using:</p>
<pre><code>MODULES=('loaded_modules')
COPY_AS_IS_EXCLUDE_TSM=( /opt/tivoli/tsm/client/ba/bin/dsmc /opt/tivoli/tsm/client/ba/bin/dsm.sys /opt/tivoli/tsm/client/ba/bin/dsm.opt )
REAR_INITRD_COMPRESSION=lzma
</code></pre>
<p>But even with that, the resulting initrd was too large.</p>
<p>However, I when changing backup method from tsm to netfs, I was able to
create a bootable rescue image again.</p>
<p>As said I have a working rescue image of a similar system created with
SLES 15 SP3 including TSM, which worked. So I will definitely try to
reproduce the issue with the suse supported hardware.</p>
<p>Again thanks for your hints!</p>
<h4 id="jsmeix_commented_at_2024-10-18_1354"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3332#issuecomment-2422535690">2024-10-18 13:54</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-10-18_1354" title="Permanent link">&para;</a></h4>
<p>My pleasure!<br />
I wish you a relaxed and recovering weekend.</p>
<h4 id="jsmeix_commented_at_2024-10-18_1358"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3332#issuecomment-2422543898">2024-10-18 13:58</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-10-18_1358" title="Permanent link">&para;</a></h4>
<p>Did you try out the example of COPY_AS_IS_EXCLUDE_TSM<br />
that could reduce much what TSM needs inside<br />
the ReaR recovery system?</p>
<p>This COPY_AS_IS_EXCLUDE_TSM example is shown<br />
in default.conf in our GitHub master code currently at<br />
<a href="https://github.com/rear/rear/blob/master/usr/share/rear/conf/default.conf#L2433">https://github.com/rear/rear/blob/master/usr/share/rear/conf/default.conf#L2433</a></p>
<pre><code># An alternative method to reduce the size of the TSM client in ReaR recovery system initrd is
# to exclude what is not needed from the above specified COPY_AS_IS_TSM via COPY_AS_IS_EXCLUDE_TSM
# to get a slim TSM client without reduced functionality of what can be used in the recovery system.
# So for example
# COPY_AS_IS_EXCLUDE_TSM=( /opt/tivoli/tsm/client/ba/bin/*.jar
#                          /opt/tivoli/tsm/client/ba/bin/*.log*
#                          /opt/tivoli/tsm/client/*/*/[A-Z][!N]_?? )
# excludes *.jar files which are only needed for the Java based GUI X11 client
# (but X11 is not available in the recovery system so this is no real restriction)
# and language file subdirectories except the EN_US language subdirectory
# (some language files are needed and EN_US is used per default)
# cf. https://github.com/rear/rear/issues/3189#issuecomment-2093032268
# and https://github.com/rear/rear/issues/3189#issuecomment-2093288555
</code></pre>
<p>cf. my above mentioned<br />
<a href="https://github.com/rear/rear/commit/7b2354e8a91306adeaf9228d79d13b23b5426011">https://github.com/rear/rear/commit/7b2354e8a91306adeaf9228d79d13b23b5426011</a></p>
<h4 id="jsmeix_commented_at_2024-11-08_1459"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3332#issuecomment-2464972060">2024-11-08 14:59</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-11-08_1459" title="Permanent link">&para;</a></h4>
<p>I assume it is solved because "no news is good news".<br />
(If not, reopen it with additional information.)</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2024-10-17.3332.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
