<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#764 Issue closed: Switch to grub2 (grub-mkrescue) for creating the recovery ISO image - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#764 Issue closed: Switch to grub2 (grub-mkrescue) for creating the recovery ISO image";
        var mkdocs_page_input_path = "issues/2016-02-10.764.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#764 Issue closed: Switch to grub2 (grub-mkrescue) for creating the recovery ISO image</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="764_issue_closed_switch_to_grub2_grub-mkrescue_for_creating_the_recovery_iso_image"><a href="https://github.com/rear/rear/issues/764">#764 Issue</a> <code>closed</code>: Switch to grub2 (grub-mkrescue) for creating the recovery ISO image<a class="headerlink" href="#764_issue_closed_switch_to_grub2_grub-mkrescue_for_creating_the_recovery_iso_image" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>cleanup</code>, <code>discuss / RFC</code>,
<code>no-issue-activity</code></p>
<h4 id="jsmeix_opened_issue_at_2016-02-10_0913"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> opened issue at <a href="https://github.com/rear/rear/issues/764">2016-02-10 09:13</a>:<a class="headerlink" href="#jsmeix_opened_issue_at_2016-02-10_0913" title="Permanent link">&para;</a></h4>
<p>This is an enhancement request for the future that<br />
rear uses only grub2 (and drop using syslinux/isolinux) for<br />
creating its bootable recovery ISO image.</p>
<p>Excerpts from mails from @schlomo from<br />
the mail thread "Convert ISO to USB" on the<br />
Relax-and-Recover users list <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#114;&#101;&#97;&#114;&#45;&#117;&#115;&#101;&#114;&#115;&#64;&#108;&#105;&#115;&#116;&#115;&#46;&#114;&#101;&#108;&#97;&#120;&#45;&#97;&#110;&#100;&#45;&#114;&#101;&#99;&#111;&#118;&#101;&#114;&#46;&#111;&#114;&#103;">&#114;&#101;&#97;&#114;&#45;&#117;&#115;&#101;&#114;&#115;&#64;&#108;&#105;&#115;&#116;&#115;&#46;&#114;&#101;&#108;&#97;&#120;&#45;&#97;&#110;&#100;&#45;&#114;&#101;&#99;&#111;&#118;&#101;&#114;&#46;&#111;&#114;&#103;</a><br />
on 09. February 2016:</p>
<pre>
From: Schlomo Schapiro
...
Caveat Emptor. There is a hybrid mode
for BIOS boot and another one for EFI boot 
and probably several ways how to combine them.

I did some experiments in this area some time ago.
Bottom line is that I gave up using syslinux/isolinux
and switched over to use grub 2:

http://blog.schlomo.schapiro.org/2013/11/magic-iso-image-booting-with-gnu-grub-2.html

In more recent experiments I found out that
grub-mkrescue already does everything right.
Put some grub configs and grub modules into a
directory and run "grub-mkrescue -o iso-file.iso dir"
to get an ISO that can boot both from
CD/DVD and from USB drive.
If you use BIOS boot.
With EFI I did not manage to get it to boot from USB.
Booting EFI from CD/DVD was really simple.
I only had to add EFI/BOOT/BOOTX64.EFI to the dir.
...
In general, I think that we should slowly start
to think about moving to grub2 in ReaR.
I think that it will make the entire
boot code much much simpler.
</pre>

<pre>
From: Schlomo Schapiro
...
Sorry if I was not clear:
* ReaR supports grub2 as a boot manager
   for the recovered system.
* The boot media it creates uses syslinug/isolinux.

When we started to work on ReaR in 2006
there was nothing better than syslinux/isolinux.

We should switch latest when we drop support
for distros that don't ship grub2.
But this is a bigger project.
</pre>

<h4 id="didacog_commented_at_2016-02-12_1336"><img src="https://avatars.githubusercontent.com/u/5380209?u=163f1571e6b9c9c7df94e2c6ca152b0a7406b52d&v=4" width="50"><a href="https://github.com/didacog">didacog</a> commented at <a href="https://github.com/rear/rear/issues/764#issuecomment-183331958">2016-02-12 13:36</a>:<a class="headerlink" href="#didacog_commented_at_2016-02-12_1336" title="Permanent link">&para;</a></h4>
<p>@jsmeix</p>
<p>We are working to provide netboot with GRUB2 in DRLM:
<a href="https://github.com/brainupdaters/drlm/issues/2">https://github.com/brainupdaters/drlm/issues/2</a><br />
Only the kernel and initrd generated by ReaR are needed, without any
changes in ReaR, in order to provide Multiarch netboot with GRUB2.</p>
<p>Maybe is not exactly your point, because you are talking about ISO files
created directly by ReaR.</p>
<h4 id="schlomo_commented_at_2016-02-12_1338"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/764#issuecomment-183332654">2016-02-12 13:38</a>:<a class="headerlink" href="#schlomo_commented_at_2016-02-12_1338" title="Permanent link">&para;</a></h4>
<p>@didacog nice! Creating an ISO from a working grub2 setup is simple:
<code>grub-mkrescue</code> :-)</p>
<h4 id="didacog_commented_at_2016-02-12_1354"><img src="https://avatars.githubusercontent.com/u/5380209?u=163f1571e6b9c9c7df94e2c6ca152b0a7406b52d&v=4" width="50"><a href="https://github.com/didacog">didacog</a> commented at <a href="https://github.com/rear/rear/issues/764#issuecomment-183340288">2016-02-12 13:54</a>:<a class="headerlink" href="#didacog_commented_at_2016-02-12_1354" title="Permanent link">&para;</a></h4>
<p>@schlomo<br />
I think the problem come if the system with rear installed is not
shipped with grub2 as you said.</p>
<p>This could be the problem to use GRUB2 as defalut by now, I think.</p>
<p>From DRLM will be easier to standarize GRUB2 by now, from netboot
perspective, because is not needed grub2 in deployed ReaR systems, just
providing, kernel and initrd, rear outputs available to netboot GRUB2
images.</p>
<h4 id="olivero2_commented_at_2017-11-29_1042"><img src="https://avatars.githubusercontent.com/u/4660803?v=4" width="50"><a href="https://github.com/OliverO2">OliverO2</a> commented at <a href="https://github.com/rear/rear/issues/764#issuecomment-347821489">2017-11-29 10:42</a>:<a class="headerlink" href="#olivero2_commented_at_2017-11-29_1042" title="Permanent link">&para;</a></h4>
<p>For Grub 2-related problems see also
<a href="https://github.com/rear/rear/issues/1601#issuecomment-347821092">https://github.com/rear/rear/issues/1601#issuecomment-347821092</a>.</p>
<h4 id="lukey3332_commented_at_2018-10-25_1622"><img src="https://avatars.githubusercontent.com/u/17516425?v=4" width="50"><a href="https://github.com/Lukey3332">Lukey3332</a> commented at <a href="https://github.com/rear/rear/issues/764#issuecomment-433116432">2018-10-25 16:22</a>:<a class="headerlink" href="#lukey3332_commented_at_2018-10-25_1622" title="Permanent link">&para;</a></h4>
<p>Just a note: syslinux ISO's can be made bootable via USB using
<code>isohybrid</code>, which on debian is included in the <code>syslinux-utils</code>
package. I use this in my post-script and it works fine.</p>
<h4 id="gdha_commented_at_2018-10-26_0823"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/764#issuecomment-433328783">2018-10-26 08:23</a>:<a class="headerlink" href="#gdha_commented_at_2018-10-26_0823" title="Permanent link">&para;</a></h4>
<p>@Lukey3332 Would be a nice section for our FAQ! Would you be so kind to
contribute?</p>
<h4 id="github-actions_commented_at_2020-07-09_0133"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/issues/764#issuecomment-655843142">2020-07-09 01:33</a>:<a class="headerlink" href="#github-actions_commented_at_2020-07-09_0133" title="Permanent link">&para;</a></h4>
<p>Stale issue message</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2016-02-10.764.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
