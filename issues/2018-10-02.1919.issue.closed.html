<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#1919 Issue closed: Manually define BACKUP_URL and OUTPUT_URL to default values. - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#1919 Issue closed: Manually define BACKUP_URL and OUTPUT_URL to default values.";
        var mkdocs_page_input_path = "issues/2018-10-02.1919.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li class="breadcrumb-item active">#1919 Issue closed: Manually define BACKUP_URL and OUTPUT_URL to default values.</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1919_issue_closed_manually_define_backup_url_and_output_url_to_default_values"><a href="https://github.com/rear/rear/issues/1919">#1919 Issue</a> <code>closed</code>: Manually define BACKUP_URL and OUTPUT_URL to default values.<a class="headerlink" href="#1919_issue_closed_manually_define_backup_url_and_output_url_to_default_values" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>fixed / solved / done</code></p>
<h4 id="pdanek_opened_issue_at_2018-10-02_1546"><img src="https://avatars.githubusercontent.com/u/19947508?v=4" width="50"><a href="https://github.com/pdanek">pdanek</a> opened issue at <a href="https://github.com/rear/rear/issues/1919">2018-10-02 15:46</a>:<a class="headerlink" href="#pdanek_opened_issue_at_2018-10-02_1546" title="Permanent link">&para;</a></h4>
<h4 id="relax-and-recover_rear_issue_template">Relax-and-Recover (ReaR) Issue Template<a class="headerlink" href="#relax-and-recover_rear_issue_template" title="Permanent link">&para;</a></h4>
<p>Fill in the following items before submitting a new issue<br />
(quick response is not guaranteed with free support):</p>
<ul>
<li>
<p>ReaR version ("/usr/sbin/rear -V"):<br />
    rear-2.00-7</p>
</li>
<li>
<p>OS version ("cat /etc/rear/os.conf" or "lsb_release -a" or "cat
    /etc/os-release"):<br />
    RHEL 7.5</p>
</li>
<li>
<p>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
    /etc/rear/local.conf"):<br />
<a href="https://github.com/thbe/puppet-rear/blob/master/manifests/params.pp">https://github.com/thbe/puppet-rear/blob/master/manifests/params.pp</a></p>
</li>
<li>
<p>Hardware (PC or PowerNV BareMetal or ARM) or virtual machine (KVM
    guest or PoverVM LPAR):<br />
    VMware guest</p>
</li>
<li>
<p>System architecture (x86 compatible or PPC64/PPC64LE or what exact
    ARM device):<br />
    x86</p>
</li>
<li>
<p>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or
    ELILO or Petitboot):<br />
    BIOS / GRUB</p>
</li>
<li>
<p>Storage (lokal disk or SSD) and/or SAN (FC or iSCSI or FCoE) and/or
    multipath (DM or NVMe):<br />
    SAN</p>
</li>
<li>
<p>Description of the issue (ideally so that others can reproduce it):</p>
</li>
</ul>
<p>We have cloned the existing Puppet module puppet-rear and because of our
company policy, we prefer not to modify the modules directly (so we
don't have to constantly maintain them when getting new version from
upstream), but instead redefine things in dedicated YAML files.</p>
<p>Unfortunately the puppet-rear module already defines both BACKUP_URL
and OUTPUT_URL and we don't want those:<br />
output_url = 'nfs://192.168.0.1/srv/rear'<br />
backup_url = 'nfs://192.168.0.1/srv/rear'</p>
<p>What we need and what worked great for us with manual testing or ReaR
without Puppet was:<br />
OUTPUT=ISO<br />
BACKUP=NBU<br />
... and both backup_url and output_url should be undefined in
local.conf</p>
<p>Now we don't want to touch the module itself but redefine these 2 values
back to DEFAULT in our YAML file.<br />
How to properly do this please?<br />
We can't leave them empty because then values from the puppet module
will be used, so we need to manually set BACKUP_URL and OUTPUT_URL to
default values.</p>
<ul>
<li>Work-around, if any:<br />
    Modifying the Puppet module itself, but that's not what we want.</li>
</ul>
<h4 id="gdha_commented_at_2018-10-02_1621"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1919#issuecomment-426337658">2018-10-02 16:21</a>:<a class="headerlink" href="#gdha_commented_at_2018-10-02_1621" title="Permanent link">&para;</a></h4>
<p>@pdanek <code>OUTPUT_URL=null</code> is a possibility. For <code>BACKUP_URL</code> we do not
have a <code>null</code> setting as that makes no sense. However, if you use
<code>BACKUP=NBU</code> it really doesn't matter what the content is of
<code>BACKUP_URL</code><br />
Why question - what do you do with the ISO image? Does it stay on the
system itself?</p>
<p>PS: interesting puppet cookbook - I'm not using puppet myself, but I'm
using Chef instead. It is on my list to create a Chef cookbook for rear
as well someday.</p>
<h4 id="pdanek_commented_at_2018-10-02_1702"><img src="https://avatars.githubusercontent.com/u/19947508?v=4" width="50"><a href="https://github.com/pdanek">pdanek</a> commented at <a href="https://github.com/rear/rear/issues/1919#issuecomment-426351997">2018-10-02 17:02</a>:<a class="headerlink" href="#pdanek_commented_at_2018-10-02_1702" title="Permanent link">&para;</a></h4>
<p>@gdha Blazing fast reply as always, so we can use following?<br />
OUTPUT=ISO<br />
OUTPUT_URL=null<br />
BACKUP=NBU<br />
BACKUP_URL='nfs://192.168.0.1/srv/rear'</p>
<p>And it will be exactly the same effect as having only this?<br />
OUTPUT=ISO<br />
BACKUP=NBU</p>
<p>Reply to why question: yes we keep the ISO locally on each server in
/var/lib/rear/output/ where it gets replaced with every new mkrescue.<br />
This ISO will:</p>
<ul>
<li>get automatically backed up by Netbackup</li>
<li>we want to schedule UC4 job which will copy the ISO from each server
    to another server with large HNAS filesystem where last 1 or 2
    copies of ReaR image will be stored (so in case of disaster, we
    don't have to restore thousands of ISO files for each server from
    Netbackup)</li>
</ul>
<p>(I closed this by mistake, still need confirmation please)</p>
<h4 id="gdha_commented_at_2018-10-05_0828"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1919#issuecomment-427286667">2018-10-05 08:28</a>:<a class="headerlink" href="#gdha_commented_at_2018-10-05_0828" title="Permanent link">&para;</a></h4>
<p>@pdanek yes that should do the trick. Just test it out ;-)</p>
<h4 id="gdha_commented_at_2018-10-29_1541"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1919#issuecomment-433960088">2018-10-29 15:41</a>:<a class="headerlink" href="#gdha_commented_at_2018-10-29_1541" title="Permanent link">&para;</a></h4>
<p>@pdanek any feedback from your end?</p>
<h4 id="pdanek_commented_at_2018-10-29_1554"><img src="https://avatars.githubusercontent.com/u/19947508?v=4" width="50"><a href="https://github.com/pdanek">pdanek</a> commented at <a href="https://github.com/rear/rear/issues/1919#issuecomment-433965524">2018-10-29 15:54</a>:<a class="headerlink" href="#pdanek_commented_at_2018-10-29_1554" title="Permanent link">&para;</a></h4>
<p>Yes, that did the trick, thanks!<br />
Apologies for forgotten feedback.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2023 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2018-10-02.1919.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
