<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#808 Issue closed: recover on identical hardware with new NIC, but not USB Keyboard input - using iso + USB key - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#808 Issue closed: recover on identical hardware with new NIC, but not USB Keyboard input - using iso + USB key";
        var mkdocs_page_input_path = "issues/2016-03-25.808.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#808 Issue closed: recover on identical hardware with new NIC, but not USB Keyboard input - using iso + USB key</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="808_issue_closed_recover_on_identical_hardware_with_new_nic_but_not_usb_keyboard_input_-_using_iso_usb_key"><a href="https://github.com/rear/rear/issues/808">#808 Issue</a> <code>closed</code>: recover on identical hardware with new NIC, but not USB Keyboard input - using iso + USB key<a class="headerlink" href="#808_issue_closed_recover_on_identical_hardware_with_new_nic_but_not_usb_keyboard_input_-_using_iso_usb_key" title="Permanent link">&para;</a></h1>
<h4 id="dl5rcw_opened_issue_at_2016-03-25_1402"><img src="https://avatars.githubusercontent.com/u/4746362?u=8829b07f64f5594a88f690fcd7e873752d37aa88&v=4" width="50"><a href="https://github.com/dl5rcw">dl5rcw</a> opened issue at <a href="https://github.com/rear/rear/issues/808">2016-03-25 14:02</a>:<a class="headerlink" href="#dl5rcw_opened_issue_at_2016-03-25_1402" title="Permanent link">&para;</a></h4>
<ul>
<li>rear version (/usr/sbin/rear -V):</li>
</ul>
<blockquote>
<p>1.17.2. / Git as well as 1.18 / Git</p>
</blockquote>
<ul>
<li>OS version (cat /etc/rear/os.conf or lsb_release -a):<br />
    lsb_release -a</li>
</ul>
<blockquote>
<p>No LSB modules are available.<br />
Distributor ID: Debian<br />
Description: Debian GNU/Linux 8.3 (jessie)<br />
Release: 8.3<br />
Codename: jessie</p>
</blockquote>
<ul>
<li>rear configuration files (cat /etc/rear/site.conf or cat
    /etc/rear/local.conf):</li>
</ul>
<blockquote>
<p>OUTPUT=ISO<br />
BACKUP=BAREOS<br />
BAREOS_CLIENT=primaryserver<br />
OUTPUT_URL=cifs://10.25.0.100/rearimages/<br />
OUTPUT_OPTIONS="cred=/etc/rear/.cifs"</p>
</blockquote>
<ul>
<li>Brief description of the issue<br />
    I am running</li>
</ul>
<blockquote>
<p>/usr/sbin/rear mkrescue -v</p>
</blockquote>
<p>creating a iso on my NAS, which works fine. My server is used headless,
but during install and maintenance, I (may - if not going ssh) use HDMI
and a usb keyboard.</p>
<p>To test my setup, I have an exact clone of my hardware. The only
difference is the network interface and MAC. I use
unetbootin-windows-613 to copy the rear iso image to my usb stick. I use
this stick for any linux installation, so I am sure that this one is
fine. My clone hardware starts, but suddenly hangs with a message</p>
<blockquote>
<p>The original network device eth0 00:11:22:33:44:55 is not available.<br />
Please select another device:</p>
<ol>
<li>eth1 00:12:34:56:78:90 r8169</li>
<li>Skip replacing the network device</li>
</ol>
<!-- -->
<pre><code>         Choose the network device to use:  _
</code></pre>
</blockquote>
<p>This of course is absolutely correct. However, my usb keyboard, which is
plugged in during this process from the very beginning, does not accept
any input. All I can do is to turn off my computer at this point. I then
thought that maybe some kernel modules are missing and tried to force
rear by adding</p>
<blockquote>
<p>MODULES_LOAD=( input mousedev keybdev usbcore uhci_hcd usbhid )</p>
</blockquote>
<p>to my config(right underneath BAREOS_CLIENT).</p>
<p>Still no luck. I then upgraded rear to 1.18 from Git. It behaves exactly
the same. Am I missing out on something? Could it be that NIC modules
are started before the USB module, creating a runtime issue here?</p>
<p>Dear community, I am absolutely stuck!</p>
<p>Thanks for any help or hints. I am really impressed by the concept of
rear and would like to dive deeper into this fantastic tool once it is
up and running for the first time! My idea is to do a PXE boot at the
very end... but I somehow need to start out with a iso and USB solution
to get a basic start.</p>
<ul>
<li>all MAC addresses and server names were anonymized -</li>
</ul>
<h4 id="dl5rcw_commented_at_2016-04-07_1440"><img src="https://avatars.githubusercontent.com/u/4746362?u=8829b07f64f5594a88f690fcd7e873752d37aa88&v=4" width="50"><a href="https://github.com/dl5rcw">dl5rcw</a> commented at <a href="https://github.com/rear/rear/issues/808#issuecomment-206935640">2016-04-07 14:40</a>:<a class="headerlink" href="#dl5rcw_commented_at_2016-04-07_1440" title="Permanent link">&para;</a></h4>
<p>Solved by adding<br />
<code>LOAD_MODULES( cherry_hid )</code><br />
to my local.conf.<br />
I disconnected my keyboard when I executed the rear mkrescue via SSH or
cronjob. The module was not loaded.<br />
In order to find all kinds of available kernel modules of the hid-*
(like hid-cherry), I searched my system by executing<br />
<code>find  / -name "hid-*.ko" | sed 's/.*\///' | tr '-' '_' |  sed 's/\(.*\)\..*/\1/' | tr '\n' ' ' &gt; /etc/rear/modlist.txt</code></p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2016-03-25.808.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
