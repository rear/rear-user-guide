<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2531 Issue closed: Recover from HTTP Location - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2531 Issue closed: Recover from HTTP Location";
        var mkdocs_page_input_path = "issues/2020-11-27.2531.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#2531 Issue closed: Recover from HTTP Location</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2531_issue_closed_recover_from_http_location"><a href="https://github.com/rear/rear/issues/2531">#2531 Issue</a> <code>closed</code>: Recover from HTTP Location<a class="headerlink" href="#2531_issue_closed_recover_from_http_location" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>no-issue-activity</code></p>
<h4 id="sissieadmin_opened_issue_at_2020-11-27_2049"><img src="https://avatars.githubusercontent.com/u/57243069?v=4" width="50"><a href="https://github.com/sissieadmin">sissieadmin</a> opened issue at <a href="https://github.com/rear/rear/issues/2531">2020-11-27 20:49</a>:<a class="headerlink" href="#sissieadmin_opened_issue_at_2020-11-27_2049" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>ReaR version: Relax-and-Recover 2.3 Git</p>
</li>
<li>
<p>OS version: Ubuntu 18.04.05 LTS Bionic</p>
</li>
<li>
<p>Hardware: KVM Guest</p>
</li>
<li>
<p>System architecture: x86_64</p>
</li>
<li>
<p>Firmware: GRUB</p>
</li>
<li>
<p>Storage: Virtual Disk under KVM</p>
</li>
<li>
<p>Storage layout:</p>
</li>
</ul>
<p>vda 30G disk<br />
|-vda1 1024M part<br />
|-vda2 1M part<br />
|_vda3 1G part /boot<br />
|_ubuntu--vg-ubuntu--lv 20G lvm /</p>
<ul>
<li>Description of the issue (ideally so that others can reproduce it):</li>
</ul>
<p>Attempting to recover backup from HTTP location due to lack of access to
physical media in a remote VPS environment.</p>
<p>I want to be able to revert a machine to a backup image over the
network, right now I'm thinking over HTTP. I am stuck with a hosting
service that does not offer backups or any webconsole access (only SSH
after boot), so I cannot rely on interactive bootable media. This looked
like a tool that 'may' be able to do this, but I'm a little confused by
the HTTP, or any other network support.</p>
<p>Is this use case supported? I have a test environment I can play with.</p>
<h4 id="jsmeix_commented_at_2020-11-30_1112"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2531#issuecomment-735721085">2020-11-30 11:12</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-11-30_1112" title="Permanent link">&para;</a></h4>
<p>When using BACKUP=NETFS we support those BACKUP_URL schemes<br />
that are described in "man rear" cf.<br />
<a href="https://github.com/rear/rear/blob/master/doc/rear.8.adoc">https://github.com/rear/rear/blob/master/doc/rear.8.adoc</a></p>
<p>The basic idea behind BACKUP=NETFS is to use a mountable thingy<br />
(usually a NFS share on a remote NFS server)<br />
so that the remote storage location<br />
(whereto the backup gets written during "rear mkbackup"<br />
and wherefrom the backup is read druring "rear recover")<br />
appears as part of the locally accessible file system of the system<br />
where "rear mkbackup" is run (the original system) and in the exact same
way also<br />
where "rear recover" is run (in the ReaR recovery system on replacement
hardware).</p>
<p>The crucial point is that the ReaR recovery system runs inside a
ramdisk<br />
on the replacement hardware (so things work independent of local
disks).<br />
Therefore it is not (easily) possible during "rear recover" to download
the<br />
whole backup.tar.gz (several GiB - possibly even up to some TiB)
because<br />
the download target would be in the ramdisk.</p>
<p>Depending on what backup program is used (by default 'tar') it would be
possible<br />
to restore the backup during "rear recover" when a download from a HTTP
location<br />
could be streamed into the backup restore program like</p>
<pre><code>curl http://rear.backup.server/path/to/backup.tar.gz | tar xz ...
</code></pre>
<p>Currently this is not supported in ReaR.</p>
<p>You could play around with that manually inside the ReaR recovery
system<br />
(by default 'curl' is included in the ReaR recovery system)<br />
and if you get things working as you need it in your particular
environment<br />
we would appreciate a GitHub pull request from you<br />
at least as some proof of concept so we could have a look<br />
or ideally even as some basically working solution.</p>
<h4 id="gdha_commented_at_2020-12-02_1712"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2531#issuecomment-737369988">2020-12-02 17:12</a>:<a class="headerlink" href="#gdha_commented_at_2020-12-02_1712" title="Permanent link">&para;</a></h4>
<p>@sissieadmin Love to see a PR once you succeeded your recovery attempt
as I'm sure others will find this an interesting feature to have. Thanks
in advance.</p>
<h4 id="sissieadmin_commented_at_2020-12-24_0046"><img src="https://avatars.githubusercontent.com/u/57243069?v=4" width="50"><a href="https://github.com/sissieadmin">sissieadmin</a> commented at <a href="https://github.com/rear/rear/issues/2531#issuecomment-750657869">2020-12-24 00:46</a>:<a class="headerlink" href="#sissieadmin_commented_at_2020-12-24_0046" title="Permanent link">&para;</a></h4>
<p>@jsmeix and @gdha</p>
<p>Sorry for the dead air. I'm unlikely to be able to provide a PR for this
myself.</p>
<p>I'm still exploring options for this situation and have ruled over a
dozen other programs. In short, I do not specifically need to use HTTP
as the location, but need a way to restore a server that does not have
any extra partitioning or any opportunity for PXE.</p>
<p>Would restoring a local backup on the current single partition be
possible?</p>
<p>The documentation seems unclear about this, in that it says "restore
from local disk" which can imply rescue partitions. Would Rear support
having an edit made to Grub which boots and installs, hands-free, from
an image on the one partition/filesystem I have?</p>
<p>This is a use-case that seems very rare nowadays, and Rear seems like
the only option that 'may' support it.</p>
<h4 id="github-actions_commented_at_2021-02-22_0205"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/issues/2531#issuecomment-782988625">2021-02-22 02:05</a>:<a class="headerlink" href="#github-actions_commented_at_2021-02-22_0205" title="Permanent link">&para;</a></h4>
<p>Stale issue message</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2020-11-27.2531.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
