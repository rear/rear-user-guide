<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>2021 04 28.2607.issue.closed - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "2021 04 28.2607.issue.closed";
        var mkdocs_page_input_path = "issues/2021-04-28.2607.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/rust.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', '366986045', 'auto');
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li>2021 04 28.2607.issue.closed</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2607_issue_closed_what_are_the_options_to_restore_rear_backup_with_file_option"><a href="https://github.com/rear/rear/issues/2607">#2607 Issue</a> <code>closed</code>: what are the options to restore rear backup with file:/// option<a class="headerlink" href="#2607_issue_closed_what_are_the_options_to_restore_rear_backup_with_file_option" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>discuss / RFC</code>, <code>support / question</code>, <code>no-issue-activity</code></p>
<h4 id="sunilckhatri_opened_issue_at_2021-04-28_0519"><img src="https://avatars.githubusercontent.com/u/65618717?v=4" width="50"><a href="https://github.com/sunilckhatri">sunilckhatri</a> opened issue at <a href="https://github.com/rear/rear/issues/2607">2021-04-28 05:19</a>:<a class="headerlink" href="#sunilckhatri_opened_issue_at_2021-04-28_0519" title="Permanent link">&para;</a></h4>
<p>Hi,</p>
<p>Performed a rear backup with option BACKUP_URL=file:///software/rear</p>
<p>Need to know a way how to restore the data with such a option<br />
when only ISO can boot the system but the backup location<br />
i.e. /software/rear is not available during the recovery phase.</p>
<p>Sunil</p>
<h4 id="jsmeix_commented_at_2021-04-28_1137"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2607#issuecomment-828383736">2021-04-28 11:37</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-04-28_1137" title="Permanent link">&para;</a></h4>
<p>What about<br />
<a href="https://github.com/rear/rear/blob/master/.github/ISSUE_TEMPLATE.md">https://github.com/rear/rear/blob/master/.github/ISSUE_TEMPLATE.md</a></p>
<h4 id="jsmeix_commented_at_2021-04-28_1140"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2607#issuecomment-828385007">2021-04-28 11:40</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-04-28_1140" title="Permanent link">&para;</a></h4>
<p>Do perhaps the comments in<br />
<a href="https://github.com/rear/rear/issues/2553">https://github.com/rear/rear/issues/2553</a><br />
help?</p>
<h4 id="jsmeix_commented_at_2021-04-28_1145"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2607#issuecomment-828388026">2021-04-28 11:45</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-04-28_1145" title="Permanent link">&para;</a></h4>
<p>Perhaps also<br />
<a href="https://github.com/rear/rear/issues/2400#issuecomment-630255235">https://github.com/rear/rear/issues/2400#issuecomment-630255235</a><br />
might help?</p>
<h4 id="sunilckhatri_commented_at_2021-04-28_1520"><img src="https://avatars.githubusercontent.com/u/65618717?v=4" width="50"><a href="https://github.com/sunilckhatri">sunilckhatri</a> commented at <a href="https://github.com/rear/rear/issues/2607#issuecomment-828544316">2021-04-28 15:20</a>:<a class="headerlink" href="#sunilckhatri_commented_at_2021-04-28_1520" title="Permanent link">&para;</a></h4>
<p>Hi,</p>
<p>Got the few outputs</p>
<p>ReaR version ("/usr/sbin/rear -V"):<br />
Relax-and-Recover 2.4 / Git</p>
<p>OS version ("cat /etc/os-release" or "lsb_release -a" or "cat
/etc/rear/os.conf"):<br />
7.9</p>
<p>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
/etc/rear/local.conf"):</p>
<pre><code>b30svrxt-ebsdb22:~ # cat /etc/rear/local.conf
# Default is to create Relax-and-Recover rescue media as ISO image
# set OUTPUT to change that
# set BACKUP to activate an automated (backup and) restore of your data
# Possible configuration values can be found in /usr/share/rear/conf/default.conf
#
# This file (local.conf) is intended for manual configuration. For configuration
# through packages and other automated means we recommend creating a new
# file named site.conf next to this file and to leave the local.conf as it is.
# Our packages will never ship with a site.conf.
OUTPUT=ISO
OUTPUT_URL=file:///rear
BACKUP=NETFS
#BACKUP_URL=iso:///directory
BACKUP_URL=file:///rear
# Specify any directory or file to be excluded
BACKUP_PROG_EXCLUDE=( '/var/tmp/*' '/var/crash/*' )
# Specify all volume groups to be excluded
#EXCLUDE_VG=(  'vg01'  )
# Specify all filesystems present under the volume groups mentioned above
EXCLUDE_MOUNTPOINTS=( '/u02/admin/t1ebs' '/u02/admin/d1ebs' '/u02/admin/d2ebs' '/u01/crs_1' '/u02/admin/t2ebs' '/u02/admin/t3ebs' '/u02/admin/t4ebs' '/u01/crs' '/u01/app/oracle' '/u01/app/oracle/product/11.2.0/db_2' '/u01/app/oracle/product/11.2.0/db_3' '/u03/data/appld1' '/u03/data/applt1' '/u03/data/applt2' '/u03/data/appld2' '/u03/data/applt3' '/software' '/home/ap' '/u04/oraback' )
AUTOEXCLUDE_MULTIPATH=n
</code></pre>
<p>Hardware (PC or PowerNV BareMetal or ARM) or virtual machine (KVM guest
or PoverVM LPAR):<br />
HP bl460 g8 blade server</p>
<p>System architecture (x86 compatible or PPC64/PPC64LE or what exact ARM
device):<br />
X86_64</p>
<p>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or ELILO
or Petitboot):<br />
Grub2.<br />
BIOS</p>
<p>Storage (local disk or SSD) and/or SAN (FC or iSCSI or FCoE) and/or
multipath (DM or NVMe):<br />
The storage is SAN presented, from a 3Par array. There is also some NFS.</p>
<pre><code>Filesystem                        1K-blocks      Used Available Use% Mounted on
devtmpfs                           32810768         0  32810768   0% /dev
tmpfs                              32833212    675484  32157728   3% /dev/shm
tmpfs                              32833212   1978296  30854916   7% /run
tmpfs                              32833212         0  32833212   0% /sys/fs/cgroup
/dev/mapper/vg00-lv_root           10229760    458212   9771548   5% /
/dev/mapper/vg00-lv_usr            10213120   3567456   6645664  35% /usr
/dev/mapper/mpatha1                 1013648    429864    583784  43% /boot
/dev/mapper/vg00-lv_var             5101440   3854968   1246472  76% /var
/dev/mapper/vg00-lv_home            2037760    309380   1728380  16% /home
/dev/mapper/vg00-lv_tmp             3037184   2459216    577968  81% /tmp
/dev/mapper/vg00-lv_opt             2021376    774316   1247060  39% /opt
/dev/mapper/vg01-lv_t1ebs           5232512     40964   5191548   1% /u02/admin/t1ebs
/dev/mapper/vg01-lv_d1ebs           5232512     38820   5193692   1% /u02/admin/d1ebs
/dev/mapper/vg01-lv_d2ebs           5232512     47064   5185448   1% /u02/admin/d2ebs
/dev/mapper/vg01-lv_crs_1          31447040  16173656  15273384  52% /u01/crs_1
/dev/mapper/vg01-lv_t2ebs           5232512     49792   5182720   1% /u02/admin/t2ebs
/dev/mapper/vg01-lv_t3ebs           5232512     44928   5187584   1% /u02/admin/t3ebs
/dev/mapper/vg01-lv_t4ebs           5232512     44932   5187580   1% /u02/admin/t4ebs
/dev/mapper/vg01-lv_crs             1046288     33056   1013232   4% /u01/crs
/dev/mapper/vg01-lv_oracle          9426688   4405308   5021380  47% /u01/app/oracle
/dev/mapper/vg00-lv_varlog          2094992    371892   1723100  18% /var/log
/dev/mapper/vg01-lv_db112           8378240   6260624   2117616  75% /u01/app/oracle/product/11.2.0/db_2
/dev/mapper/vg01-lv_db113           8378240   5907824   2470416  71% /u01/app/oracle/product/11.2.0/db_3
/dev/mapper/vg00-lv_varlogaudit      522000     64984    457016  13% /var/log/audit
b30svrxt-ebsap01:/u03/data/appld1  20511360   6295680  13167232  33% /u03/data/appld1
b30svrxt-ebsap01:/u03/data/applt1  20511360    473568  18989344   3% /u03/data/applt1
b30svrxt-ebsap01:/u03/data/applt2  20511360    606560  18856352   4% /u03/data/applt2
b30svrxt-ebsap01:/u03/data/appld2  20511360   1220672  18242240   7% /u03/data/appld2
b30svrxt-ebsap01:/u03/data/applt3  10190144     33888   9631968   1% /u03/data/applt3
b30svrxp-oraap50:/software        314419200 208213504 106205696  67% /software
home_ap:/home/ap                   15718400   8736544   6981856  56% /home/ap
tmpfs                               6566644         0   6566644   0% /run/user/501
/dev/mapper/p_oraback1            104841216  16766084  88075132  16% /u04/oraback
/dev/mapper/vg01-lv_rear            6281088   4731824   1549264  76% /rear
/dev/loop0                           715422    715422         0 100% /cdrom
tmpfs                               6566644         0   6566644   0% /run/user/601
</code></pre>
<p>At one stage I tried to download the backup.tar.gz file from the source
server to the destination server on which rear recovery was going on
using sftp but the download happened partially. Post that sftp session
killed.</p>
<h4 id="gdha_commented_at_2021-05-04_1201"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2607#issuecomment-831888189">2021-05-04 12:01</a>:<a class="headerlink" href="#gdha_commented_at_2021-05-04_1201" title="Permanent link">&para;</a></h4>
<p>@sunilckhatri Perhaps we should remove the local spare disk:<br />
<img alt="image" src="https://user-images.githubusercontent.com/888633/116999935-a1ac2f80-ace0-11eb-9090-6c0df1c05acb.png" /></p>
<p>It makes no sense to keep the rear image and archive on a local disk.
What if this system breaks - how will you retrieve the ISO image from
and tar archive? The local spare disk has to be read as a disk that can
be removed and stored safely. In case of disaster you can add the disk
into another spare disk to retrieve the ISO image.</p>
<h4 id="gdha_commented_at_2021-06-09_0718"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2607#issuecomment-857451470">2021-06-09 07:18</a>:<a class="headerlink" href="#gdha_commented_at_2021-06-09_0718" title="Permanent link">&para;</a></h4>
<p>@jsmeix What is your opinion on this matter? Should be remove the local
spare disk as backup target or is this too short sighted?</p>
<h4 id="jsmeix_commented_at_2021-06-09_1211"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2607#issuecomment-857641213">2021-06-09 12:11</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-06-09_1211" title="Permanent link">&para;</a></h4>
<p>I think your comment in<br />
<a href="https://github.com/rear/rear/issues/2607#issuecomment-831888189">https://github.com/rear/rear/issues/2607#issuecomment-831888189</a></p>
<pre><code>The local spare disk has to be read as a disk that can be removed and stored safely.
</code></pre>
<p>explains it so I think the wording</p>
<pre><code>local spare disk
</code></pre>
<p>should be replaced by</p>
<pre><code>removable local disk
</code></pre>
<p>or</p>
<pre><code>removable local spare disk
</code></pre>
<p>FYI:<br />
In general I do not think a local spare disk must be removable.<br />
It is good when it is removable but that is not mandatory for ReaR to be
useful.<br />
I am thinking about a single home user PC or Laptop with<br />
two usual built-in disks where one disk is used for the system and<br />
the other one for backups plus the bootable ReaR recovery system.<br />
Of course when the whole PC burns down or the Laptop falls off the
window<br />
all is lost so the user will copy his backups also on external media<br />
to be prepared for manual bare metal disaster recovery on new
(different) hardware.<br />
But most often neither the whole PC burns down nor the Laptop falls off
the window.<br />
ReaR on a built-in second disk is still useful (to some extent) for less
final disasters<br />
like soft errors (e.g. deleted essential files, broken filesystems, or
system bootloader issues)<br />
where booting the ReaR recovery system from the other disk (via plain
BIOS/UEFI) still works<br />
or when only the system disk breaks down where replacing it by a new
disk helps.<br />
Compared to ReaR on external USB disk ReaR on a built-in second disk<br />
is more convenient for such less final disasters because<br />
all what is needed for such kind of disaster recovery is built-in and
ready-to-use.<br />
In particular with a Laptop that means one external piece less that one
has to care about<br />
(e.g. when travelling one cannot forget the built-in disk).<br />
On the other hand with ReaR on a small USB stick one is prepared even
for final disasters<br />
except the Laptop bag that contains the Laptop and the ReaR USB stick
burns down ;-)</p>
<h4 id="github-actions_commented_at_2021-08-09_0208"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/issues/2607#issuecomment-894909451">2021-08-09 02:08</a>:<a class="headerlink" href="#github-actions_commented_at_2021-08-09_0208" title="Permanent link">&para;</a></h4>
<p>Stale issue message</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2022 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2021-04-28.2607.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
