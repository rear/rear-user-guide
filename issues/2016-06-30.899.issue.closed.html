<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#899 Issue closed: OUTPUT=ISO, BACKUP=NETFS, OUTPUT/BACKUP_URL=rsync:// does not copy the backup.tar.gz to the remote location? - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#899 Issue closed: OUTPUT=ISO, BACKUP=NETFS, OUTPUT/BACKUP_URL=rsync:// does not copy the backup.tar.gz to the remote location?";
        var mkdocs_page_input_path = "issues/2016-06-30.899.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#899 Issue closed: OUTPUT=ISO, BACKUP=NETFS, OUTPUT/BACKUP_URL=rsync:// does not copy the backup.tar.gz to the remote location?</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="899_issue_closed_outputiso_backupnetfs_outputbackup_urlrsync_does_not_copy_the_backuptargz_to_the_remote_location"><a href="https://github.com/rear/rear/issues/899">#899 Issue</a> <code>closed</code>: OUTPUT=ISO, BACKUP=NETFS, OUTPUT/BACKUP_URL=rsync:// does not copy the backup.tar.gz to the remote location?<a class="headerlink" href="#899_issue_closed_outputiso_backupnetfs_outputbackup_urlrsync_does_not_copy_the_backuptargz_to_the_remote_location" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>needs sponsorship</code></p>
<h4 id="eltonyuy_opened_issue_at_2016-06-30_1411"><img src="https://avatars.githubusercontent.com/u/20167880?v=4" width="50"><a href="https://github.com/eltonyuy">eltonyuy</a> opened issue at <a href="https://github.com/rear/rear/issues/899">2016-06-30 14:11</a>:<a class="headerlink" href="#eltonyuy_opened_issue_at_2016-06-30_1411" title="Permanent link">&para;</a></h4>
<h1 id="relax-and-recover_rear_issue_template">Relax-and-Recover (rear) Issue Template<a class="headerlink" href="#relax-and-recover_rear_issue_template" title="Permanent link">&para;</a></h1>
<p>Please fill in the following items before submitting a new issue:</p>
<ul>
<li>rear version (/usr/sbin/rear -V): 17.2 and 18</li>
<li>OS version (cat /etc/rear/os.conf or lsb_release -a):<br />
    OS_VENDOR=RedHatEnterpriseServer<br />
    OS_VERSION=6</li>
<li>rear configuration files (cat /etc/rear/site.conf or cat
    /etc/rear/local.conf):<br />
    OUTPUT=ISO<br />
    BACKUP=NETFS<br />
    BACKUP_URL=rsync://10.x.x.x/exports<br />
    OUTPUT_URL=rsync://10.x.x.x./exports</li>
<li>Brief description of the issue</li>
</ul>
<p>I'm trying to do a backup with ouput format NETFS and ISO, over rsync
and have what I thing are two issues</p>
<ol>
<li>
<p>The backup.tar.gz does not get copied to the remote location. Is
    that ok? Only the .iso file is. What I have in mind is that after I
    boot from the .iso, it'll go to the specified rsync server and get
    the backup.tar.gz from there. Is that working as designed or it
    should copy to the remote location? How does the recover part works
    if the file does not gets copied? Do we have to do that copying on
    our own?</p>
</li>
<li>
<p>Is there a way to specify a user/password or a remote user other
    than root with ssh key authentication for the rsync? We want to have
    a central rsync server to where we are going to generate all backups
    and from where we are going to pull all the images to an external
    site, but we can't give "root" access to every server involved in
    the backup to the central rsync server.</p>
</li>
<li>
<p>Work-around, if any</p>
</li>
</ol>
<p>I changed one line in a script to copy the file to the remote location,
but not sure if that'll make rear recover the backup.tar.gz from there,
we haven't tried that.</p>
<h4 id="gdha_commented_at_2016-07-04_0703"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/899#issuecomment-230219661">2016-07-04 07:03</a>:<a class="headerlink" href="#gdha_commented_at_2016-07-04_0703" title="Permanent link">&para;</a></h4>
<p>@eltonyuy The <code>BACKUP_URL=rsync://10.x.x.x/exports</code> was never
implemented in rear, because we have the <code>BACKUP=RSYNC</code> method. I am not
planning to implement this scheme unless it is sponsored, or somebody
does it in my behalf.</p>
<h4 id="jsmeix_commented_at_2016-07-04_1032"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/899#issuecomment-230259792">2016-07-04 10:32</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-07-04_1032" title="Permanent link">&para;</a></h4>
<p>Regarding "BACKUP_URL=rsync://..." not implemented:</p>
<p>In current rear master I have implemeted a test for<br />
currently known valid BACKUP_URL schemes,<br />
see
<a href="https://github.com/rear/rear/issues/842">https://github.com/rear/rear/issues/842</a></p>
<p>With current rear master I get:</p>
<pre>
# grep -v '^#' /etc/rear/local.conf
OUTPUT=ISO
BACKUP=NETFS
BACKUP_URL=rsync://10.160.4.244/nfs
...
# /usr/sbin/rear mkbackup
ERROR: Invalid scheme 'rsync' in
BACKUP_URL 'rsync://10.160.4.244/nfs'
valid schemes: nfs cifs usb tape file iso sshfs ftpfs
Aborting due to an error,
check /root/rear/var/log/rear/rear-e229.log for details
Terminated
</pre>

<p>But I did not do any test for OUTPUT_URL.</p>
<h4 id="gdha_commented_at_2016-07-04_1142"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/899#issuecomment-230271750">2016-07-04 11:42</a>:<a class="headerlink" href="#gdha_commented_at_2016-07-04_1142" title="Permanent link">&para;</a></h4>
<p>@jsmeix Thanks for the test.</p>
<h4 id="jsmeix_commented_at_2016-07-04_1234"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/899#issuecomment-230280449">2016-07-04 12:34</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-07-04_1234" title="Permanent link">&para;</a></h4>
<p>I think this issue can be closed as an<br />
"enhancement" that is "looking for sponsorship".</p>
<p>@eltonyuy<br />
FYI regarding why such issues get closed,<br />
see
<a href="https://github.com/rear/rear/issues/603#issuecomment-218463947">https://github.com/rear/rear/issues/603#issuecomment-218463947</a></p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2016-06-30.899.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
