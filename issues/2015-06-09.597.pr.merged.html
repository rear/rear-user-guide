<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#597 PR merged: Added possibility to only backup BACKUP_PROG_INCLUDE - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#597 PR merged: Added possibility to only backup BACKUP_PROG_INCLUDE";
        var mkdocs_page_input_path = "issues/2015-06-09.597.pr.merged.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#597 PR merged: Added possibility to only backup BACKUP_PROG_INCLUDE</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="597_pr_merged_added_possibility_to_only_backup_backup_prog_include"><a href="https://github.com/rear/rear/pull/597">#597 PR</a> <code>merged</code>: Added possibility to only backup BACKUP_PROG_INCLUDE<a class="headerlink" href="#597_pr_merged_added_possibility_to_only_backup_backup_prog_include" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>waiting for info</code></p>
<h4 id="rpasche_opened_issue_at_2015-06-09_2131"><img src="https://avatars.githubusercontent.com/u/12664472?u=7d93437b713d9a1a67b448b34f2c0a6576a0930e&v=4" width="50"><a href="https://github.com/rpasche">rpasche</a> opened issue at <a href="https://github.com/rear/rear/pull/597">2015-06-09 21:31</a>:<a class="headerlink" href="#rpasche_opened_issue_at_2015-06-09_2131" title="Permanent link">&para;</a></h4>
<p>Hi,</p>
<p>this is only a suggestion that might be included into rear.</p>
<p>We use this kind of patch on all of our servers to only backup
filesystems and directories, that are explicitly given in
BACKUP_PROG_INCLUDE. So later added mountpoints and big data does NOT
blow up the amount of data within the rear backup, when someone misses
to update the local.conf.</p>
<p>Currently, we use the variable "MANUAL_INCLUDE" which we set to "YES"
in "local.conf" to activate this mode.</p>
<p>As I said....just an idea.</p>
<h4 id="gdha_commented_at_2015-06-11_1439"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/pull/597#issuecomment-111157428">2015-06-11 14:39</a>:<a class="headerlink" href="#gdha_commented_at_2015-06-11_1439" title="Permanent link">&para;</a></h4>
<p>@rpasche Could you add an example about how you exactly use it? Would be
easier for me to add it to the documentation later + release notes</p>
<h4 id="rpasche_commented_at_2015-06-11_1935"><img src="https://avatars.githubusercontent.com/u/12664472?u=7d93437b713d9a1a67b448b34f2c0a6576a0930e&v=4" width="50"><a href="https://github.com/rpasche">rpasche</a> commented at <a href="https://github.com/rear/rear/pull/597#issuecomment-111254865">2015-06-11 19:35</a>:<a class="headerlink" href="#rpasche_commented_at_2015-06-11_1935" title="Permanent link">&para;</a></h4>
<p>We deploy our servers for our internal customers with a default FS
layout with LVM like "/", /boot", "/tmp", "/data", "/var",
"/home"....something like that.</p>
<p>A backup is made with additional software or via remote ("nfs") backup.
So we only need to "backup" the "system" data.</p>
<p>We use something like this in our "local.conf"</p>
<pre><code>BACKUP_PROG_INCLUDE = ("/", "/boot", "/var", "/home", "/tmp", "/data")
BACKUP_PROG_EXCLUDE = ("/data/*", "/tmp/*")
</code></pre>
<p>User "data", that should be saved to /data will be backed up by "TSM",
so this does not be backed up separately with "rear".<br />
Further...sometimes, additional space will be provided and that is -
sometimes - added under additional mountpoints, for example "/data2".
And if someone forgets to edit the local.conf, this "extra" data will be
backed up by rear, blowing up the "rescue" system. Therefore, we
say....we backup (for DR) the "system". "You" (customer) are responsible
to tell the "backup admins", that your "extra" data will be correctly
backed up by the additional backup software.</p>
<p>We already had the case, that "rear" backups crashed because additional
data of several servers has been backed up by rear and flooded the
"rear" image server.</p>
<h4 id="schlomo_commented_at_2015-06-11_2010"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/597#issuecomment-111262804">2015-06-11 20:10</a>:<a class="headerlink" href="#schlomo_commented_at_2015-06-11_2010" title="Permanent link">&para;</a></h4>
<p>Another idea that just popped up in my head: Since <code>local.conf</code> is a
Bash script you can also call some external program there that takes a
look at your system and populates the BACKUP_PROG_* variables with a
more detailed list of directories.</p>
<p>Maybe that way you can dynamize the backup scope of ReaR to suit your
needs?</p>
<p>The other question that I must ask: Why not simply backup also the
system with TSM and not use ReaR internal backup at all? That is how
(all) other TSM users employ ReaR. That way you don't need to deal with
that problem at all and you can also have a complete restore upon
recovery in one go.</p>
<h4 id="rpasche_commented_at_2015-06-12_2027"><img src="https://avatars.githubusercontent.com/u/12664472?u=7d93437b713d9a1a67b448b34f2c0a6576a0930e&v=4" width="50"><a href="https://github.com/rpasche">rpasche</a> commented at <a href="https://github.com/rear/rear/pull/597#issuecomment-111605239">2015-06-12 20:27</a>:<a class="headerlink" href="#rpasche_commented_at_2015-06-12_2027" title="Permanent link">&para;</a></h4>
<p>Not every system uses TSM.. often because it is not necessary for the
system.</p>
<h4 id="gdha_commented_at_2015-06-12_2103"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/pull/597#issuecomment-111617511">2015-06-12 21:03</a>:<a class="headerlink" href="#gdha_commented_at_2015-06-12_2103" title="Permanent link">&para;</a></h4>
<p>@rpasche Did you know the array ONLY_INCLUDE_VG can achieve practical
the same what you are trying to realize:</p>
<pre><code>default.conf:# syntax : e.g. ONLY_INCLUDE_VG=( "vg00" "vg01" )
default.conf:ONLY_INCLUDE_VG=()
</code></pre>
<p>The BACKUP_PROG_EXCLUDE should be sufficient then. Please give it a
try.</p>
<h4 id="rpasche_commented_at_2015-07-03_1011"><img src="https://avatars.githubusercontent.com/u/12664472?u=7d93437b713d9a1a67b448b34f2c0a6576a0930e&v=4" width="50"><a href="https://github.com/rpasche">rpasche</a> commented at <a href="https://github.com/rear/rear/pull/597#issuecomment-118305212">2015-07-03 10:11</a>:<a class="headerlink" href="#rpasche_commented_at_2015-07-03_1011" title="Permanent link">&para;</a></h4>
<p>Again...sorry for the long delay. I think, ONLY_INCLUDE_VG will
include <em>every</em> volume within the group. True?</p>
<h4 id="gdha_commented_at_2015-07-03_1036"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/pull/597#issuecomment-118311284">2015-07-03 10:36</a>:<a class="headerlink" href="#gdha_commented_at_2015-07-03_1036" title="Permanent link">&para;</a></h4>
<p>@rpasche ONLY_INCLUDE_VG : only the mentioned VGs should be archived.
The others should be commented out in the layout configuration file.
Just try it out.</p>
<h4 id="rpasche_commented_at_2015-07-23_1259"><img src="https://avatars.githubusercontent.com/u/12664472?u=7d93437b713d9a1a67b448b34f2c0a6576a0930e&v=4" width="50"><a href="https://github.com/rpasche">rpasche</a> commented at <a href="https://github.com/rear/rear/pull/597#issuecomment-124087750">2015-07-23 12:59</a>:<a class="headerlink" href="#rpasche_commented_at_2015-07-23_1259" title="Permanent link">&para;</a></h4>
<p>After a long time, I entered some info for the <code>MANUAL_INCLUDE</code> mode
into <code>conf/default.conf</code></p>
<h4 id="gdha_commented_at_2015-07-24_0817"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/pull/597#issuecomment-124428899">2015-07-24 08:17</a>:<a class="headerlink" href="#gdha_commented_at_2015-07-24_0817" title="Permanent link">&para;</a></h4>
<p>@rpasche Thank you for the clarification of the variable. When I was
looking at your code I noticed a weakness in our style - the usage of
true/false settings. We seem to have too many different ways of doing
that. I would like to unify this (will make a separate issue of it).<br />
@schlomo are you ok with this patch?</p>
<h4 id="schlomo_commented_at_2015-07-26_0847"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/597#issuecomment-124958057">2015-07-26 08:47</a>:<a class="headerlink" href="#schlomo_commented_at_2015-07-26_0847" title="Permanent link">&para;</a></h4>
<p>@gdha fine with me if it helps our users.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2015-06-09.597.pr.merged.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
