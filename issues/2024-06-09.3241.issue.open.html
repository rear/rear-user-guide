<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#3241 Issue open: mkrescue fails - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#3241 Issue open: mkrescue fails";
        var mkdocs_page_input_path = "issues/2024-06-09.3241.issue.open.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_rsync.html">Internal Backup with rsync to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rsync.html">External Backup using BACKUP=RSYNC method</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/restic.html">External Backup using restic</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/duplicity.html">External Backup using duplicity</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#3241 Issue open: mkrescue fails</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="3241_issue_open_mkrescue_fails"><a href="https://github.com/rear/rear/issues/3241">#3241 Issue</a> <code>open</code>: mkrescue fails<a class="headerlink" href="#3241_issue_open_mkrescue_fails" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>old version</code></p>
<h4 id="bobmct_opened_issue_at_2024-06-09_2048"><img src="https://avatars.githubusercontent.com/u/969068?u=935cfcb18e398f6a79a8e33c1e6e287e9204660c&v=4" width="50"><a href="https://github.com/BobMCT">BobMCT</a> opened issue at <a href="https://github.com/rear/rear/issues/3241">2024-06-09 20:48</a>:<a class="headerlink" href="#bobmct_opened_issue_at_2024-06-09_2048" title="Permanent link">&para;</a></h4>
<p>My goal is to create a recoverable OS on an 8GB USB using mkrescue and
then make a mkbackuponly to a different USB 4TB hdd. Is this possible?
Then after installing ReaR and updating my site.conf file I formatted my
8GB USB for --efi using the format subcommand I found in the help guide.
I seems to almost complete but then exits with an error. Here is the
last part of the log:</p>
<blockquote>
<p>2024-06-04 21:10:11.072292987 Finished running 'pack' stage in 73
seconds<br />
2024-06-04 21:10:11.073807372 ======================<br />
2024-06-04 21:10:11.075236991 Running 'output' stage<br />
2024-06-04 21:10:11.076741607 ======================<br />
2024-06-04 21:10:11.084629786 Including
output/default/010_set_umask.sh<br />
2024-06-04 21:10:11.086240721 Setting umask to 077<br />
2024-06-04 21:10:11.090784042 Including
output/USB/Linux-i386/100_create_efiboot.sh<br />
2024-06-04 21:10:11.092519660 Configuring device for EFI boot<br />
'/boot/efi/EFI/ubuntu/grubx64.efi' -&gt;
'/tmp/rear-efi.5diMF75R3L//EFI/BOOT/BOOTX64.efi'<br />
'/boot/vmlinuz-5.15.0-107-generic' -&gt;
'/tmp/rear-efi.5diMF75R3L//EFI/BOOT/kernel'<br />
'/tmp/rear.m3s6uLmRauQk9tM/tmp/initrd.cgz' -&gt;
'/tmp/rear-efi.5diMF75R3L//EFI/BOOT/initrd.cgz'<br />
cp: error writing '/tmp/rear-efi.5diMF75R3L//EFI/BOOT/initrd.cgz': No
space left on device</p>
</blockquote>
<p>Which device? The /tmp tree on the primary drive? Its a 1TB drive with
only Linux Mint 21.3 installed. Is there a way at this point to
determine how much space/workspace is required? Is there a mechanism to
define/redirect the workspace to a different drive?</p>
<blockquote>
<p>2024-06-04 21:10:11.849242837 ERROR: Failed to copy initrd to
/tmp/rear-efi.5diMF75R3L//EFI/BOOT/initrd.cgz<br />
===== Stack trace =====<br />
Trace 0: /usr/sbin/rear:541 main<br />
Trace 1: /usr/share/rear/lib/mkrescue-workflow.sh:22
WORKFLOW_mkrescue<br />
Trace 2: /usr/share/rear/lib/framework-functions.sh:116 SourceStage<br />
Trace 3: /usr/share/rear/lib/framework-functions.sh:56 Source<br />
Trace 4:
/usr/share/rear/output/USB/Linux-i386/100_create_efiboot.sh:38
source<br />
=== End stack trace ===<br />
2024-06-04 21:10:11.855077402 Exiting rear mkrescue (PID 945750) and
its descendant processes ...<br />
2024-06-04 21:10:14.915445172 rear,945750 /usr/sbin/rear -v mkrescue<br />
<code>-rear,962356 /usr/sbin/rear -v mkrescue</code>-pstree,962357 -Aplau
945750<br />
/usr/share/rear/lib/_input-output-functions.sh: line 151: kill:
(962360) - No such process<br />
2024-06-04 21:10:14.939148826 Running exit tasks<br />
2024-06-04 21:10:14.940788399 Finished in 102 seconds<br />
2024-06-04 21:10:14.942317038 Removing build area
/tmp/rear.m3s6uLmRauQk9tM<br />
removed directory '/tmp/rear.m3s6uLmRauQk9tM'<br />
2024-06-04 21:10:15.502230134 End of program reached</p>
</blockquote>
<p>If you would be so kink could you advise what step I may have missed
and/or how I can remedy it?</p>
<p>At your convenience. Thank you, BobMCT</p>
<h4 id="jsmeix_commented_at_2024-06-10_0715"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3241#issuecomment-2157526753">2024-06-10 07:15</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-06-10_0715" title="Permanent link">&para;</a></h4>
<p>@rear/contributors<br />
the URL of this issue is</p>
<pre><code>https://github.com/rear/rear/issues/3241
</code></pre>
<p>while our normal ReaR issues have URLs like</p>
<pre><code>https://github.com/rear/rear/issues/3238
</code></pre>
<p>so this issue seems to be in a wrong place.</p>
<h4 id="jsmeix_commented_at_2024-06-10_0724"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3241#issuecomment-2157535956">2024-06-10 07:24</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-06-10_0724" title="Permanent link">&para;</a></h4>
<p>Now I see:<br />
This one had been created under</p>
<pre><code>https://github.com/rear/rear-issues/issues
</code></pre>
<p>I found<br />
<a href="https://docs.github.com/en/issues/tracking-your-work-with-issues/transferring-an-issue-to-another-repository">https://docs.github.com/en/issues/tracking-your-work-with-issues/transferring-an-issue-to-another-repository</a><br />
so I transferred it right now from</p>
<pre><code>https://github.com/rear/rear-issues/issues
</code></pre>
<p>to</p>
<pre><code>https://github.com/rear/rear/issues
</code></pre>
<h4 id="jsmeix_commented_at_2024-06-10_0756"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3241#issuecomment-2157596875">2024-06-10 07:56</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-06-10_0756" title="Permanent link">&para;</a></h4>
<p>@BobMCT<br />
see<br />
<a href="https://raw.githubusercontent.com/rear/rear/master/.github/ISSUE_TEMPLATE.md">https://raw.githubusercontent.com/rear/rear/master/.github/ISSUE_TEMPLATE.md</a><br />
what information we usually need in issues<br />
to be able to understand what geos on.</p>
<p>I guess you use OUTPUT=USB together<br />
with BACKUP=NETFS and BACKUP_URL=usb://</p>
<p>This method is normally meant to be used<br />
with only one disk, for example as described at<br />
<a href="http://relax-and-recover.org/documentation/getting-started">http://relax-and-recover.org/documentation/getting-started</a></p>
<p>I never tried it with two disks,<br />
one for the ReaR recovery system<br />
and another one for the backup.</p>
<p>Offhandedly I think this could be possible<br />
but I assume you would have to adjust things<br />
in the ReaR config file(s) to make this special kind<br />
of usage work - in particular during "rear recover".</p>
<p>But I do not understand why you like to have the<br />
ReaR recovery system on another disk than the backup?<br />
Why not have the ReaR recovery system and the backup<br />
on one same disk as usual?</p>
<p>Regarding</p>
<pre><code>cp: error writing '/tmp/rear-efi.5diMF75R3L//EFI/BOOT/initrd.cgz': No space left on device
...
Trace 4: /usr/share/rear/output/USB/Linux-i386/100_create_efiboot.sh
</code></pre>
<p>The code in<br />
usr/share/rear/output/USB/Linux-i386/100_create_efiboot.sh:38<br />
seems to be from ReaR 2.6 in your case which is</p>
<pre><code>cp -p $v "$TMP_DIR/$REAR_INITRD_FILENAME" "$EFI_DST/$REAR_INITRD_FILENAME" || Error "Failed to copy initrd to $EFI_DST/$REAR_INITRD_FILENAME"
</code></pre>
<p><a href="https://github.com/rear/rear/blob/rear-2.6/usr/share/rear/output/USB/Linux-i386/100_create_efiboot.sh#L38">https://github.com/rear/rear/blob/rear-2.6/usr/share/rear/output/USB/Linux-i386/100_create_efiboot.sh#L38</a></p>
<p>So there is no space left on device for <code>$EFI_DST</code><br />
which is <code>${EFI_MPT}/${EFI_DIR}</code> where <code>${EFI_MPT}</code><br />
is hardcoded <code>/tmp/rear-efi.XXXXXXXXXX</code><br />
in <code>mktemp -d /tmp/rear-efi.XXXXXXXXXX</code><br />
so it is hardcoded <code>/tmp</code> on the system disk<br />
where "rear mkrescue" runs.</p>
<p>In ReaR 2.7 this was improved to</p>
<pre><code>mktemp -d $TMPDIR/rear-efi.XXXXXXXXXX
</code></pre>
<p><a href="https://github.com/rear/rear/blob/rear-2.7/usr/share/rear/output/USB/Linux-i386/100_create_efiboot.sh#L38C12-L38C49">https://github.com/rear/rear/blob/rear-2.7/usr/share/rear/output/USB/Linux-i386/100_create_efiboot.sh#L38C12-L38C49</a></p>
<p>So upgrading to ReaR 2.7<br />
see
<a href="http://relax-and-recover.org/download/">http://relax-and-recover.org/download/</a><br />
and then setting $TMPDIR (and exporting it)<br />
to a directory with more space (e.g. /var/tmp/<br />
which is already the default since ReaR 2.7)<br />
should help before calling "rear mkrescue".</p>
<p>See the description about TMPDIR in<br />
usr/share/rear/conf/default.conf<br />
for RerR 2.7 at<br />
<a href="https://github.com/rear/rear/blob/rear-2.7/usr/share/rear/conf/default.conf#L44">https://github.com/rear/rear/blob/rear-2.7/usr/share/rear/conf/default.conf#L44</a></p>
<h4 id="jsmeix_commented_at_2024-06-10_0826"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3241#issuecomment-2157691576">2024-06-10 08:26</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-06-10_0826" title="Permanent link">&para;</a></h4>
<p>@BobMCT<br />
I think that my above analysis was wrong.</p>
<p>Reason:<br />
At /tmp/rear-efi.XXXXXXXXXX the ESP gets mounted<br />
so it is not '/tmp/' on the system disk<br />
where there is no space left on device<br />
but it is the ESP (EFI System Partition)<br />
on the USB disk where there is no space left on device.</p>
<p>To solve that specifiy a sufficiently big<br />
USB_UEFI_PART_SIZE in your ReaR configuration.</p>
<p>In ReaR 2.6 its default was 400 MIB<br />
<a href="https://github.com/rear/rear/blob/rear-2.6/usr/share/rear/conf/default.conf#L841">https://github.com/rear/rear/blob/rear-2.6/usr/share/rear/conf/default.conf#L841</a></p>
<p>In ReaR 2.7 it was increased to 1 GiB<br />
<a href="https://github.com/rear/rear/blob/rear-2.7/usr/share/rear/conf/default.conf#L1053">https://github.com/rear/rear/blob/rear-2.7/usr/share/rear/conf/default.conf#L1053</a></p>
<h4 id="bobmct_commented_at_2024-06-11_0037"><img src="https://avatars.githubusercontent.com/u/969068?u=935cfcb18e398f6a79a8e33c1e6e287e9204660c&v=4" width="50"><a href="https://github.com/BobMCT">BobMCT</a> commented at <a href="https://github.com/rear/rear/issues/3241#issuecomment-2159555753">2024-06-11 00:37</a>:<a class="headerlink" href="#bobmct_commented_at_2024-06-11_0037" title="Permanent link">&para;</a></h4>
<p>Regarding using two separate disks for mkrescue and mkbackuponly:</p>
<p>My reasoning is thus:   The mkrescue would be executed significantly<br />
less frequently perhaps weekly or bi-weekly but mkbackuponly would be<br />
executed most likely daily.  If both disks were formatted as Rear-000<br />
then would that suffice?</p>
<p>However, if the target disk was an external 4TB hdd then could both
the<br />
mkrescue and the mkbackuponly be written to the same device?</p>
<p>Does the target device have to be reformatted prior to EACH execution
if<br />
the results were to be written to the target drive with newer versions?</p>
<p>Finally, where can I get a deb file of the rear 2.7 version that I can<br />
install on my development machine (because I do not have compile<br />
capability - all my work is done remotely or with interpreted
languages).</p>
<p>Thanks for your help.</p>
<p>BobMCT</p>
<h4 id="schlomo_commented_at_2024-06-11_0810"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/3241#issuecomment-2160073137">2024-06-11 08:10</a>:<a class="headerlink" href="#schlomo_commented_at_2024-06-11_0810" title="Permanent link">&para;</a></h4>
<p>@BobMCT you can download pre-built packages of our <code>master</code> code from
<a href="https://github.com/rear/rear/releases/tag/snapshot">https://github.com/rear/rear/releases/tag/snapshot</a></p>
<p>I'd recommend to simply use <code>rear mkbackup</code> all the time and forego the
rather little optimisation gained by <code>mkbackuponly</code>. The time to run
<code>mkrescue</code> is much shorter compared to the backup time, typically. The
rescue image disk space requirements are rather small in comparison to a
typical backup - and you will gain a significant improvement in the
handling and convenience.</p>
<p>To answer your other question please share your ReaR configuration.</p>
<p>To use different disks please make sure to set a different
<code>USB_DEVICE_FILESYSTEM_LABEL</code></p>
<p>You can also experiment with having multiple ReaR configs that you pull
in via the <code>-C</code> option.</p>
<p>But, again, my honest advice would be to simply only use <code>mkbackup</code> all
the time. That also ensures that - no matter what - your rescue image
and your backup always fit together.</p>
<h4 id="pcahyna_commented_at_2024-06-18_1626"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/issues/3241#issuecomment-2176509343">2024-06-18 16:26</a>:<a class="headerlink" href="#pcahyna_commented_at_2024-06-18_1626" title="Permanent link">&para;</a></h4>
<p>I am afraid that there is confusion in the USB code regarding the usage
of <code>BACKUP_URL</code> vs. <code>OUTPUT_URL</code>, so using different disks for output
and backup may have issues.
<a href="https://github.com/rear/rear/pull/3102#issuecomment-1850236912">https://github.com/rear/rear/pull/3102#issuecomment-1850236912</a></p>
<h4 id="jsmeix_commented_at_2024-06-19_0631"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3241#issuecomment-2177852714">2024-06-19 06:31</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-06-19_0631" title="Permanent link">&para;</a></h4>
<p>@BobMCT<br />
to avoid generic problems when backup and ReaR recovery system<br />
are separated and to avoid problems with our imperfect USB code<br />
I would much recommend to follow the advice of @schlomo and<br />
only use "rear mkbackup" with single disks all the time.<br />
This is what basically all others do so this way is proven<br />
to work reasonably well "out there in the wild".</p>
<p>Regarding generic problems when "rear mkrescue"<br />
and "rear mkbackuponly" are called at different times<br />
instead of using "rear mkbackup" see in the section<br />
"Relax-and-Recover versus backup and restore" in<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a><br />
in particular the parts about<br />
"ensure your backup is consistent".</p>
<p>Regarding "use 'rear mkbackup' with single disks"<br />
versus "use 'rear mkbackup' with a single disk"<br />
see in the same section in particular the part about<br />
"ensure your backups are kept safe" that reads</p>
<pre><code>It is your task to ensure your backups are kept safe at a
sufficiently secure place. In particular the place where
ReaR writes a new backup (e.g. a NFS share or a USB disk)
is not a really safe place to also keep old backups
(arbitrary things might go wrong when writing there).
</code></pre>
<p>So if you use only one disk where already a backup is<br />
stored, something might go terribly wrong when writing<br />
a subsequent beckup there (via "rear mkbackup")<br />
so in the end all might be lost on that disk.<br />
I.e. to be reasonably on the safe side<br />
you should use at least two separated disks.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2026 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2024-06-09.3241.issue.open.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
