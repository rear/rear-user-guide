<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#594 PR merged: Backup log contains the BACKUP_PROG_CRYPT_KEY #568 - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#594 PR merged: Backup log contains the BACKUP_PROG_CRYPT_KEY #568";
        var mkdocs_page_input_path = "issues/2015-06-07.594.pr.merged.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../scenarios/netfs_rsync.md">Internal Backup with rsync to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/restic.html">External Backup using restic</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#594 PR merged: Backup log contains the BACKUP_PROG_CRYPT_KEY #568</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="594_pr_merged_backup_log_contains_the_backup_prog_crypt_key_568"><a href="https://github.com/rear/rear/pull/594">#594 PR</a> <code>merged</code>: Backup log contains the BACKUP_PROG_CRYPT_KEY #568<a class="headerlink" href="#594_pr_merged_backup_log_contains_the_backup_prog_crypt_key_568" title="Permanent link">&para;</a></h1>
<h4 id="davixd_opened_issue_at_2015-06-07_1112"><img src="https://avatars.githubusercontent.com/u/11666104?u=b2be3387355394ed91e4dfbefa27fb41584fc906&v=4" width="50"><a href="https://github.com/davixd">davixd</a> opened issue at <a href="https://github.com/rear/rear/pull/594">2015-06-07 11:12</a>:<a class="headerlink" href="#davixd_opened_issue_at_2015-06-07_1112" title="Permanent link">&para;</a></h4>
<p>Rear topic:<br />
Backup log contains the BACKUP_PROG_CRYPT_KEY</p>
<p>Issue:<br />
#568</p>
<h4 id="davixd_commented_at_2015-06-12_2157"><img src="https://avatars.githubusercontent.com/u/11666104?u=b2be3387355394ed91e4dfbefa27fb41584fc906&v=4" width="50"><a href="https://github.com/davixd">davixd</a> commented at <a href="https://github.com/rear/rear/pull/594#issuecomment-111628761">2015-06-12 21:57</a>:<a class="headerlink" href="#davixd_commented_at_2015-06-12_2157" title="Permanent link">&para;</a></h4>
<p>Iam using the following settings in /etc/rear/local.conf:<br />
BACKUP_URL="nfs://10.0.xx.xx/backup/"<br />
BACKUP_PROG_CRYPT_ENABLED=1<br />
BACKUP_PROG_CRYPT_KEY=”testpw123”</p>
<p>On the nfs target server:<br />
[root@fs-01 rear-backup]# cat
backup_rear-backup.xxx.int_2015-03-26T14:50:16+0100_crypt_des3.log<br />
2015-03-26 14:50:37 tar --warning=no-xdev --sparse --block-number
--totals --verbose --no-wildcards-match-slash --one-file-system
--ignore-failed-read --anchored --gzip -X
/tmp/rear.b7bE08LIU8DwWBV/tmp/backup-exclude.txt -C / -c -f - / /var
/boot /var/log/rear/rear-rear-backup.log | /usr/bin/openssl des3 -salt
-k ”testpw123” | dd
of=/tmp/rear.b7bE08LIU8DwWBV/outputfs/rear-backup/backup_rear-backup.xxx.int_2015-03-26T14:50:16+0100_crypt_des3.tar.gz<br />
tar: Removing leading `/' from member names</p>
<p>on the rescue medium:<br />
BACKUP_PROG_CRYPT_KEY=”testpw123”</p>
<p>Because nfs use no encryption, it is not a good idea to send the
password of the crypt backup true the same line. Its also not a good
idea, to leave the password in clear text on the nfs target server.</p>
<p>With this change file the password is blanked in the logs and rescue
medium.</p>
<p>A possible scenario (even when the nfs-server is only accessible by the
clients which will be backuped):<br />
client1-to-backup-&gt; nfs-target-server<br />
client2-to-backup -&gt; nfs-target-server</p>
<p>The userA has the permissions to mount nfs-target-server on client2. In
this case userA can read all files on client1, because the user can
decrypt the backup file of client1 (password is accessible in clear text
in the log file or rescue medium).</p>
<p>Or the backup line is intercepted by an intruder. The same result here
(password is accessible in clear text in the log file or rescue medium,
so the intruder can decrypt the backup file).</p>
<p>Or to you have a best practice for me in this use case?</p>
<h4 id="davixd_commented_at_2015-06-25_1637"><img src="https://avatars.githubusercontent.com/u/11666104?u=b2be3387355394ed91e4dfbefa27fb41584fc906&v=4" width="50"><a href="https://github.com/davixd">davixd</a> commented at <a href="https://github.com/rear/rear/pull/594#issuecomment-115317871">2015-06-25 16:37</a>:<a class="headerlink" href="#davixd_commented_at_2015-06-25_1637" title="Permanent link">&para;</a></h4>
<p>@gdha, yes it was on purpose. With this setting everything is working
fine, the backup and recover still works. You have to do the change, to
leave the password blanked in the rescue-iso (/etc/rear/local.conf). I
have done this change already months ago, but I will test it again. You
can try it yourself (make the change). My /etc/rear/local.conf you have
in the posts above.</p>
<p>But like I already told in Issue #568, for me it works fine, but I dont
know what site effects it can have, I didnt found any till yet.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2015-06-07.594.pr.merged.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
