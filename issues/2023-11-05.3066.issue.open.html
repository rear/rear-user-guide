<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#3066 Issue open: No block device nodes in recovery system on Debian Trixie (systemd errors) - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#3066 Issue open: No block device nodes in recovery system on Debian Trixie (systemd errors)";
        var mkdocs_page_input_path = "issues/2023-11-05.3066.issue.open.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#3066 Issue open: No block device nodes in recovery system on Debian Trixie (systemd errors)</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="3066_issue_open_no_block_device_nodes_in_recovery_system_on_debian_trixie_systemd_errors"><a href="https://github.com/rear/rear/issues/3066">#3066 Issue</a> <code>open</code>: No block device nodes in recovery system on Debian Trixie (systemd errors)<a class="headerlink" href="#3066_issue_open_no_block_device_nodes_in_recovery_system_on_debian_trixie_systemd_errors" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>bug</code></p>
<h4 id="martinnaughton_opened_issue_at_2023-11-05_1624"><img src="https://avatars.githubusercontent.com/u/4721428?v=4" width="50"><a href="https://github.com/martinnaughton">martinnaughton</a> opened issue at <a href="https://github.com/rear/rear/issues/3066">2023-11-05 16:24</a>:<a class="headerlink" href="#martinnaughton_opened_issue_at_2023-11-05_1624" title="Permanent link">&para;</a></h4>
<!-- Relax-and-Recover (ReaR) Issue Template
Fill in the following items when submitting a new issue.
Use GitHub Markdown, see "Basic writing and formatting syntax" on
https://docs.github.com/en/get-started/writing-on-github
Support is voluntary without guarantee/warranty/liability -->

<ul>
<li>
<p>ReaR version ("/usr/sbin/rear -V"): Relax-and-Recover 2.7 / Git</p>
</li>
<li>
<p>If your ReaR version is not the current version, explain why you
    can't upgrade:</p>
</li>
<li>
<p>OS version ("cat /etc/os-release" or "lsb_release -a" or "cat
    /etc/rear/os.conf"):</p>
</li>
</ul>
<!-- -->

<pre><code>PRETTY_NAME="Debian GNU/Linux trixie/sid"
NAME="Debian GNU/Linux"
VERSION_CODENAME=trixie
ID=debian
HOME_URL="https://www.debian.org/"
SUPPORT_URL="https://www.debian.org/support"
BUG_REPORT_URL="https://bugs.debian.org/"
</code></pre>
<ul>
<li>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
    /etc/rear/local.conf"):</li>
</ul>
<!-- -->

<pre><code>OUTPUT=ISO
OUTPUT_URL=file:///media/hd/227DDF392FC0ECAC/
#OUTPUT_URL=null

BACKUP=NETFS
BACKUP_URL=file:///media/hd/227DDF392FC0ECAC/
BACKUP_PROG=tar
BACKUP_PROG_EXCLUDE=("${BACKUP_PROG_EXCLUDE[@]}" '/media' '/var/tmp', '/var/lib/docker/', '/var/cache/apt/archives' )
</code></pre>
<ul>
<li>
<p>Hardware vendor/product (PC or PowerNV BareMetal or ARM) or VM (KVM
    guest or PowerVM LPAR):<br />
    lenovo P52</p>
</li>
<li>
<p>System architecture (x86 compatible or PPC64/PPC64LE or what exact
    ARM device):<br />
    X86</p>
</li>
<li>
<p>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or
    ELILO or Petitboot):<br />
    BIOS<br />
    GRUB</p>
</li>
<li>
<p>Storage (local disk or SSD) and/or SAN (FC or iSCSI or FCoE) and/or
    multipath (DM or NVMe):<br />
    local SSD</p>
</li>
<li>
<p>Storage layout ("lsblk -ipo
    NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,LABEL,SIZE,MOUNTPOINT"):</p>
</li>
<li>
<p>Description of the issue (ideally so that others can reproduce
    it):<br />
    I can not see any hard drive in the list. I have a NVMe ssd 1TB that
    i would like to restore the back up to<br />
    I also tried this in VMware and it does not show a basic SCSI device
    i added when booting<br />
    i cant even load up the other usb stick that has the backup.tar.gz
    file</p>
</li>
</ul>
<p>You can see all the is loaded here:<br />
<img alt="Screenshot from 2023-11-05
16-19-07" src="https://github.com/rear/rear/assets/4721428/9f94f70b-3347-46dd-afed-c1488b57ace7" /></p>
<p>Am i missing something that needs to run so devices are seen an I can
run the mount command? Also to see the available hard disks.</p>
<ul>
<li>Workaround, if any:<br />
    None at the moment. i have tried loading the module with modprobe
    but the disk to not load</li>
</ul>
<p>I see this guy had a similar issue but they said it was the device.<br />
<a href="https://github.com/rear/rear/issues/2118">https://github.com/rear/rear/issues/2118</a></p>
<ul>
<li>Attachments, as applicable ("rear -D mkrescue/mkback!)" debug log
    files):</li>
</ul>
<p>You can drag-drop log files into this editor to create an attachment<br />
or paste verbatim text like command output or file content<br />
by including it between a leading and a closing line of<br />
three backticks like this:</p>
<pre><code>verbatim content
</code></pre>
<h4 id="martinnaughton_commented_at_2023-11-05_2021"><img src="https://avatars.githubusercontent.com/u/4721428?v=4" width="50"><a href="https://github.com/martinnaughton">martinnaughton</a> commented at <a href="https://github.com/rear/rear/issues/3066#issuecomment-1793835615">2023-11-05 20:21</a>:<a class="headerlink" href="#martinnaughton_commented_at_2023-11-05_2021" title="Permanent link">&para;</a></h4>
<p>with further investigation I just tried the default rescue and the
rescue image didnt show up the disks available.</p>
<pre><code># Default backup and output targets:
BACKUP=REQUESTRESTORE
OUTPUT=ISO
</code></pre>
<h4 id="jsmeix_commented_at_2023-11-06_1425"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3066#issuecomment-1794948243">2023-11-06 14:25</a>:<a class="headerlink" href="#jsmeix_commented_at_2023-11-06_1425" title="Permanent link">&para;</a></h4>
<p>@martinnaughton</p>
<p>what do</p>
<pre><code>lsblk -ipo NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,LABEL,SIZE,MOUNTPOINT
</code></pre>
<p>and</p>
<pre><code>lsmod
</code></pre>
<p>show on your original system?</p>
<p>See MODULES_LOAD in usr/share/rear/conf/default.conf<br />
how to enforce to load modules in the recovery system<br />
and see<br />
usr/share/rear/conf/examples/SLE12-SP2-btrfs-example.conf<br />
for an example how MODULES_LOAD could be used</p>
<pre><code># Have all modules of the original system in the recovery system with the
# same module loading ordering as in the original system by using the output of
#   lsmod | tail -n +2 | cut -d ' ' -f 1 | tac | tr -s '[:space:]' ' '
# as value for MODULES_LOAD (cf. https://github.com/rear/rear/issues/626):
#MODULES_LOAD=( )
</code></pre>
<h4 id="jsmeix_commented_at_2023-11-06_1430"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3066#issuecomment-1794959577">2023-11-06 14:30</a>:<a class="headerlink" href="#jsmeix_commented_at_2023-11-06_1430" title="Permanent link">&para;</a></h4>
<p>In general:<br />
When a Linux distribution uses a special init system<br />
(i.e. not the usual systemd as in Red Hat, SUSE, Ubuntu)<br />
then things could get rather complicated and tricky in ReaR<br />
(up to impossible in practice with reasonable effort),<br />
cf.
<a href="https://github.com/rear/rear/issues/2955">https://github.com/rear/rear/issues/2955</a></p>
<h4 id="pcahyna_commented_at_2023-11-06_1527"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/issues/3066#issuecomment-1795093096">2023-11-06 15:27</a>:<a class="headerlink" href="#pcahyna_commented_at_2023-11-06_1527" title="Permanent link">&para;</a></h4>
<blockquote>
<p>In general: When a Linux distribution uses a special init system (i.e.
not the usual systemd as in Red Hat, SUSE, Ubuntu) then things could
get rather complicated and tricky in ReaR (up to impossible in
practice with reasonable effort), cf. #2955</p>
</blockquote>
<p>Debian uses systemd by default, doesn't it?</p>
<h4 id="pcahyna_commented_at_2023-11-07_1820"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/issues/3066#issuecomment-1799404463">2023-11-07 18:20</a>:<a class="headerlink" href="#pcahyna_commented_at_2023-11-07_1820" title="Permanent link">&para;</a></h4>
<p>@jsmeix, why did you mention a special init system (not systemd) ? Is
there anything in the issue that indicates that anything else than
systemd is in use? I don't see this.</p>
<p>@martinnaughton How did you get to this point, anything unusual? I see
you have also filed issue #3065. Is it related? Is it on the same
machine? Do you get this problem after applying the workaround mentioned
in #3065 ?</p>
<h4 id="jsmeix_commented_at_2023-11-08_0733"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3066#issuecomment-1801240006">2023-11-08 07:33</a>:<a class="headerlink" href="#jsmeix_commented_at_2023-11-08_0733" title="Permanent link">&para;</a></h4>
<p>@pcahyna<br />
Thank you for also having a look and your correction!</p>
<p>I simply didn't look carefully and I did not remember<br />
<a href="https://github.com/rear/rear/issues/3017">https://github.com/rear/rear/issues/3017</a><br />
but I did remember that there were no devices in<br />
<a href="https://github.com/rear/rear/issues/2955">https://github.com/rear/rear/issues/2955</a><br />
which led me into a totally wrong direction.</p>
<p>So this is a good example of Linus's law<br />
(which is actually Eric S. Raymond's law):<br />
"given enough eyeballs, all bugs are shallow".</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2023-11-05.3066.issue.open.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
