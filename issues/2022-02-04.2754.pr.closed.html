<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2754 PR closed: Prepare for Issue #1040: add a fancy GitHub Action for 'shellcheck' for all pushes and PRs - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2754 PR closed: Prepare for Issue #1040: add a fancy GitHub Action for \u0027shellcheck\u0027 for all pushes and PRs";
        var mkdocs_page_input_path = "issues/2022-02-04.2754.pr.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../scenarios/netfs_rsync.md">Internal Backup with rsync to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/restic.html">External Backup using restic</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#2754 PR closed: Prepare for Issue #1040: add a fancy GitHub Action for 'shellcheck' for all pushes and PRs</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2754_pr_closed_prepare_for_issue_1040_add_a_fancy_github_action_for_shellcheck_for_all_pushes_and_prs"><a href="https://github.com/rear/rear/pull/2754">#2754 PR</a> <code>closed</code>: Prepare for Issue #1040: add a fancy GitHub Action for 'shellcheck' for all pushes and PRs<a class="headerlink" href="#2754_pr_closed_prepare_for_issue_1040_add_a_fancy_github_action_for_shellcheck_for_all_pushes_and_prs" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>discuss / RFC</code>, <code>ReaR Project</code>,
<code>no-pr-activity</code></p>
<h4 id="thomasmerz_opened_issue_at_2022-02-04_1627"><img src="https://avatars.githubusercontent.com/u/18568381?u=520aed8f7e665d9d1caee6358db291489a99ef03&v=4" width="50"><a href="https://github.com/thomasmerz">thomasmerz</a> opened issue at <a href="https://github.com/rear/rear/pull/2754">2022-02-04 16:27</a>:<a class="headerlink" href="#thomasmerz_opened_issue_at_2022-02-04_1627" title="Permanent link">&para;</a></h4>
<h4 id="relax-and-recover_rear_pull_request_template">Relax-and-Recover (ReaR) Pull Request Template<a class="headerlink" href="#relax-and-recover_rear_pull_request_template" title="Permanent link">&para;</a></h4>
<h5 id="pull_request_details">Pull Request Details:<a class="headerlink" href="#pull_request_details" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>Type: <strong>Enhancement</strong></p>
</li>
<li>
<p>Impact: <strong>High</strong></p>
</li>
<li>
<p>Reference to related issue (URL):<br />
    This is a preparation for future PRs from me to solve #1040</p>
</li>
<li>
<p>How was this pull request tested?<br />
    See GitHub Action in my forked repo for this PR:<br />
<a href="https://github.com/thomasmerz/rear/runs/5069429307?check_suite_focus=true">https://github.com/thomasmerz/rear/runs/5069429307?check_suite_focus=true</a></p>
</li>
<li>
<p>Brief description of the changes in this pull request:<br />
    This PR introduces a GitHub Action that will <code>shellcheck</code> all
    scripts in dirs "test" and "usr" for committer's and also
    repo-owner's convenience. All warnings including and above
    "severity=warning" will be reported and made transparent.</p>
</li>
</ul>
<h4 id="pcahyna_commented_at_2022-02-04_1644"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/2754#issuecomment-1030159364">2022-02-04 16:44</a>:<a class="headerlink" href="#pcahyna_commented_at_2022-02-04_1644" title="Permanent link">&para;</a></h4>
<p>@antonvoznia has been working on something similar recently, but if you
beat him to it, why not :-)</p>
<h4 id="pcahyna_commented_at_2022-02-04_1649"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/2754#issuecomment-1030163603">2022-02-04 16:49</a>:<a class="headerlink" href="#pcahyna_commented_at_2022-02-04_1649" title="Permanent link">&para;</a></h4>
<p>That said, it looks quite primitive. Do you have an example of a run for
a pull request in your repo (pull request from your branch to your
branch)? I am afraid that any trivial pull request will produce hundreds
if not thousands of warnings unrelated to the PR itself. I believe that
what we need is to display only errors that are introduced by the PR,
not everything.</p>
<h4 id="thomasmerz_commented_at_2022-02-04_1810"><img src="https://avatars.githubusercontent.com/u/18568381?u=520aed8f7e665d9d1caee6358db291489a99ef03&v=4" width="50"><a href="https://github.com/thomasmerz">thomasmerz</a> commented at <a href="https://github.com/rear/rear/pull/2754#issuecomment-1030230350">2022-02-04 18:10</a>:<a class="headerlink" href="#thomasmerz_commented_at_2022-02-04_1810" title="Permanent link">&para;</a></h4>
<blockquote>
<p>That said, it looks quite primitive. Do you have an example of a run
for a pull request in your repo (pull request from your branch to your
branch)? I am afraid that any trivial pull request will produce
hundreds if not thousands of warnings unrelated to the PR itself. I
believe that what we need is to display only errors that are
introduced by the PR, not everything.</p>
</blockquote>
<ol>
<li>
<p>You could <strong>merge this PR not before a fix+foxy <code>shellcheck</code>ed
    version exists</strong>, so that any following push/merge to master and
    every PR will only <code>shellcheck</code> (all) <strong>scripts in a specific path</strong>
    (tests/** and usr/**). So we won't get any warning that won't be
    related to the PR itself.<br />
    Details:
    <a href="https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#example-including-paths">https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#example-including-paths</a></p>
</li>
<li>
<p>Or/and we can also <strong>trigger no action on pushing to HEAD or merging
    into HEAD</strong> branch.</p>
</li>
</ol>
<p>See my next
<a href="https://github.com/thomasmerz/rear/commit/9c93748dd36d7dc130a757dcaa1ecd8a4bc61121">commit</a>
which didn't trigger an action for point 1.</p>
<p>So, do you agree to this (1) or do you think point 2 might also be
reasonable?</p>
<h4 id="jsmeix_commented_at_2022-02-16_1018"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2754#issuecomment-1041330590">2022-02-16 10:18</a>:<a class="headerlink" href="#jsmeix_commented_at_2022-02-16_1018" title="Permanent link">&para;</a></h4>
<p>I won't find noticeable time for this pull request until ReaR 2.7 was
released, cf.<br />
<a href="https://github.com/rear/rear/issues/2751">https://github.com/rear/rear/issues/2751</a><br />
so I set this pull request's milestone to ReaR v2.8 i.e. after ReaR 2.7
was released.</p>
<h4 id="thomasmerz_commented_at_2022-02-18_1650"><img src="https://avatars.githubusercontent.com/u/18568381?u=520aed8f7e665d9d1caee6358db291489a99ef03&v=4" width="50"><a href="https://github.com/thomasmerz">thomasmerz</a> commented at <a href="https://github.com/rear/rear/pull/2754#issuecomment-1044825453">2022-02-18 16:50</a>:<a class="headerlink" href="#thomasmerz_commented_at_2022-02-18_1650" title="Permanent link">&para;</a></h4>
<p>Output of my "local GH <a href="https://github.com/nektos/act">act</a>ion" (act
makes it possible):</p>
<pre><code>17:49 $
ü¶éüñ•  ‚úî ~/temp/PRs/rear [issue_1040_shellcheck|‚úî]
17:49 $ act
[Shellcheck Lint/Shellcheck Lint] üöÄ  Start image=ghcr.io/catthehacker/ubuntu:act-latest
[Shellcheck Lint/Shellcheck Lint]   üê≥  docker pull image=ghcr.io/catthehacker/ubuntu:act-latest platform= username= forcePull=false
[Shellcheck Lint/Shellcheck Lint]   üê≥  docker create image=ghcr.io/catthehacker/ubuntu:act-latest platform= entrypoint=["/usr/bin/tail" "-f" "/dev/null"] cmd=[]
[Shellcheck Lint/Shellcheck Lint]   üê≥  docker run image=ghcr.io/catthehacker/ubuntu:act-latest platform= entrypoint=["/usr/bin/tail" "-f" "/dev/null"] cmd=[]
[Shellcheck Lint/Shellcheck Lint]   üê≥  docker exec cmd=[mkdir -m 0777 -p /var/run/act] user=root workdir=
[Shellcheck Lint/Shellcheck Lint]   üê≥  docker cp src=/home/thomas/temp/PRs/rear/. dst=/home/thomas/temp/PRs/rear
[Shellcheck Lint/Shellcheck Lint]   üê≥  docker exec cmd=[mkdir -p /home/thomas/temp/PRs/rear] user= workdir=
[Shellcheck Lint/Shellcheck Lint] ‚≠ê  Run actions/checkout@v2
[Shellcheck Lint/Shellcheck Lint]   ‚úÖ  Success - actions/checkout@v2
[Shellcheck Lint/Shellcheck Lint] ‚≠ê  Run Download Shellcheck
[Shellcheck Lint/Shellcheck Lint]   üê≥  docker exec cmd=[bash --noprofile --norc -e -o pipefail /home/thomas/temp/PRs/rear/workflow/1] user= workdir=
| shellcheck-stable/LICENSE.txt
| shellcheck-stable/README.txt
| shellcheck-stable/shellcheck
[Shellcheck Lint/Shellcheck Lint]   ‚úÖ  Success - Download Shellcheck
[Shellcheck Lint/Shellcheck Lint] ‚≠ê  Run Check Shellcheck Version
[Shellcheck Lint/Shellcheck Lint]   üê≥  docker exec cmd=[bash --noprofile --norc -e -o pipefail /home/thomas/temp/PRs/rear/workflow/2] user= workdir=
| ShellCheck - shell script analysis tool
| version: 0.8.0
| license: GNU General Public License, version 3
| website: https://www.shellcheck.net
[Shellcheck Lint/Shellcheck Lint]   ‚úÖ  Success - Check Shellcheck Version
[Shellcheck Lint/Shellcheck Lint] ‚≠ê  Run Run Shellcheck
[Shellcheck Lint/Shellcheck Lint]   üê≥  docker exec cmd=[bash --noprofile --norc -e -o pipefail /home/thomas/temp/PRs/rear/workflow/3] user= workdir=
| shellcheck'ing ./tests/setup1/run.sh
|
| In ./tests/setup1/run.sh line 65:
|   grep -v "dev eth0" $f &gt; $RESULT_DIR/$(basename $f)
|                                             ^------------^ SC2046 (warning): Quote this to prevent word splitting.
|
| For more information:
|   https://www.shellcheck.net/wiki/SC2046 -- Quote this to prevent word splitt...
| shellcheck'ing ./tests/setup1/tcase1.sh
| shellcheck'ing ./tests/setup1/tcase2.sh
| shellcheck'ing ./tests/setup1/tcase3.sh
| shellcheck'ing ./tests/setup1/tcase4.sh
| shellcheck'ing ./tests/setup1/tcase5.sh
| shellcheck'ing ./tests/setup1/tcase6.sh
| shellcheck'ing ./tests/setup1/tcase7.sh
|
| In ./tests/setup1/tcase7.sh line 3:
| CONFIG_DIR="$(dirname "$(readlink -f "${BASH_SOURCE[0]}")")"
| ^--------^ SC2034 (warning): CONFIG_DIR appears unused. Verify use (or export if used externally).
|
| For more information:
|   https://www.shellcheck.net/wiki/SC2034 -- CONFIG_DIR appears unused. Verify...
| shellcheck'ing ./tests/setup1/tcase8.sh
|
| In ./tests/setup1/tcase8.sh line 3:
| CONFIG_DIR="$(dirname "$(readlink -f "${BASH_SOURCE[0]}")")"
| ^--------^ SC2034 (warning): CONFIG_DIR appears unused. Verify use (or export if used externally).
|
| For more information:
|   https://www.shellcheck.net/wiki/SC2034 -- CONFIG_DIR appears unused. Verify...
| shellcheck'ing ./tests/setup1/verify.sh
| shellcheck'ing ./tests/setup2/tcase1.sh
| shellcheck'ing ./tests/setup2/tcase2.sh
| shellcheck'ing ./tests/setup2/tcase3.sh
| shellcheck'ing ./tests/setup2/tcase4.sh
| shellcheck'ing ./tests/setup2/tcase5.sh
| shellcheck'ing ./tests/setup2/tcase6.sh
| shellcheck'ing ./tests/setup2/tcase7.sh
|
| In ./tests/setup2/tcase7.sh line 3:
| CONFIG_DIR="$(dirname "$(readlink -f "${BASH_SOURCE[0]}")")"
| ^--------^ SC2034 (warning): CONFIG_DIR appears unused. Verify use (or export if used externally).
|
| For more information:
|   https://www.shellcheck.net/wiki/SC2034 -- CONFIG_DIR appears unused. Verify...
| shellcheck'ing ./tests/setup2/tcase8.sh
|
| In ./tests/setup2/tcase8.sh line 3:
| CONFIG_DIR="$(dirname "$(readlink -f "${BASH_SOURCE[0]}")")"
| ^--------^ SC2034 (warning): CONFIG_DIR appears unused. Verify use (or export if used externally).
|
| For more information:
|   https://www.shellcheck.net/wiki/SC2034 -- CONFIG_DIR appears unused. Verify...
| shellcheck'ing ./usr/sbin/rear
|
| In ./usr/sbin/rear line 44:
| readonly INITIAL_BASH_FLAGS_AND_OPTIONS_COMMANDS="$( get_bash_flags_and_options_commands )"
|          ^-- SC2034 (warning): INITIAL_BASH_FLAGS_AND_OPTIONS_COMMANDS appears unused. Verify use (or export if used externally).
|          ^-- SC2155 (warning): Declare and assign separately to avoid masking return values.
|
|
| In ./usr/sbin/rear line 71:
| readonly START_SECONDS=$( date +%s )
|          ^-----------^ SC2155 (warning): Declare and assign separately to avoid masking return values.
|
|
| In ./usr/sbin/rear line 73:
| readonly START_DATE_TIME_NUMBER=$( date -d@$START_SECONDS +%Y%m%d%H%M%S )
|          ^--------------------^ SC2034 (warning): START_DATE_TIME_NUMBER appears unused. Verify use (or export if used externally).
|          ^--------------------^ SC2155 (warning): Declare and assign separately to avoid masking return values.
|
|
| In ./usr/sbin/rear line 75:
| readonly START_DATE_TIME_STRING=$( date -d@$START_SECONDS +'%F %T' )
|          ^--------------------^ SC2155 (warning): Declare and assign separately to avoid masking return values.
|
|
| In ./usr/sbin/rear line 93:
| readonly SCRIPT_FILE="$( readlink -f $( type -p "$0" || echo "$0" ) )"
|          ^---------^ SC2155 (warning): Declare and assign separately to avoid masking return values.
|                                      ^----------------------------^ SC2046 (warning): Quote this to prevent word splitting.
|
|
| In ./usr/sbin/rear line 112:
| readonly WORKING_DIR="$( pwd )"
|          ^---------^ SC2034 (warning): WORKING_DIR appears unused. Verify use (or export if used externally).
|          ^---------^ SC2155 (warning): Declare and assign separately to avoid masking return values.
|
|
| In ./usr/sbin/rear line 120:
| DISKLAYOUT_FILE="$VAR_DIR/layout/disklayout.conf"
| ^-------------^ SC2034 (warning): DISKLAYOUT_FILE appears unused. Verify use (or export if used externally).
|
|
| In ./usr/sbin/rear line 124:
| readonly TARGET_FS_ROOT="/mnt/local"
|          ^------------^ SC2034 (warning): TARGET_FS_ROOT appears unused. Verify use (or export if used externally).
|
|
| In ./usr/sbin/rear line 232:
|             echo "$PROGNAME: unrecognized option '$option'"
|                                                   ^-----^ SC2154 (warning): option is referenced but not assigned.
|
|
| In ./usr/sbin/rear line 277:
|     v="-v"
|     ^-- SC2034 (warning): v appears unused. Verify use (or export if used externally).
|
|
| In ./usr/sbin/rear line 278:
|     verbose="--verbose"
|     ^-----^ SC2034 (warning): verbose appears unused. Verify use (or export if used externally).
|
|
| In ./usr/sbin/rear line 288:
| readonly DEBUG DEBUGSCRIPTS DEBUGSCRIPTS_ARGUMENT DEBUG_OUTPUT_DEV DISPENSABLE_OUTPUT_DEV
|                ^----------^ SC2034 (warning): DEBUGSCRIPTS appears unused. Verify use (or export if used externally).
|                                                   ^--------------^ SC2034 (warning): DEBUG_OUTPUT_DEV appears unused. Verify use (or export if used externally).
|                                                                    ^--------------------^ SC2034 (warning): DISPENSABLE_OUTPUT_DEV appears unused. Verify use (or export if used externally).
|
|
| In ./usr/sbin/rear line 289:
| readonly SIMULATE STEPBYSTEP VERBOSE
|                   ^--------^ SC2034 (warning): STEPBYSTEP appears unused. Verify use (or export if used externally).
|
|
| In ./usr/sbin/rear line 327:
| readonly DEFAULT_BASH_FLAGS_AND_OPTIONS_COMMANDS="$( get_bash_flags_and_options_commands )"
|          ^-- SC2034 (warning): DEFAULT_BASH_FLAGS_AND_OPTIONS_COMMANDS appears unused. Verify use (or export if used externally).
|          ^-- SC2155 (warning): Declare and assign separately to avoid masking return values.
|
|
| In ./usr/sbin/rear line 497:
|     DebugPrint "Command line options: $0 ${CMD_OPTS[@]}"
|                                          ^------------^ SC2145 (error): Argument mixes string and array. Use * or separate argument.
|
|
| In ./usr/sbin/rear line 504:
| test "$DEBUG" &amp;&amp; KEEP_BUILD_DIR=1 || true
|                  ^------------^ SC2034 (warning): KEEP_BUILD_DIR appears unused. Verify use (or export if used externally).
|
|
| In ./usr/sbin/rear line 508:
| readonly RECOVERY_MODE
|          ^-----------^ SC2034 (warning): RECOVERY_MODE appears unused. Verify use (or export if used externally).
|
|
| In ./usr/sbin/rear line 570:
|                 else if test -r "$config_append_file_path.conf" ; then
|                 ^-- SC1075 (error): Use 'elif' instead of 'else if' (or put 'if' on new line if nesting).
|
|
| In ./usr/sbin/rear line 586:
|         else if test -r "$config_append_file_path.conf" ; then
|         ^-- SC1075 (error): Use 'elif' instead of 'else if' (or put 'if' on new line if nesting).
|
|
| In ./usr/sbin/rear line 597:
| readonly SHARE_DIR CONFIG_DIR VAR_DIR LOG_DIR KERNEL_VERSION
|                                               ^------------^ SC2034 (warning): KERNEL_VERSION appears unused. Verify use (or export if used externally).
|
|
| In ./usr/sbin/rear line 606:
| readonly VERSION_INFO="
|          ^----------^ SC2034 (warning): VERSION_INFO appears unused. Verify use (or export if used externally).
|          ^----------^ SC2155 (warning): Declare and assign separately to avoid masking return values.
|
|
| In ./usr/sbin/rear line 649:
| EXIT_FAIL_MESSAGE=0
| ^---------------^ SC2034 (warning): EXIT_FAIL_MESSAGE appears unused. Verify use (or export if used externally).
|
| For more information:
|   https://www.shellcheck.net/wiki/SC1075 -- Use 'elif' instead of 'else if' (...
|   https://www.shellcheck.net/wiki/SC2145 -- Argument mixes string and array. ...
|   https://www.shellcheck.net/wiki/SC2034 -- DEBUGSCRIPTS appears unused. Veri...
| shellcheck'ing ./usr/share/rear/lib/write-protect-functions.sh
|
| In ./usr/share/rear/lib/write-protect-functions.sh line 18:
|     local device="$( write_protected_candidate_device "$1" )"
|           ^----^ SC2155 (warning): Declare and assign separately to avoid masking return values.
|
|
| In ./usr/share/rear/lib/write-protect-functions.sh line 59:
|     local device="$(write_protected_candidate_device "$1")"
|           ^----^ SC2155 (warning): Declare and assign separately to avoid masking return values.
|
|
| In ./usr/share/rear/lib/write-protect-functions.sh line 91:
|     local device="$(write_protected_candidate_device "$1")"
|           ^----^ SC2155 (warning): Declare and assign separately to avoid masking return values.
|
|
| In ./usr/share/rear/lib/write-protect-functions.sh line 100:
|                 if [[ "$partition_label" == $write_protected_pattern ]]; then
|                                             ^----------------------^ SC2053 (warning): Quote the right-hand side of == in [[ ]] to prevent glob matching.
|
|
| In ./usr/share/rear/lib/write-protect-functions.sh line 112:
|     local device="$(write_protected_candidate_device "$1")"
|           ^----^ SC2155 (warning): Declare and assign separately to avoid masking return values.
|
| For more information:
|   https://www.shellcheck.net/wiki/SC2053 -- Quote the right-hand side of == i...
|   https://www.shellcheck.net/wiki/SC2155 -- Declare and assign separately to ...
| shellcheck'ing ./usr/share/rear/skel/default/bin/dhclient-script
|
| In ./usr/share/rear/skel/default/bin/dhclient-script line 9:
| LOGFACILITY="local7"
| ^---------^ SC2034 (warning): LOGFACILITY appears unused. Verify use (or export if used externally).
|
|
| In ./usr/share/rear/skel/default/bin/dhclient-script line 10:
| LOGLEVEL="notice"
| ^------^ SC2034 (warning): LOGLEVEL appears unused. Verify use (or export if used externally).
|
|
| In ./usr/share/rear/skel/default/bin/dhclient-script line 18:
| new_prefix="$(get_prefix ${new_ip_address} ${new_subnet_mask})"
|                                            ^----------------^ SC2154 (warning): new_subnet_mask is referenced but not assigned.
|
|
| In ./usr/share/rear/skel/default/bin/dhclient-script line 19:
| old_prefix="$(get_prefix ${old_ip_address} ${old_subnet_mask})"
| ^--------^ SC2034 (warning): old_prefix appears unused. Verify use (or export if used externally).
|                                            ^----------------^ SC2154 (warning): old_subnet_mask is referenced but not assigned.
|
|
| In ./usr/share/rear/skel/default/bin/dhclient-script line 20:
| alias_prefix="$(get_prefix ${alias_ip_address} ${alias_subnet_mask})"
|                                                ^------------------^ SC2154 (warning): alias_subnet_mask is referenced but not assigned.
|
|
| In ./usr/share/rear/skel/default/bin/dhclient-script line 22:
| case "${reason}" in
|       ^-------^ SC2154 (warning): reason is referenced but not assigned.
|
|
| In ./usr/share/rear/skel/default/bin/dhclient-script line 34:
|         if [ "${keep_old_ip}" = "yes" ]; then
|               ^------------^ SC2154 (warning): keep_old_ip is referenced but not assigned.
|
|
| In ./usr/share/rear/skel/default/bin/dhclient-script line 162:
|             ip -4 addr add ${new_ip_address}/${new_prefix} broadcast ${new_broadcast_address} dev ${interface}
|                                                                      ^----------------------^ SC2154 (warning): new_broadcast_address is referenced but not assigned.
|
| For more information:
|   https://www.shellcheck.net/wiki/SC2034 -- LOGFACILITY appears unused. Verif...
|   https://www.shellcheck.net/wiki/SC2154 -- alias_subnet_mask is referenced b...
| shellcheck'ing ./usr/share/rear/skel/default/bin/dhcpcd.sh
| shellcheck'ing ./usr/share/rear/skel/default/bin/ifup
| shellcheck'ing ./usr/share/rear/skel/default/bin/login
|
| In ./usr/share/rear/skel/default/bin/login line 45:
| cd $HOME
| ^------^ SC2164 (warning): Use 'cd ... || exit' or 'cd ... || return' in case cd fails.
|
| Did you mean:
| cd $HOME || exit
|
| For more information:
|   https://www.shellcheck.net/wiki/SC2164 -- Use 'cd ... || exit' or 'cd ... |...
| shellcheck'ing ./usr/share/rear/skel/default/etc/scripts/boot
|
| In ./usr/share/rear/skel/default/etc/scripts/boot line 38:
| export HOSTNAME="$(cat /etc/HOSTNAME)" # set hostname in THIS shell
|        ^------^ SC2155 (warning): Declare and assign separately to avoid masking return values.
|
|
| In ./usr/share/rear/skel/default/etc/scripts/boot line 41:
| echo Hostname set to $(uname -n)
|                      ^---------^ SC2046 (warning): Quote this to prevent word splitting.
|
| For more information:
|   https://www.shellcheck.net/wiki/SC2046 -- Quote this to prevent word splitt...
|   https://www.shellcheck.net/wiki/SC2155 -- Declare and assign separately to ...
| shellcheck'ing ./usr/share/rear/skel/default/etc/scripts/do-shutdown
| shellcheck'ing ./usr/share/rear/skel/default/etc/scripts/run-serial
|
| In ./usr/share/rear/skel/default/etc/scripts/run-serial line 7:
|     if $(grep -q ^s$nr: /etc/inittab) ; then
|        ^----------------------------^ SC2091 (warning): Remove surrounding $() to avoid executing output (or use eval if intentional).
|
| For more information:
|   https://www.shellcheck.net/wiki/SC2091 -- Remove surrounding $() to avoid e...
| shellcheck'ing ./usr/share/rear/skel/default/etc/scripts/run-sshd
| shellcheck'ing ./usr/share/rear/skel/default/etc/scripts/run-syslog
| shellcheck'ing ./usr/share/rear/skel/default/etc/scripts/system-setup
|
| In ./usr/share/rear/skel/default/etc/scripts/system-setup line 13:
| kernel_command_line=( $( cat /proc/cmdline ) )
|                       ^--------------------^ SC2207 (warning): Prefer mapfile or read -a to split command output (or quote to avoid splitting).
|
|
| In ./usr/share/rear/skel/default/etc/scripts/system-setup line 200:
|         select choice in "${choices[@]}" ; do
|         ^----^ SC2034 (warning): choice appears unused. Verify use (or export if used externally).
|
| For more information:
|   https://www.shellcheck.net/wiki/SC2034 -- choice appears unused. Verify use...
|   https://www.shellcheck.net/wiki/SC2207 -- Prefer mapfile or read -a to spli...
| shellcheck'ing ./usr/share/rear/skel/default/etc/scripts/system-status.sh
|
| In ./usr/share/rear/skel/default/etc/scripts/system-status.sh line 5:
| LF="$(echo)"
| ^-- SC2034 (warning): LF appears unused. Verify use (or export if used externally).
|
|
| In ./usr/share/rear/skel/default/etc/scripts/system-status.sh line 17:
| if test $(brctl show | wc -l) -gt 1 ; then
|         ^-------------------^ SC2046 (warning): Quote this to prevent word splitting.
|
| For more information:
|   https://www.shellcheck.net/wiki/SC2034 -- LF appears unused. Verify use (or...
|   https://www.shellcheck.net/wiki/SC2046 -- Quote this to prevent word splitt...
| shellcheck'ing ./usr/share/rear/skel/default/etc/scripts/unlock-opal-disks
|
| In ./usr/share/rear/skel/default/etc/scripts/unlock-opal-disks line 66:
|     IFS='\$' read -r _ method salt _ &lt;&lt;&lt;"$OPAL_PBA_DEBUG_PASSWORD"
|         ^--^ SC2141 (warning): This IFS value contains a literal backslash. For tabs/linefeeds/escapes, use $'..', literal, or printf.
|
|
| In ./usr/share/rear/skel/default/etc/scripts/unlock-opal-disks line 186:
| devices=( $(opal_devices) )
|           ^-------------^ SC2207 (warning): Prefer mapfile or read -a to split command output (or quote to avoid splitting).
|
| For more information:
|   https://www.shellcheck.net/wiki/SC2141 -- This IFS value contains a literal...
|   https://www.shellcheck.net/wiki/SC2207 -- Prefer mapfile or read -a to spli...
| Shellcheck failed for one or more shellscript(s)
[Shellcheck Lint/Shellcheck Lint]   ‚ùå  Failure - Run Shellcheck
Error: exit with `FAILURE`: 1
ü¶éüñ•  ‚úî ~/temp/PRs/rear [issue_1040_shellcheck|‚úî]
17:49 $
</code></pre>
<p>But PR #2756 will fix this üòâ</p>
<h4 id="github-actions_commented_at_2022-04-20_0322"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/pull/2754#issuecomment-1103430879">2022-04-20 03:22</a>:<a class="headerlink" href="#github-actions_commented_at_2022-04-20_0322" title="Permanent link">&para;</a></h4>
<p>Stale pull request message</p>
<h4 id="thomasmerz_commented_at_2022-04-21_0952"><img src="https://avatars.githubusercontent.com/u/18568381?u=520aed8f7e665d9d1caee6358db291489a99ef03&v=4" width="50"><a href="https://github.com/thomasmerz">thomasmerz</a> commented at <a href="https://github.com/rear/rear/pull/2754#issuecomment-1104981174">2022-04-21 09:52</a>:<a class="headerlink" href="#thomasmerz_commented_at_2022-04-21_0952" title="Permanent link">&para;</a></h4>
<p>Ping‚Ä¶ just to keep this PR "active"‚Ä¶</p>
<h4 id="github-actions_commented_at_2022-06-21_0319"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/pull/2754#issuecomment-1161189378">2022-06-21 03:19</a>:<a class="headerlink" href="#github-actions_commented_at_2022-06-21_0319" title="Permanent link">&para;</a></h4>
<p>Stale pull request message</p>
<h4 id="thomasmerz_commented_at_2022-06-21_0703"><img src="https://avatars.githubusercontent.com/u/18568381?u=520aed8f7e665d9d1caee6358db291489a99ef03&v=4" width="50"><a href="https://github.com/thomasmerz">thomasmerz</a> commented at <a href="https://github.com/rear/rear/pull/2754#issuecomment-1161342059">2022-06-21 07:03</a>:<a class="headerlink" href="#thomasmerz_commented_at_2022-06-21_0703" title="Permanent link">&para;</a></h4>
<p>What about this PR? @jsmeix and @schlomo</p>
<h4 id="github-actions_commented_at_2022-10-12_0352"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/pull/2754#issuecomment-1275548245">2022-10-12 03:52</a>:<a class="headerlink" href="#github-actions_commented_at_2022-10-12_0352" title="Permanent link">&para;</a></h4>
<p>Stale pull request message</p>
<h4 id="thomasmerz_commented_at_2022-10-12_0954"><img src="https://avatars.githubusercontent.com/u/18568381?u=520aed8f7e665d9d1caee6358db291489a99ef03&v=4" width="50"><a href="https://github.com/thomasmerz">thomasmerz</a> commented at <a href="https://github.com/rear/rear/pull/2754#issuecomment-1275901873">2022-10-12 09:54</a>:<a class="headerlink" href="#thomasmerz_commented_at_2022-10-12_0954" title="Permanent link">&para;</a></h4>
<p>@gdha ping.</p>
<h4 id="github-actions_commented_at_2022-12-12_0238"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/pull/2754#issuecomment-1345784271">2022-12-12 02:38</a>:<a class="headerlink" href="#github-actions_commented_at_2022-12-12_0238" title="Permanent link">&para;</a></h4>
<p>Stale pull request message</p>
<h4 id="thomasmerz_commented_at_2022-12-13_0815"><img src="https://avatars.githubusercontent.com/u/18568381?u=520aed8f7e665d9d1caee6358db291489a99ef03&v=4" width="50"><a href="https://github.com/thomasmerz">thomasmerz</a> commented at <a href="https://github.com/rear/rear/pull/2754#issuecomment-1347908122">2022-12-13 08:15</a>:<a class="headerlink" href="#thomasmerz_commented_at_2022-12-13_0815" title="Permanent link">&para;</a></h4>
<p>Ping @gdha</p>
<h4 id="jsmeix_commented_at_2022-12-14_1015"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2754#issuecomment-1350795752">2022-12-14 10:15</a>:<a class="headerlink" href="#jsmeix_commented_at_2022-12-14_1015" title="Permanent link">&para;</a></h4>
<p>See also<br />
<a href="https://github.com/rear/rear/pull/2847#issuecomment-1350629324">https://github.com/rear/rear/pull/2847#issuecomment-1350629324</a></p>
<h4 id="github-actions_commented_at_2023-02-13_0238"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/pull/2754#issuecomment-1427245353">2023-02-13 02:38</a>:<a class="headerlink" href="#github-actions_commented_at_2023-02-13_0238" title="Permanent link">&para;</a></h4>
<p>Stale pull request message</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2022-02-04.2754.pr.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
