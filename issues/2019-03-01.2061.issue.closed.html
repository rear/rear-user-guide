<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2061 Issue closed: ERROR: 'dsmc query filespace' failed - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2061 Issue closed: ERROR: \u0027dsmc query filespace\u0027 failed";
        var mkdocs_page_input_path = "issues/2019-03-01.2061.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#2061 Issue closed: ERROR: 'dsmc query filespace' failed</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2061_issue_closed_error_dsmc_query_filespace_failed"><a href="https://github.com/rear/rear/issues/2061">#2061 Issue</a> <code>closed</code>: ERROR: 'dsmc query filespace' failed<a class="headerlink" href="#2061_issue_closed_error_dsmc_query_filespace_failed" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>no-issue-activity</code></p>
<h4 id="dcz01_opened_issue_at_2019-03-01_1010"><img src="https://avatars.githubusercontent.com/u/20817288?v=4" width="50"><a href="https://github.com/dcz01">dcz01</a> opened issue at <a href="https://github.com/rear/rear/issues/2061">2019-03-01 10:10</a>:<a class="headerlink" href="#dcz01_opened_issue_at_2019-03-01_1010" title="Permanent link">&para;</a></h4>
<h4 id="relax-and-recover_rear_issue_template">Relax-and-Recover (ReaR) Issue Template<a class="headerlink" href="#relax-and-recover_rear_issue_template" title="Permanent link">&para;</a></h4>
<p>Fill in the following items before submitting a new issue<br />
(quick response is not guaranteed with free support):</p>
<ul>
<li>ReaR version ("/usr/sbin/rear -V"):</li>
</ul>
<!-- -->

<pre><code>Relax-and-Recover 2.4 / 2018-06-21
</code></pre>
<ul>
<li>OS version ("cat /etc/rear/os.conf" or "lsb_release -a" or "cat
    /etc/os-release"):</li>
</ul>
<!-- -->

<pre><code>OS_VENDOR=RedHatEnterpriseServer
OS_VERSION=6.10
# The following information was added automatically by the mkrescue workflow:
ARCH='Linux-i386'
OS='GNU/Linux'
OS_VERSION='6.10'
OS_VENDOR='RedHatEnterpriseServer'
OS_VENDOR_VERSION='RedHatEnterpriseServer/6.10'
OS_VENDOR_ARCH='RedHatEnterpriseServer/i386'
# End of what was added automatically by the mkrescue workflow.
</code></pre>
<ul>
<li>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
    /etc/rear/local.conf"):</li>
</ul>
<!-- -->

<pre><code>OUTPUT=ISO
OUTPUT_URL=file:///root/rear
BACKUP=TSM
SSH_ROOT_PASSWORD='$1$HGjk3XUV$lid3Nd3k01Kht1mpMscLw1'
NON_FATAL_BINARIES_WITH_MISSING_LIBRARY='/opt/tivoli/tsm/client/ba/bin/libvixMntapi.so.1.1.0'
</code></pre>
<ul>
<li>Hardware (PC or PowerNV BareMetal or ARM) or virtual machine (KVM
    guest or PoverVM LPAR):<br />
<code>Test virtual machine on VMware</code></li>
<li>System architecture (x86 compatible or PPC64/PPC64LE or what exact
    ARM device):<br />
<code>x86_64</code></li>
<li>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or
    ELILO or Petitboot):<br />
<code>BIOS and GRUB</code></li>
<li>Storage (lokal disk or SSD) and/or SAN (FC or iSCSI or FCoE) and/or
    multipath (DM or NVMe):<br />
<code>Lokal Disk (one disk)</code></li>
<li>Description of the issue (ideally so that others can reproduce
    it):<br />
<code>Problem with the TSM password which has changed on TSM server after 30 days and when an older rescue disk is used with an older stored password. The first automatically launched rear recover doesn't ask for entering a user ID or an password.</code></li>
<li>Workaround, if any:<br />
<code>Relaunch the rear recover command</code></li>
<li>Attachments, as applicable ("rear -D mkrescue/mkbackup/recover"
    debug log files):<br />
<a href="https://github.com/rear/rear/files/2918965/rear-FBD01PSS-1.log">rear-FBD01PSS-1.log</a><br />
<img alt="1" src="https://user-images.githubusercontent.com/20817288/53631289-803bee80-3c12-11e9-897f-01d05e25f5be.JPG" /><br />
<a href="https://github.com/rear/rear/files/2918966/rear-FBD01PSS.log">rear-FBD01PSS.log</a></li>
</ul>
<h4 id="gozora_commented_at_2019-03-01_1042"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/2061#issuecomment-468623079">2019-03-01 10:42</a>:<a class="headerlink" href="#gozora_commented_at_2019-03-01_1042" title="Permanent link">&para;</a></h4>
<p>@dcz01 just an idea, but maybe you should exclude <em>/etc/adsm/TSM.PWD</em>
from ReaR recovery system (<code>COPY_AS_IS_EXCLUDE_TSM</code>). I'm guessing that
presence of this file is causing this behavior.</p>
<p>V.</p>
<h4 id="dcz01_commented_at_2019-03-01_1107"><img src="https://avatars.githubusercontent.com/u/20817288?v=4" width="50"><a href="https://github.com/dcz01">dcz01</a> commented at <a href="https://github.com/rear/rear/issues/2061#issuecomment-468629969">2019-03-01 11:07</a>:<a class="headerlink" href="#dcz01_commented_at_2019-03-01_1107" title="Permanent link">&para;</a></h4>
<p>@gozora Thanks for the fast answer.<br />
But would ReaR ask me the first time booting and executing the automatic
recover for the TSM user ID and password?</p>
<h4 id="gozora_commented_at_2019-03-01_1112"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/2061#issuecomment-468631186">2019-03-01 11:12</a>:<a class="headerlink" href="#gozora_commented_at_2019-03-01_1112" title="Permanent link">&para;</a></h4>
<p>Yes I guess so, since <em>TSM.PWD</em> is holding cached login credentials ...</p>
<p>V.</p>
<h4 id="dcz01_commented_at_2019-03-01_1117"><img src="https://avatars.githubusercontent.com/u/20817288?v=4" width="50"><a href="https://github.com/dcz01">dcz01</a> commented at <a href="https://github.com/rear/rear/issues/2061#issuecomment-468632420">2019-03-01 11:17</a>:<a class="headerlink" href="#dcz01_commented_at_2019-03-01_1117" title="Permanent link">&para;</a></h4>
<p>@gozora Ah well, then i'll test it.<br />
But i use an newer TSM client and there isn't a TSM.PWD anymore.<br />
Now there are many password and certification files stored in /etc/adsm,
so i must exclude the whole folder.</p>
<h4 id="gozora_commented_at_2019-03-01_1152"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/2061#issuecomment-468640885">2019-03-01 11:52</a>:<a class="headerlink" href="#gozora_commented_at_2019-03-01_1152" title="Permanent link">&para;</a></h4>
<p>You should identify exactly file holding cached password, missing
certificates might be fatal ...</p>
<p>V.</p>
<h4 id="dcz01_commented_at_2019-03-01_1208"><img src="https://avatars.githubusercontent.com/u/20817288?v=4" width="50"><a href="https://github.com/dcz01">dcz01</a> commented at <a href="https://github.com/rear/rear/issues/2061#issuecomment-468644823">2019-03-01 12:08</a>:<a class="headerlink" href="#dcz01_commented_at_2019-03-01_1208" title="Permanent link">&para;</a></h4>
<p>@gozora Yes, thats true. Missing certificates can lead to failing
connections because TSM is encrypting by default the traffic between
server and client at level 8.1.0.0.<br />
Then it's not simply to do so.</p>
<h4 id="gdha_commented_at_2019-03-01_1216"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2061#issuecomment-468646531">2019-03-01 12:16</a>:<a class="headerlink" href="#gdha_commented_at_2019-03-01_1216" title="Permanent link">&para;</a></h4>
<p>@schabrolles As you are our TSM expert we dare to assign this issue to
you - hope you don't mind?</p>
<h4 id="dcz01_commented_at_2019-03-01_1313"><img src="https://avatars.githubusercontent.com/u/20817288?v=4" width="50"><a href="https://github.com/dcz01">dcz01</a> commented at <a href="https://github.com/rear/rear/issues/2061#issuecomment-468660521">2019-03-01 13:13</a>:<a class="headerlink" href="#dcz01_commented_at_2019-03-01_1313" title="Permanent link">&para;</a></h4>
<p>But it isn't possible to exclude only the password file(s) because there
is an subfolder which contains the certificates for SSL/TLS.</p>
<pre><code>RESCUE FBD01PSS:~ # ls -la /etc/adsm
total 16
drwxr-xr-x  3 root root    0 Mar  1 10:55 .
drwxr-xr-x 20 root root    0 Mar  1 10:45 ..
drwxr-xr-x  3 root root    0 Feb  5 11:52 Nodes
-rw-rw-r--  1 root root 1290 Mar  1 10:49 TSM.IDX
-rw-rw-r--  1 root root 6319 Mar  1 10:49 TSM.KDB
-rw-------  1 root root  193 Feb  5 11:52 TSM.sth

RESCUE FBD01PSS:~ # ls -la /etc/adsm/Nodes/FBD01PSS/
total 20
drwxr-xr-x 2 root root    0 Mar  1 10:55 .
drwxr-xr-x 3 root root    0 Feb  5 11:52 ..
-rw-rw-r-- 1 root root   80 Feb  5 11:52 spclicert.crl
-rw-rw-r-- 1 root root 5080 Feb  5 11:52 spclicert.kdb
-rw-rw-r-- 1 root root   80 Feb  5 11:52 spclicert.rdb
-rw------- 1 root root  193 Feb  5 11:52 spclicert.sth
</code></pre>
<p>And here is some info about the new storing method:<br />
<a href="https://www.ibm.com/support/knowledgecenter/en/SSGSG7_7.1.8/client/c_secure_pwd.html">https://www.ibm.com/support/knowledgecenter/en/SSGSG7_7.1.8/client/c_secure_pwd.html</a></p>
<h4 id="gozora_commented_at_2019-03-01_1319"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/2061#issuecomment-468662023">2019-03-01 13:19</a>:<a class="headerlink" href="#gozora_commented_at_2019-03-01_1319" title="Permanent link">&para;</a></h4>
<p>If I understand it correctly than it should be enough to exclude
<em>TSM.IDX, TSM.KDB and TSM.sth</em>, to avoid storing cached passwords in
ReaR recovery system.</p>
<p>V.</p>
<h4 id="dcz01_commented_at_2019-03-01_1520"><img src="https://avatars.githubusercontent.com/u/20817288?v=4" width="50"><a href="https://github.com/dcz01">dcz01</a> commented at <a href="https://github.com/rear/rear/issues/2061#issuecomment-468700140">2019-03-01 15:20</a>:<a class="headerlink" href="#dcz01_commented_at_2019-03-01_1520" title="Permanent link">&para;</a></h4>
<p>@gozora Yes, thats true. But now i show you the next issue if you do
so.<br />
The restore process hangs because all the output is redirected to an log
file and you can't enter the encryption key of some/the files which are
encrypted in TSM.</p>
<p><img alt="1" src="https://user-images.githubusercontent.com/20817288/53647449-e38f4600-3c3d-11e9-849f-226aee9750ae.JPG" /><br />
<img alt="2" src="https://user-images.githubusercontent.com/20817288/53647451-e38f4600-3c3d-11e9-95e7-066c251790dd.JPG" /><br />
<img alt="3" src="https://user-images.githubusercontent.com/20817288/53647454-e38f4600-3c3d-11e9-9296-2935a9f62f8e.JPG" /></p>
<h4 id="gozora_commented_at_2019-03-01_1541"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/2061#issuecomment-468707504">2019-03-01 15:41</a>:<a class="headerlink" href="#gozora_commented_at_2019-03-01_1541" title="Permanent link">&para;</a></h4>
<p>@dcz01</p>
<p>I'm guessing this redirection comes from
<a href="https://github.com/rear/rear/blob/master/usr/share/rear/verify/TSM/default/389_check_TSM_connection.sh">389_check_TSM_connection.sh</a>.
Unfortunately I can't do much about it because I'm very limited in my
TSM knowledge. Maybe @schabrolles can do something about it if he has
some spare time ...</p>
<p>There is however a way how you could deal with this, and it might even
be perfect solution to your problem. Some time ago, @jsmeix wrote
functionality that can download auxiliary files using <code>curl</code> during
<code>rear recover</code> (init) stage.<br />
In general you need to set <em>RECOVERY_UPDATE_URL</em> variable with
location pointing to tar ball containing files you want to download and
extract during <code>rear recover</code>. In your case, TSM login credentials could
be packed in that tar ball, and you could update this tar ball every
time your TSM password is changed without need to re-run
<code>rear mkbackup</code>.<br />
For more details check
<a href="https://github.com/rear/rear/blob/master/usr/share/rear/conf/default.conf#L290">default.conf</a></p>
<p>V.</p>
<h4 id="dcz01_commented_at_2019-03-04_0814"><img src="https://avatars.githubusercontent.com/u/20817288?v=4" width="50"><a href="https://github.com/dcz01">dcz01</a> commented at <a href="https://github.com/rear/rear/issues/2061#issuecomment-469157907">2019-03-04 08:14</a>:<a class="headerlink" href="#dcz01_commented_at_2019-03-04_0814" title="Permanent link">&para;</a></h4>
<p>@gozora Your solution sounds very good, but this won't be possible.<br />
At first this must be done every 30 days when the password at the TSM
server expires and the client generates a new one and second how should
i do this when the server has crashed?</p>
<h4 id="jsmeix_commented_at_2019-03-04_1051"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2061#issuecomment-469208545">2019-03-04 10:51</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-03-04_1051" title="Permanent link">&para;</a></h4>
<p>@dcz01<br />
I am not a TSM user (I have no proprietary third-party backup software
at all)<br />
but as far as I understand it what you need is that the TSM restore
programs<br />
work interactively so that you get a password dialog from TSM.<br />
Is it what you need or do I misunderstand something?</p>
<h4 id="jsmeix_commented_at_2019-03-04_1057"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2061#issuecomment-469210546">2019-03-04 10:57</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-03-04_1057" title="Permanent link">&para;</a></h4>
<p>@dcz01<br />
you should have a look at<br />
usr/share/rear/restore/TSM/default/400_restore_with_tsm.sh<br />
therein in particular things like <code>0&lt;&amp;6 1&gt;&amp;7 2&gt;&amp;8</code></p>
<h4 id="jsmeix_commented_at_2019-03-04_1105"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2061#issuecomment-469212978">2019-03-04 11:05</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-03-04_1105" title="Permanent link">&para;</a></h4>
<p>@dcz01<br />
right now I noticed in the comments in<br />
usr/share/rear/verify/TSM/default/389_check_TSM_connection.sh<br />
that you had been already involved in<br />
<a href="https://github.com/rear/rear/issues/1534#issuecomment-351067465">https://github.com/rear/rear/issues/1534#issuecomment-351067465</a><br />
where to me as a non-TSM user is looked as if in<br />
usr/share/rear/verify/TSM/default/389_check_TSM_connection.sh</p>
<pre><code>dsmc query session 0&lt;&amp;6 1&gt;&amp;7 2&gt;&amp;8
</code></pre>
<p>would be <code>enough for the prompt of the general TSM password</code><br />
cf. the comment there to that after that <code>dsmc query session</code><br />
the TSM password is known so that later in<br />
usr/share/rear/restore/TSM/default/400_restore_with_tsm.sh<br />
things would work without one more TSM password dialog<br />
so that during <code>dsmc restore</code> we can redirect both stdout and stderr<br />
into the backup restore log file?</p>
<h4 id="dcz01_commented_at_2019-03-04_1139"><img src="https://avatars.githubusercontent.com/u/20817288?v=4" width="50"><a href="https://github.com/dcz01">dcz01</a> commented at <a href="https://github.com/rear/rear/issues/2061#issuecomment-469222118">2019-03-04 11:39</a>:<a class="headerlink" href="#dcz01_commented_at_2019-03-04_1139" title="Permanent link">&para;</a></h4>
<p>@jsmeix @schabrolles Yes, that is right.<br />
The only thing i would like to have or it would also be good for all TSM
users here, is that ReaR regardless in which mode it was bootet (manual
or automatic restore), if the TSM password is not valid that i can enter
it manually.<br />
This actual works only in the manual restore mode when booting/booted
like shown in my picture.</p>
<p><img alt="1" src="https://user-images.githubusercontent.com/20817288/53731268-7ae0dd00-3e7a-11e9-9088-121f5c466940.JPG" /></p>
<h4 id="github-actions_commented_at_2020-06-28_0133"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/issues/2061#issuecomment-650665252">2020-06-28 01:33</a>:<a class="headerlink" href="#github-actions_commented_at_2020-06-28_0133" title="Permanent link">&para;</a></h4>
<p>Stale issue message</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2019-03-01.2061.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
