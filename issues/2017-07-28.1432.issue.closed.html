<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#1432 Issue closed: BTRFS subvolumes content are not backup in SLES12-SP2 - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#1432 Issue closed: BTRFS subvolumes content are not backup in SLES12-SP2";
        var mkdocs_page_input_path = "issues/2017-07-28.1432.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#1432 Issue closed: BTRFS subvolumes content are not backup in SLES12-SP2</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1432_issue_closed_btrfs_subvolumes_content_are_not_backup_in_sles12-sp2"><a href="https://github.com/rear/rear/issues/1432">#1432 Issue</a> <code>closed</code>: BTRFS subvolumes content are not backup in SLES12-SP2<a class="headerlink" href="#1432_issue_closed_btrfs_subvolumes_content_are_not_backup_in_sles12-sp2" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>fixed / solved / done</code></p>
<h4 id="schabrolles_opened_issue_at_2017-07-28_0815"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> opened issue at <a href="https://github.com/rear/rear/issues/1432">2017-07-28 08:15</a>:<a class="headerlink" href="#schabrolles_opened_issue_at_2017-07-28_0815" title="Permanent link">&para;</a></h4>
<h4 id="relax-and-recover_rear_issue_template">Relax-and-Recover (ReaR) Issue Template<a class="headerlink" href="#relax-and-recover_rear_issue_template" title="Permanent link">&para;</a></h4>
<p>Fill in the following items before submitting a new issue<br />
(quick response is not guaranteed with free support):</p>
<ul>
<li>rear version (/usr/sbin/rear -V): <strong>Relax-and-Recover 2.1-git</strong></li>
<li>OS version (cat /etc/rear/os.conf or lsb_release -a):</li>
</ul>
<!-- -->

<pre><code>NAME="SLES"
VERSION="12-SP2"
VERSION_ID="12.2"
PRETTY_NAME="SUSE Linux Enterprise Server 12 SP2"
ID="sles"
ANSI_COLOR="0;32"
CPE_NAME="cpe:/o:suse:sles:12:sp2"
sles12-sp2-seb:/var/log/rear #
</code></pre>
<ul>
<li>rear configuration files (cat /etc/rear/site.conf or cat
    /etc/rear/local.conf):</li>
</ul>
<!-- -->

<pre><code>OUTPUT=ISO
BACKUP=NETFS
BACKUP_URL=nfs://10.7.99.25/var/www/html/linux/rear
BACKUP_OPTIONS="nfsvers=4,nolock"

## SLES12

REQUIRED_PROGS=( "${REQUIRED_PROGS[@]}" snapper chattr lsattr )

COPY_AS_IS=( "${COPY_AS_IS[@]}" /usr/lib/snapper/installation-helper /etc/snapper/config-templates/default )

BACKUP_PROG_INCLUDE= ( '/usr/local/*' '/var/lib/pgsql/*' '/var/spool/*' '/var/opt/*' '/home/*' '/var/cache/*' '/var/lib/machines/*' '/var/lib/libvirt/images/*' '/opt/*' '/var/lib/mailman/*' '/var/tmp/*' '/srv/*' '/var/lib/mariadb/*' '/boot/grub2/powerpc-ieee1275/*' '/tmp/*' '/var/lib/mysql/*' '/var/lib/named/*' '/var/log/*' )

POST_RECOVERY_SCRIPT=( 'if snapper --no-dbus -r $TARGET_FS_ROOT get-config | grep -q "^QGROUP.*[0-9]/[0-9]" ; then snapper --no-dbus -r $TARGET_FS_ROOT set-config QGROUP= ; snapper --no-dbus -r $TARGET_FS_ROOT setup-quota &amp;&amp; echo snapper setup-quota done || echo snapper setup-quota failed ; else echo snapper setup-quota not used ; fi' )
</code></pre>
<ul>
<li>
<p>Are you using legacy BIOS or UEFI boot? : <strong>POWER ppc64le - PReP</strong></p>
</li>
<li>
<p>Brief description of the issue:</p>
</li>
</ul>
<p>ReaR Backup and Restore runs smoothly without any issue. But files
contained in btrfs subvolumes are not backuped up even if we specifed
the subvolumes in <code>BACKUP_PROG_INCLUDE</code> variable.</p>
<p>For example, analysing the backuplog generated show only <code>/var/spool</code>
directory, but not its content.</p>
<ul>
<li>Work-around, if any: -</li>
</ul>
<h4 id="jsmeix_commented_at_2017-07-28_0942"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1432#issuecomment-318609315">2017-07-28 09:42</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-07-28_0942" title="Permanent link">&para;</a></h4>
<p>For me with SLES12-SP2 on a x86_64 virtual KVM/QEMU machine<br />
it "just works" with current ReaR GitHub master code.</p>
<p>I use the BACKUP_PROG_INCLUDE values from<br />
conf/examples/SLE12-SP2-btrfs-example.conf</p>
<pre>
# grep  ^BACKUP_PROG_INCLUDE etc/rear/local.conf | tr ' ' '\n' 

BACKUP_PROG_INCLUDE=(
'/var/cache/*'
'/var/lib/mailman/*'
'/var/tmp/*'
'/var/lib/pgsql/*'
'/usr/local/*'
'/opt/*'
'/var/lib/libvirt/images/*'
'/boot/grub2/i386/*'
'/var/opt/*'
'/srv/*'
'/boot/grub2/x86_64/*'
'/var/lib/mariadb/*'
'/var/spool/*'
'/var/lib/mysql/*'
'/tmp/*'
'/home/*'
'/var/log/*'
'/var/lib/named/*'
'/var/lib/machines/*'
)
</pre>

<p>The backup.log on my NFS server (for "rear -d -D mkbackup")<br />
contains in particular this 'tar' command call:</p>
<pre>
# grep '^++ tar --warning' backup.log | fold -s -w70

++ tar --warning=no-xdev --sparse --block-number --totals --verbose 
--no-wildcards-match-slash --one-file-system --ignore-failed-read 
--anchored --gzip -X /tmp/rear.jCyzvWhHsTXhBq4/tmp/backup-exclude.txt 
-C / -c -f - /var/cache/cups /var/cache/fontconfig /var/cache/gio-2.0 
/var/cache/krb5rcache /var/cache/ldconfig /var/cache/man 
/var/cache/multipath /var/cache/zypp 
/var/tmp/systemd-private-4b26b95b255c4141b6d6faed5a1b9d16-spice-vdagen
td.service-ClKFKX /usr/local/bin /usr/local/games /usr/local/include 
/usr/local/lib /usr/local/lib64 /usr/local/man /usr/local/sbin 
/usr/local/share /usr/local/src /srv/ftp /srv/www /var/spool/atjobs 
/var/spool/atspool /var/spool/audit /var/spool/clientmqueue 
/var/spool/cron /var/spool/cups /var/spool/locks /var/spool/lpd 
/var/spool/mail /var/spool/plymouth /var/spool/postfix 
/var/spool/rsyslog /var/spool/uucp /tmp/gpg-ZPKcFo 
/tmp/rear.jCyzvWhHsTXhBq4 
/tmp/systemd-private-4b26b95b255c4141b6d6faed5a1b9d16-spice-vdagentd.s
ervice-o3VEwM /home/johannes /var/log/NetworkManager 
/var/log/Xorg.0.log /var/log/YaST2 /var/log/acpid 
/var/log/alternatives.log /var/log/audit /var/log/boot.log 
/var/log/btmp /var/log/cups /var/log/dump /var/log/faillog 
/var/log/firewall /var/log/krb5 /var/log/lastlog /var/log/mail 
/var/log/mail.err /var/log/mail.info /var/log/mail.warn 
/var/log/messages /var/log/news /var/log/ntp /var/log/pbl.log 
/var/log/samba /var/log/snapper.log /var/log/warn /var/log/wtmp 
/var/log/xdm.errors /var/log/zypp /var/log/zypper.log / 
/root/rear.master/var/log/rear/rear-d50.log
</pre>

<p>On the system where I run "rear -d -D mkbackup"<br />
(with KEEP_BUILD_DIR="yes") the<br />
/tmp/rear.jCyzvWhHsTXhBq4/tmp/backup-include.txt<br />
file contains</p>
<pre>
/var/cache/*
/var/lib/mailman/*
/var/tmp/*
/var/lib/pgsql/*
/usr/local/*
/opt/*
/var/lib/libvirt/images/*
/boot/grub2/i386/*
/var/opt/*
/srv/*
/boot/grub2/x86_64/*
/var/lib/mariadb/*
/var/spool/*
/var/lib/mysql/*
/tmp/*
/home/*
/var/log/*
/var/lib/named/*
/var/lib/machines/*
/
</pre>

<p>i.e. the BACKUP_PROG_INCLUDE array members<br />
plus a '/' at the end and the<br />
/tmp/rear.jCyzvWhHsTXhBq4/tmp/backup-exclude.txt<br />
file only contains</p>
<pre>
/tmp/*
/dev/shm/*
/root/rear.master/var/lib/rear/output/*
</pre>

<p>so that my backup.tar.gz in particular contains<br />
only the plain tmp/ directory but not its contents.</p>
<p>On my NFS server I get a backup.tar.gz that contains<br />
e.g. for /var/spool</p>
<pre>
# tar -tf backup.tar.gz | grep 'var/spool/' | sort        
var/spool/
var/spool/atjobs/
var/spool/atjobs/.SEQ
var/spool/atspool/
var/spool/audit/
var/spool/clientmqueue/
var/spool/cron/
var/spool/cron/lastrun/
var/spool/cron/lastrun/cron.daily
var/spool/cron/lastrun/cron.hourly
var/spool/cron/lastrun/cron.monthly
var/spool/cron/lastrun/cron.weekly
var/spool/cron/tabs/
var/spool/cups/
var/spool/cups/tmp/
var/spool/locks
var/spool/lpd/
var/spool/mail/
var/spool/plymouth/
var/spool/postfix/
var/spool/postfix/active/
var/spool/postfix/bounce/
var/spool/postfix/corrupt/
var/spool/postfix/defer/
var/spool/postfix/deferred/
var/spool/postfix/flush/
var/spool/postfix/hold/
var/spool/postfix/incoming/
var/spool/postfix/maildrop/
var/spool/postfix/pid/
var/spool/postfix/pid/master.pid
var/spool/postfix/private/
var/spool/postfix/public/
var/spool/postfix/public/pickup
var/spool/postfix/public/qmgr
var/spool/postfix/saved/
var/spool/postfix/trace/
var/spool/rsyslog/
var/spool/uucp/
var/spool/uucp/uucp/
</pre>

<p>and I get all them back on another x86_64 virtual KVM/QEMU machine<br />
where I run "rear recover".</p>
<p>FYI<br />
there are some special files in /var/spool/postfix<br />
on the original system that are not in the backup<br />
because those files are sockets, namely</p>
<pre>
/var/spool/postfix/private/anvil: socket
/var/spool/postfix/private/bounce: socket
/var/spool/postfix/private/defer: socket
/var/spool/postfix/private/discard: socket
/var/spool/postfix/private/error: socket
/var/spool/postfix/private/lmtp: socket
/var/spool/postfix/private/local: socket
/var/spool/postfix/private/proxymap: socket
/var/spool/postfix/private/proxywrite: socket
/var/spool/postfix/private/relay: socket
/var/spool/postfix/private/retry: socket
/var/spool/postfix/private/rewrite: socket
/var/spool/postfix/private/scache: socket
/var/spool/postfix/private/smtp: socket
/var/spool/postfix/private/trace: socket
/var/spool/postfix/private/verify: socket
/var/spool/postfix/private/virtual: socket
/var/spool/postfix/public/cleanup: socket
/var/spool/postfix/public/flush: socket
/var/spool/postfix/public/showq: socket
</pre>

<h4 id="jsmeix_commented_at_2017-07-28_0945"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1432#issuecomment-318609802">2017-07-28 09:45</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-07-28_0945" title="Permanent link">&para;</a></h4>
<p>@schabrolles<br />
do you have your SLES12-SP2 new installed from scratch<br />
or is your SLES12-SP2 a service pack update e.g. from<br />
a SLES12-SP1 or from a SLES12-SP0/GA system?</p>
<h4 id="schabrolles_commented_at_2017-07-28_0957"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1432#issuecomment-318612437">2017-07-28 09:57</a>:<a class="headerlink" href="#schabrolles_commented_at_2017-07-28_0957" title="Permanent link">&para;</a></h4>
<p>@jsmeix it is a pure SLES12-SP2 from DVD</p>
<h4 id="schabrolles_commented_at_2017-07-28_1004"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1432#issuecomment-318613958">2017-07-28 10:04</a>:<a class="headerlink" href="#schabrolles_commented_at_2017-07-28_1004" title="Permanent link">&para;</a></h4>
<p>@jsmeix<br />
Ok I got it ... my mistake !! (Shame on Me)</p>
<p>There is a "space" between <code>BACKUP_PROG_INCLUDE=</code> and the first <code>(</code><br />
it works if I remove it.</p>
<h4 id="jsmeix_commented_at_2017-07-28_1152"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1432#issuecomment-318632653">2017-07-28 11:52</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-07-28_1152" title="Permanent link">&para;</a></h4>
<p>@schabrolles<br />
thank you so much for your fast "all-clear" reply.</p>
<p>I got a bit nervous what obscure stuff might happen here<br />
that may keep my mind subliminally busy over the weekend.</p>
<p>It seems you are a bit unlucky with "too much spaces", cf.<br />
<a href="https://github.com/rear/rear/pull/1356/files">https://github.com/rear/rear/pull/1356/files</a><br />
;-)</p>
<p>Enjoy your weekend!</p>
<h4 id="schabrolles_commented_at_2017-07-28_1203"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1432#issuecomment-318634640">2017-07-28 12:03</a>:<a class="headerlink" href="#schabrolles_commented_at_2017-07-28_1203" title="Permanent link">&para;</a></h4>
<p>@jsmeix :-) Arrrg ... +1 point ...</p>
<p>I've tweaked a little my <code>local.conf</code> to make this <code>BACKUP_PROG_INCLUDE</code>
variable more dynamic.<br />
It will avoid a new created btrfs subvolume to be excluded from the
backup because the variable was not updated.</p>
<pre><code>## SLES12

REQUIRED_PROGS=( "${REQUIRED_PROGS[@]}" snapper chattr lsattr )

COPY_AS_IS=( "${COPY_AS_IS[@]}" /usr/lib/snapper/installation-helper /etc/snapper/config-templates/default )

for subvol in $(findmnt -n -r -t btrfs | cut -d ' ' -f 1 | grep -v '^/$' | egrep -v 'snapshots|crash') ; do
        BACKUP_PROG_INCLUDE=( "${BACKUP_PROG_INCLUDE[@]}" "$subvol" )
done

POST_RECOVERY_SCRIPT=( 'if snapper --no-dbus -r $TARGET_FS_ROOT get-config | grep -q "^QGROUP.*[0-9]/[0-9]" ; then snapper --no-dbus -r $TARGET_FS_ROOT set-config QGROUP= ; snapper --no-dbus -r $TARGET_FS_ROOT setup-quota &amp;&amp; echo snapper setup-quota done || echo snapper setup-quota failed ; else echo snapper setup-quota not used ; fi' )
</code></pre>
<p>but I think it could be better to add this stuff in a script that manage
"btrfs backup"...<br />
The best would be to mask this btrfs backup complexity to the user.</p>
<h4 id="jsmeix_commented_at_2017-07-28_1233"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1432#issuecomment-318640154">2017-07-28 12:33</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-07-28_1233" title="Permanent link">&para;</a></h4>
<p>As soon as I really understand the SUSE btrfs complexity<br />
I could try to remove that complexity from the user, but cf.<br />
<a href="https://github.com/rear/rear/issues/1368#issuecomment-302410707">https://github.com/rear/rear/issues/1368#issuecomment-302410707</a></p>
<p>Regarding the btrfs backup complexity:<br />
I do not know what btrfs subvolumes should be in the backup.<br />
Just all of them (except snapshots except those snapshot<br />
that is currently mounted at '/')?<br />
Perhaps your proposal how to make BACKUP_PROG_INCLUDE<br />
more dynamic is a good starting point for a reasonable<br />
default behaviour.<br />
In the end the user must still check if the default behaviour<br />
is what he wants and if not he can and must adapt his config.<br />
I only like to avoid that users blindly trust the defaults<br />
and later complain when "rear recover" does not result<br />
what they had expected (but never verified), cf.<br />
<a href="https://github.com/rear/rear/wiki/Developers-Guide">https://github.com/rear/rear/wiki/Developers-Guide</a></p>
<p>Regarding "new created btrfs subvolume":<br />
Careful with that on SLE12!<br />
Regarding how complicate it is to create an additional<br />
btrfs subvolume in compliance with the SLE12<br />
default btrfs subvolume structure, you may have a look<br />
at my (meanwhile probably already somewhat outdated)<br />
selfmade personal quick and dirty script in<br />
<a href="https://lists.opensuse.org/opensuse-factory/2016-10/msg00397.html">https://lists.opensuse.org/opensuse-factory/2016-10/msg00397.html</a></p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2017-07-28.1432.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
