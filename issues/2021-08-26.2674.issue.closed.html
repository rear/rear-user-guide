<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2674 Issue closed: Failed to make bootable EFI image of GRUB2 - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2674 Issue closed: Failed to make bootable EFI image of GRUB2";
        var mkdocs_page_input_path = "issues/2021-08-26.2674.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#2674 Issue closed: Failed to make bootable EFI image of GRUB2</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2674_issue_closed_failed_to_make_bootable_efi_image_of_grub2"><a href="https://github.com/rear/rear/issues/2674">#2674 Issue</a> <code>closed</code>: Failed to make bootable EFI image of GRUB2<a class="headerlink" href="#2674_issue_closed_failed_to_make_bootable_efi_image_of_grub2" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>fixed / solved / done</code></p>
<h4 id="nmaheve_opened_issue_at_2021-08-26_1733"><img src="https://avatars.githubusercontent.com/u/89590205?v=4" width="50"><a href="https://github.com/nmaheve">nmaheve</a> opened issue at <a href="https://github.com/rear/rear/issues/2674">2021-08-26 17:33</a>:<a class="headerlink" href="#nmaheve_opened_issue_at_2021-08-26_1733" title="Permanent link">&para;</a></h4>
<h4 id="relax-and-recover_rear_issue_template">Relax-and-Recover (ReaR) Issue Template<a class="headerlink" href="#relax-and-recover_rear_issue_template" title="Permanent link">&para;</a></h4>
<p>Fill in the following items before submitting a new issue<br />
(quick response is not guaranteed with free support):</p>
<ul>
<li>
<p>ReaR version ("/usr/sbin/rear -V"): Relax-and-Recover 2.6 / Git</p>
</li>
<li>
<p>OS version ("cat /etc/os-release" or "lsb_release -a" or "cat
    /etc/rear/os.conf"):</p>
</li>
</ul>
<!-- -->

<pre><code>NAME="Red Hat Enterprise Linux Server"
VERSION="7.9 (Maipo)"
ID="rhel"
ID_LIKE="fedora"
VARIANT="Server"
VARIANT_ID="server"
VERSION_ID="7.9"
PRETTY_NAME=RHEL
ANSI_COLOR="0;31"
CPE_NAME="cpe:/o:redhat:enterprise_linux:7.9:GA:server"
HOME_URL="https://www.redhat.com/"
BUG_REPORT_URL="https://bugzilla.redhat.com/"

REDHAT_BUGZILLA_PRODUCT="Red Hat Enterprise Linux 7"
REDHAT_BUGZILLA_PRODUCT_VERSION=7.9
REDHAT_SUPPORT_PRODUCT="Red Hat Enterprise Linux"
REDHAT_SUPPORT_PRODUCT_VERSION="7.9"
</code></pre>
<ul>
<li>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
    /etc/rear/local.conf"):</li>
</ul>
<!-- -->

<pre><code>[root@testl07dc ~]# cat /etc/rear/local.conf
# This file etc/rear/local.conf is intended for the user's
# manual configuration of Relax-and-Recover (ReaR).
# For configuration through packages and other automated means
# we recommend a separated file named site.conf next to this file
# and leave local.conf as is (ReaR upstream will never ship a site.conf).
# The default OUTPUT=ISO creates the ReaR rescue medium as ISO image.
# You need to specify your particular backup and restore method for your data
# as the default BACKUP=REQUESTRESTORE does not really do that (see "man rear").
# Configuration variables are documented in /usr/share/rear/conf/default.conf
# and the examples in /usr/share/rear/conf/examples/ can be used as templates.
# ReaR reads the configuration files via the bash builtin command 'source'
# so bash syntax like VARIABLE="value" (no spaces at '=') is mandatory.
# Because 'source' executes the content as bash scripts you can run commands
# within your configuration files, in particular commands to set different
# configuration values depending on certain conditions as you need like
# CONDITION_COMMAND &amp;&amp; VARIABLE="special_value" || VARIABLE="usual_value"
# but that means CONDITION_COMMAND gets always executed when 'rear' is run
# so ensure nothing can go wrong if you run commands in configuration files.
# Sets output to an be an ISO file
OUTPUT=ISO
# # Specifies CDM as the backup and recovery application
BACKUP=CDM

export LD_LIBRARY_PATH="$LD_LIBRARY_PATH:/usr/lib64/bind9-export"
</code></pre>
<ul>
<li>
<p>Hardware (PC or PowerNV BareMetal or ARM) or virtual machine (KVM
    guest or PoverVM LPAR):<br />
    PHYSICAL SERVER</p>
</li>
<li>
<p>System architecture (x86 compatible or PPC64/PPC64LE or what exact
    ARM device):<br />
    x86_64 x86_64 x86_64</p>
</li>
<li>
<p>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or
    ELILO or Petitboot):<br />
    UEFI &amp; GRUB2<br />
    /boot/efi/EFI/redhat/grubx64.efi' as UEFI bootloader file</p>
</li>
<li>
<p>Storage (local disk or SSD) and/or SAN (FC or iSCSI or FCoE) and/or
    multipath (DM or NVMe):<br />
    local disk - SATA</p>
</li>
<li>
<p>Storage layout ("lsblk -ipo
    NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,SIZE,MOUNTPOINT" or "lsblk" as
    makeshift):<br />
    Storage layout:</p>
</li>
</ul>
<!-- -->

<pre><code>[root@testl07dc ~]# lsblk
NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
sda 8:0 0 279.4G 0 disk
├─sda1 8:1 0 1000M 0 part
├─sda2 8:2 0 2G 0 part
├─sda3 8:3 0 90G 0 part
│ ├─rhel-home 253:0 0 20G 0 lvm
│ ├─rhel-root 253:1 0 100G 0 lvm
│ ├─rhel-var 253:2 0 20G 0 lvm
│ ├─rhel-tmp 253:3 0 10G 0 lvm
│ ├─rhel-swap 253:4 0 10G 0 lvm
│ └─rhel-opt 253:5 0 20G 0 lvm
├─sda4 8:4 0 2G 0 part /boot/efi
├─sda5 8:5 0 2G 0 part /boot
└─sda6 8:6 0 30G 0 part /var

sdb 8:16 0 279.4G 0 disk
├─sdb1 8:17 0 90G 0 part
│ └─rhel-root 253:1 0 100G 0 lvm
└─sdb2 8:18 0 189.4G 0 part /
</code></pre>
<ul>
<li>
<p>Description of the issue (ideally so that others can reproduce it):</p>
</li>
<li>
<p>Workaround, if any:</p>
</li>
<li>
<p>Attachments, as applicable ("rear -D mkrescue/mkbackup/recover"
    debug log files):</p>
</li>
</ul>
<h4 id="nmaheve_commented_at_2021-08-26_1735"><img src="https://avatars.githubusercontent.com/u/89590205?v=4" width="50"><a href="https://github.com/nmaheve">nmaheve</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-906606887">2021-08-26 17:35</a>:<a class="headerlink" href="#nmaheve_commented_at_2021-08-26_1735" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/rear/rear/files/7061687/rear-testl07dc.log">rear-testl07dc.log</a></p>
<h4 id="gdha_commented_at_2021-08-27_0720"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-906985563">2021-08-27 07:20</a>:<a class="headerlink" href="#gdha_commented_at_2021-08-27_0720" title="Permanent link">&para;</a></h4>
<p>@nmaheve Please fill in a correct issue title and something with the
description when you fill in a template, otherwise, you make it hard for
us to find out what the problem is. Remember, we do this for free! So
this is my best guess:</p>
<pre><code>2021-08-10 13:49:44.409619164 grub2-mkstandalone may fail to make a bootable EFI image of GRUB2 (no /usr/*/grub*/x86_64-efi/moddep.lst file)
2021-08-10 13:49:44.413801903 GRUB2 modules to load: fat part_gpt xfs
2021-08-10 13:49:44.434441145 Some messages from /var/tmp/rear.EfGoBXYia75mbzQ/tmp/rear.mkrescue.stdout_stderr since the last called script 250_populate_efibootimg.sh:
  /usr/share/rear/lib/_input-output-functions.sh: line 510: type: grub-mkstandalone: not found
  /usr/share/rear/lib/_input-output-functions.sh: line 510: type: grub-probe: not found
  grub2-mkstandalone: error: /usr/lib/grub/x86_64-efi/modinfo.sh doesn't exist. Please specify --target or --directory.
2021-08-10 13:49:44.439265888 ERROR: Failed to make bootable EFI image of GRUB2 (error during grub2-mkstandalone of /var/tmp/rear.EfGoBXYia75mbzQ/tmp/mnt/EFI/BOOT/BOOTX64.efi)
</code></pre>
<p>Can you confirm package grub2-efi-x64-modules is present on your system?
See also issue #2600</p>
<h4 id="nmaheve_commented_at_2021-08-27_1254"><img src="https://avatars.githubusercontent.com/u/89590205?v=4" width="50"><a href="https://github.com/nmaheve">nmaheve</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-907180994">2021-08-27 12:54</a>:<a class="headerlink" href="#nmaheve_commented_at_2021-08-27_1254" title="Permanent link">&para;</a></h4>
<p>This is not installed on server</p>
<h4 id="gdha_commented_at_2021-08-27_1329"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-907204436">2021-08-27 13:29</a>:<a class="headerlink" href="#gdha_commented_at_2021-08-27_1329" title="Permanent link">&para;</a></h4>
<blockquote>
<p>This is not installed on server</p>
</blockquote>
<p>@nmaheve install the package and retry, ok?</p>
<h4 id="nmaheve_commented_at_2021-08-27_1332"><img src="https://avatars.githubusercontent.com/u/89590205?v=4" width="50"><a href="https://github.com/nmaheve">nmaheve</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-907206058">2021-08-27 13:32</a>:<a class="headerlink" href="#nmaheve_commented_at_2021-08-27_1332" title="Permanent link">&para;</a></h4>
<p>Classification: Confidential</p>
<p>Sure will install and let u know</p>
<p>Thanks ,<br />
Nikhil Maheve</p>
<h4 id="nmaheve_commented_at_2021-08-27_1407"><img src="https://avatars.githubusercontent.com/u/89590205?v=4" width="50"><a href="https://github.com/nmaheve">nmaheve</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-907230394">2021-08-27 14:07</a>:<a class="headerlink" href="#nmaheve_commented_at_2021-08-27_1407" title="Permanent link">&para;</a></h4>
<p>we have insatlled</p>
<p>[root@testl07dc ~]# rpm -q grub2-efi-x64-modules<br />
grub2-efi-x64-modules-2.02-0.87.el7_9.6.noarch</p>
<h4 id="nmaheve_commented_at_2021-08-27_1530"><img src="https://avatars.githubusercontent.com/u/89590205?v=4" width="50"><a href="https://github.com/nmaheve">nmaheve</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-907287488">2021-08-27 15:30</a>:<a class="headerlink" href="#nmaheve_commented_at_2021-08-27_1530" title="Permanent link">&para;</a></h4>
<p>We have installed the package on server ..</p>
<p>Here is the output..<br />
***@***.*** ~]# rpm -qa | grep grub2-efi-x64-modules<br />
grub2-efi-x64-modules-2.02-0.87.el7_9.6.noarch<br />
***@***.*** ~]#</p>
<h4 id="nmaheve_commented_at_2021-08-27_1803"><img src="https://avatars.githubusercontent.com/u/89590205?v=4" width="50"><a href="https://github.com/nmaheve">nmaheve</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-907378058">2021-08-27 18:03</a>:<a class="headerlink" href="#nmaheve_commented_at_2021-08-27_1803" title="Permanent link">&para;</a></h4>
<p>please refer the log file after installing package i have run the
command<br />
<a href="https://github.com/rear/rear/files/7068766/log.txt">log.txt</a></p>
<h4 id="nmaheve_commented_at_2021-08-30_1334"><img src="https://avatars.githubusercontent.com/u/89590205?v=4" width="50"><a href="https://github.com/nmaheve">nmaheve</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-908348453">2021-08-30 13:34</a>:<a class="headerlink" href="#nmaheve_commented_at_2021-08-30_1334" title="Permanent link">&para;</a></h4>
<p>Classification: Confidential<br />
Hello Support team</p>
<p>Do we have any update on this ..<br />
We have installed the package on server , and after installation I have
tried to run the rear -D mkrescue but still we are same error .</p>
<p>I have uploaded the log file as well on portal , requesting you to
please help us here to resolve this issue</p>
<p>Thanks ,<br />
Nikhil Maheve</p>
<h4 id="gdha_commented_at_2021-08-30_1519"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-908432250">2021-08-30 15:19</a>:<a class="headerlink" href="#gdha_commented_at_2021-08-30_1519" title="Permanent link">&para;</a></h4>
<p>@nmaheve The Grub2 creation was successful, however, you have some
missing libraries:</p>
<pre><code>Testing each binary with 'ldd' and look for 'not found' libraries within the recovery system
/usr/lib64/eog/plugins/libfullscreen.so requires additional libraries
        libeog.so =&gt; not found
/usr/lib64/eog/plugins/libreload.so requires additional libraries
        libeog.so =&gt; not found
/usr/lib64/eog/plugins/libstatusbar-date.so requires additional libraries
        libeog.so =&gt; not found
/usr/lib64/samba/pdb/smbpasswd.so requires additional libraries
</code></pre>
<p>Try to change the following
<a href="https://github.com/rear/rear/blob/master/usr/share/rear/conf/default.conf#L1818">entry</a>
in the /etc/rear/.local.conf file:</p>
<pre><code>COPY_AS_IS_CDM=( /etc/rubrik /usr/bin/rubrik /var/log/rubrik /etc/pki /usr/lib64/*)
</code></pre>
<h4 id="nmaheve_commented_at_2021-08-30_1634"><img src="https://avatars.githubusercontent.com/u/89590205?v=4" width="50"><a href="https://github.com/nmaheve">nmaheve</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-908495015">2021-08-30 16:34</a>:<a class="headerlink" href="#nmaheve_commented_at_2021-08-30_1634" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/rear/rear/files/7078116/log.txt">log.txt</a><br />
please have done the changes<br />
we have copied complete COPY_AS_IS_CDM=( /etc/rubrik /usr/bin/rubrik
/var/log/rubrik /etc/pki /usr/lib64/*)<br />
in .local.conf file</p>
<p>please suggest</p>
<h4 id="nmaheve_commented_at_2021-09-01_1318"><img src="https://avatars.githubusercontent.com/u/89590205?v=4" width="50"><a href="https://github.com/nmaheve">nmaheve</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-910277438">2021-09-01 13:18</a>:<a class="headerlink" href="#nmaheve_commented_at_2021-09-01_1318" title="Permanent link">&para;</a></h4>
<p>hello Support ,</p>
<p>please suggest we are waiting for your response ..</p>
<h4 id="gdha_commented_at_2021-09-01_1528"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-910396356">2021-09-01 15:28</a>:<a class="headerlink" href="#gdha_commented_at_2021-09-01_1528" title="Permanent link">&para;</a></h4>
<p>@nmaheve Please check where on your live system these missing libraries,
e.g. libeog.so, resides. E.g. try<br />
<code>find /  -name "libeog.so*"</code> to find the path. If that path is different
then <code>/usr/lib64</code> add it to the variable <code>COPY_AS_IS_CDM</code> (in assumption
you are still using <code>BACKUP=CDM</code>)</p>
<h4 id="nmaheve_commented_at_2021-09-01_1602"><img src="https://avatars.githubusercontent.com/u/89590205?v=4" width="50"><a href="https://github.com/nmaheve">nmaheve</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-910428252">2021-09-01 16:02</a>:<a class="headerlink" href="#nmaheve_commented_at_2021-09-01_1602" title="Permanent link">&para;</a></h4>
<p>here is the output of local.conf file</p>
<pre><code>OUTPUT=ISO
# # Specifies CDM as the backup and recovery application
#BACKUP=CDM
export LD_LIBRARY_PATH="$LD_LIBRARY_PATH:/usr/lib64/bind9-export"
COPY_AS_IS_CDM=( /etc/rubrik /usr/bin/rubrik /var/log/rubrik /etc/pki /usr/lib64/*
</code></pre>
<p>we have commented the backup=CDM<br />
after that we have run the rear -D mkrescue and the output is attached
here<br />
<a href="https://github.com/rear/rear/files/7092708/log.txt">log.txt</a></p>
<h4 id="gdha_commented_at_2021-09-01_1652"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-910469186">2021-09-01 16:52</a>:<a class="headerlink" href="#gdha_commented_at_2021-09-01_1652" title="Permanent link">&para;</a></h4>
<p>@nmaheve If you comment out <code>BACKUP=CDM</code> then the line <code>COPY_AS_IS_CDM</code>
will not be used. And, did you forget to end it with <code>)</code> ?<br />
Within ReaR everything is a bash script, so you can test it with
<code>bash -n /etc/rear/local.conf</code> (should not complain).</p>
<p>What is the content of <code>ls /etc/ld.so.conf.d/</code> ? I think within ReaR
root fs the /etc/ld.so.conf file is missing a library path. For example,
for Legato we had to add something like
<code>/usr/share/rear/build/NSR/default/550_add_nsr_libs_to_ldsoconf.sh</code> to
add some missing library paths. Could be an equivalent issue.</p>
<h4 id="pcahyna_commented_at_2021-09-01_1719"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-910491442">2021-09-01 17:19</a>:<a class="headerlink" href="#pcahyna_commented_at_2021-09-01_1719" title="Permanent link">&para;</a></h4>
<p>Concerning the original issue.</p>
<blockquote>
<p>Can you confirm package grub2-efi-x64-modules is present on your
system? See also issue #2600</p>
</blockquote>
<p>There are several reports of the same issue, like #1193 and #2524 . As
you can see from
<a href="https://github.com/rear/rear/issues/1193#issuecomment-451450705">https://github.com/rear/rear/issues/1193#issuecomment-451450705</a>,
I proposed to add a warning that hints what package to install, but at
the end a more generic message was chosen:
<a href="https://github.com/rear/rear/issues/1193#issuecomment-452617591">https://github.com/rear/rear/issues/1193#issuecomment-452617591</a>
that does not mention the specific package:</p>
<blockquote>
<p>If we detect something is missing, we will not tell the user what
software package<br />
(e.g. a rpm or deb package or whatever else) he must install to get
the missing piece<br />
because we cannot continuously track and maintain for all those
various kind<br />
of different Linux distributions what particular software package
provides<br />
what program or file in what version of each Linux distribution.</p>
</blockquote>
<h4 id="jsmeix_commented_at_2021-09-03_0852"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-912374865">2021-09-03 08:52</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-09-03_0852" title="Permanent link">&para;</a></h4>
<p>@pcahyna<br />
to avoid misunderstandings:</p>
<p>My statement in<br />
<a href="https://github.com/rear/rear/issues/1193#issuecomment-452617591">https://github.com/rear/rear/issues/1193#issuecomment-452617591</a><br />
that we will not tell the user what software package is missing<br />
was meant for the generic code in ReaR, cf. what @gdha wrote in<br />
<a href="https://github.com/rear/rear/issues/1193#issuecomment-451450705">https://github.com/rear/rear/issues/1193#issuecomment-451450705</a><br />
"if we decide to add this we should verify the OS version".</p>
<p>So we could have distribution specific code provided:</p>
<p>Distribution specific code is properly conditioned.<br />
See the <code>SetOSVendorAndVersion</code> function in lib/config-functions.sh<br />
what variables are set how to which vaules to distinguish between<br />
different distributions and distribution versions.<br />
See layout/prepare/Linux-s390/205_s390_enable_disk.sh<br />
for an example of distribution specific code inside a script.</p>
<p>AND</p>
<p>There is someone who continuously tracks and maintains<br />
distribution specific code to keep it up to date in the future.</p>
<p>By the way as an additional side note<br />
in general regarding the word "WARNING" in messages see<br />
<a href="https://schlomo.schapiro.org/2015/04/warning-is-waste-of-my-time.html">https://schlomo.schapiro.org/2015/04/warning-is-waste-of-my-time.html</a><br />
and for background information see<br />
<a href="https://github.com/rear/rear/issues/564#issuecomment-86188528">https://github.com/rear/rear/issues/564#issuecomment-86188528</a><br />
and the subsequent comments therein.</p>
<h4 id="pcahyna_commented_at_2021-09-15_1839"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-920282001">2021-09-15 18:39</a>:<a class="headerlink" href="#pcahyna_commented_at_2021-09-15_1839" title="Permanent link">&para;</a></h4>
<p>@jsmeix thanks for the clarification, this separation of
distribution-specific code makes sense. I will resubmit the change in a
way that respects the separation.<br />
Concerning WARNING, I think it can be justified if it explains an error
that is expected to happen in the next step (so that in the output you
see the error immediately preceded by the warning that explains its
likely cause and action to take). Of course, the explanatory message
could be printed only when the actual error occurs, but then it will be
harder to maintain it separately in a distribution-specific code.</p>
<h4 id="bbabaria_commented_at_2021-09-29_1610"><img src="https://avatars.githubusercontent.com/u/91617773?v=4" width="50"><a href="https://github.com/bbabaria">bbabaria</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-930322376">2021-09-29 16:10</a>:<a class="headerlink" href="#bbabaria_commented_at_2021-09-29_1610" title="Permanent link">&para;</a></h4>
<p>Thank you<br />
I already tried that method to exclude those library and getting error
"rubrik cluster couldn't connect to the agent while run restore using
that ISO (size is decreased to 733MB to 300MB)</p>
<h4 id="pcahyna_commented_at_2021-10-05_1757"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-934636367">2021-10-05 17:57</a>:<a class="headerlink" href="#pcahyna_commented_at_2021-10-05_1757" title="Permanent link">&para;</a></h4>
<p>Hello @DamaniN, you wrote the Rubrik CDM support, could you please help
here?</p>
<h4 id="damanin_commented_at_2021-10-06_0018"><img src="https://avatars.githubusercontent.com/u/37876601?u=832a55ad26fa192d411932dcf7a9f13187d79380&v=4" width="50"><a href="https://github.com/DamaniN">DamaniN</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-935130847">2021-10-06 00:18</a>:<a class="headerlink" href="#damanin_commented_at_2021-10-06_0018" title="Permanent link">&para;</a></h4>
<p>@bbabaria,</p>
<p>Please refer to
<a href="https://github.com/rear/rear/issues/2685#issuecomment-935098986">https://github.com/rear/rear/issues/2685#issuecomment-935098986</a>
to troubleshoot the issue you are seeing.</p>
<h4 id="damanin_commented_at_2021-10-06_0019"><img src="https://avatars.githubusercontent.com/u/37876601?u=832a55ad26fa192d411932dcf7a9f13187d79380&v=4" width="50"><a href="https://github.com/DamaniN">DamaniN</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-935132710">2021-10-06 00:19</a>:<a class="headerlink" href="#damanin_commented_at_2021-10-06_0019" title="Permanent link">&para;</a></h4>
<p>@nmaheve,</p>
<p>Please update your <code>LD_LIBRARY_PATH</code> in the <code>local.conf</code> file to
include:</p>
<p><code>export LD_LIBRARY_PATH="$LD_LIBRARY_PATH:/usr/lib64/bind9-export:/usr/lib64/eog:/usr/lib64/python3.6/site-packages:/usr/lib64/samba:/usr/lib64/firefox:/usr/lib64/python3.6/site-packages/haw key:/usr/lib64/mutter-4"</code></p>
<h4 id="jsmeix_commented_at_2021-10-06_0920"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-935821409">2021-10-06 09:20</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-10-06_0920" title="Permanent link">&para;</a></h4>
<p>In general FYI regarding LD_LIBRARY_PATH:</p>
<p>In general using LD_LIBRARY_PATH is known to cause troubles, cf.<br />
<a href="https://github.com/rear/rear/issues/1907#issuecomment-434215448">https://github.com/rear/rear/issues/1907#issuecomment-434215448</a><br />
which links to<br />
<a href="https://www.hpc.dtu.dk/?page_id=1180">https://www.hpc.dtu.dk/?page_id=1180</a><br />
"LD_LIBRARY_PATH – or: How to get yourself into trouble!"<br />
which further links to<br />
<a href="http://xahlee.info/UnixResource_dir/_/ldpath.html">http://xahlee.info/UnixResource_dir/_/ldpath.html</a><br />
"Why LD_LIBRARY_PATH is bad"</p>
<p>In particular using <code>export LD_LIBRARY_PATH="..."</code><br />
is usually really bad, see<br />
<a href="https://www.hpc.dtu.dk/?page_id=1180">https://www.hpc.dtu.dk/?page_id=1180</a><br />
that reads (excerpt)</p>
<pre><code>Do NOT do:

$ export LD_LIBRARY_PATH=/path/to/lib1:/path/to/lib2:/path/to/lib3
$ ./myprog

since this will pollute the shell environment for all consecutive commands!

Never put LD_LIBRARY_PATH in your login profiles!
In that way you will expose all the applications you start
to this – probably problematic – path!
</code></pre>
<p>See also
<a href="https://github.com/rear/rear/issues/1927">https://github.com/rear/rear/issues/1927</a><br />
therein in particular starting at<br />
<a href="https://github.com/rear/rear/issues/1927#issuecomment-430254499">https://github.com/rear/rear/issues/1927#issuecomment-430254499</a></p>
<h4 id="bbabaria_commented_at_2021-10-06_1609"><img src="https://avatars.githubusercontent.com/u/91617773?v=4" width="50"><a href="https://github.com/bbabaria">bbabaria</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-936579403">2021-10-06 16:09</a>:<a class="headerlink" href="#bbabaria_commented_at_2021-10-06_1609" title="Permanent link">&para;</a></h4>
<p>Hi Pcahyna,</p>
<p>Please find the attached log files.<br />
Thank you,<br />
<a href="https://github.com/rear/rear/files/7295567/rear-njidlpuppet01.log">rear-njidlpuppet01.log</a></p>
<h4 id="nmaheve_commented_at_2021-10-19_1434"><img src="https://avatars.githubusercontent.com/u/89590205?v=4" width="50"><a href="https://github.com/nmaheve">nmaheve</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-946787891">2021-10-19 14:34</a>:<a class="headerlink" href="#nmaheve_commented_at_2021-10-19_1434" title="Permanent link">&para;</a></h4>
<p>We were not able to create ISO of the server. While running the command,
getting below error on RHEL 7.9.</p>
<p>ot@testl07dc ~]# rear -d -v mkbackup<br />
Relax-and-Recover 2.4 / Git<br />
Using log file: /var/log/rear/rear-testl07dc.log<br />
ERROR: EFI_STUB="" is incorrect option value pair.<br />
Aborting due to an error, check /var/log/rear/rear-testl07dc.log for
details<br />
Exiting rear mkbackup (PID 25024) and its descendant processes<br />
Running exit tasks<br />
Terminated</p>
<h4 id="marcus9467_commented_at_2021-11-05_1733"><img src="https://avatars.githubusercontent.com/u/41637724?u=c9aa9c7ad2f28a0c3f23aed9b337b49fe6d54a69&v=4" width="50"><a href="https://github.com/marcus9467">marcus9467</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-962084724">2021-11-05 17:33</a>:<a class="headerlink" href="#marcus9467_commented_at_2021-11-05_1733" title="Permanent link">&para;</a></h4>
<p>@nmaheve can you post an update on how you were able to create the ISO
on the original server?</p>
<p>I spent some time with the team this afternoon after they were able to
create an ISO from the RHEL 7.9 server. Attempting to recover presented
some additional challenges though.</p>
<p>Appended to the default /etc/rear/local.conf was:<br />
<code>export LD_LIBRARY_PATH="$LD_LIBRARY_PATH:/usr/lib64/bind9-export:/usr/lib64/eog:/usr/lib64/python3.6/site-packages:/usr/lib64/samba:/usr/lib64/firefox:/usr/lib64/python3.6/site-packages/hawkey:/usr/lib64/mutter-4"</code></p>
<p>After the recovery attempt the logs showed the following:<br />
<img alt="image
(1)" src="https://user-images.githubusercontent.com/41637724/140553572-3f050bae-403f-44b8-8ca0-a27987230cf2.png" /><br />
<img alt="image
(2)" src="https://user-images.githubusercontent.com/41637724/140553756-686293f3-b34b-4f0d-b077-557767822944.png" /></p>
<h4 id="nmaheve_commented_at_2021-11-09_1840"><img src="https://avatars.githubusercontent.com/u/89590205?v=4" width="50"><a href="https://github.com/nmaheve">nmaheve</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-964428651">2021-11-09 18:40</a>:<a class="headerlink" href="#nmaheve_commented_at_2021-11-09_1840" title="Permanent link">&para;</a></h4>
<p>Classification: Confidential<br />
Hello Support ,</p>
<p>We were facing issue while creating the As per Redhat recommendation, we
uninstall the rear packages provided by Rubrik and install the required
packages from Redhat repository. Then , tried to create backup using CDM
backup option and run command rear -v mkresuce to create ISO on path
/var/lib/rear/output. It ran successfully without any errors and ISO
image has been created as backup on the server.</p>
<p>Please refer the attached case history</p>
<p>Thanks ,<br />
Nikhil Maheve</p>
<p>From: marcus9467 ***@***.***&gt;<br />
Sent: Friday, November 5, 2021 11:03 PM<br />
To: rear/rear ***@***.***&gt;<br />
Cc: Nikhil Kumar Maheve ***@***.***&gt;; Mention
***@***.***&gt;<br />
Subject: Re: [rear/rear] Failed to make bootable EFI image of GRUB2
(#2674)</p>
<p>[CAUTION: This Email is from outside the Organization. Unless you trust
the sender, Don't click links or open attachments as it may be a
Phishing email, which can steal your Information and compromise your
Computer.]</p>
<p>@nmaheve<a href="https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fnmaheve&amp;data=04%7C01%7Cnikhilkumar.maheve%40hcl.com%7C8600e991c28e4afc0efe08d9a0825a56%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637717303997437577%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&amp;sdata=JajkbjrqxxY%2FBSpDRQZfwDoQzvwkSfssBZzGA8SnRY8%3D&amp;reserved=0">https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fnmaheve&amp;data=04%7C01%7Cnikhilkumar.maheve%40hcl.com%7C8600e991c28e4afc0efe08d9a0825a56%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637717303997437577%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&amp;sdata=JajkbjrqxxY%2FBSpDRQZfwDoQzvwkSfssBZzGA8SnRY8%3D&amp;reserved=0</a>
can you post an update on how you were able to create the ISO on the
original server?</p>
<p>I spent some time with the team this afternoon after they were able to
create an ISO from the RHEL 7.9 server. Attempting to recover presented
some additional challenges though.</p>
<p>Appended to the default /etc/rear/local.conf was:<br />
export
LD_LIBRARY_PATH="$LD_LIBRARY_PATH:/usr/lib64/bind9-export:/usr/lib64/eog:/usr/lib64/python3.6/site-packages:/usr/lib64/samba:/usr/lib64/firefox:/usr/lib64/python3.6/site-packages/hawkey:/usr/lib64/mutter-4"</p>
<p>After the recovery attempt the logs showed the following:<br />
[image
(1)]<a href="https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fuser-images.githubusercontent.com%2F41637724%2F140553572-3f050bae-403f-44b8-8ca0-a27987230cf2.png&amp;data=04%7C01%7Cnikhilkumar.maheve%40hcl.com%7C8600e991c28e4afc0efe08d9a0825a56%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637717303997447536%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&amp;sdata=xvJsmNT65YoblVCmJkGpw%2B7IWMWppk6PbxlQ7%2B4e0HA%3D&amp;reserved=0">https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fuser-images.githubusercontent.com%2F41637724%2F140553572-3f050bae-403f-44b8-8ca0-a27987230cf2.png&amp;data=04%7C01%7Cnikhilkumar.maheve%40hcl.com%7C8600e991c28e4afc0efe08d9a0825a56%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637717303997447536%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&amp;sdata=xvJsmNT65YoblVCmJkGpw%2B7IWMWppk6PbxlQ7%2B4e0HA%3D&amp;reserved=0</a><br />
[image
(2)]<a href="https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fuser-images.githubusercontent.com%2F41637724%2F140553756-686293f3-b34b-4f0d-b077-557767822944.png&amp;data=04%7C01%7Cnikhilkumar.maheve%40hcl.com%7C8600e991c28e4afc0efe08d9a0825a56%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637717303997447536%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&amp;sdata=1I2cXTwm5PXMuo6ZBQuOIobEWrB0Z%2BMCvieL%2Fq5FBJ0%3D&amp;reserved=0">https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fuser-images.githubusercontent.com%2F41637724%2F140553756-686293f3-b34b-4f0d-b077-557767822944.png&amp;data=04%7C01%7Cnikhilkumar.maheve%40hcl.com%7C8600e991c28e4afc0efe08d9a0825a56%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637717303997447536%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&amp;sdata=1I2cXTwm5PXMuo6ZBQuOIobEWrB0Z%2BMCvieL%2Fq5FBJ0%3D&amp;reserved=0</a></p>
<ul>
<li></li>
</ul>
<p>You are receiving this because you were mentioned.<br />
Reply to this email directly, view it on
GitHub<a href="https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Frear%2Frear%2Fissues%2F2674%23issuecomment-962084724&amp;data=04%7C01%7Cnikhilkumar.maheve%40hcl.com%7C8600e991c28e4afc0efe08d9a0825a56%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637717303997457498%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&amp;sdata=3Mkr6%2B4uQd92VHK0fZ6qtZayhRGNmW1vJne%2BInMzxtI%3D&amp;reserved=0">https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Frear%2Frear%2Fissues%2F2674%23issuecomment-962084724&amp;data=04%7C01%7Cnikhilkumar.maheve%40hcl.com%7C8600e991c28e4afc0efe08d9a0825a56%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637717303997457498%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&amp;sdata=3Mkr6%2B4uQd92VHK0fZ6qtZayhRGNmW1vJne%2BInMzxtI%3D&amp;reserved=0</a>,
or
unsubscribe<a href="https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fnotifications%2Funsubscribe-auth%2FAVLQTPNHRWBMPMWHLLXFZG3UKQPOVANCNFSM5C323CSA&amp;data=04%7C01%7Cnikhilkumar.maheve%40hcl.com%7C8600e991c28e4afc0efe08d9a0825a56%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637717303997457498%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&amp;sdata=TyHWUwMnKOATK9%2BNLaAy9Wz%2Fwj3bY9n1%2FJKckzeq%2F0I%3D&amp;reserved=0">https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fnotifications%2Funsubscribe-auth%2FAVLQTPNHRWBMPMWHLLXFZG3UKQPOVANCNFSM5C323CSA&amp;data=04%7C01%7Cnikhilkumar.maheve%40hcl.com%7C8600e991c28e4afc0efe08d9a0825a56%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637717303997457498%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&amp;sdata=TyHWUwMnKOATK9%2BNLaAy9Wz%2Fwj3bY9n1%2FJKckzeq%2F0I%3D&amp;reserved=0</a>.<br />
Triage notifications on the go with GitHub Mobile for
iOS<a href="https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fapps.apple.com%2Fapp%2Fapple-store%2Fid1477376905%3Fct%3Dnotification-email%26mt%3D8%26pt%3D524675&amp;data=04%7C01%7Cnikhilkumar.maheve%40hcl.com%7C8600e991c28e4afc0efe08d9a0825a56%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637717303997467451%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&amp;sdata=mxhR8mb%2FdvD8qFN81QEfnnOfjVlPUsE1ooIjVa1aoGA%3D&amp;reserved=0">https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fapps.apple.com%2Fapp%2Fapple-store%2Fid1477376905%3Fct%3Dnotification-email%26mt%3D8%26pt%3D524675&amp;data=04%7C01%7Cnikhilkumar.maheve%40hcl.com%7C8600e991c28e4afc0efe08d9a0825a56%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637717303997467451%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&amp;sdata=mxhR8mb%2FdvD8qFN81QEfnnOfjVlPUsE1ooIjVa1aoGA%3D&amp;reserved=0</a>
or
Android<a href="https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.github.android%26referrer%3Dutm_campaign%253Dnotification-email%2526utm_medium%253Demail%2526utm_source%253Dgithub&amp;data=04%7C01%7Cnikhilkumar.maheve%40hcl.com%7C8600e991c28e4afc0efe08d9a0825a56%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637717303997467451%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&amp;sdata=YzlEy1ApU9ku8iCuJMbEWz5aMAMpZSNo0JOrvuQSc8A%3D&amp;reserved=0">https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.github.android%26referrer%3Dutm_campaign%253Dnotification-email%2526utm_medium%253Demail%2526utm_source%253Dgithub&amp;data=04%7C01%7Cnikhilkumar.maheve%40hcl.com%7C8600e991c28e4afc0efe08d9a0825a56%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637717303997467451%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&amp;sdata=YzlEy1ApU9ku8iCuJMbEWz5aMAMpZSNo0JOrvuQSc8A%3D&amp;reserved=0</a>.</p>
<p>::DISCLAIMER::</p>
<hr />
<p>The contents of this e-mail and any attachment(s) are confidential and
intended for the named recipient(s) only. E-mail transmission is not
guaranteed to be secure or error-free as information could be
intercepted, corrupted, lost, destroyed, arrive late or incomplete, or
may contain viruses in transmission. The e mail and its contents (with
or without referred errors) shall therefore not attach any liability on
the originator or HCL or its affiliates. Views or opinions, if any,
presented in this email are solely those of the author and may not
necessarily reflect the views or opinions of HCL or its affiliates. Any
form of reproduction, dissemination, copying, disclosure, modification,
distribution and / or publication of this message without the prior
written consent of authorized representative of HCL is strictly
prohibited. If you have received this email in error please delete it
and notify the sender immediately. Before opening any email and/or
attachments, please check them for viruses and other defects.</p>
<hr />
<p>Hello Team,</p>
<p>Thanks for the sosreport,</p>
<p>$ cat df<br />
Filesystem 1K-blocks Used Available Use% Mounted on<br />
/dev/mapper/rhel-root 104806400 3600440 101205960 4% /<br />
devtmpfs 16377592 0 16377592 0% /dev<br />
tmpfs 16405900 0 16405900 0% /dev/shm<br />
tmpfs 16405900 34100 16371800 1% /run<br />
/dev/mapper/rhel-var 20961280 560368 20400912 3% /var<br />
/dev/mapper/rhel-tmp 10475520 144696 10330824 2% /tmp<br />
/dev/sda2 2037760 165284 1872476 9% /boot<br />
/dev/sda1 1021984 9964 1012020 1% /boot/efi<br />
/dev/mapper/rhel-home 20961280 143436 20817844 1% /home<br />
/dev/mapper/rhel-opt 20961280 33328 20927952 1% /opt</p>
<p>I am seeing data on the system,</p>
<p>The system is not booting apparently, let' have you do the following:</p>
<ol>
<li>Check to make sure boot files exist under:</li>
</ol>
<h1 id="ls_-al_boot">ls -al /boot<a class="headerlink" href="#ls_-al_boot" title="Permanent link">&para;</a></h1>
<ol>
<li>Check the grub.conf file for EFI</li>
</ol>
<h1 id="ls_-al_bootefiefiredhat">ls -al /boot/efi/EFI/redhat<a class="headerlink" href="#ls_-al_bootefiefiredhat" title="Permanent link">&para;</a></h1>
<h1 id="cat_bootefiefiredhatgrubconf_grep_vmlin">cat /boot/efi/EFI/redhat/grub.conf | grep vmlin<a class="headerlink" href="#cat_bootefiefiredhatgrubconf_grep_vmlin" title="Permanent link">&para;</a></h1>
<ol>
<li>
<p>If these exist and there are boot file, let's have you re-install
    grub.</p>
<p>How to reinstall GRUB and GRUB2 on UEFI-based machines? -<br />
<a href="https://access.redhat.com/solutions/3486741">https://access.redhat.com/solutions/3486741</a></p>
</li>
</ol>
<p>Then try to re-boot.</p>
<h2 id="meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement">Meredith Kielian North American Engineer - Red Hat, Inc. Customer Experience &amp; Engagement<a class="headerlink" href="#meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement" title="Permanent link">&para;</a></h2>
<p>RHEL 8 | Any Cloud. Any Workload. One OS.<br />
<a href="https://www.redhat.com/en/enterprise-linux-8">https://www.redhat.com/en/enterprise-linux-8</a><br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cjcvnQAA">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cjcvnQAA</a><br />
Bhargava, Nishant<br />
Wed, Sep 22, 2021, 10:58:50 PM GMT+5:30<br />
Attached file to this case.<br />
SHA-256<br />
f3f19388babf990d8e3e79f7b695484f26f86ccdc215df0eb8e41ff69a13c6ac</p>
<p>Description<br />
Enter a description<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?attachmentId=a092K00002l0zOmQAI">https://access.redhat.com/support/cases/#/case/03025370/discussion?attachmentId=a092K00002l0zOmQAI</a><br />
Bhargava, Nishant<br />
Wed, Sep 22, 2021, 10:58:44 PM GMT+5:30<br />
Hi,</p>
<p>Please find the manual sosreport.<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cjP8HQAU">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cjP8HQAU</a><br />
Red Hat associate comment Kielian, Meredith<br />
Wed, Sep 22, 2021, 10:20:12 PM GMT+5:30<br />
Hello Team,</p>
<p>Let's have you try to run a manual sosreport:</p>
<p>Note: You may want to bring up network and then copy script from another
system.</p>
<pre><code>Sosreport fails. What data should I provide in its place? 
  https://access.redhat.com/solutions/68996
</code></pre>
<h2 id="meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_1">Meredith Kielian North American Engineer - Red Hat, Inc. Customer Experience &amp; Engagement<a class="headerlink" href="#meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_1" title="Permanent link">&para;</a></h2>
<p>RHEL 8 | Any Cloud. Any Workload. One OS.<br />
<a href="https://www.redhat.com/en/enterprise-linux-8">https://www.redhat.com/en/enterprise-linux-8</a><br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cjOctQAE">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cjOctQAE</a><br />
Bhargava, Nishant<br />
Wed, Sep 22, 2021, 12:02:31 AM GMT+5:30<br />
Hi,</p>
<p>I tried to collect sosreport by running the command but getting an error
while running the "sosreport" command.<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cjASxQAM">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cjASxQAM</a><br />
Bhargava, Nishant<br />
Wed, Sep 22, 2021, 12:00:43 AM GMT+5:30<br />
Attached file to this case.<br />
SHA-256<br />
a13c12ebb209b12a2fb7e62d870482ee0e68415bdaa1f1840c6109bdaec15b5b</p>
<p>Description<br />
Enter a description<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?attachmentId=a092K00002l0v8gQAA">https://access.redhat.com/support/cases/#/case/03025370/discussion?attachmentId=a092K00002l0v8gQAA</a><br />
Red Hat associate comment Kielian, Meredith<br />
Tue, Sep 21, 2021, 10:37:40 PM GMT+5:30<br />
Hello Team,</p>
<p>the server got crashed and can't fetch any log from the server.</p>
<p>Please suggest an alternate solution as I have already sent the
screenshot of the issue.</p>
<p>So is the error in the screenshot from the restored system or from when
you boot from the ReaR ISO?</p>
<p>Also if the error is from the restored syste, you can try to rescue mode
to retrieve the log files and then enable networkign to pull those files
off.</p>
<p>RESCUE MODE:</p>
<p>How to boot Red Hat Enterprise Linux to Rescue Mode for Data Collection
(sosreport, vmcore, etc.) -<br />
<a href="https://access.redhat.com/articles/3405661">https://access.redhat.com/articles/3405661</a></p>
<p>ENABLE NETWORK IN RESCUE MODE:</p>
<pre><code>   You may need to activate networking in rescue mode in order to move the sosreport to a system than can uploade to red Hat, I have provided instructions below:

   Enabling networking in rescue environment without chrooting - 
   https://access.redhat.com/solutions/2626631
</code></pre>
<p>Please feel free to update the case with any comments, concerns, or
feedback on the above.</p>
<h2 id="meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_2">Meredith Kielian North American Engineer - Red Hat, Inc. Customer Experience &amp; Engagement<a class="headerlink" href="#meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_2" title="Permanent link">&para;</a></h2>
<p>RHEL 8 | Any Cloud. Any Workload. One OS.<br />
<a href="https://www.redhat.com/en/enterprise-linux-8">https://www.redhat.com/en/enterprise-linux-8</a><br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cj9WKQAY">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cj9WKQAY</a><br />
Bhargava, Nishant<br />
Tue, Sep 21, 2021, 08:25:59 PM GMT+5:30<br />
Hi,<br />
I haven't tried with non-CMD.<br />
the server got crashed and can't fetch any log from the server.</p>
<p>Please suggest an alternate solution as I have already sent the
screenshot of the issue.<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cj7WxQAI">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cj7WxQAI</a><br />
Red Hat associate comment Kielian, Meredith<br />
Tue, Sep 21, 2021, 04:17:09 AM GMT+5:30<br />
Hello Team,</p>
<p>It looks like it is not even booting up to the ReaR recovery menu.</p>
<p>Have you tried booting the ISO made that is non-CDM?</p>
<p>It should boot to a menu at least asking for restore options.</p>
<p>Maybe attach the rear logs made when you made the CDM backup and I can
check the log files when it created the ISO to see if there are any
warnings/errors, thanks.</p>
<p>Please let me know, thanks.</p>
<h2 id="meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_3">Meredith Kielian North American Engineer - Red Hat, Inc. Customer Experience &amp; Engagement<a class="headerlink" href="#meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_3" title="Permanent link">&para;</a></h2>
<p>RHEL 8 | Any Cloud. Any Workload. One OS.<br />
<a href="https://www.redhat.com/en/enterprise-linux-8">https://www.redhat.com/en/enterprise-linux-8</a><br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cixOMQAY">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cixOMQAY</a><br />
Bhargava, Nishant<br />
Tue, Sep 21, 2021, 12:58:24 AM GMT+5:30<br />
Hi,</p>
<p>The server got crashed while recovery and recovery was also not
successful. I have attached the screenshot of the current status where
the server got stuck during the recovery process.<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000civjWQAQ">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000civjWQAQ</a><br />
Bhargava, Nishant<br />
Tue, Sep 21, 2021, 12:57:30 AM GMT+5:30<br />
Attached file to this case.<br />
SHA-256<br />
4124961500781a109be08d794654af3f09100a76fdaa3c3f0dc1b5fdf9b26522</p>
<p>Description<br />
Enter a description<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?attachmentId=a092K00002l0qixQAA">https://access.redhat.com/support/cases/#/case/03025370/discussion?attachmentId=a092K00002l0qixQAA</a><br />
Red Hat associate comment Kielian, Meredith<br />
Fri, Sep 17, 2021, 03:07:53 AM GMT+5:30<br />
Hello Team,</p>
<p>Glad to hear it, now go ahead and try the backup using the CDM backup
option.</p>
<p>If that works then you should be able to continue forward.</p>
<h2 id="meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_4">Meredith Kielian North American Engineer - Red Hat, Inc. Customer Experience &amp; Engagement<a class="headerlink" href="#meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_4" title="Permanent link">&para;</a></h2>
<p>RHEL 8 | Any Cloud. Any Workload. One OS.<br />
<a href="https://www.redhat.com/en/enterprise-linux-8">https://www.redhat.com/en/enterprise-linux-8</a><br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000ciQRGQA2">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000ciQRGQA2</a><br />
Bhargava, Nishant<br />
Fri, Sep 17, 2021, 02:32:10 AM GMT+5:30<br />
Hello Meredith ,</p>
<p>It seems this ran fine this time.<br />
OUTPUT=ISO<br />
OUTPUT_URL=nfs://10.137.13.235/storage<br />
BACKUP=NETFS<br />
BACKUP_URL=nfs://10.137.13.235/storage<br />
BACKUP_PROG_EXCLUDE=("${BACKUP_PROG_EXCLUDE[@]}" '/media'
'/var/tmp' '/var/crash')<br />
***@***.*** tmp]# vi /etc/rear/local.conf<br />
***@**<em>.*** tmp]# rear -d -v mkbackup<br />
Relax-and-Recover 2.4 / Git<br />
Using log file: /var/log/rear/rear-testl07dc.log<br />
Using backup archive
'/tmp/rear.zvERLpPqfgYduUF/outputfs/testl07dc/backup.tar.gz'<br />
Using UEFI Boot Loader for Linux (USING_UEFI_BOOTLOADER=1)<br />
Creating disk layout<br />
Using guessed bootloader 'EFI' (found in first bytes on /dev/sda)<br />
Creating root filesystem layout<br />
Handling network interface 'eno1'<br />
eno1 is a physical device<br />
Handled network interface 'eno1'<br />
Skipping 'virbr0': not bound to any physical interface.<br />
To log into the recovery system via ssh set up
/root/.ssh/authorized_keys or specify SSH_ROOT_PASSWORD<br />
Trying to find what to use as UEFI bootloader...<br />
Trying to find a 'well known file' to be used as UEFI bootloader...<br />
Using '/boot/efi/EFI/redhat/grubx64.efi' as UEFI bootloader file<br />
Copying logfile /var/log/rear/rear-testl07dc.log into initramfs as
'/tmp/rear-testl07dc-partial-2021-09-16T16:40:39-0400.log'<br />
Copying files and directories<br />
Copying binaries and libraries<br />
Copying kernel modules<br />
Copying all files in /lib</em>/firmware/<br />
Creating recovery/rescue system initramfs/initrd initrd.cgz with gzip
default compression<br />
Created initrd.cgz with gzip default compression (281689798 bytes) in 26
seconds<br />
Making ISO image<br />
Wrote ISO image: /var/lib/rear/output/rear-testl07dc.iso (313M)<br />
Copying resulting files to nfs location<br />
Saving /var/log/rear/rear-testl07dc.log as rear-testl07dc.log to nfs
location<br />
Creating tar archive
'/tmp/rear.zvERLpPqfgYduUF/outputfs/testl07dc/backup.tar.gz'<br />
Archived 2013 MiB [avg 8964 KiB/sec] OK<br />
Archived 2013 MiB in 231 seconds [avg 8925 KiB/sec]<br />
Exiting rear mkbackup (PID 14863) and its descendant processes<br />
Running exit tasks</p>
<p>Should I try to recover from backup.</p>
<p>Regards,<br />
Nishant Bhargava<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000ciQAyQAM">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000ciQAyQAM</a><br />
Red Hat associate comment Kielian, Meredith<br />
Thu, Sep 16, 2021, 11:55:24 PM GMT+5:30<br />
Hello Team,</p>
<p>From everything I am seeing in the logs and the packages, I am thinking
there is a conflict with how ReaR was originally installed.</p>
<p>Since it was not installed from a Red Hat repo initially we may have a
file that was not updated when the Red Hat version was installed.</p>
<p>We may need to remove ReaR and then manually re-move all the remaining
components.</p>
<p>I am thinking the previous ReaR install has an extra script that is
running, specifically the script: [
/usr/share/rear/init/default/010_EFISTUB_check.sh ]</p>
<p>Since when I check the rear package:</p>
<h1 id="rpm_-q_rear">rpm -q rear<a class="headerlink" href="#rpm_-q_rear" title="Permanent link">&para;</a></h1>
<p>rear-2.4-13.el7.x86_64</p>
<h1 id="rpm_-q_rear_--filesbypkg_grep_-i_010_efistub_checksh">rpm -q rear --filesbypkg | grep -i 010_EFISTUB_check.sh<a class="headerlink" href="#rpm_-q_rear_--filesbypkg_grep_-i_010_efistub_checksh" title="Permanent link">&para;</a></h1>
<p>[ NO RESULTS ]</p>
<p>So the rear is seeing this script and trying to run it, BUT, the version
of rear is not expecting that file to exist.</p>
<p>So let's remove rear and then clear out all the rear files, then
re-install it:</p>
<ol>
<li>Remove Rear</li>
</ol>
<h1 id="yum_remove_rear">yum remove rear<a class="headerlink" href="#yum_remove_rear" title="Permanent link">&para;</a></h1>
<ol>
<li>Clear out all extra rear files:</li>
</ol>
<p>Make a backup of them first:</p>
<h1 id="tar_-czvf_tmprear_backuptgz_etcrear_usrsbinrear_usrsharerear_varlibrear">tar -czvf /tmp/rear_backup.tgz /etc/rear /usr/sbin/rear /usr/share/rear /var/lib/rear<a class="headerlink" href="#tar_-czvf_tmprear_backuptgz_etcrear_usrsbinrear_usrsharerear_varlibrear" title="Permanent link">&para;</a></h1>
<p>Remove all rear files:</p>
<p>You can either manually clear out the following files/directories;<br />
/etc/rear<br />
/usr/sbin/rear<br />
/usr/share/rear<br />
/var/lib/rear</p>
<p>Or run the following commands:<br />
IMPORTANT NOTE: Be VERY VERY careful as using "rm -rf" with the wrong
options can remove files you didn't intend to</p>
<h1 id="rm_-rf_etcrear">rm -rf /etc/rear<a class="headerlink" href="#rm_-rf_etcrear" title="Permanent link">&para;</a></h1>
<h1 id="rm_usrsbinrear">rm /usr/sbin/rear<a class="headerlink" href="#rm_usrsbinrear" title="Permanent link">&para;</a></h1>
<h1 id="rm_-rf_usrsharerear">rm -rf /usr/share/rear<a class="headerlink" href="#rm_-rf_usrsharerear" title="Permanent link">&para;</a></h1>
<h1 id="rm_-rf_varlibrear">rm -rf /var/lib/rear<a class="headerlink" href="#rm_-rf_varlibrear" title="Permanent link">&para;</a></h1>
<ol>
<li>Re-install the rear package:</li>
</ol>
<p>$ yum install rear</p>
<ol>
<li>Try another "baseline backup" with newly installed rear.</li>
</ol>
<p>Thanks.</p>
<h2 id="meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_5">Meredith Kielian North American Engineer - Red Hat, Inc. Customer Experience &amp; Engagement<a class="headerlink" href="#meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_5" title="Permanent link">&para;</a></h2>
<p>RHEL 8 | Any Cloud. Any Workload. One OS.<br />
<a href="https://www.redhat.com/en/enterprise-linux-8">https://www.redhat.com/en/enterprise-linux-8</a><br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000ciOK8QAM">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000ciOK8QAM</a><br />
Bhargava, Nishant<br />
Thu, Sep 16, 2021, 01:09:19 AM GMT+5:30<br />
Hello Meredith ,</p>
<p>PFA the logs file further for verbose option.</p>
<p>Regards,<br />
Nishant Bhargava<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000ci9pjQAA">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000ci9pjQAA</a><br />
Bhargava, Nishant<br />
Thu, Sep 16, 2021, 01:09:15 AM GMT+5:30<br />
Attached file to this case.<br />
SHA-256<br />
a7c58bfc228749928c31b9970e11c74013d096143406e8b5d7a0ede7dff77ae5</p>
<p>Description<br />
Enter a description<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?attachmentId=a092K00002l0Z8qQAE">https://access.redhat.com/support/cases/#/case/03025370/discussion?attachmentId=a092K00002l0Z8qQAE</a><br />
Red Hat associate comment Kielian, Meredith<br />
Wed, Sep 15, 2021, 11:57:41 PM GMT+5:30<br />
Hello Team,</p>
<p>Let's have you run the following ( with the CDM still excluded and a
"baseline ReaR config )</p>
<h1 id="rear_-d_-v_mkbackup">rear -D -v mkbackup<a class="headerlink" href="#rear_-d_-v_mkbackup" title="Permanent link">&para;</a></h1>
<p>The "-D" option should provide more debugging info in the log file,
thanks!</p>
<h2 id="meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_6">Meredith Kielian North American Engineer - Red Hat, Inc. Customer Experience &amp; Engagement<a class="headerlink" href="#meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_6" title="Permanent link">&para;</a></h2>
<p>RHEL 8 | Any Cloud. Any Workload. One OS.<br />
<a href="https://www.redhat.com/en/enterprise-linux-8">https://www.redhat.com/en/enterprise-linux-8</a><br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000ci97KQAQ">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000ci97KQAQ</a><br />
Bhargava, Nishant<br />
Wed, Sep 15, 2021, 08:43:39 PM GMT+5:30<br />
Attached file to this case.<br />
SHA-256<br />
999cdc3bae5df6a6646b1a8ea8326efcbabce2660b46420cc50e2328e8e858da</p>
<p>Description<br />
Enter a description<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?attachmentId=a092K00002l0YAfQAM">https://access.redhat.com/support/cases/#/case/03025370/discussion?attachmentId=a092K00002l0YAfQAM</a><br />
Bhargava, Nishant<br />
Wed, Sep 15, 2021, 08:42:39 PM GMT+5:30<br />
Hello Meredith ,</p>
<p>We are getting the same errors even after excluding CDM.</p>
<p>***@***.*** ~]# rear -d -v mkbackup<br />
Relax-and-Recover 2.4 / Git<br />
Using log file: /var/log/rear/rear-testl07dc.log<br />
ERROR: EFI_STUB="" is incorrect option value pair.<br />
Aborting due to an error, check /var/log/rear/rear-testl07dc.log for
details<br />
Exiting rear mkbackup (PID 25024) and its descendant processes<br />
Running exit tasks<br />
Terminated</p>
<p>##############################################################################</p>
<p>***@***.*** ~]# cat /etc/rear/local.conf</p>
<h1 id="default_is_to_create_relax-and-recover_rescue_media_as_iso_image">Default is to create Relax-and-Recover rescue media as ISO image<a class="headerlink" href="#default_is_to_create_relax-and-recover_rescue_media_as_iso_image" title="Permanent link">&para;</a></h1>
<h1 id="set_output_to_change_that">set OUTPUT to change that<a class="headerlink" href="#set_output_to_change_that" title="Permanent link">&para;</a></h1>
<h1 id="set_backup_to_activate_an_automated_backup_and_restore_of_your_data">set BACKUP to activate an automated (backup and) restore of your data<a class="headerlink" href="#set_backup_to_activate_an_automated_backup_and_restore_of_your_data" title="Permanent link">&para;</a></h1>
<h1 id="possible_configuration_values_can_be_found_in_usrsharerearconfdefaultconf">Possible configuration values can be found in /usr/share/rear/conf/default.conf<a class="headerlink" href="#possible_configuration_values_can_be_found_in_usrsharerearconfdefaultconf" title="Permanent link">&para;</a></h1>
<h1 id="this_file_localconf_is_intended_for_manual_configuration_for_configuration">This file (local.conf) is intended for manual configuration. For configuration<a class="headerlink" href="#this_file_localconf_is_intended_for_manual_configuration_for_configuration" title="Permanent link">&para;</a></h1>
<h1 id="through_packages_and_other_automated_means_we_recommend_creating_a_new">through packages and other automated means we recommend creating a new<a class="headerlink" href="#through_packages_and_other_automated_means_we_recommend_creating_a_new" title="Permanent link">&para;</a></h1>
<h1 id="file_named_siteconf_next_to_this_file_and_to_leave_the_localconf_as_it_is">file named site.conf next to this file and to leave the local.conf as it is.<a class="headerlink" href="#file_named_siteconf_next_to_this_file_and_to_leave_the_localconf_as_it_is" title="Permanent link">&para;</a></h1>
<h1 id="our_packages_will_never_ship_with_a_siteconf">Our packages will never ship with a site.conf.<a class="headerlink" href="#our_packages_will_never_ship_with_a_siteconf" title="Permanent link">&para;</a></h1>
<h1 id="sets_output_to_an_be_an_iso_file">Sets output to an be an ISO file<a class="headerlink" href="#sets_output_to_an_be_an_iso_file" title="Permanent link">&para;</a></h1>
<h1 id="specifies_cdm_as_the_backup_and_recovery_application"># Specifies CDM as the backup and recovery application<a class="headerlink" href="#specifies_cdm_as_the_backup_and_recovery_application" title="Permanent link">&para;</a></h1>
<p>OUTPUT=ISO<br />
OUTPUT_URL=nfs://10.137.13.235/storage<br />
BACKUP=NETFS<br />
BACKUP_URL=nfs://10.137.13.235/storage<br />
BACKUP_PROG_EXCLUDE=("${BACKUP_PROG_EXCLUDE[@]}" '/media'
'/var/tmp' '/var/crash')</p>
<p>Attaching the logs file as well.</p>
<p>Regards,<br />
Nishant Bhargava<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000ci6SXQAY">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000ci6SXQAY</a><br />
Red Hat associate comment Kielian, Meredith<br />
Wed, Sep 15, 2021, 04:29:32 AM GMT+5:30<br />
Hello Team,</p>
<p>Here is the results from the package check:</p>
<h1 id="awk_2_c_print_nf_03025370rpmva_xargs_rpm_-qf_--qf_narch_n_2devnull_sort_-u">awk '$2 !="c" {print $NF}' 03025370.rpmva | xargs rpm -qf --qf '%{n}.%{arch} \n' 2&gt;/dev/null | sort -u<a class="headerlink" href="#awk_2_c_print_nf_03025370rpmva_xargs_rpm_-qf_--qf_narch_n_2devnull_sort_-u" title="Permanent link">&para;</a></h1>
<p>avahi.x86_64<br />
glusterfs.x86_64<br />
libreswan.x86_64<br />
pulseaudio.x86_64</p>
<p>I am not seeing much related to rear.</p>
<p>I would like to take "CDM" out of the equation.</p>
<p>Can you try a test backup using the example provided in this document:</p>
<pre><code> What is Relax and Recover(ReaR) and how can I use it for disaster recovery?  - 
   https://access.redhat.com/solutions/2115051
</code></pre>
<p>I want to see if we can do a regular backup without pointing to CDM.</p>
<p>Thanks.</p>
<h2 id="meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_7">Meredith Kielian North American Engineer - Red Hat, Inc. Customer Experience &amp; Engagement<a class="headerlink" href="#meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_7" title="Permanent link">&para;</a></h2>
<p>RHEL 8 | Any Cloud. Any Workload. One OS.<br />
<a href="https://www.redhat.com/en/enterprise-linux-8">https://www.redhat.com/en/enterprise-linux-8</a><br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cEYyMQAW">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cEYyMQAW</a><br />
Bhargava, Nishant<br />
Tue, Sep 14, 2021, 07:40:30 PM GMT+5:30<br />
Hello Meredith ,</p>
<p>PFA the required file.</p>
<p>Regards,<br />
Nishant Bhargava<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cET7bQAG">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cET7bQAG</a><br />
Bhargava, Nishant<br />
Tue, Sep 14, 2021, 07:39:41 PM GMT+5:30<br />
Attached file to this case.<br />
SHA-256<br />
d19cb89c5cafa302c42235139f37d21d94474f4d19bfb18d8eec1c31a562ec97</p>
<p>Description<br />
Enter a description<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?attachmentId=a092K00002l0RlvQAE">https://access.redhat.com/support/cases/#/case/03025370/discussion?attachmentId=a092K00002l0RlvQAE</a><br />
Red Hat associate comment Kielian, Meredith<br />
Tue, Sep 14, 2021, 12:46:51 AM GMT+5:30<br />
Hello Team,</p>
<p>Let's take a look at the local.conf</p>
<p>$ cat ../../../etc/rear/local.conf</p>
<h1 id="default_is_to_create_relax-and-recover_rescue_media_as_iso_image_1">Default is to create Relax-and-Recover rescue media as ISO image<a class="headerlink" href="#default_is_to_create_relax-and-recover_rescue_media_as_iso_image_1" title="Permanent link">&para;</a></h1>
<h1 id="set_output_to_change_that_1">set OUTPUT to change that<a class="headerlink" href="#set_output_to_change_that_1" title="Permanent link">&para;</a></h1>
<h1 id="set_backup_to_activate_an_automated_backup_and_restore_of_your_data_1">set BACKUP to activate an automated (backup and) restore of your data<a class="headerlink" href="#set_backup_to_activate_an_automated_backup_and_restore_of_your_data_1" title="Permanent link">&para;</a></h1>
<h1 id="possible_configuration_values_can_be_found_in_usrsharerearconfdefaultconf_1">Possible configuration values can be found in /usr/share/rear/conf/default.conf<a class="headerlink" href="#possible_configuration_values_can_be_found_in_usrsharerearconfdefaultconf_1" title="Permanent link">&para;</a></h1>
<h1 id="this_file_localconf_is_intended_for_manual_configuration_for_configuration_1">This file (local.conf) is intended for manual configuration. For configuration<a class="headerlink" href="#this_file_localconf_is_intended_for_manual_configuration_for_configuration_1" title="Permanent link">&para;</a></h1>
<h1 id="through_packages_and_other_automated_means_we_recommend_creating_a_new_1">through packages and other automated means we recommend creating a new<a class="headerlink" href="#through_packages_and_other_automated_means_we_recommend_creating_a_new_1" title="Permanent link">&para;</a></h1>
<h1 id="file_named_siteconf_next_to_this_file_and_to_leave_the_localconf_as_it_is_1">file named site.conf next to this file and to leave the local.conf as it is.<a class="headerlink" href="#file_named_siteconf_next_to_this_file_and_to_leave_the_localconf_as_it_is_1" title="Permanent link">&para;</a></h1>
<h1 id="our_packages_will_never_ship_with_a_siteconf_1">Our packages will never ship with a site.conf.<a class="headerlink" href="#our_packages_will_never_ship_with_a_siteconf_1" title="Permanent link">&para;</a></h1>
<h1 id="sets_output_to_an_be_an_iso_file_1">Sets output to an be an ISO file<a class="headerlink" href="#sets_output_to_an_be_an_iso_file_1" title="Permanent link">&para;</a></h1>
<p>OUTPUT=ISO</p>
<h1 id="specifies_cdm_as_the_backup_and_recovery_application_1"># Specifies CDM as the backup and recovery application<a class="headerlink" href="#specifies_cdm_as_the_backup_and_recovery_application_1" title="Permanent link">&para;</a></h1>
<p>BACKUP=CDM</p>
<p>Looks like we may be missing some options.</p>
<p>Checking error:</p>
<p>$ cat rear-testl07dc.log<br />
2021-09-13 13:39:59.875131702 Relax-and-Recover 2.4 / Git<br />
2021-09-13 13:39:59.876475642 Command line options: /usr/sbin/rear -v
mkrescue<br />
2021-09-13 13:39:59.877618021 Using log file:
/var/log/rear/rear-testl07dc.log<br />
2021-09-13 13:39:59.879017647 Including /etc/rear/os.conf<br />
2021-09-13 13:39:59.882579479 Including conf/Linux-i386.conf<br />
2021-09-13 13:39:59.884174965 Including conf/GNU/Linux.conf<br />
2021-09-13 13:39:59.898543021 Including /etc/rear/local.conf<br />
2021-09-13 13:39:59.901269570 ======================<br />
2021-09-13 13:39:59.902644761 Running 'init' stage<br />
2021-09-13 13:39:59.903840161 ======================<br />
2021-09-13 13:39:59.912079690 Including
init/default/005_verify_os_conf.sh<br />
2021-09-13 13:39:59.916715260 Including
init/default/010_EFISTUB_check.sh<br />
2021-09-13 13:39:59.918078326 ERROR: EFI_STUB="" is incorrect option
value pair.<br />
==== Stack trace ====<br />
Trace 0: /usr/sbin/rear:502 main<br />
Trace 1: /usr/share/rear/lib/framework-functions.sh:101 SourceStage<br />
Trace 2: /usr/share/rear/lib/framework-functions.sh:49 Source<br />
Trace 3: /usr/share/rear/init/default/010_EFISTUB_check.sh:6 source<br />
Message: EFI_STUB="" is incorrect option value pair.<br />
== End stack trace ==<br />
2021-09-13 13:39:59.924200758 Exiting rear mkrescue (PID 32311) and its
descendant processes<br />
2021-09-13 13:40:00.949189777 rear,32311 /usr/sbin/rear -v mkrescue<br />
<code>-rear,32453 /usr/sbin/rear -v mkrescue</code>-pstree,32454 -Aplau 32311<br />
/usr/share/rear/lib/_input-output-functions.sh: line 157: kill: (32457)
- No such process<br />
2021-09-13 13:40:00.977665583 Running exit tasks</p>
<p>I did find this doc:</p>
<p>External Link:
<a href="https://github.com/rear/rear/blob/master/doc/user-guide/16-Rubrik-CDM.adoc">https://github.com/rear/rear/blob/master/doc/user-guide/16-Rubrik-CDM.adoc</a></p>
<p>Which has information on how to troubleshoot on ReaR and Rubrik</p>
<p>Let's Also get an rpm -Va to verify the integrity of all the package
files on the system. ( especially the ReaR files )</p>
<p>The following command will run an rpm -Va and output into /tmp.</p>
<p>Please upload/attach the generated file [ /tmp/rpm_va.out ] to the
case for further analysis.</p>
<p>RHEL 7/8</p>
<h1 id="rpm_-va_tmprpm_vaout">rpm -Va &amp;&gt;/tmp/rpm_va.out<a class="headerlink" href="#rpm_-va_tmprpm_vaout" title="Permanent link">&para;</a></h1>
<p>Once you have generated the file please upload the file: [
/tmp/rpm_va.out ] to the case.</p>
<p>If you would like to analyze it yourself you can check it against this
Legend from the rpm man page.</p>
<p>LEGEND: ( source: rpm -Va )</p>
<pre><code>   S file Size differs
   M Mode differs (includes permissions and file type)
   5 digest (formerly MD5 sum) differs
   D Device major/minor number mismatch
   L readLink(2) path mismatch
   U User ownership differs
   G Group ownership differs
   T mTime differs
   P caPabilities differ
</code></pre>
<p>If you want to check which packages associated with those files are
flagged you can run either of the following commands:</p>
<p>To get the full package name: ( command ran on same system the
rpm_va.out was generated )</p>
<h1 id="awk_2_c_print_nf_tmprpm_vaout_xargs_rpm_-qf_2devnull_sort_-u">awk '$2 !="c" {print $NF}' /tmp/rpm_va.out | xargs rpm -qf 2&gt;/dev/null | sort -u<a class="headerlink" href="#awk_2_c_print_nf_tmprpm_vaout_xargs_rpm_-qf_2devnull_sort_-u" title="Permanent link">&para;</a></h1>
<p>To get the package name: ( command ran on a different system than the on
rpm_va.out was generated )</p>
<h1 id="awk_2_c_print_nf_rpm_vaout_xargs_rpm_-qf_--qf_narch_n_2devnull_sort_-u">awk '$2 !="c" {print $NF}' rpm_va.out | xargs rpm -qf --qf '%{n}.%{arch} \n' 2&gt;/dev/null | sort -u<a class="headerlink" href="#awk_2_c_print_nf_rpm_vaout_xargs_rpm_-qf_--qf_narch_n_2devnull_sort_-u" title="Permanent link">&para;</a></h1>
<p>If you think replacing/reinstalling the package will correct the issue,
you can run the following commands:</p>
<p>RHEL 5/6/7 System:</p>
<h1 id="yum_reinstall_package_name">yum reinstall &lt;package_name&gt;<a class="headerlink" href="#yum_reinstall_package_name" title="Permanent link">&para;</a></h1>
<p>If the issue is with package file permissions you can run the following
commands or follow the guide below:</p>
<p>Sets user/group ownership of files in the given package.</p>
<h1 id="rpm_--setugids_package_name">rpm --setugids &lt;package_name&gt;<a class="headerlink" href="#rpm_--setugids_package_name" title="Permanent link">&para;</a></h1>
<p>Sets permissions of files in the given package.</p>
<h1 id="rpm_--setperms_package_name">rpm --setperms &lt;package_name&gt;<a class="headerlink" href="#rpm_--setperms_package_name" title="Permanent link">&para;</a></h1>
<p>IMPORTANT: You must run "--setuguids" BEFORE running "--setperms"</p>
<p>How do I restore permissions of all the rpm packages on system to
default? -<br />
<a href="https://access.redhat.com/solutions/281923">https://access.redhat.com/solutions/281923</a></p>
<p>Please let us know if you have any additional questions or concerns, and
thank you for using Red Hat.</p>
<h2 id="meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_8">Meredith Kielian North American Engineer - Red Hat, Inc. Customer Experience &amp; Engagement<a class="headerlink" href="#meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_8" title="Permanent link">&para;</a></h2>
<p>RHEL 8 | Any Cloud. Any Workload. One OS.<br />
<a href="https://www.redhat.com/en/enterprise-linux-8">https://www.redhat.com/en/enterprise-linux-8</a><br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cEHqyQAG">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cEHqyQAG</a><br />
Bhargava, Nishant<br />
Mon, Sep 13, 2021, 11:37:04 PM GMT+5:30<br />
Attached file to this case.<br />
SHA-256<br />
49eece32d9462a0eb2db159e734254237cf07f40ca72365be7b95415046e0850</p>
<p>Description<br />
Enter a description<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?attachmentId=a092K00002l0O9fQAE">https://access.redhat.com/support/cases/#/case/03025370/discussion?attachmentId=a092K00002l0O9fQAE</a><br />
Bhargava, Nishant<br />
Mon, Sep 13, 2021, 11:36:59 PM GMT+5:30<br />
Hi Meredith,</p>
<p>Herewith attached sosreport.<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cEH4NQAW">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cEH4NQAW</a><br />
Red Hat associate comment Kielian, Meredith<br />
Mon, Sep 13, 2021, 11:28:41 PM GMT+5:30<br />
Hello,</p>
<p>Go ahead and generate a fresh sosreport and I can check the generated
rear log files included within it, thanks.</p>
<p>Thanks.</p>
<h2 id="meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_9">Meredith Kielian North American Engineer - Red Hat, Inc. Customer Experience &amp; Engagement<a class="headerlink" href="#meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_9" title="Permanent link">&para;</a></h2>
<p>RHEL 8 | Any Cloud. Any Workload. One OS.<br />
<a href="https://www.redhat.com/en/enterprise-linux-8">https://www.redhat.com/en/enterprise-linux-8</a><br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cEGqmQAG">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cEGqmQAG</a><br />
Bhargava, Nishant<br />
Mon, Sep 13, 2021, 11:11:14 PM GMT+5:30<br />
Hi,</p>
<p>I have installed "rear" by yum but now we are getting a different error.</p>
<p>***@***.*** ~]# rpm -qa | grep rear<br />
rear-2.4-13.el7.x86_64<br />
***@***.*** ~]# rpm -qa | grep genisoimage<br />
genisoimage-1.1.11-25.el7.x86_64<br />
***@***.*** ~]# rpm -qa | grep syslinux<br />
syslinux-4.05-15.el7.x86_64<br />
***@***.*** ~]# rear -v mkrescue<br />
Relax-and-Recover 2.4 / Git<br />
Using log file: /var/log/rear/rear-testl07dc.log<br />
ERROR: EFI_STUB="" is incorrect option value pair.<br />
Aborting due to an error, check /var/log/rear/rear-testl07dc.log for
details<br />
Exiting rear mkrescue (PID 32311) and its descendant processes<br />
Running exit tasks<br />
Terminated<br />
***@***.*** ~]# date<br />
Mon Sep 13 13:40:03 EDT 2021<br />
***@***.*** ~]#<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cEGmOQAW">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cEGmOQAW</a><br />
Red Hat associate comment Kielian, Meredith<br />
Fri, Sep 3, 2021, 03:42:46 AM GMT+5:30<br />
Hello,</p>
<p>My name is Meredith Kielian,</p>
<p>I am a member of the Red Hat North American team and I will be assisting
on this case.</p>
<p>Let's check to make sure rear packages are installed:</p>
<p>$ cat
sh_-c_rpm_--nodigest_-qa_--qf_NAME_-<em>VERSION</em>-<em>RELEASE</em>.<em>ARCH_INSTALLTIME_date_awk</em>-F_printf_-59s_s_n_1_2_sort_-V
| grep -e rear -e genisoimage -e syslinux<br />
genisoimage-1.1.11-25.el7.x86_64 Wed Aug 18 13:39:25 2021<br />
syslinux-4.05-15.el7.x86_64 Thu Aug 19 10:28:56 2021</p>
<p>Okay so it looks like you are missing the "rear" package.</p>
<p>You will need to install it:</p>
<h1 id="yum_install_rear_genisoimage_syslinux">yum install rear genisoimage syslinux<a class="headerlink" href="#yum_install_rear_genisoimage_syslinux" title="Permanent link">&para;</a></h1>
<p>Also here is addtional information on ReaR below:</p>
<p>The following information covers ReaR ( Relax and Recover ) a system
backup and recovery solution packaged with certain Versions of RHEL:</p>
<pre><code> What is Relax and Recover(ReaR) and how can I use it for disaster recovery?  - 
   https://access.redhat.com/solutions/2115051
</code></pre>
<p>Guides for each specific OS Versions are Below:</p>
<p>RHEL6:
<a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/deployment_guide/ch-relax-and-recover_rear">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/deployment_guide/ch-relax-and-recover_rear</a><br />
RHEL7:
<a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/system_administrators_guide/ch-relax-and-recover_rear">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/system_administrators_guide/ch-relax-and-recover_rear</a><br />
RHEL8:
<a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#basics-system-rescue-backup_getting-started-with-system-administration">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#basics-system-rescue-backup_getting-started-with-system-administration</a></p>
<p>RHEL Based Alternatives to ReaR:</p>
<p>How to backup and restore a whole Red Hat Enterprise Linux system with
the dump/restore commands? -<br />
<a href="https://access.redhat.com/solutions/17525">https://access.redhat.com/solutions/17525</a></p>
<p>Additional ReaR Information/Guides/Manuals:</p>
<p>Also for here is a good external resource for ReaR:
<a href="http://relax-and-recover.org/documentation/">http://relax-and-recover.org/documentation/</a><br />
Note: This link is an External Link to the Open Source Development site
for the latest version of ReaR as such some features may differ from the
RHEL provided version.</p>
<p>You can also find a good Web/HTML documentation Guide for ReaR after
installing it on a system here:<br />
HTML Doc: /usr/share/doc/rear-<ver>/relax-and-recover-user-guide.html</p>
<p>Please let us know if you have any additional questions or concerns, and
thank you for using Red Hat.</p>
<h2 id="meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_10">Meredith Kielian North American Engineer - Red Hat, Inc. Customer Experience &amp; Engagement<a class="headerlink" href="#meredith_kielian_north_american_engineer_-_red_hat_inc_customer_experience_engagement_10" title="Permanent link">&para;</a></h2>
<p>RHEL 8 | Any Cloud. Any Workload. One OS.<br />
<a href="https://www.redhat.com/en/enterprise-linux-8">https://www.redhat.com/en/enterprise-linux-8</a><br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cCaEvQAK">https://access.redhat.com/support/cases/#/case/03025370/discussion?commentId=a0a2K00000cCaEvQAK</a><br />
Bhargava, Nishant<br />
Thu, Sep 2, 2021, 08:54:53 PM GMT+5:30<br />
Attached file to this case.<br />
SHA-256<br />
83edfc28e631d76e5358700917e9ba1d82211628b940defca801ef4c34371394</p>
<p>Description<br />
Enter a description<br />
<a href="https://access.redhat.com/support/cases/#/case/03025370/discussion?attachmentId=a092K00002kza1oQAA">https://access.redhat.com/support/cases/#/case/03025370/discussion?attachmentId=a092K00002kza1oQAA</a></p>
<h4 id="damanin_commented_at_2021-11-17_2352"><img src="https://avatars.githubusercontent.com/u/37876601?u=832a55ad26fa192d411932dcf7a9f13187d79380&v=4" width="50"><a href="https://github.com/DamaniN">DamaniN</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-972329859">2021-11-17 23:52</a>:<a class="headerlink" href="#damanin_commented_at_2021-11-17_2352" title="Permanent link">&para;</a></h4>
<p>@nmaheve, It looks like the issue you are having now, as shown by the
screenshots posted by @marcus9467, is with reformatting the disks on the
recovery system. This is a not something that CDM does, but is part of
the core ReaR code. Since this is not a CDM related issue, the people on
this issue thread may not be able to help. Please create a new issue on
this repo with the screenshots and description that @marcus9467 posted
so that others who deal with that part of the ReaR code can help.</p>
<h4 id="gdha_commented_at_2021-12-23_0846"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-1000138912">2021-12-23 08:46</a>:<a class="headerlink" href="#gdha_commented_at_2021-12-23_0846" title="Permanent link">&para;</a></h4>
<p>@nmaheve can this issue be closed for you?</p>
<h4 id="jsmeix_commented_at_2022-01-31_1114"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-1025628672">2022-01-31 11:14</a>:<a class="headerlink" href="#jsmeix_commented_at_2022-01-31_1114" title="Permanent link">&para;</a></h4>
<p>I think
<a href="https://github.com/rear/rear/pull/2747">https://github.com/rear/rear/pull/2747</a><br />
also fixes the CDM related parts in this issue here.</p>
<h4 id="sk0al_commented_at_2022-12-13_1605"><img src="https://avatars.githubusercontent.com/u/32075343?v=4" width="50"><a href="https://github.com/sk0al">sk0al</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-1348895966">2022-12-13 16:05</a>:<a class="headerlink" href="#sk0al_commented_at_2022-12-13_1605" title="Permanent link">&para;</a></h4>
<p>I am facing a similar error, however I am running oracle linux 8.7. I do
have grub2 utils installed. I have updated my LD_LIBRARY_PATH as
stated in the thread above but still have the same error. How do you
want me to proceed with a new issue or ?</p>
<h4 id="jsmeix_commented_at_2022-12-14_1328"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2674#issuecomment-1351354199">2022-12-14 13:28</a>:<a class="headerlink" href="#jsmeix_commented_at_2022-12-14_1328" title="Permanent link">&para;</a></h4>
<p>See
<a href="https://github.com/rear/rear/issues/2897">https://github.com/rear/rear/issues/2897</a><br />
and
<a href="https://github.com/rear/rear/issues/2783">https://github.com/rear/rear/issues/2783</a></p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2021-08-26.2674.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
