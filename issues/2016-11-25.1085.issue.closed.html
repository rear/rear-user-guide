<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#1085 Issue closed: New kind of "backup" method: BACKUP=ZYPPER - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#1085 Issue closed: New kind of \"backup\" method: BACKUP=ZYPPER";
        var mkdocs_page_input_path = "issues/2016-11-25.1085.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li class="breadcrumb-item active">#1085 Issue closed: New kind of "backup" method: BACKUP=ZYPPER</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1085_issue_closed_new_kind_of_backup_method_backupzypper"><a href="https://github.com/rear/rear/issues/1085">#1085 Issue</a> <code>closed</code>: New kind of "backup" method: BACKUP=ZYPPER<a class="headerlink" href="#1085_issue_closed_new_kind_of_backup_method_backupzypper" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>fixed / solved / done</code></p>
<h4 id="jsmeix_opened_issue_at_2016-11-25_0944"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> opened issue at <a href="https://github.com/rear/rear/issues/1085">2016-11-25 09:44</a>:<a class="headerlink" href="#jsmeix_opened_issue_at_2016-11-25_0944" title="Permanent link">&para;</a></h4>
<p>I like to implement a new kind of "backup" method:</p>
<pre>
BACKUP=ZYPPER
</pre>

<p>It is not an usual file-based backup/restore method<br />
where one can get the files of an old system<br />
back as they had been before.</p>
<p>This new kind of "backup" method does not work<br />
on files but on RPM packages.</p>
<p>During "rear mkbackup" it will basically save<br />
only the list of installed RPM packages and<br />
during "rear recover" it will basically<br />
only install those RPM packages.</p>
<p>This issue emerged as successor of<br />
<a href="https://github.com/rear/rear/issues/732">https://github.com/rear/rear/issues/732</a><br />
and is intended to replace it.</p>
<p>In contrast to<br />
<a href="https://github.com/rear/rear/issues/732">https://github.com/rear/rear/issues/732</a><br />
where a whole new workflow was intended to be implemented<br />
the new BACKUP=ZYPPER method is intended to provide the<br />
same functionality i.e. "install a system from scratch" but<br />
BACKUP=ZYPPER integrates much nicer into the<br />
existing ReaR framework.</p>
<p>Why BACKUP=ZYPPER and not BACKUP=RPM?</p>
<p>Because zypper provides RPM packages repositories<br />
management, i.e. using the higher level 'zypper' instead<br />
of the low-level 'rpm' saves me much implementation work<br />
because I do not have to implement RPM repositories<br />
management in ReaR but can just let zypper do that, cf.<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a><br />
"Generic system installation with the plain SUSE installation system"<br />
where I also used 'zypper' in my installation script<br />
(a few 'zypper' commands did all the stuff).</p>
<p>When BACKUP=ZYPPER works o.k. and<br />
when users are interested in using ReaR also<br />
for system deployment, it should be (relatively) easy<br />
to add more such kind of "backup" methods to also<br />
support other software package installers in ReaR.</p>
<p>The intended use-case why I think ReaR should<br />
support system deployment:</p>
<p>As far as I know one reason why users like ReaR so much is<br />
that ReaR is one same disaster recovery tool that they can<br />
use on all their various different kind of Linux systems<br />
(e.g. Debian, Red Hat, SUSE, Ubuntu, ...), cf.<br />
"Native disaster recovery with AutoYaST is deprecated"<br />
in
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<p>From that I conclude that basically nobody is interested<br />
in a Linux distributior specific disaster recovery tool.</p>
<p>As far as I know another reason why users like ReaR so much<br />
is that ReaR is pure bash (the native system administration<br />
language) which means they can (relatively) easily adapt it<br />
as they need it for their various kind of Linux systems.</p>
<p>Why not make them even more happy so that they can<br />
also use ReaR generically for all kind of installations<br />
on all kind of their Linux systems?</p>
<p>Perhaps you may wonder about why a user should use<br />
ReaR for system installation when each Linux distribution<br />
already comes with its own specific installer?</p>
<p>As far as I know in big environments (with hundreds<br />
or even thousands of systems) nobody uses the<br />
Linux distribution's installers to manually install<br />
each particular system.<br />
In big environments they use whatever deployment tool<br />
for mass-installations (e.g. AutoYaST for SUSE).</p>
<p>As far as I know in big environments they use the<br />
Linux distribution's installers basically only during<br />
their initial evaluation and testing phase until they<br />
know what they want to get.<br />
Then they set up their deployment tool and let it do<br />
the actual productive mass-deployments.</p>
<p>Therefore the intended use-case for<br />
ReaR system deployment is:</p>
<p>Use the Linux distribution's installer to set up<br />
one or several "template systems".<br />
On each of those "template systems"<br />
run "rear mkbackup" and do the actual productive<br />
mass-deployment via "rear recover" probably<br />
together with "RECOVERY_UPDATE_URL", cf.<br />
<a href="https://github.com/rear/rear/issues/841">https://github.com/rear/rear/issues/841</a></p>
<p>Another use-case for ReaR system deployment<br />
could be when systems get re-installed regularly<br />
to maintain 100% clean and 100% updated systems<br />
like thin clients or any other systems without local data<br />
storage where only the plain operating system and<br />
application binaries are stored on local disk, nowadays<br />
also servers with data storage via SAN.</p>
<p>And what is the ultimate goal behind all that?</p>
<p>My ultimate goal is to get ReaR out of the "rear seat"<br />
and put it on a "front seat" - even more:<br />
I would like to get ReaR on the "driver's seat".</p>
<p>My ultimate goal is to move ReaR forward<br />
from something where its users basically say</p>
<pre>
ReaR is nice tool that we have to be better
prepared in case a disaster happens but that
we hopefully never have to actually use.
</pre>

<p>to something where its users could say</p>
<pre>
ReaR is an essential part of our system administration.
ReaR is THE deployment tool and at the same time
ReaR is THE backup and recovery tool
for all our various different kind of Linux systems.
</pre>

<p>Cf.<br />
"Let's face it: Deployment via the recovery installer is a must" at<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<h4 id="gozora_commented_at_2016-11-25_1131"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1085#issuecomment-262937793">2016-11-25 11:31</a>:<a class="headerlink" href="#gozora_commented_at_2016-11-25_1131" title="Permanent link">&para;</a></h4>
<p>Hello @jsmeix,<br />
Looks like SuSE only feature, or am I wrong?<br />
Once package list to install list is saved, from which source will they
be installed during deployment? (DVD, official repos, local repos ...)?</p>
<p>V.</p>
<h4 id="jsmeix_commented_at_2016-11-25_1329"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1085#issuecomment-262957462">2016-11-25 13:29</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-11-25_1329" title="Permanent link">&para;</a></h4>
<p>BACKUP=ZYPPER only works on systems<br />
where 'zypper' is there, cf. above:</p>
<pre>
When BACKUP=ZYPPER works o.k. and
when users are interested in using ReaR also
for system deployment, it should be (relatively) easiy
to add more such kind of "backup" methods to also
support other software package installers in ReaR.
</pre>

<p>Of course I will first implement something for<br />
the systems of the company that pays my salary ;-)<br />
Then people from Red Hat, Debian, Ubuntu,...<br />
could implement same functionality for their<br />
software package installers (based on my work).</p>
<p>Regarding what package repositories will be used<br />
during "rear recover":<br />
By default the ones that are active on the original system<br />
(i.e. basically what 'zypper lr -u' shows), but anything<br />
else will also be possible, cf. above</p>
<pre>
mass-deployment via "rear recover" probably
together with "RECOVERY_UPDATE_URL", cf.
https://github.com/rear/rear/issues/841
</pre>

<h4 id="gozora_commented_at_2016-11-25_1501"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1085#issuecomment-262973611">2016-11-25 15:01</a>:<a class="headerlink" href="#gozora_commented_at_2016-11-25_1501" title="Permanent link">&para;</a></h4>
<p>hmm, fully understand you monetary reasons, we all need to eat from time
to time ;-).<br />
Anyhow didn't you thought about something more generic (then ZYPPER)?
Because if e.g. RH guys add their code (e.g. for Yum) naming could
become confusing over time ... (just an idea, in general I don't have
anything against zypper ;-)).</p>
<h4 id="jsmeix_commented_at_2016-11-25_1517"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1085#issuecomment-262977318">2016-11-25 15:17</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-11-25_1517" title="Permanent link">&para;</a></h4>
<p>E.g for Red Hat one would keep it separated via</p>
<pre>
BACKUP=YUM
</pre>

<p>cf. what we learned about keeping separated backup<br />
methods separated in<br />
<a href="https://github.com/rear/rear/pull/1048">https://github.com/rear/rear/pull/1048</a></p>
<p>With support for multiple backup methods in ReaR<br />
it does no longer matter on what particular backup method<br />
the user must decide - he can freely combine what he likes.</p>
<p>My actual main reason for using 'zypper' is that I know it<br />
and that I already have some experience how to use it<br />
on plain command line for installation from scatch, cf.<br />
"Generic system installation with the plain SUSE installation system"
in<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<p>I like to get a first usable result soon<br />
so that I and others can play around with it to see<br />
how all that actually works (or fails) in practice.<br />
Therefore I like to avoid unexpected troubles<br />
with low-level implementation details.</p>
<p>If BACKUP=ZYPPER works well, I could perhaps<br />
implement a generic BACKUP=RPM later if needed, cf.<br />
"Why BACKUP=ZYPPER and not BACKUP=RPM?" in<br />
<a href="https://github.com/rear/rear/issues/1085#issue-191661559">https://github.com/rear/rear/issues/1085#issue-191661559</a></p>
<h4 id="jsmeix_commented_at_2017-02-20_1017"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1085#issuecomment-281039899">2017-02-20 10:17</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-02-20_1017" title="Permanent link">&para;</a></h4>
<p>This is the matching openSUSE Hack Week project:<br />
<a href="https://hackweek.suse.com/15/projects/2242">https://hackweek.suse.com/15/projects/2242</a></p>
<pre>
Relax-and-Recover: New kind of "backup" method: BACKUP=ZYPPER
</pre>

<h4 id="gdha_commented_at_2017-02-20_1213"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1085#issuecomment-281064083">2017-02-20 12:13</a>:<a class="headerlink" href="#gdha_commented_at_2017-02-20_1213" title="Permanent link">&para;</a></h4>
<p>@jsmeix Have a nice opensuse hack week ;-)</p>
<h4 id="jsmeix_commented_at_2017-02-27_1549"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1085#issuecomment-282758757">2017-02-27 15:49</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-02-27_1549" title="Permanent link">&para;</a></h4>
<p>With<br />
<a href="https://github.com/rear/rear/pull/1209">https://github.com/rear/rear/pull/1209</a><br />
merged BACKUP=ZYPPER works now in a basic way<br />
at least on SLES12, cf.<br />
<a href="https://github.com/rear/rear/pull/1209#issuecomment-282757853">https://github.com/rear/rear/pull/1209#issuecomment-282757853</a></p>
<h4 id="jsmeix_commented_at_2020-03-06_1346"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1085#issuecomment-595774389">2020-03-06 13:46</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-03-06_1346" title="Permanent link">&para;</a></h4>
<p>Because there is zero user response for BACKUP=ZYPPER<br />
(in particular zero SUSE user response) I leave it as is.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2023 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2016-11-25.1085.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
