<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#3289 Issue closed: OBS signing key has expired (The gpg key signing file 'repomd.xml' has expired) - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#3289 Issue closed: OBS signing key has expired (The gpg key signing file \u0027repomd.xml\u0027 has expired)";
        var mkdocs_page_input_path = "issues/2024-07-22.3289.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_rsync.html">Internal Backup with rsync to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rsync.html">External Backup using BACKUP=RSYNC method</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/restic.html">External Backup using restic</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/duplicity.html">External Backup using duplicity</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#3289 Issue closed: OBS signing key has expired (The gpg key signing file 'repomd.xml' has expired)</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="3289_issue_closed_obs_signing_key_has_expired_the_gpg_key_signing_file_repomdxml_has_expired"><a href="https://github.com/rear/rear/issues/3289">#3289 Issue</a> <code>closed</code>: OBS signing key has expired (The gpg key signing file 'repomd.xml' has expired)<a class="headerlink" href="#3289_issue_closed_obs_signing_key_has_expired_the_gpg_key_signing_file_repomdxml_has_expired" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>support / question</code>,
<code>fixed / solved / done</code>, <code>ReaR Project</code></p>
<h4 id="thomasmerz_opened_issue_at_2024-07-22_1049"><img src="https://avatars.githubusercontent.com/u/18568381?u=520aed8f7e665d9d1caee6358db291489a99ef03&v=4" width="50"><a href="https://github.com/thomasmerz">thomasmerz</a> opened issue at <a href="https://github.com/rear/rear/issues/3289">2024-07-22 10:49</a>:<a class="headerlink" href="#thomasmerz_opened_issue_at_2024-07-22_1049" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/rear/rear/issues/2309">https://github.com/rear/rear/issues/2309</a>
is back:</p>
<pre><code>Warning: The gpg key signing file 'repomd.xml' has expired.
  Repository:       Relax-and-Recover snapshot packages (15.5)
  Key Fingerprint:  985D 26DB 1764 72E4 5FFE 5FF5 1B4D D1E2 FFC8 DD5F
  Key Name:         Archiving:Backup:Rear OBS Project &lt;Archiving:Backup:Rear@build.opensuse.org&gt;
  Key Algorithm:    RSA 2048
  Key Created:      Thu 17 Mar 2022 04:08:05 PM CET
  Key Expires:      Sat 25 May 2024 05:08:05 PM CEST (EXPIRED)
  Rpm Name:         gpg-pubkey-ffc8dd5f-62334ed5
</code></pre>
<ul>
<li>
<p>ReaR version ("/usr/sbin/rear -V"): Relax-and-Recover 2.7 /
    2022-07-13</p>
</li>
<li>
<p>If your ReaR version is not the current version, explain why you
    can't upgrade: see title of issue üòâ</p>
</li>
<li>
<p>OS version ("cat /etc/os-release" or "lsb_release -a" or "cat
    /etc/rear/os.conf"): openSUSE Leap 15.5</p>
</li>
</ul>
<h4 id="jsmeix_commented_at_2024-07-22_1240"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3289#issuecomment-2242860385">2024-07-22 12:40</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-07-22_1240" title="Permanent link">&para;</a></h4>
<p>@thomasmerz<br />
as always I have no idea how that OBS key stuff actually works.<br />
To me all that is obscure and behaves inexplicably.</p>
<p>So I need details how I could reproduce your issue.<br />
Ideally exact command lines that I could type in<br />
and what their output is on your system<br />
so I could compare your output with mine.<br />
I do not use graphical GUI tools so I could not<br />
reproduce issues with graphical GUI tools.</p>
<p>FYI<br />
what I did so far<br />
(basically blind attempts to "see" something):</p>
<p><a href="https://build.opensuse.org/projects/Archiving:Backup:Rear/signing_keys">https://build.opensuse.org/projects/Archiving:Backup:Rear/signing_keys</a></p>
<pre><code>Expires on    2026-09-30
</code></pre>
<p>which matches</p>
<pre><code># osc signkey Archiving:Backup:Rear | gpg
...
pub   rsa2048 2020-01-17 [SC] [expires: 2026-09-30]
      985D26DB176472E45FFE5FF51B4DD1E2FFC8DD5F

# osc signkey Archiving:Backup:Rear:15.5 | gpg
...
pub   rsa2048 2020-01-17 [SC] [expires: 2026-09-30]
      985D26DB176472E45FFE5FF51B4DD1E2FFC8DD5F
</code></pre>
<p>See also<br />
<a href="https://lists.opensuse.org/archives/list/buildservice@lists.opensuse.org/message/PUY3UP37MA7EYS4XEWGDJRUYBHYNNIRR/">https://lists.opensuse.org/archives/list/buildservice@lists.opensuse.org/message/PUY3UP37MA7EYS4XEWGDJRUYBHYNNIRR/</a><br />
so I tried that</p>
<pre><code># osc signkey --extend Archiving:Backup:Rear
&lt;status code="ok" /&gt;
</code></pre>
<p>But contradictingly</p>
<pre><code># curl https://download.opensuse.org/repositories/Archiving:/Backup:/Rear/15.5/repodata/repomd.xml.key | gpg
...
pub   rsa2048 2020-01-17 [SC] [expired: 2024-05-25]
      985D26DB176472E45FFE5FF51B4DD1E2FFC8DD5F
</code></pre>
<p>but this somehow matches what<br />
<a href="http://download.opensuse.org/repositories/Archiving:/Backup:/Rear/15.5/repodata/">http://download.opensuse.org/repositories/Archiving:/Backup:/Rear/15.5/repodata/</a><br />
shows</p>
<pre><code>Name                      Last Modified
...
repomd.xml.key            10/19/2023
</code></pre>
<p>But on June 03 2024 I had already triggered a rebuild<br />
of Archiving:Backup:Rear rear-2.7 for all build targets:<br />
<a href="https://github.com/rear/rear/issues/3235#issuecomment-2144590757">https://github.com/rear/rear/issues/3235#issuecomment-2144590757</a></p>
<p>???</p>
<h4 id="jsmeix_commented_at_2024-07-22_1245"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3289#issuecomment-2242869945">2024-07-22 12:45</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-07-22_1245" title="Permanent link">&para;</a></h4>
<p>I tried a rebuild:</p>
<pre><code># osc rebuild Archiving:Backup:Rear rear-2.7 15.5
ok

# osc results -v Archiving:Backup:Rear rear-2.7 | grep '^15.5'
15.5  x86_64   rear-2.7  building: building on i04-ch1d:2
15.5  ppc64le  rear-2.7  building: building on obs-power9-15:10

# osc results -v Archiving:Backup:Rear rear-2.7 | grep '^15.5'
15.5  x86_64   rear-2.7  outdated (was: finished: unchanged)
15.5  ppc64le  rear-2.7  succeeded

# osc results -v Archiving:Backup:Rear rear-2.7 | grep '^15.5'
15.5  x86_64   rear-2.7  succeeded
15.5  ppc64le  rear-2.7  succeeded

# curl https://download.opensuse.org/repositories/Archiving:/Backup:/Rear/15.5/repodata/repomd.xml.key | gpg
...
pub   rsa2048 2020-01-17 [SC] [expired: 2024-05-25]
      985D26DB176472E45FFE5FF51B4DD1E2FFC8DD5F
</code></pre>
<h4 id="thomasmerz_commented_at_2024-07-22_1256"><img src="https://avatars.githubusercontent.com/u/18568381?u=520aed8f7e665d9d1caee6358db291489a99ef03&v=4" width="50"><a href="https://github.com/thomasmerz">thomasmerz</a> commented at <a href="https://github.com/rear/rear/issues/3289#issuecomment-2242894883">2024-07-22 12:56</a>:<a class="headerlink" href="#thomasmerz_commented_at_2024-07-22_1256" title="Permanent link">&para;</a></h4>
<p>I was just doing some <code>zypper</code> commands when I saw this "has expired"
message.</p>
<p>I'm using the same repo for OpenSUSE 15.5 as your example above:</p>
<pre><code>$ zypper lr Archiving_Backup_Rear_Snapshot
Alias          : Archiving_Backup_Rear_Snapshot
Name           : Relax-and-Recover snapshot packages (15.5)
URI            : https://download.opensuse.org/repositories/Archiving:/Backup:/Rear/15.5/
Enabled        : Yes
GPG Check      : (r ) Yes
Priority       : 99 (default priority)
Autorefresh    : Off
Keep Packages  : Off
Type           : rpm-md
GPG Key URI    : https://download.opensuse.org/repositories/Archiving:/Backup:/Rear/15.5/repodata/repomd.xml.key
Path Prefix    :
Parent Service :
Keywords       : ---
Repo Info Path : /etc/zypp/repos.d/Archiving_Backup_Rear_Snapshot.repo
MD Cache Path  : /var/cache/zypp/raw/Archiving_Backup_Rear_Snapshot
</code></pre>
<hr />
<p>After your rebuild and my <code>zypper ref -f</code> there's a newer certificat üëçüèº</p>
<pre><code>$ curl https://download.opensuse.org/repositories/Archiving:/Backup:/Rear/15.5/repodata/repomd.xml.key 2&gt;/dev/null | gpg
gpg: WARNING: no command supplied.  Trying to guess what you mean ...
pub   rsa2048 2020-01-17 [SC] [expires: 2026-09-30]
      985D26DB176472E45FFE5FF51B4DD1E2FFC8DD5F
uid           Archiving:Backup:Rear OBS Project &lt;Archiving:Backup:Rear@build.opensuse.org&gt;
</code></pre>
<p>BUT‚Ä¶ üò¢</p>
<pre><code>Signature verification failed for file 'repomd.xml' from repository 'Relax-and-Recover snapshot packages (15.5)'.

    Note: Signing data enables the recipient to verify that no modifications occurred after the data
    were signed. Accepting data with no, wrong or unknown signature can lead to a corrupted system
    and in extreme cases even to a system compromise.

    Note: File 'repomd.xml' is the repositories master index file. It ensures the integrity of the
    whole repo.

    Warning: This file was modified after it has been signed. This may have been a malicious change,
    so it might not be trustworthy anymore! You should not continue unless you know it's safe.

    Note: This might be a transient issue if the server is in the midst of receiving new data. The
    data file and its signature are two files which must fit together. In case the request hit the
    server in the midst of updating them, the signature verification might fail. After a few
    minutes, when the server has updated its data, it should work again.

Signature verification failed for file 'repomd.xml' from repository 'Relax-and-Recover snapshot packages (15.5)'. Continue? [yes/no] (no): yes
Retrieving repository 'Relax-and-Recover snapshot packages (15.5)' metadata .................................................................[error]
Repository 'Relax-and-Recover snapshot packages (15.5)' is invalid.
[Archiving_Backup_Rear_Snapshot|https://download.opensuse.org/repositories/Archiving:/Backup:/Rear/15.5/] Valid metadata not found at specified URL
History:
 - File './repodata/591e88d87481f355baaf2df44fe8352331dc11dbc8991d07fba266e0682e8de0-primary.xml.gz' not found on medium 'https://download.opensuse.org/repositories/Archiving:/Backup:/Rear/15.5/'

Please check if the URIs defined for this repository are pointing to a valid repository.
Skipping repository 'Relax-and-Recover snapshot packages (15.5)' because of the above error.
</code></pre>
<p>Even after "yes" every time: "Signature verification failed".</p>
<h4 id="jsmeix_commented_at_2024-07-22_1304"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3289#issuecomment-2242912000">2024-07-22 13:04</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-07-22_1304" title="Permanent link">&para;</a></h4>
<p>Got that beast!</p>
<p>See in my previous<br />
<a href="https://github.com/rear/rear/issues/3289#issuecomment-2242869945">https://github.com/rear/rear/issues/3289#issuecomment-2242869945</a></p>
<pre><code># osc results -v Archiving:Backup:Rear rear-2.7 | grep '^15.5'
15.5  x86_64   rear-2.7  outdated (was: finished: unchanged)
15.5  ppc64le  rear-2.7  succeeded
</code></pre>
<p>That <code>finished: unchanged</code> triggered something in my mind:</p>
<p>I think I vaguely remember that OBS does not re-publish<br />
a rebuilt package, when the build result is <code>unchanged</code><br />
(i.e. <code>osc rebuild</code> rebuilds but that does not enforce<br />
to also re-publish it).</p>
<p>So I tried what happens when I artificially change<br />
something so that the build result gets <code>changed</code>.</p>
<p>I did in rear.spec spelling fixes in comments 'rear' -&gt; 'ReaR'<br />
see<br />
<a href="https://build.opensuse.org/package/revisions/Archiving:Backup:Rear/rear-2.7">https://build.opensuse.org/package/revisions/Archiving:Backup:Rear/rear-2.7</a><br />
and the actual changes<br />
<a href="https://build.opensuse.org/package/rdiff/Archiving:Backup:Rear/rear-2.7?linkrev=base&amp;rev=4">https://build.opensuse.org/package/rdiff/Archiving:Backup:Rear/rear-2.7?linkrev=base&amp;rev=4</a></p>
<p>This automatically triggered a rebuild of<br />
Archiving:Backup:Rear rear-2.7 for all build targets<br />
and now - after that rebuild finished - I get</p>
<pre><code># curl https://download.opensuse.org/repositories/Archiving:/Backup:/Rear/15.5/repodata/repomd.xml.key | gpg
...
pub   rsa2048 2020-01-17 [SC] [expires: 2026-09-30]
      985D26DB176472E45FFE5FF51B4DD1E2FFC8DD5F
</code></pre>
<p>which now matches what</p>
<pre><code>osc signkey Archiving:Backup:Rear | gpg
</code></pre>
<p>shows, cf. my above<br />
<a href="https://github.com/rear/rear/issues/3289#issuecomment-2242860385">https://github.com/rear/rear/issues/3289#issuecomment-2242860385</a></p>
<h4 id="thomasmerz_commented_at_2024-07-22_1314"><img src="https://avatars.githubusercontent.com/u/18568381?u=520aed8f7e665d9d1caee6358db291489a99ef03&v=4" width="50"><a href="https://github.com/thomasmerz">thomasmerz</a> commented at <a href="https://github.com/rear/rear/issues/3289#issuecomment-2242933995">2024-07-22 13:14</a>:<a class="headerlink" href="#thomasmerz_commented_at_2024-07-22_1314" title="Permanent link">&para;</a></h4>
<p>Great! Thanks a lot ‚ù§Ô∏è You fixed this issue:</p>
<pre><code>$ zypper ref -f 1
Forcing raw metadata refresh
Retrieving repository 'Relax-and-Recover snapshot packages (15.5)' metadata ..................................................................[done]
Forcing building of repository cache
Building repository 'Relax-and-Recover snapshot packages (15.5)' cache .......................................................................[done]
Specified repositories have been refreshed.



$ curl https://download.opensuse.org/repositories/Archiving:/Backup:/Rear/15.5/repodata/repomd.xml.key 2&gt;/dev/null | gpg
gpg: WARNING: no command supplied.  Trying to guess what you mean ...
pub   rsa2048 2020-01-17 [SC] [expires: 2026-09-30]
      985D26DB176472E45FFE5FF51B4DD1E2FFC8DD5F
uid           Archiving:Backup:Rear OBS Project &lt;Archiving:Backup:Rear@build.opensuse.org&gt;
</code></pre>
<h4 id="jsmeix_commented_at_2024-07-22_1316"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3289#issuecomment-2242937020">2024-07-22 13:16</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-07-22_1316" title="Permanent link">&para;</a></h4>
<p>Regarding zypper:</p>
<p>I do not yet use a Archiving:Backup:Rear repository<br />
so I start here from scratch on my Leap 15.5 system:</p>
<p>(I show full output here unless marked with '...')</p>
<pre><code># zypper ar http://download.opensuse.org/repositories/Archiving:/Backup:/Rear/15.5/Archiving:Backup:Rear.repo
Adding repository 'Relax-and-Recover (15.5)' ...........[done]
Repository 'Relax-and-Recover (15.5)' successfully added

URI         : https://download.opensuse.org/repositories/Archiving:/Backup:/Rear/15.5/
Enabled     : Yes
GPG Check   : Yes
Autorefresh : No
Priority    : 99 (default priority)

Repository priorities are without effect. All enabled repositories share the same priority.

# zypper lr
Repository priorities are without effect. All enabled repositories share the same priority.

#  | Alias                 | Name                     | Enabled | GPG Check | Refresh
---+-----------------------+--------------------------+---------+-----------+--------
 1 | Archiving_Backup_Rear | Relax-and-Recover (15.5) | Yes     | ( p) Yes  | No
...

# zypper refresh Archiving_Backup_Rear

New repository or package signing key received:

  Repository:       Relax-and-Recover (15.5)
  Key Fingerprint:  985D 26DB 1764 72E4 5FFE 5FF5 1B4D D1E2 FFC8 DD5F
  Key Name:         Archiving:Backup:Rear OBS Project &lt;Archiving:Backup:Rear@build.opensuse.org&gt;
  Key Algorithm:    RSA 2048
  Key Created:      Mon Jul 22 14:11:05 2024
  Key Expires:      Wed Sep 30 14:11:05 2026
  Rpm Name:         gpg-pubkey-ffc8dd5f-669e4c59

    Note: Signing data enables the recipient to verify that
    no modifications occurred after the data were signed.
    Accepting data with no, wrong or unknown signature
    can lead to a corrupted system and in extreme cases
    even to a system compromise.

    Note: A GPG pubkey is clearly identified by its
    fingerprint. Do not rely on the key's name.
    If you are not sure whether the presented key is
    authentic, ask the repository provider or check
    their web site. Many providers maintain a web page
    showing the fingerprints of the GPG keys they are using.

Do you want to reject the key, trust temporarily, or trust always? [r/t/a/?] (r): a
Retrieving repository 'Relax-and-Recover (15.5)' metadata ....[done]
Building repository 'Relax-and-Recover (15.5)' cache .........[done]
Specified repositories have been refreshed.

# zypper refresh Archiving_Backup_Rear
Repository 'Relax-and-Recover (15.5)' is up to date.                                                                                                                                  
Specified repositories have been refreshed.

# rpm -qi gpg-pubkey-ffc8dd5f-669e4c59
Name        : gpg-pubkey
Version     : ffc8dd5f
Release     : 669e4c59
Architecture: (none)
Install Date: Mon Jul 22 15:10:56 2024
Group       : Public Keys
Size        : 0
License     : pubkey
Signature   : (none)
Source RPM  : (none)
Build Date  : Mon Jul 22 14:11:05 2024
Build Host  : localhost
Relocations : (not relocatable)
Packager    : Archiving:Backup:Rear OBS Project &lt;Archiving:Backup:Rear@build.opensuse.org&gt;
Summary     : gpg(Archiving:Backup:Rear OBS Project &lt;Archiving:Backup:Rear@build.opensuse.org&gt;)
Description :
-----BEGIN PGP PUBLIC KEY BLOCK-----
...
-----END PGP PUBLIC KEY BLOCK-----

Distribution: (none)
</code></pre>
<h4 id="jsmeix_commented_at_2024-07-22_1324"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3289#issuecomment-2242955740">2024-07-22 13:24</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-07-22_1324" title="Permanent link">&para;</a></h4>
<p>@thomasmerz<br />
thank you for your prompt reply that it now also works for you.</p>
<p>I noticed that your Archiving:Backup:Rear repository<br />
is named <code>Relax-and-Recover snapshot packages</code><br />
and also other values contain 'snapshot'<br />
but I had removed the Archiving:Backup:Rear:Snapshot<br />
repository some time ago, see<br />
<a href="https://github.com/rear/rear/issues/3056">https://github.com/rear/rear/issues/3056</a><br />
so I assume your Archiving:Backup:Rear repository<br />
is somewhat old and perhaps somewhat outdated.</p>
<p>Perhaps things work better when you remove that<br />
old and possibly somewhat outdated repository<br />
from zypper and (re)-install it from scratch<br />
as I did it above in my<br />
<a href="https://github.com/rear/rear/issues/3289#issuecomment-2242937020">https://github.com/rear/rear/issues/3289#issuecomment-2242937020</a></p>
<p>But this is only an offhanded proposal.<br />
I don't know your system environment<br />
and/or your respositories setup so perhaps<br />
better don't touch it more than actually needed?</p>
<h4 id="thomasmerz_commented_at_2024-07-22_1345"><img src="https://avatars.githubusercontent.com/u/18568381?u=520aed8f7e665d9d1caee6358db291489a99ef03&v=4" width="50"><a href="https://github.com/thomasmerz">thomasmerz</a> commented at <a href="https://github.com/rear/rear/issues/3289#issuecomment-2243003687">2024-07-22 13:45</a>:<a class="headerlink" href="#thomasmerz_commented_at_2024-07-22_1345" title="Permanent link">&para;</a></h4>
<p>You fixed it, you got the praise üëèüèº<br />
My repo was already latest/correct, but the name was something old.
Thanks for your hint I had to check with your "URI:
<a href="https://download.opensuse.org/repositories/Archiving:/Backup:/Rear/15.5/">https://download.opensuse.org/repositories/Archiving:/Backup:/Rear/15.5/</a>"</p>
<h4 id="jsmeix_commented_at_2024-07-22_1424"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3289#issuecomment-2243093772">2024-07-22 14:24</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-07-22_1424" title="Permanent link">&para;</a></h4>
<p>:-)<br />
actually I did not fix it (i.e. I did not correct a bug)<br />
but I learned now how to work around this bug in OBS:</p>
<p>It seems OBS does not re-build or re-publish a package<br />
when metadata changed (at least not when expiration date<br />
of a key changed).</p>
<p>I think when metadata of a published package changed,<br />
then OBS should normally (i.e. except exceptions)<br />
automatcally re-build and re-publish the package.</p>
<p>I think such an enhanced re-build and re-publish behaviour<br />
would be in line with the current automated re-build<br />
of a package which is:<br />
When the package sources changed but also when<br />
another package changed that is needed to build<br />
(i.e. when something changed that gets installed by OBS<br />
into its build system), simply put: when the build system<br />
of a package changed, then the package gets automatically<br />
re-built by OBS.</p>
<p>Bottom line (or "lesson learned"):<br />
I think for all ReaR source packages in OBS<br />
I should do some artificial source change once a year<br />
to trigger a complete re-build and re-publish.</p>
<h4 id="jsmeix_commented_at_2024-07-22_1445"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3289#issuecomment-2243143462">2024-07-22 14:45</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-07-22_1445" title="Permanent link">&para;</a></h4>
<p>I did the same artificial source change as in<br />
<a href="https://github.com/rear/rear/issues/3289#issuecomment-2242912000">https://github.com/rear/rear/issues/3289#issuecomment-2242912000</a><br />
to trigger a complete re-build and re-publish<br />
now also for Archiving:Backup:Rear rear-2.6<br />
see<br />
<a href="https://build.opensuse.org/package/revisions/Archiving:Backup:Rear/rear-2.6">https://build.opensuse.org/package/revisions/Archiving:Backup:Rear/rear-2.6</a><br />
and<br />
<a href="https://build.opensuse.org/package/rdiff/Archiving:Backup:Rear/rear-2.6?linkrev=base&amp;rev=4">https://build.opensuse.org/package/rdiff/Archiving:Backup:Rear/rear-2.6?linkrev=base&amp;rev=4</a></p>
<h4 id="jsmeix_commented_at_2024-07-22_1500"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3289#issuecomment-2243176356">2024-07-22 15:00</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-07-22_1500" title="Permanent link">&para;</a></h4>
<p>I plan to remove the old and outdated<br />
ReaR versions 2.5 and 2.4<br />
from Archiving:Backup:Rear see<br />
<a href="https://github.com/rear/rear/issues/3290">https://github.com/rear/rear/issues/3290</a></p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2024-07-22.3289.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
