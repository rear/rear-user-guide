<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#1681 Issue closed: Make ReaR more fail-safe in case of sparse partition schemes - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#1681 Issue closed: Make ReaR more fail-safe in case of sparse partition schemes";
        var mkdocs_page_input_path = "issues/2018-01-05.1681.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../scenarios/netfs_rsync.md">Internal Backup with rsync to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/restic.html">External Backup using restic</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#1681 Issue closed: Make ReaR more fail-safe in case of sparse partition schemes</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1681_issue_closed_make_rear_more_fail-safe_in_case_of_sparse_partition_schemes"><a href="https://github.com/rear/rear/issues/1681">#1681 Issue</a> <code>closed</code>: Make ReaR more fail-safe in case of sparse partition schemes<a class="headerlink" href="#1681_issue_closed_make_rear_more_fail-safe_in_case_of_sparse_partition_schemes" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>documentation</code>, <code>fixed / solved / done</code></p>
<h4 id="jsmeix_opened_issue_at_2018-01-05_1659"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> opened issue at <a href="https://github.com/rear/rear/issues/1681">2018-01-05 16:59</a>:<a class="headerlink" href="#jsmeix_opened_issue_at_2018-01-05_1659" title="Permanent link">&para;</a></h4>
<p>See the "problem with sparse partition-names" mail thread<br />
on the <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#114;&#101;&#97;&#114;&#45;&#117;&#115;&#101;&#114;&#115;&#64;&#108;&#105;&#115;&#116;&#115;&#46;&#114;&#101;&#108;&#97;&#120;&#45;&#97;&#110;&#100;&#45;&#114;&#101;&#99;&#111;&#118;&#101;&#114;&#46;&#111;&#114;&#103;">&#114;&#101;&#97;&#114;&#45;&#117;&#115;&#101;&#114;&#115;&#64;&#108;&#105;&#115;&#116;&#115;&#46;&#114;&#101;&#108;&#97;&#120;&#45;&#97;&#110;&#100;&#45;&#114;&#101;&#99;&#111;&#118;&#101;&#114;&#46;&#111;&#114;&#103;</a> mailing list<br />
in particular<br />
<a href="http://lists.relax-and-recover.org/pipermail/rear-users/2018-January/003506.html">http://lists.relax-and-recover.org/pipermail/rear-users/2018-January/003506.html</a></p>
<p>Summary:</p>
<p>In case of non-consecutive partition device nodes for a disk<br />
(e.g. /dev/sda1 and /dev/sda3 exist but there is no /dev/sda2)<br />
"rear mkrescue/mkbackup" produces a right disklayout.conf<br />
but "rear recover" recreates something different<br />
(i.e. /dev/sda1 and /dev/sda2 but no /dev/sda3)<br />
and that causes various issues.</p>
<p>The workaround for the user is to manually add<br />
on his original system placeholder partitions<br />
(e.g. a tiny /dev/sda2 placeholder partition)<br />
to ensure consecutive partition device nodes for the disk.</p>
<p>There should be at least tests in ReaR that warn or error out<br />
in case of non-consecutive partition device nodes for a disk.</p>
<p>In case of traditional MBR partitioning with an extended partition<br />
that contains logical partitions like</p>
<pre>
/dev/sda1 is a boot partition
/dev/sda2 is an extended partition
/dev/sda5 is the first logical partition
/dev/sda6 is the second logical partition
</pre>

<p>the "missing" /dev/sda3 and /dev/sda4 are not an issue<br />
but things like</p>
<pre>
/dev/sda1 is a boot partition
/dev/sda3 is an extended partition
/dev/sda5 is the first logical partition
/dev/sda6 is the second logical partition
</pre>

<p>(/dev/sda2 is missing)<br />
or</p>
<pre>
/dev/sda1 is a boot partition
/dev/sda2 is an extended partition
/dev/sda5 is the first logical partition
/dev/sda7 is the second logical partition
</pre>

<p>(/dev/sda6 is missing)<br />
would be an issue.</p>
<p>Details:</p>
<p>In case of non-consecutive partition device nodes for a disk<br />
i.e. when partition table entries are empty on the disk<br />
for example when in case of traditional MBR partitioning<br />
the two first partition table entries are empty<br />
so that there is no /dev/sda1 or /dev/sda2 like this</p>
<pre>
# fdisk -l
Disk /dev/sda: 20 GiB, 21474836480 bytes, 41943040 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x00050095
Device     Boot    Start      End  Sectors Size Id Type
/dev/sda3  *     6299664 12597263  6297600   3G 83 Linux
/dev/sda4       12597272 41943039 29345768  14G  f W95 Ext'd (LBA)
/dev/sda5       12597280 37769247 25171968  12G 83 Linux
/dev/sda6       37769256 41941031  4171776   2G 83 Linux

# mount | grep sda
/dev/sda5 on / type ext4 (rw,relatime,data=ordered)
/dev/sda3 on /boot type ext4 (rw,relatime,data=ordered)
</pre>

<p>"rear mkrescue" produces correct entries in disklayout.conf like</p>
<pre>
# Disk /dev/sda
# Format: disk <devname> <size(bytes)> <partition label type>
disk /dev/sda 21474836480 msdos
# Partitions on /dev/sda
# Format: part <device> <partition size(bytes)> <partition start(bytes)> <partition type|name> <flags> /dev/<partition>
part /dev/sda 3224371200 3225427968 primary boot /dev/sda3
part /dev/sda 1024 6449803264 extended lba /dev/sda4
part /dev/sda 12888047616 6449807360 logical none /dev/sda5
part /dev/sda 2135949312 19337859072 logical none /dev/sda6
# Filesystems (only ext2,ext3,ext4,vfat,xfs,reiserfs,btrfs are supported).
# Format: fs <device> <mountpoint> <fstype> [uuid=<uuid>] [label=<label>] [<attributes>]
fs /dev/sda3 /boot ext4 uuid=a9a9689b-498c-4262-b211-eb0bd2eeea93 label= blocksize=4096 reserved_blocks=5% max_mounts=-1 check_interval=0d bytes_per_inode=16384 default_mount_options=user_xattr,acl options=rw,relatime,data=ordered
fs /dev/sda5 / ext4 uuid=f6533bd9-6738-4848-95a6-1c414ae7a481 label= blocksize=4096 reserved_blocks=3% max_mounts=-1 check_interval=0d bytes_per_inode=16379 default_mount_options=user_xattr,acl options=rw,relatime,data=ordered
# Swap partitions or swap files
# Format: swap <filename> uuid=<uuid> label=<label>
swap /dev/sda6 uuid=b83c85d0-587e-4aa4-bba7-5bd6c9d7b307 label=
</pre>

<p>but during "rear recover" it fails because diskrestore.sh<br />
looks like this (excerpts)</p>
<pre>
parted -s /dev/sda mklabel msdos >&2
parted -s /dev/sda mkpart 'primary' 2097152B 3226468351B >&2
parted -s /dev/sda set 3 boot on >&2
parted -s /dev/sda mkpart 'extended' 3226472448B 21474836479B >&2
parted -s /dev/sda set 4 lba on >&2
parted -s /dev/sda mkpart 'logical' 3226476544B 16114524159B >&2
parted -s /dev/sda mkpart 'logical' 16114528256B 18250477567B >&2
</pre>

<p>which fails at "parted -s /dev/sda set 3 boot on" with</p>
<pre>
+++ parted -s /dev/sda set 3 boot on
Error: Partition doesn't exist.
</pre>

<p>because there is no partition 3 because what was<br />
the boot partition /dev/sda3 on the original system<br />
gets recreated as first primary partition /dev/sda1<br />
and the extended partition /dev/sda4 on the original system<br />
will be recreated as second partition /dev/sda2.</p>
<p>Because the disklayout.conf saves the right partition device nodes<br />
of the original system it should be possible (with reasonable effort)<br />
to use this for tests preferably during "rear mkrescue/mkbackup"<br />
and/or at least during "rear recover" when partition device nodes<br />
that get or will be created on the replacement hardware<br />
will or do not match the ones on the original system.</p>
<p>An addedum:<br />
As far as I see the current MIGRATION_MODE in ReaR<br />
only has some basic support to migrate whole disks<br />
but currently there is no support in ReaR to migrate<br />
partitions on a disk as it would be needed here<br />
but migrating partitions is not considered here.<br />
Migrating partitions on a disk could become a future<br />
enhancement - provided there is actual need for it.</p>
<h4 id="jsmeix_commented_at_2018-01-05_1715"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1681#issuecomment-355611173">2018-01-05 17:15</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-01-05_1715" title="Permanent link">&para;</a></h4>
<p>My offhanded idea is to add a new<br />
layout/save/default/950_verify_disklayout_conf.sh<br />
(same idea behind as for build/default/980_verify_rootfs.sh)<br />
that tests if there are non-consecutive partition device nodes<br />
for a disk in the disklayout.conf file.</p>
<h4 id="jsmeix_commented_at_2018-05-03_1321"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1681#issuecomment-386293190">2018-05-03 13:21</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-05-03_1321" title="Permanent link">&para;</a></h4>
<p>Not doable in the currently planned time until the ReaR 2.4 release,<br />
cf.
<a href="https://github.com/rear/rear/issues/1790#issue-319663141">https://github.com/rear/rear/issues/1790#issue-319663141</a><br />
so that I postpone it for the next ReaR 2.5 release.</p>
<h4 id="greenblood_commented_at_2018-10-29_1517"><img src="https://avatars.githubusercontent.com/u/6583431?v=4" width="50"><a href="https://github.com/GreenBlood">GreenBlood</a> commented at <a href="https://github.com/rear/rear/issues/1681#issuecomment-433950518">2018-10-29 15:17</a>:<a class="headerlink" href="#greenblood_commented_at_2018-10-29_1517" title="Permanent link">&para;</a></h4>
<p>That would be a drastic change, but maybe using disk UUIDs in
disklayout.conf instead of names, bypassing completely the devices
names. The resulting partition scheme would not be 100% equal but it
would be simpler for the recovery process imho</p>
<p>I'm not familiar with rear workflow so I may be heading in the wrong
direction though.</p>
<h4 id="jsmeix_commented_at_2018-10-29_1543"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1681#issuecomment-433961072">2018-10-29 15:43</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-10-29_1543" title="Permanent link">&para;</a></h4>
<p>@GreenBlood<br />
can you explain in more detail how you think using disk identifiers<br />
(instead of plain kernel device nodes) could help?</p>
<p>A side note:<br />
In general what is called a UUID in this area is a filesystem UUID<br />
but on empty disks on replacement hardware there are none.</p>
<p>I think on new replacement hardware whatever hardware disk identifiers<br />
would usually not match what there was on the original system, cf.<br />
<a href="https://github.com/rear/rear/issues/1057#issuecomment-258832970">https://github.com/rear/rear/issues/1057#issuecomment-258832970</a></p>
<p>Furthermore I think that any kind of other naming for disk devices<br />
would not help because in the end there is a sequence of <code>parted</code>
calls<br />
that create all partitions on the replacement disk from scratch<br />
where the first <code>parted</code> call is <code>parted mklabel</code> which creates<br />
a new partition table from scratch and then all partitions are<br />
created one by one via subsequent <code>parted mkpart</code> calls,<br />
see what during <code>rear recover</code> a 'diskrestore.sh' contains<br />
or my initial description above which contains excerpts<br />
of a 'diskrestore.sh' on my test system.</p>
<p>I think the root cause is that <code>parted mkpart</code> has no support<br />
to specify the intended partition number - at least I do not see<br />
how one could do that in the parted manual at<br />
<a href="https://www.gnu.org/software/parted/manual/parted.html">https://www.gnu.org/software/parted/manual/parted.html</a><br />
except by creating dummy placeholder partitions in between<br />
that get later removed via <code>parted rm</code> as workaround.</p>
<h4 id="jsmeix_commented_at_2019-02-22_1518"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1681#issuecomment-466432296">2019-02-22 15:18</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-02-22_1518" title="Permanent link">&para;</a></h4>
<p>A disklayout.conf syntax check as proposed in<br />
<a href="https://github.com/rear/rear/issues/2006#issuecomment-460646685">https://github.com/rear/rear/issues/2006#issuecomment-460646685</a><br />
is much related to other checks as the above proposed<br />
<a href="https://github.com/rear/rear/issues/1681#issuecomment-355611173">https://github.com/rear/rear/issues/1681#issuecomment-355611173</a><br />
so that all such checks should be in one same script.</p>
<h4 id="jsmeix_commented_at_2019-02-22_1520"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1681#issuecomment-466432916">2019-02-22 15:20</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-02-22_1520" title="Permanent link">&para;</a></h4>
<p>Not doable in the currently planned time until the ReaR 2.5 release<br />
so that I postpone it for the next ReaR 2.6 release, cf.<br />
<a href="https://github.com/rear/rear/milestones">https://github.com/rear/rear/milestones</a></p>
<h4 id="jsmeix_commented_at_2019-02-27_1655"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1681#issuecomment-467941891">2019-02-27 16:55</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-02-27_1655" title="Permanent link">&para;</a></h4>
<p>I should really implement something for the next ReaR 2.6 release,<br />
see the mail thread with subject</p>
<pre><code>ReaR 2.4/RHEL7u3 x86_64 disk layout recreation script failed
Error: Partition doesn't exist (smart array RAID0)
</code></pre>
<p>on the rear-users mailing list at<br />
<a href="http://lists.relax-and-recover.org/pipermail/rear-users/2019-February/thread.html">http://lists.relax-and-recover.org/pipermail/rear-users/2019-February/thread.html</a><br />
in particular see<br />
<a href="http://lists.relax-and-recover.org/pipermail/rear-users/2019-February/003665.html">http://lists.relax-and-recover.org/pipermail/rear-users/2019-February/003665.html</a><br />
where "rear recover" fails when there is no /dev/sda1 on the original
system like:</p>
<pre><code>       Start       End   Size Type            Name
sda2  526336   1050623   256M EFI System      EFI System Partition
sda3 1050624   2099199   512M Microsoft basic
sda4 2099200 585871359 278.4G Linux LVM
</code></pre>
<h4 id="jsmeix_commented_at_2019-03-05_1053"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1681#issuecomment-469635590">2019-03-05 10:53</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-03-05_1053" title="Permanent link">&para;</a></h4>
<p>With
<a href="https://github.com/rear/rear/pull/2060">https://github.com/rear/rear/pull/2060</a>
merged<br />
I consider this issue to be done.</p>
<p>The new verify script
layout/save/default/950_verify_disklayout_file.sh<br />
tests disklayout.conf that was created by "rear mkrescue/mkbackup"<br />
for non-consecutive partitions and lets "rear mkrescue/mkbackup"<br />
error out if non-consecutive partitions are found because currently<br />
"rear recover" fails when there are non-consecutive partitions and<br />
it is better to errors out early during "rear mkrescue/mkbackup"<br />
when things cannot work during "rear recover", cf.<br />
<a href="https://github.com/rear/rear/wiki/Developers-Guide">https://github.com/rear/rear/wiki/Developers-Guide</a></p>
<h4 id="jsmeix_commented_at_2019-03-07_1317"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1681#issuecomment-470521416">2019-03-07 13:17</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-03-07_1317" title="Permanent link">&para;</a></h4>
<p>It is now documented in the</p>
<pre><code>New features, bigger enhancements, and possibly backward incompatible changes
</code></pre>
<p>section of the ReaR 2.5 release notes<br />
<a href="https://github.com/rear/rear.github.com/blob/master/documentation/release-notes-2-5.md">https://github.com/rear/rear.github.com/blob/master/documentation/release-notes-2-5.md</a></p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2018-01-05.1681.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
