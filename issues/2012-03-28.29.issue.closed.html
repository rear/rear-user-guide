<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#29 Issue closed: ROOTFS_DIR '/tmp/rear..' is broken, chroot bash test failed - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#29 Issue closed: ROOTFS_DIR \u0027/tmp/rear..\u0027 is broken, chroot bash test failed";
        var mkdocs_page_input_path = "issues/2012-03-28.29.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#29 Issue closed: ROOTFS_DIR '/tmp/rear..' is broken, chroot bash test failed</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="29_issue_closed_rootfs_dir_tmprear_is_broken_chroot_bash_test_failed"><a href="https://github.com/rear/rear/issues/29">#29 Issue</a> <code>closed</code>: ROOTFS_DIR '/tmp/rear..' is broken, chroot bash test failed<a class="headerlink" href="#29_issue_closed_rootfs_dir_tmprear_is_broken_chroot_bash_test_failed" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>waiting for info</code>, <code>support / question</code></p>
<h4 id="dagwieers_opened_issue_at_2012-03-28_1947"><img src="https://avatars.githubusercontent.com/u/388198?u=0732dee3fe5002278cfbf40359ec431bdcf5f06c&v=4" width="50"><a href="https://github.com/dagwieers">dagwieers</a> opened issue at <a href="https://github.com/rear/rear/issues/29">2012-03-28 19:47</a>:<a class="headerlink" href="#dagwieers_opened_issue_at_2012-03-28_1947" title="Permanent link">&para;</a></h4>
<p>Reported by sid23 as
SF#<a href="https://sourceforge.net/tracker/?func=detail&amp;aid=3431201&amp;group_id=171835&amp;atid=859452">3431201</a>
on 2011-10-31 06:22:17 PDT</p>
<h2 id="original_report">Original report<a class="headerlink" href="#original_report" title="Permanent link">&para;</a></h2>
<p>Linux rl01 3.0.0-12-server #20-Ubuntu SMP Fri Oct 7 16:36:30 UTC 2011
x86_64 x86_64 x86_64 GNU/Linux</p>
<p>ReaR V1.11.0 in a VM with Ubuntu 11.10 (Supervisor is Ubuntu 11.04 and
KVM)</p>
<pre><code>ERROR: BUG BUG BUG! ROOTFS_DIR '/tmp/rear.FZOsVVBdbPLqMth/rootfs' is broken, chroot bash test failed. 
Please report this as a bug to the authors of Relax &amp; Recover
</code></pre>
<p>local.conf:</p>
<pre><code># Create ReaR rescue media as ISO image
OUTPUT=ISO

# optionally define (non-default) backup software, e.g. TSM, NBU, DP, BACULA
BACKUP=NETFS
NETFS_URL=nfs://192.168.1.99/share/local
#NETFS_OPTIONS=credentials=/etc/rear/user.credentials
</code></pre>
<h4 id="dagwieers_commented_at_2012-03-29_1216"><img src="https://avatars.githubusercontent.com/u/388198?u=0732dee3fe5002278cfbf40359ec431bdcf5f06c&v=4" width="50"><a href="https://github.com/dagwieers">dagwieers</a> commented at <a href="https://github.com/rear/rear/issues/29#issuecomment-4812610">2012-03-29 12:16</a>:<a class="headerlink" href="#dagwieers_commented_at_2012-03-29_1216" title="Permanent link">&para;</a></h4>
<p>More information about this issue is in the original report at
SF#<a href="https://sourceforge.net/tracker/?func=detail&amp;aid=3431201&amp;group_id=171835&amp;atid=859452">3431201</a></p>
<h4 id="dagwieers_commented_at_2012-04-05_1843"><img src="https://avatars.githubusercontent.com/u/388198?u=0732dee3fe5002278cfbf40359ec431bdcf5f06c&v=4" width="50"><a href="https://github.com/dagwieers">dagwieers</a> commented at <a href="https://github.com/rear/rear/issues/29#issuecomment-4982910">2012-04-05 18:43</a>:<a class="headerlink" href="#dagwieers_commented_at_2012-04-05_1843" title="Permanent link">&para;</a></h4>
<p>We are waiting for feedback from the original reporter in order to get
this ball rolling again...</p>
<p>@schlomo: Is there a possibility to get in contact with the reporter
using private email ?</p>
<h4 id="schlomo_commented_at_2012-04-06_1047"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/29#issuecomment-4993572">2012-04-06 10:47</a>:<a class="headerlink" href="#schlomo_commented_at_2012-04-06_1047" title="Permanent link">&para;</a></h4>
<p>I just went over the SF bug again. I would say close it and wait if it
pops up again. I hope that we will have some Ubuntu 64bit as part of our
regular test setup. Who knows, maybe he upgraded his system from
something older and that caused his /lib dirs to be different.</p>
<p>Also, I think that now we have even smarter /lib cloning code so maybe
it already fixed it for this user.</p>
<p>(I don't know this user and don't have private contact)</p>
<h4 id="dagwieers_commented_at_2012-04-14_1159"><img src="https://avatars.githubusercontent.com/u/388198?u=0732dee3fe5002278cfbf40359ec431bdcf5f06c&v=4" width="50"><a href="https://github.com/dagwieers">dagwieers</a> commented at <a href="https://github.com/rear/rear/issues/29#issuecomment-5130833">2012-04-14 11:59</a>:<a class="headerlink" href="#dagwieers_commented_at_2012-04-14_1159" title="Permanent link">&para;</a></h4>
<p>Alright, closing this issue because we lack feedback about a recent and
relevant release. If this is still an issue, please re-open this issue.</p>
<h4 id="jpeschke_commented_at_2012-06-11_1205"><img src="https://avatars.githubusercontent.com/u/1710224?v=4" width="50"><a href="https://github.com/jpeschke">jpeschke</a> commented at <a href="https://github.com/rear/rear/issues/29#issuecomment-6242643">2012-06-11 12:05</a>:<a class="headerlink" href="#jpeschke_commented_at_2012-06-11_1205" title="Permanent link">&para;</a></h4>
<p>Hi, I ran into the same issue:</p>
<pre><code>root@icinga:~/rear/manual/rear-1.13.0# rear mkbackup
ERROR: BUG BUG BUG!  ROOTFS_DIR '/tmp/rear.6xGZWDET8u49JGS/rootfs' is broken, chroot
        Please report this as a bug to the authors of Relax and Recover
Aborting due to an error, check /tmp/rear-icinga.log for details
Finished in 9 seconds
You should also rm -Rf /tmp/rear.6xGZWDET8u49JGS
Terminated
</code></pre>
<p>I ran into this error with Debian/Ubuntu Package from opensuse build
service with Version 1.12 and tried the newer 1.13 Release as tar.gz
(purged any debian package before). My local.conf:</p>
<pre><code>OUTPUT=ISO
MODULES_LOAD=( vmxnet )
ISO_DIR=/localbackup/sysrescue
BACKUP=EXTERNAL
COPY_AS_IS=(${COPY_AS_IS[@]} /usr/local/sbin/restore_localhost.sh)
EXTERNAL_BACKUP="/usr/local/sbin/backup_localhost.sh"
EXTERNAL_RESTORE="/usr/local/sbin/restore_localhost.sh
</code></pre>
<p>running on system: Ubuntu 11.10</p>
<p>The bug did'nt show up on rear version 1.10 I used before; but this
version didn't allow me to restore the system (as stated in some other
bugreport) so I tried to upgrade.<br />
A manual chroot to reproduce the behaviour also failed:</p>
<p>root@icinga:~# chroot /tmp/rear.2SahWSVBl6Oualf/rootfs/<br />
chroot: failed to run command `/bin/bash': No such file or director</p>
<p>where /tmp/rear.2SahWSVBl6Oualf/rootfs/bin/bash is existing and
executable</p>
<p>I tried also to chroot into a rear-rootfs I copied from a debian system
to the ubuntu-box, that worked for fine me.</p>
<p>Kind regards<br />
Jan</p>
<h4 id="jpeschke_commented_at_2012-06-11_1240"><img src="https://avatars.githubusercontent.com/u/1710224?v=4" width="50"><a href="https://github.com/jpeschke">jpeschke</a> commented at <a href="https://github.com/rear/rear/issues/29#issuecomment-6243285">2012-06-11 12:40</a>:<a class="headerlink" href="#jpeschke_commented_at_2012-06-11_1240" title="Permanent link">&para;</a></h4>
<p>Hi,<br />
played around a bit and got it working through copying some more libs
explicitly into the rescue image. I extended my local.conf the following
way:</p>
<pre><code>COPY_AS_IS=(${COPY_AS_IS[@]} /usr/local/sbin/restore_localhost.sh /lib/x86_64-linux-gnu/*
</code></pre>
<p>I assume there is a cleaner way to include this into rear (maybe some
rule especially for Ubuntu 11.10 so that rear works out of the box.</p>
<p>reagards</p>
<p>Jan</p>
<h4 id="dagwieers_commented_at_2012-06-11_1254"><img src="https://avatars.githubusercontent.com/u/388198?u=0732dee3fe5002278cfbf40359ec431bdcf5f06c&v=4" width="50"><a href="https://github.com/dagwieers">dagwieers</a> commented at <a href="https://github.com/rear/rear/issues/29#issuecomment-6243542">2012-06-11 12:54</a>:<a class="headerlink" href="#dagwieers_commented_at_2012-06-11_1254" title="Permanent link">&para;</a></h4>
<p>@jpeschke What version did you try ? We made an important change in the
master branch that should have fixed the issue you see. And so we would
like to know if that effectively fixes your issue as well. I would
appreciate if you could test the version in the master branch. This is
also the first release that can be used without requiring to install it,
so you can simply do a <code>git clone</code> and then run <code>./usr/sbin/rear</code>.</p>
<h4 id="jpeschke_commented_at_2012-06-11_1620"><img src="https://avatars.githubusercontent.com/u/1710224?v=4" width="50"><a href="https://github.com/jpeschke">jpeschke</a> commented at <a href="https://github.com/rear/rear/issues/29#issuecomment-6248902">2012-06-11 16:20</a>:<a class="headerlink" href="#jpeschke_commented_at_2012-06-11_1620" title="Permanent link">&para;</a></h4>
<p>I tried this version
<a href="https://github.com/downloads/rear/rear/rear-1.13.0.tar.gz">https://github.com/downloads/rear/rear/rear-1.13.0.tar.gz</a><br />
and the debian package from here<br />
<a href="http://download.opensuse.org/repositories/home:/sschapiro/xUbuntu_11.10/all/rear_1.12.0-1_all.deb">http://download.opensuse.org/repositories/home:/sschapiro/xUbuntu_11.10/all/rear_1.12.0-1_all.deb</a><br />
Actually not the masterbranch, maybe I'll find the time to test it.</p>
<h4 id="dagwieers_commented_at_2012-06-11_1842"><img src="https://avatars.githubusercontent.com/u/388198?u=0732dee3fe5002278cfbf40359ec431bdcf5f06c&v=4" width="50"><a href="https://github.com/dagwieers">dagwieers</a> commented at <a href="https://github.com/rear/rear/issues/29#issuecomment-6252455">2012-06-11 18:42</a>:<a class="headerlink" href="#dagwieers_commented_at_2012-06-11_1842" title="Permanent link">&para;</a></h4>
<p>The expected fix for your issue was part of issue #36.
(<a href="https://github.com/rear/rear/commit/c1ef53238ee009d726d8a2da8ad4b8526393ca88">https://github.com/rear/rear/commit/c1ef53238ee009d726d8a2da8ad4b8526393ca88</a>)</p>
<h4 id="jpeschke_commented_at_2012-06-18_0650"><img src="https://avatars.githubusercontent.com/u/1710224?v=4" width="50"><a href="https://github.com/jpeschke">jpeschke</a> commented at <a href="https://github.com/rear/rear/issues/29#issuecomment-6388979">2012-06-18 06:50</a>:<a class="headerlink" href="#jpeschke_commented_at_2012-06-18_0650" title="Permanent link">&para;</a></h4>
<p>I can confirm, that the masterbranch fixed any issue I had with stable
versions on Ubuntu 11.10; thanks a lot.</p>
<h4 id="jhoekx_commented_at_2012-06-18_0657"><img src="https://avatars.githubusercontent.com/u/783473?v=4" width="50"><a href="https://github.com/jhoekx">jhoekx</a> commented at <a href="https://github.com/rear/rear/issues/29#issuecomment-6389065">2012-06-18 06:57</a>:<a class="headerlink" href="#jhoekx_commented_at_2012-06-18_0657" title="Permanent link">&para;</a></h4>
<p>Ok, good to hear!</p>
<p>Closing this again.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2012-03-28.29.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
