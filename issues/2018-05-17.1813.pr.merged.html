<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>2018 05 17.1813.pr.merged - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "2018 05 17.1813.pr.merged";
        var mkdocs_page_input_path = "issues/2018-05-17.1813.pr.merged.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/rust.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', '366986045', 'auto');
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li>2018 05 17.1813.pr.merged</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1813_pr_merged_make_sles12ga_btrfs_recovery_work_again_related_to_issue_1796"><a href="https://github.com/rear/rear/pull/1813">#1813 PR</a> <code>merged</code>: Make SLES12GA btrfs recovery work again (related to issue 1796)<a class="headerlink" href="#1813_pr_merged_make_sles12ga_btrfs_recovery_work_again_related_to_issue_1796" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>bug</code>, <code>fixed / solved / done</code></p>
<h4 id="jsmeix_opened_issue_at_2018-05-17_1153"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> opened issue at <a href="https://github.com/rear/rear/pull/1813">2018-05-17 11:53</a>:<a class="headerlink" href="#jsmeix_opened_issue_at_2018-05-17_1153" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Type: <strong>Bug Fix</strong></p>
</li>
<li>
<p>Impact: <strong>High</strong></p>
</li>
<li>
<p>Reference to related issue (URL):<br />
<a href="https://github.com/rear/rear/issues/1796#issuecomment-388753131">https://github.com/rear/rear/issues/1796#issuecomment-388753131</a></p>
</li>
<li>
<p>How was this pull request tested?<br />
    Both<br />
    recovery of SLES12-GA/SP0 with its default btrfs structure and<br />
    recovery of SLES12-SP3 with "LVM-based Proposal" (and the default
    btrfs structure)<br />
    work for me.</p>
</li>
<li>
<p>Brief description of the changes in this pull request:</p>
</li>
</ul>
<p>In usr/share/rear/layout/save/GNU/Linux/230_filesystem_layout.sh<br />
the code that ecludes/disables/comments btrfs subvolumes that belong to
snapper<br />
in disklayout.conf is now conditionally run only if there is<br />
a SLES12-SP1 (and later) btrfs subvolumes setup<br />
(i.e. when the default subvolume path contains <code>@/.snapshots/</code>),<br />
cf.
<a href="https://github.com/rear/rear/issues/1796#issuecomment-388763887">https://github.com/rear/rear/issues/1796#issuecomment-388763887</a></p>
<p>Additionally I simplified <code>SLES12SP1SP2_...</code> named variables to
<code>SLES12SP1_...</code><br />
and changed texts like <code>SLES 12 SP1 and SP2</code> to
<code>SLES 12 SP1 (or later)</code><br />
because the btrfs structure in SLES12 is the same since SP1 and later.</p>
<h4 id="jsmeix_commented_at_2018-05-17_1157"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/1813#issuecomment-389841351">2018-05-17 11:57</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-05-17_1157" title="Permanent link">&para;</a></h4>
<p>@schabrolles<br />
if you have time for it I would very much appreciate it if you could
test it.</p>
<p>I need to merge it tomorrow to get that into the upcoming SLES15.</p>
<h4 id="schabrolles_commented_at_2018-05-18_1239"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/pull/1813#issuecomment-390193846">2018-05-18 12:39</a>:<a class="headerlink" href="#schabrolles_commented_at_2018-05-18_1239" title="Permanent link">&para;</a></h4>
<p>@jsmeix, Sorry, I'm a bit busy today<br />
I'm gonna test the master branch against my SLES12 this weekend.<br />
Do you know a way to simulate a SLES12SP0 from a SLES12SP2 without
reinstalling from SP0 DVD?</p>
<h4 id="jsmeix_commented_at_2018-05-18_1331"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/1813#issuecomment-390207741">2018-05-18 13:31</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-05-18_1331" title="Permanent link">&para;</a></h4>
<p>@schabrolles<br />
no worries - I am also a bit too busy these days.</p>
<p>I cannot imagine how to simulate a SLES12SP0 installation from a
SLES12SP2 DVD<br />
because for a SLES12SP0 installation you need a SLES12SP0 installation
system<br />
with the SLES12SP0 installer (i.e. YaST of SLES12SP0) so that<br />
you need a SLES12SP0 DVD with the SLES12SP0 YaST on it,<br />
cf. my intentionally a bit overexact wording in<br />
<a href="https://github.com/rear/rear/issues/1796#issuecomment-389775698">https://github.com/rear/rear/issues/1796#issuecomment-389775698</a><br />
that I edited right now to make it even more unambiguous</p>
<pre>
When I install a SLES12-GA/SP0 system
from an original SUSE SLES12-GA/SP0 installation medium
with its original SUSE SLES12-GA/SP0 installer
(i.e. the YaST installer on that SLES12-GA/SP0 installation medium)
on a virtual KVM/QEMU machine with a single 20GiB virtual harddisk
I get when I select the "LVM-based Proposal" in YaST
this result in the installed system
</pre>

<p>versus</p>
<pre>
When I install a SLES12-SP3 system
from an original SUSE SLES12-SP3 installation medium
with its original SUSE SLES12-SP3 installer
(i.e. the YaST installer on that SLES12-SP3 installation medium)
on a virtual KVM/QEMU machine with a single 20GiB virtual harddisk
I get when I select the "LVM-based Proposal" in YaST
this result in the installed system:
...
</pre>

<p>For the fun of it you may even have a look at<br />
<a href="https://en.opensuse.org/openSUSE:Bug_reporting_FAQ">https://en.opensuse.org/openSUSE:Bug_reporting_FAQ</a><br />
that reads (excerpts)</p>
<pre>
People got mad at me because I entered "Install openSUSE x.y-Beta-z"
in Bugzilla's "how to reproduce" field. Why?
...
What we really need to know is what you did and how you did it - like
"boot from CD1, select "Installation", select language "Klingon", leave
the installation settings as they are, confirm installation, watch as
your hard disk goes up in flames."

And no, this really, really isn't nitpicking - we have so many installation
modes and so many installation paths that it takes ages to figure
all that out from the log files.
</pre>

<p>;-)<br />
Have a nice weekend!</p>
<h4 id="schabrolles_commented_at_2018-05-19_1205"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/pull/1813#issuecomment-390400503">2018-05-19 12:05</a>:<a class="headerlink" href="#schabrolles_commented_at_2018-05-19_1205" title="Permanent link">&para;</a></h4>
<p>@jsmeix,</p>
<p>I've just tested the master branch with #1813 merged against sles12sp2
only as I don't really have time to reinstall a SP0. I can just confirm
that everything is still working well (no new side-effect)</p>
<ul>
<li>Backup / Restore on the same Guest: OK</li>
<li>Migration (restore on a new system): OK</li>
</ul>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2022 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2018-05-17.1813.pr.merged.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
