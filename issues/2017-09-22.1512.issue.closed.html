<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#1512 Issue closed: Security Vulnerability (Gain Information): SSH private host key disclosure - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#1512 Issue closed: Security Vulnerability (Gain Information): SSH private host key disclosure";
        var mkdocs_page_input_path = "issues/2017-09-22.1512.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#1512 Issue closed: Security Vulnerability (Gain Information): SSH private host key disclosure</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1512_issue_closed_security_vulnerability_gain_information_ssh_private_host_key_disclosure"><a href="https://github.com/rear/rear/issues/1512">#1512 Issue</a> <code>closed</code>: Security Vulnerability (Gain Information): SSH private host key disclosure<a class="headerlink" href="#1512_issue_closed_security_vulnerability_gain_information_ssh_private_host_key_disclosure" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>fixed / solved / done</code>, <code>critical / security / legal</code></p>
<h4 id="olivero2_opened_issue_at_2017-09-22_1912"><img src="https://avatars.githubusercontent.com/u/4660803?v=4" width="50"><a href="https://github.com/OliverO2">OliverO2</a> opened issue at <a href="https://github.com/rear/rear/issues/1512">2017-09-22 19:12</a>:<a class="headerlink" href="#olivero2_opened_issue_at_2017-09-22_1912" title="Permanent link">&para;</a></h4>
<p>Relax-and-Recover 2.2 (ReaR) copies SSH private host keys from
<code>/etc/ssh</code> to the rescue medium. These keys protect incoming SSH
connections against man-in-the-middle attacks.</p>
<p>On the original system, the above private keys are only accessible with
root user privileges. SSH host keys are never encrypted with a
passphrase.</p>
<p>The ReaR rescue medium, which may be a DVD or a USB stick, grants
complete unauthenticated access to all files, including copied private
key files. Unless changed by some action outside of ReaR, these private
keys remain valid for the original system, during recovery and on the
restored system.</p>
<h4 id="attack_vector">Attack Vector<a class="headerlink" href="#attack_vector" title="Permanent link">&para;</a></h4>
<p>An attacker with physical access to the rescue medium can steal the
private host keys.</p>
<p>If the attacker obtains network access, he can then use a
<a href="https://www.ssh.com/attack/man-in-the-middle">man-in-the-middle attack</a>
to read and alter SSH traffic between a network client and the
compromised host.</p>
<h4 id="consequences">Consequences<a class="headerlink" href="#consequences" title="Permanent link">&para;</a></h4>
<p>A successful attack allows an attacker to steal passwords and to read
and alter sensitive information.</p>
<h4 id="olivero2_commented_at_2017-09-23_1407"><img src="https://avatars.githubusercontent.com/u/4660803?v=4" width="50"><a href="https://github.com/OliverO2">OliverO2</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-331638066">2017-09-23 14:07</a>:<a class="headerlink" href="#olivero2_commented_at_2017-09-23_1407" title="Permanent link">&para;</a></h4>
<h2 id="suggestions">Suggestions<a class="headerlink" href="#suggestions" title="Permanent link">&para;</a></h2>
<h3 id="for_rear_users">For ReaR Users<a class="headerlink" href="#for_rear_users" title="Permanent link">&para;</a></h3>
<p>Make sure that each ReaR-generated rescue medium is stored safely and is
accessible to authorized persons only. Guard rescue media like you would
guard any non-encrypted backup medium.</p>
<p><strong>Note:</strong> This applies to all rescue media previously generated by ReaR
even when the issue will eventually be addressed in ReaR.</p>
<p>You can harden current Rear installations by using this line in your
configuration file,</p>
<pre><code>COPY_AS_IS_EXCLUDE=( "${COPY_AS_IS_EXCLUDE[@]}" /etc/ssh/ssh_host_* /root/.ssh/id_* )
</code></pre>
<p>but</p>
<ul>
<li>make sure that it works as expected on your installation, and</li>
<li>be aware that you cannot login into the rescue system via SSH unless
    SSH host keys will be regenerated as shown in the developer
    suggestions below, and</li>
<li>be aware that you might be required to enter passwords for SSH
    connections during restore:</li>
</ul>
<p>Once ReaR has been hardened as shown above or if the issue has been
addressed in ReaR and the corresponding ReaR version has been installed:
Safely overwrite all previously generated rescue media, e.g. by using</p>
<pre><code>dd bs=1M if=/dev/urandom of="&lt;path-to-rescue-medium&gt;" status=progress
</code></pre>
<p>If a ReaR rescue medium has potentially been accessible to unauthorized
persons:</p>
<ul>
<li>For each host potentially compromised by ReaR rescue media having
    been accessible<ul>
<li>On the compromised host<ul>
<li>Change SSH host keys (<code>/etc/ssh/ssh_host_*_key</code>)</li>
<li>Change SSH root user keys (<code>/root/.ssh/id_*</code>) on the
    compromised host</li>
</ul>
</li>
<li>On each network node<ul>
<li>Delete the compromised host's entries from
    <code>/etc/ssh/ssh_known_hosts</code> and each <code>*/.ssh/known_hosts</code>
    file</li>
<li>Delete the compromised host's root user entries from each
    <code>*/.ssh/authorized_keys</code> file</li>
<li>Re-establish known host identification and root user
    authorization where required</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="for_rear_developers">For ReaR Developers<a class="headerlink" href="#for_rear_developers" title="Permanent link">&para;</a></h3>
<p>Note that implementing these suggestions will have the following
consequences:</p>
<ul>
<li>Initially connecting to the rescue system via SSH login wiill show a
    warning like this:</li>
</ul>
<!-- -->

<pre><code>The authenticity of host 'server (192.168.1.5)' can't be established.
ECDSA key fingerprint is b5:0e:ec:b7:16:06:e6:24:a6:39:18:58:4e:ec:3b:d1.
Are you sure you want to continue connecting (yes/no)?
</code></pre>
<ul>
<li>Connecting via SSH from the rescue system to other hosts (e.g. for
    restoring a backup) will generally require the user to enter a
    password, as SSH public/private key authentication will not be
    established. (Public/private key authentication is more suited for
    long-term trust relations between secure systems. It is ill-suited
    for temporary trust relations like the one involving a rescue system
    as public/private key authentication has to be explicitly revoked,
    which can easily fail or be forgotten.)</li>
</ul>
<p>Suggestions:</p>
<ol>
<li>Avoid copying sensitive SSH files:<ul>
<li>From <code>/etc/ssh</code>, copy only<ul>
<li><code>moduli</code></li>
<li><code>ssh_config</code></li>
<li><code>sshd_config</code></li>
<li><code>ssh_known_hosts</code></li>
</ul>
</li>
<li>From <code>/root/.ssh</code>, copy only<ul>
<li><code>authorized_keys</code></li>
<li><code>known_hosts</code></li>
</ul>
</li>
</ul>
</li>
<li>Re-generate SSH host keys for each rescue medium in the build stage,
    for example:</li>
</ol>
<!-- -->

<pre><code>Log "Generating SSH host key"
ssh-keygen -t ed25519 -N '' -f "$ROOTFS_DIR/etc/ssh/ssh_host_ed25519_key"
</code></pre>
<h4 id="jsmeix_commented_at_2017-09-25_0802"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-331806237">2017-09-25 08:02</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-09-25_0802" title="Permanent link">&para;</a></h4>
<p>We (i.e the ReaR upstream authors and maintainers)<br />
need to get this security issue fixed before the ReaR 2.3 release.</p>
<h4 id="jsmeix_commented_at_2017-09-25_0816"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-331809122">2017-09-25 08:16</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-09-25_0816" title="Permanent link">&para;</a></h4>
<p>@OliverO2<br />
many thanks for your careful study how ReaR works<br />
that reveals such security issues.</p>
<p>I am not at all an expert in this area but I think the<br />
following code pieces cause such insecure default behaviour:</p>
<pre>
rear.master # find usr/sbin/rear usr/share/rear/ -type f | xargs grep 'COPY_AS_IS' | grep ssh | tr ':' '\n'

usr/share/rear/rescue/default/550_vagrant.sh
    COPY_AS_IS=( ${COPY_AS_IS[@]} $homedir/.ssh ) 

usr/share/rear/rescue/default/500_ssh.sh
    COPY_AS_IS=( "${COPY_AS_IS[@]}" /etc/ssh* /root/.s[s]h /root/.shos[t]s )

usr/share/rear/verify/YUM/default/050_check_YUM_requirements.sh
        COPY_AS_IS=( "${COPY_AS_IS[@]}" $HOME/.ssh )

usr/share/rear/prep/NETFS/default/050_check_NETFS_requirements.sh
        COPY_AS_IS=( "${COPY_AS_IS[@]}" $HOME/.ssh )
</pre>

<h4 id="schlomo_commented_at_2017-09-25_0852"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-331817867">2017-09-25 08:52</a>:<a class="headerlink" href="#schlomo_commented_at_2017-09-25_0852" title="Permanent link">&para;</a></h4>
<p>@jsmeix vagrant is only used for test and development, I don't see any
issue with that (<code>$homedir</code> means the vagrant user).</p>
<p>I hope that #1513 solves this issue sufficiently well. If somebody has
an idea about adding there more SSH keys to inspect then please let me
know.</p>
<p>Can we all agree that in order to address this vulnerability it is
enough to change the <strong>default</strong> behavior of ReaR so that it won't copy
unprotected SSH keys in <strong>typical</strong> locations?</p>
<h4 id="schlomo_commented_at_2017-09-25_0942"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-331830466">2017-09-25 09:42</a>:<a class="headerlink" href="#schlomo_commented_at_2017-09-25_0942" title="Permanent link">&para;</a></h4>
<p>Concerning
<code>usr/share/rear/prep/NETFS/default/050_check_NETFS_requirements.sh</code> I
would say that this is just wrong because it copies the <code>.ssh</code> folder
from the user running ReaR which is always root. Since we handle that
already in <code>usr/share/rear/rescue/default/500_ssh.sh</code> I would suggest to
remove that line altogether.</p>
<p>I'll add those to my PR.</p>
<h4 id="schlomo_commented_at_2017-09-25_1038"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-331843188">2017-09-25 10:38</a>:<a class="headerlink" href="#schlomo_commented_at_2017-09-25_1038" title="Permanent link">&para;</a></h4>
<p>@gozora suggests to change our definition of the rescue image to say
that it contains secrets and that is must be protected like the backup
itself.</p>
<p>Consequences of such a decision are amongst others that this PR is only
a nice feature and doesn't address the vulnerability. The actual
"solution" to the vulnerability is simply declaring the rescue image as
a secret.</p>
<p>This approach would of course also solve #1512</p>
<h4 id="jsmeix_commented_at_2017-09-25_1104"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-331848386">2017-09-25 11:04</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-09-25_1104" title="Permanent link">&para;</a></h4>
<p>I agree that it is enough to change the default behavior of ReaR<br />
so that it won't copy unprotected SSH keys in typical locations.<br />
The user can still copy what he likes via COPY_AS_IS.</p>
<p>In contrast to @gozora I would prefer to keep<br />
the default recovery system free of secrets.</p>
<p>But I think it should be documented that it can easily happen<br />
that the recovery system contains (unexpectedly) some secrets<br />
if the user is not careful so that it is recommended<br />
to protect a recovery system ISO image or medium<br />
to be on the safe side.</p>
<p>I think normally this should be a matter of course<br />
but to be on the safe side it should be documented.</p>
<p>Don't take things carelessly out of your datacenter into your next
pub:<br />
<a href="https://github.com/rear/rear/pull/1472#issuecomment-328459748">https://github.com/rear/rear/pull/1472#issuecomment-328459748</a></p>
<h4 id="schlomo_commented_at_2017-09-25_1256"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-331872074">2017-09-25 12:56</a>:<a class="headerlink" href="#schlomo_commented_at_2017-09-25_1256" title="Permanent link">&para;</a></h4>
<p>I asked the rear-users mailing list:
<a href="http://lists.relax-and-recover.org/pipermail/rear-users/2017-September/003474.html">http://lists.relax-and-recover.org/pipermail/rear-users/2017-September/003474.html</a></p>
<h4 id="olivero2_commented_at_2017-09-25_1258"><img src="https://avatars.githubusercontent.com/u/4660803?v=4" width="50"><a href="https://github.com/OliverO2">OliverO2</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-331872596">2017-09-25 12:58</a>:<a class="headerlink" href="#olivero2_commented_at_2017-09-25_1258" title="Permanent link">&para;</a></h4>
<p>I did not have sufficient time today to look closely at everything, but
some thoughts on dealing with the issue via rescue media handling
recommendations:</p>
<ul>
<li>I agree that one should never restore from a rescue medium, which
    might have been compromised. So it's a must to protect rescue media.</li>
<li>Rescue media can be used for testing recovery, testing migration,
    actual migration and to restore production systems. In some of these
    scenarios, administrators might be under time pressure and could
    just forget a rescue medium.</li>
<li>A rescue medium cannot be made as safe as backup storage, because at
    some point the rescue medium must travel to the point of restoration
    in bootable form. In contrast, a backup might reside safely on an
    encrypted disk or a secure SSH-accessible network server at all
    times.</li>
</ul>
<p>So I'd argue that making the rescue medium not leak secrets is necessary
even if administrators do their best to keep those safe and ensure that
they have not been tampered with before recovery.</p>
<h4 id="olivero2_commented_at_2017-09-25_1313"><img src="https://avatars.githubusercontent.com/u/4660803?v=4" width="50"><a href="https://github.com/OliverO2">OliverO2</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-331876777">2017-09-25 13:13</a>:<a class="headerlink" href="#olivero2_commented_at_2017-09-25_1313" title="Permanent link">&para;</a></h4>
<p>When I re-read my argumentation above, I think it might not be clear
enough:</p>
<ul>
<li>A rescue medium must be guarded from the time it is created on
    insecure storage until the time is is used. This makes sure the
    system is restored to a safe state and the restoration has not been
    tampered with.</li>
<li>A rescue medium might be forgotten afterwards. Even if is is never
    used for restoration again, it still presents a threat if it
    contains secrets for anyone to copy.</li>
</ul>
<h4 id="jsmeix_commented_at_2017-10-09_1205"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-335138351">2017-10-09 12:05</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-10-09_1205" title="Permanent link">&para;</a></h4>
<p>With
<a href="https://github.com/rear/rear/pull/1513">https://github.com/rear/rear/pull/1513</a>
merged<br />
I assume that also this issue is sufficiently fixed.<br />
Regarding what "sufficiently" means, cf.<br />
<a href="https://github.com/rear/rear/pull/1513#issuecomment-332413380">https://github.com/rear/rear/pull/1513#issuecomment-332413380</a></p>
<p>But I am not an expert here so that I could be wrong.<br />
@OliverO2 in this case please re-open this issue.</p>
<h4 id="olivero2_commented_at_2017-10-09_1318"><img src="https://avatars.githubusercontent.com/u/4660803?v=4" width="50"><a href="https://github.com/OliverO2">OliverO2</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-335155392">2017-10-09 13:18</a>:<a class="headerlink" href="#olivero2_commented_at_2017-10-09_1318" title="Permanent link">&para;</a></h4>
<p>@jsmeix<br />
Having looked at the changes, #1513 does not address private <strong>host
keys</strong>. So this issue should be re-opened. Looks like I don't have
sufficient privileges to do that, so @jsmeix, would you please step in?</p>
<h4 id="jsmeix_commented_at_2017-10-10_0745"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-335389235">2017-10-10 07:45</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-10-10_0745" title="Permanent link">&para;</a></h4>
<p>Reopening according to<br />
<a href="https://github.com/rear/rear/issues/1512#issuecomment-335155392">https://github.com/rear/rear/issues/1512#issuecomment-335155392</a></p>
<h4 id="jsmeix_commented_at_2017-10-10_0950"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-335421153">2017-10-10 09:50</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-10-10_0950" title="Permanent link">&para;</a></h4>
<p>I think with
<a href="https://github.com/rear/rear/pull/1513">https://github.com/rear/rear/pull/1513</a>
merged<br />
this issue here got much simplified compared to<br />
<a href="https://github.com/rear/rear/issues/1512#issuecomment-331809122">https://github.com/rear/rear/issues/1512#issuecomment-331809122</a><br />
I get now:</p>
<pre>
# find usr/sbin/rear usr/share/rear/ -type f | xargs grep 'COPY_AS_IS' | grep -i 'ssh' | tr ':' '\n'

usr/share/rear/rescue/default/500_ssh.sh
COPY_AS_IS=( "${COPY_AS_IS[@]}" /etc/ssh* /etc/openssh* /etc/centrifydc/ssh* /root/.s[s]h /root/.shos[t]s )
</pre>

<p>Accordingly I think an enhancement in rescue/default/500_ssh.sh<br />
so that the user can specify what ssh stuff should be copied<br />
would fix (or at least sufficiently mitigate) this issue here.</p>
<p>As far as I can understand it (but I am not at all an expert<br />
in this area) it seems this means I need to implement<br />
at least in some initial basic way a SSH_KEYS config<br />
variable like described in<br />
<a href="https://github.com/rear/rear/pull/1513#issuecomment-332123766">https://github.com/rear/rear/pull/1513#issuecomment-332123766</a></p>
<h4 id="olivero2_commented_at_2017-10-10_1216"><img src="https://avatars.githubusercontent.com/u/4660803?v=4" width="50"><a href="https://github.com/OliverO2">OliverO2</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-335453547">2017-10-10 12:16</a>:<a class="headerlink" href="#olivero2_commented_at_2017-10-10_1216" title="Permanent link">&para;</a></h4>
<p>@jsmeix See section <em>For ReaR Developers</em> in
<a href="https://github.com/rear/rear/issues/1512#issuecomment-331638066">https://github.com/rear/rear/issues/1512#issuecomment-331638066</a>.
Note that</p>
<ul>
<li>host keys (/etc/ssh/ssh_host_*) are never password protected,</li>
<li>if host keys are missing, you cannot log into the rescue system via
    ssh.</li>
</ul>
<p>So if the original system's host keys are not copied to the rescue
system and ssh login is desired, a host key must be generated for the
rescue system.</p>
<p>A host key can be generated</p>
<ol>
<li>during the rescue system boot (e.g. when sshd is started), which
    would be the most secure way possible (an attacker cannot know the
    key in advance), or</li>
<li>by <code>rear mkrescue</code> (in which case an attacker getting hold of the
    rescue medium can still attack the rescue operation).</li>
</ol>
<p>Both cases ensure that an attacker with access to the rescue medium can
not attack the original system.</p>
<h4 id="jsmeix_commented_at_2017-10-10_1411"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-335485424">2017-10-10 14:11</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-10-10_1411" title="Permanent link">&para;</a></h4>
<p>@OliverO2 I saw your<br />
<a href="https://github.com/rear/rear/issues/1512#issuecomment-331638066">https://github.com/rear/rear/issues/1512#issuecomment-331638066</a><br />
and I tried to implement it in<br />
<a href="https://github.com/rear/rear/pull/1530">https://github.com/rear/rear/pull/1530</a><br />
where I create host keys anew during "rear mkrescue" in<br />
build/default/500_patch_sshd_config.sh<br />
(probably that script should be renamed if we keep it there).</p>
<h4 id="jsmeix_commented_at_2017-10-17_1357"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-337239784">2017-10-17 13:57</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-10-17_1357" title="Permanent link">&para;</a></h4>
<p>With
<a href="https://github.com/rear/rear/pull/1530">https://github.com/rear/rear/pull/1530</a>
merged<br />
I think this issue is sufficiently fixed.</p>
<p>Now by default only with a</p>
<pre>
SSH_ROOT_PASSWORD="rear"
</pre>

<p>in local.conf one gets a recovery system without<br />
(unprotected) keys and suring startup of the recovery system<br />
an rsa SSH host key is generated so that remote access to<br />
the recovery system via SSH (sshd) works.</p>
<p>What I have on the original system:</p>
<pre>
# find /etc/ssh* /root/.ssh/

/etc/ssh
/etc/ssh/ssh_host_rsa_key
/etc/ssh/ssh_host_dsa_key.pub
/etc/ssh/moduli
/etc/ssh/ssh_host_ecdsa_key
/etc/ssh/ssh_host_key
/etc/ssh/ldap.conf
/etc/ssh/ssh_config
/etc/ssh/ssh_host_dsa_key
/etc/ssh/ssh_host_key.pub
/etc/ssh/ssh_host_ecdsa_key.pub
/etc/ssh/sshd_config
/etc/ssh/ssh_host_ed25519_key.pub
/etc/ssh/ssh_host_rsa_key.pub
/etc/ssh/ssh_host_ed25519_key
/root/.ssh/
/root/.ssh/id_rsa.pub
/root/.ssh/id_dsa.pub
/root/.ssh/id_rsa
/root/.ssh/id_dsa
/root/.ssh/known_hosts
</pre>

<p>What there is in the recovery system ISO image in this case:</p>
<pre>
# find /tmp/rear.9eLkQrXtl5KvogM/rootfs/etc/ssh* /tmp/rear.9eLkQrXtl5KvogM/rootfs/root/.ssh/

/tmp/rear.9eLkQrXtl5KvogM/rootfs/etc/ssh
/tmp/rear.9eLkQrXtl5KvogM/rootfs/etc/ssh/moduli
/tmp/rear.9eLkQrXtl5KvogM/rootfs/etc/ssh/ssh_config
/tmp/rear.9eLkQrXtl5KvogM/rootfs/etc/ssh/sshd_config
/tmp/rear.9eLkQrXtl5KvogM/rootfs/root/.ssh/
/tmp/rear.9eLkQrXtl5KvogM/rootfs/root/.ssh/known_hosts
</pre>

<p>What there is in the booted recovery system in this case:</p>
<pre>
RESCUE e205:~ # find /etc/ssh* /root/.ssh/

/etc/ssh
/etc/ssh/sshd_config
/etc/ssh/ssh_host_rsa_key.pub
/etc/ssh/ssh_host_rsa_key
/etc/ssh/ssh_config
/etc/ssh/moduli
/root/.ssh/
/root/.ssh/known_hosts
</pre>

<h4 id="jsmeix_commented_at_2017-11-29_1617"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-347912101">2017-11-29 16:17</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-11-29_1617" title="Permanent link">&para;</a></h4>
<p>FYI:</p>
<p>Interestingly on my SLES12 test system only</p>
<pre>
SSH_ROOT_PASSWORD="rear"
</pre>

<p>"just works" to get ssh access to the recovery system<br />
via a new from scratch generated host key there.</p>
<p>In contrast on my SLES11 test system that alone<br />
does not work and also</p>
<pre>
SSH_ROOT_PASSWORD="rear"
SSH_FILES='yes'
</pre>

<p>does not work and the recovery system login screen shows</p>
<pre>
Could not load host key: /etc/ssh/ssh_host_rsa_key
Could not load host key: /etc/ssh/ssh_host_dsa_key
Could not load host key: /etc/ssh/ssh_host_ecdsa_key
Could not load host key: /etc/ssh/ssh_host_ed25519_key
</pre>

<p>On SLES11 I must use</p>
<pre>
SSH_ROOT_PASSWORD="rear"
SSH_UNPROTECTED_PRIVATE_KEYS='yes'
</pre>

<p>(SSH_FILES='yes' is not needed)<br />
to get ssh access to the recovery system.</p>
<p>I.e. on SLES11 only the old ReaR behaviour works were<br />
the keys from the original system are in the recovery system.</p>
<h4 id="jsmeix_commented_at_2017-11-29_1638"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-347919098">2017-11-29 16:38</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-11-29_1638" title="Permanent link">&para;</a></h4>
<p>It seems on SLES11 the script<br />
/usr/share/rear/skel/default/etc/scripts/run-sshd<br />
is not run automatically during recovery system startup.<br />
When I run it manually in the recovery system<br />
I get ssh access to the recovery system same as in SLES12<br />
via a the generated /etc/ssh/ssh_host_rsa_key<br />
by /usr/share/rear/skel/default/etc/scripts/run-sshd<br />
and in this case /bin/sshd only reports</p>
<pre>
Could not load host key: /etc/ssh/ssh_host_dsa_key
Could not load host key: /etc/ssh/ssh_host_ecdsa_key
Could not load host key: /etc/ssh/ssh_host_ed25519_key
</pre>

<h4 id="olivero2_commented_at_2017-11-29_1641"><img src="https://avatars.githubusercontent.com/u/4660803?v=4" width="50"><a href="https://github.com/OliverO2">OliverO2</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-347920116">2017-11-29 16:41</a>:<a class="headerlink" href="#olivero2_commented_at_2017-11-29_1641" title="Permanent link">&para;</a></h4>
<p>@jsmeix I wonder why setting <code>SSH_UNPROTECTED_PRIVATE_KEYS</code> would change
whether the startup script runs or not...</p>
<p>If there is indeed an issue with an older <code>sshd</code>, could you replace line
9 in <code>usr/share/rear/skel/default/etc/scripts/run-sshd</code>, which contains</p>
<pre><code>        ssh-keygen -t rsa -N '' -f /etc/ssh/ssh_host_rsa_key
</code></pre>
<p>with this content</p>
<pre><code>        ssh-keygen -A
</code></pre>
<p>and try again if that works on both of your systems?</p>
<p>Maybe your older <code>sshd</code> is a bit too disappointed if there are some host
keys configured in <code>/etc/ssh/sshd_config</code> without their key files being
present.</p>
<h4 id="jsmeix_commented_at_2017-11-29_1645"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-347921233">2017-11-29 16:45</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-11-29_1645" title="Permanent link">&para;</a></h4>
<p>I will try that but when I run<br />
/usr/share/rear/skel/default/etc/scripts/run-sshd<br />
manually the sshd only reports the other missing keys but<br />
works with the only generated /etc/ssh/ssh_host_rsa_key</p>
<h4 id="olivero2_commented_at_2017-11-29_1703"><img src="https://avatars.githubusercontent.com/u/4660803?v=4" width="50"><a href="https://github.com/OliverO2">OliverO2</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-347927227">2017-11-29 17:03</a>:<a class="headerlink" href="#olivero2_commented_at_2017-11-29_1703" title="Permanent link">&para;</a></h4>
<p>Ah, seems like SLES11 is init-based while SLES12 is systemd-based. On
init-based systems, ReaR will run <code>sshd</code> directly from the inittab while
<code>run-sshd</code> will only be launched via systemd. This could be unified:</p>
<p>You could try to</p>
<ul>
<li>delete the <code>if grep ...</code> and <code>fi</code> lines in <code>run-sshd</code> and</li>
<li>change line 85 in <code>usr/share/rear/rescue/default/500_ssh.sh</code> to:</li>
</ul>
<!-- -->

<pre><code>echo "ssh:23:respawn:/etc/scripts/run-sshd" &gt;&gt;$ROOTFS_DIR/etc/inittab
</code></pre>
<p>Would that help?</p>
<h4 id="jsmeix_commented_at_2017-11-30_1405"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-348196998">2017-11-30 14:05</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-11-30_1405" title="Permanent link">&para;</a></h4>
<p>@OliverO2<br />
late reply because I was busy with other stuff:<br />
Yesterday when leaving the office I came to the same conclusion.<br />
Setting SSH_UNPROTECTED_PRIVATE_KEYS does not change<br />
whether /etc/scripts/run-sshd runs or not but with keys in the<br />
recovery system starting plain sshd via /etc/inittab is sufficient<br />
to get ssh access.<br />
Strictly speaking my changes in this pull request did not actually<br />
break something that had worked before (before it had worked<br />
more or less "by accident" in an insecure way).<br />
All what is needed is another small adjustment as you described in<br />
<a href="https://github.com/rear/rear/issues/1512#issuecomment-347927227">https://github.com/rear/rear/issues/1512#issuecomment-347927227</a><br />
to make the new rsa key generation in the recovery system<br />
also work in case of traditional SysVinit.<br />
I principle your<br />
<a href="https://github.com/rear/rear/issues/1512#issuecomment-347927227">https://github.com/rear/rear/issues/1512#issuecomment-347927227</a><br />
works and what I currently do is to make the recovery system<br />
login screen look nice again even in case of rsa key generation.</p>
<p>As always many thanks for your prompt help.<br />
It is much appreciated!</p>
<h4 id="jsmeix_commented_at_2017-11-30_1415"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-348199587">2017-11-30 14:15</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-11-30_1415" title="Permanent link">&para;</a></h4>
<p>@OliverO2<br />
I have a question:<br />
I wonder why sshd is started in /etc/scripts/run-sshd as</p>
<pre>
exec /bin/sshd -D
</pre>

<p>i.e. sshd will not detach and does not become a daemon.<br />
I think this was because /etc/scripts/run-sshd was<br />
up to now used only for systemd.<br />
I guess when we use now in /etc/inittab for SysVinit</p>
<pre>
ssh:23:respawn:/etc/scripts/run-sshd
</pre>

<p>then sshd should probably better detach and become a daemon.<br />
I hope that it does not really matter for systemd<br />
where the same /etc/scripts/run-sshd is run<br />
via /usr/lib/systemd/system/sshd.service<br />
when sshd also detaches and becomes a daemon.</p>
<h4 id="jsmeix_commented_at_2017-11-30_1423"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-348201905">2017-11-30 14:23</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-11-30_1423" title="Permanent link">&para;</a></h4>
<p>Strange:<br />
Without '-D' I gets at least on SLES11 with SysVinit</p>
<pre>
INIT: Id "ssh" respawning too fast: disabled for 5 minutes
</pre>

<p>so that I "just keep" the '-D' because this way it works for me.</p>
<h4 id="jsmeix_commented_at_2017-11-30_1500"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-348213412">2017-11-30 15:00</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-11-30_1500" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/rear/rear/pull/1612">https://github.com/rear/rear/pull/1612</a>
should fix it<br />
and I even found an explanation what init in SysVinit actually does<br />
for inittab entries with 'respawn' when that thingy daemoinzes itself:<br />
<a href="https://www.linuxquestions.org/questions/linux-newbie-8/starting-daemon-via-inittab-respawn-causes-respawning-too-fast-disabled-for-5-minutes-4175579263/">https://www.linuxquestions.org/questions/linux-newbie-8/starting-daemon-via-inittab-respawn-causes-respawning-too-fast-disabled-for-5-minutes-4175579263/</a></p>
<h4 id="olivero2_commented_at_2017-11-30_1520"><img src="https://avatars.githubusercontent.com/u/4660803?v=4" width="50"><a href="https://github.com/OliverO2">OliverO2</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-348219591">2017-11-30 15:20</a>:<a class="headerlink" href="#olivero2_commented_at_2017-11-30_1520" title="Permanent link">&para;</a></h4>
<p>@jsmeix No problem with taking your time for replies. Sure we all have
other stuff going on...</p>
<p>The <code>respawn</code> directive in the inittab entry tells init to monitor the
process and restart it if it should terminate. Init can only monitor the
process it has started, as init has no way of knowing which one of
possibly multiple child processes would be the "right" one to monitor.</p>
<p>So the process started by init's <code>respawn</code> directive must avoid forking
(damonize) as init will have taken care of this. Otherwise init would
recognize a process which is quickly terminating (after forking) and
will try to restart it immediately. This is what happened when you saw
<code>respawning too fast</code>. For details, see <a href="http://www.manpages.info/linux/inittab.5.html">inittab
(5)</a>.</p>
<p>Systemd can be configured to behave similarly via <code>Type=simple</code> (or its
variants) and <code>Restart=on-failure</code> in
<a href="https://www.freedesktop.org/software/systemd/man/systemd.service.html">systemd.service</a>.
But systemd has way more capabilities than init to monitor processes.</p>
<p>I was aware that you had already found an explanation, but I'm posting
this in the hope that this shorter one might benefit others researching
the topic.</p>
<h4 id="olivero2_commented_at_2017-11-30_1549"><img src="https://avatars.githubusercontent.com/u/4660803?v=4" width="50"><a href="https://github.com/OliverO2">OliverO2</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-348229135">2017-11-30 15:49</a>:<a class="headerlink" href="#olivero2_commented_at_2017-11-30_1549" title="Permanent link">&para;</a></h4>
<p>BTW, I'm writing this from a perfectly recovered and migrated
development system. Tested with Relax-and-Recover 2.2 / Git as of commit
a0dcacf173349f6516bf59b5c6bd908e6c27044f (Nov 29, 2017) on Ubuntu
16.04.3 LTS/i386 with UEFI boot and upcoming RAWDISK output method.</p>
<p>Lots of thanks to everyone contributing to this useful project!</p>
<h4 id="jsmeix_commented_at_2017-11-30_1620"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-348239387">2017-11-30 16:20</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-11-30_1620" title="Permanent link">&para;</a></h4>
<p>@OliverO2<br />
you do no longer have to use any special adaptions to ReaR<br />
(i.e. just the current master code as it falls out of Git)<br />
except what is needed for the RAWDISK output method?</p>
<h4 id="olivero2_commented_at_2017-11-30_1713"><img src="https://avatars.githubusercontent.com/u/4660803?v=4" width="50"><a href="https://github.com/OliverO2">OliverO2</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-348256235">2017-11-30 17:13</a>:<a class="headerlink" href="#olivero2_commented_at_2017-11-30_1713" title="Permanent link">&para;</a></h4>
<p>@jsmeix I'm using this configuration:</p>
<pre><code>OUTPUT=RAWDISK
OUTPUT_URL="file:///mnt/reserve/Transfer/Rear.nobackup/RAWDISK"

OPALPBA_URL="file:///mnt/reserve/Transfer/Rear.nobackup/OPALPBA"

# To generate a password, use mkpasswd -m sha-512
SSH_ROOT_PASSWORD='...'

BACKUP=INTERNAL
</code></pre>
<p>Plus some extra configuration lines and code for my INTERNAL backup
method (not requiring changes to other ReaR code).</p>
<p>The git commit I mentioned was off by one. I actually had been using
d798fdb39bb6d0a111d4655283ad28d91286222e. I'm using unmodified ReaR code
from this repository with two exceptions (very small changes in two
files related to enabling another workflow for TCG Opal support). On top
of this I'm using extra code for the RAWDISK output method and TCG Opal
support.</p>
<p>Are you referring to something specific, e.g. is there something that
you'd expect not to work currently?</p>
<h4 id="jsmeix_commented_at_2017-12-01_0831"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1512#issuecomment-348433810">2017-12-01 08:31</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-12-01_0831" title="Permanent link">&para;</a></h4>
<p>@OliverO2<br />
I only liked to get your confirmation that my SSH related<br />
changes, adaptions, and enhancements "just work" for you.<br />
My selfish resoning behind was to make myself a bit proud<br />
of what I (still mostly a SSH noob) implemented ;-)<br />
Seriously: Without all your patient and explanatory help<br />
this would not have been possible so that actually<br />
I am much more thankful than proud of myself.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2017-09-22.1512.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
