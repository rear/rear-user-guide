<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#1927 Issue closed: ReaR 2.4 - Kernel Panic - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#1927 Issue closed: ReaR 2.4 - Kernel Panic";
        var mkdocs_page_input_path = "issues/2018-10-11.1927.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#1927 Issue closed: ReaR 2.4 - Kernel Panic</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1927_issue_closed_rear_24_-_kernel_panic"><a href="https://github.com/rear/rear/issues/1927">#1927 Issue</a> <code>closed</code>: ReaR 2.4 - Kernel Panic<a class="headerlink" href="#1927_issue_closed_rear_24_-_kernel_panic" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>fixed / solved / done</code>,
<code>not ReaR / invalid</code></p>
<h4 id="samurdhi_opened_issue_at_2018-10-11_1805"><img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50"><a href="https://github.com/samurdhi">samurdhi</a> opened issue at <a href="https://github.com/rear/rear/issues/1927">2018-10-11 18:05</a>:<a class="headerlink" href="#samurdhi_opened_issue_at_2018-10-11_1805" title="Permanent link">&para;</a></h4>
<h4 id="relax-and-recover_rear_issue_template">Relax-and-Recover (ReaR) Issue Template<a class="headerlink" href="#relax-and-recover_rear_issue_template" title="Permanent link">&para;</a></h4>
<p>Fill in the following items before submitting a new issue<br />
(quick response is not guaranteed with free support):</p>
<ul>
<li>
<p>ReaR version ("/usr/sbin/rear -V"):<br />
    Version 2.3 and 2.4</p>
</li>
<li>
<p>OS version ("cat /etc/rear/os.conf" or "lsb_release -a" or "cat
    /etc/os-release"):<br />
    Red Hat Enterprise Linux Server release 7.0 (Maipo)</p>
</li>
<li>
<p>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
    /etc/rear/local.conf"):</p>
</li>
</ul>
<!-- -->

<pre><code>OUTPUT=ISO
OUTPUT_OPTIONS="nfsvers=3,nolock"
OUTPUT_URL=nfs://srv1/UNIXDRBACKUP
BACKUP=NETFS
BACKUP_OPTIONS="nfsvers=3,nolock"
BACKUP_URL=nfs://srv1/UNIXDRBACKUP
REQUIRED_PROGS=( "${REQUIRED_PROGS[@]}" lsblk vim )
BACKUP_PROG_EXCLUDE=( ${BACKUP_PROG_EXCLUDE[@]} '/spare/*' '/root/*'  )
</code></pre>
<ul>
<li>Hardware (PC or PowerNV BareMetal or ARM) or virtual machine (KVM
    guest or PoverVM LPAR):</li>
</ul>
<p>iLO 4 ProLiant DL380 Gen9 | iLO 4 | ProLiant DL380 Gen9 |  <br />
iLO 4<br />
ProLiant DL380 Gen9</p>
<ul>
<li>
<p>System architecture (x86 compatible or PPC64/PPC64LE or what exact
    ARM device):</p>
</li>
<li>
<p>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or
    ELILO or Petitboot):</p>
</li>
<li>
<p>Storage (lokal disk or SSD) and/or SAN (FC or iSCSI or FCoE) and/or
    multipath (DM or NVMe):</p>
</li>
</ul>
<!-- -->

<pre><code>[root@srv2 rear]# multipath -ll
Oct 11 17:55:09 | multipath.conf +98, invalid keyword: getuid_callout
mpathb (360060e8012a1b4005040a1b400000137) dm-4 HITACHI ,OPEN-V          
size=200G features='1 queue_if_no_path' hwhandler='0' wp=rw
`-+- policy='round-robin 0' prio=1 status=active
  |- 0:0:0:1 sdd 8:48  active ready running
  |- 9:0:0:1 sdh 8:112 active ready running
  |- 0:0:1:1 sdg 8:96  active ready running
  `- 9:0:1:1 sdj 8:144 active ready running
mpatha (360060e8012a1b4005040a1b40000010e) dm-3 HITACHI ,OPEN-V          
size=300G features='1 queue_if_no_path' hwhandler='0' wp=rw
`-+- policy='round-robin 0' prio=1 status=active
  |- 0:0:1:0 sde 8:64  active ready running
  |- 0:0:0:0 sdc 8:32  active ready running
  |- 9:0:0:0 sdf 8:80  active ready running
  `- 9:0:1:0 sdi 8:128 active ready running
[root@srv2 rear]#
</code></pre>
<ul>
<li>Description of the issue (ideally so that others can reproduce
    it):<br />
    I have installed rear version 2.4 on the server and generated rear
    backup of that server and trying to install it on another different
    server. But when I'm trying to boot the second server using rear ISO
    file, I am unable to boot because it is getting kernel panic error
    while booting the ISO. Then I install rear 2.3 on the original
    server and did same but no success.<br />
    Grateful if you could help me to find the issue.</li>
</ul>
<p><img alt="image" src="https://user-images.githubusercontent.com/36687647/46823595-95e07280-cd5c-11e8-8e80-3efb4c18766b.png" /></p>
<h4 id="gdha_commented_at_2018-10-12_0614"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-429215817">2018-10-12 06:14</a>:<a class="headerlink" href="#gdha_commented_at_2018-10-12_0614" title="Permanent link">&para;</a></h4>
<p>@samurdhi according the screendump you are missing the <code>libz.so.1</code>
library on the recovery image.<br />
Check you rear log of the mkbackup to see if you can find libz.so
library in there?</p>
<h4 id="samurdhi_commented_at_2018-10-12_1322"><img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50"><a href="https://github.com/samurdhi">samurdhi</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-429323936">2018-10-12 13:22</a>:<a class="headerlink" href="#samurdhi_commented_at_2018-10-12_1322" title="Permanent link">&para;</a></h4>
<p>@gdha<br />
Thanks for your reply.</p>
<p>I have checked the server and found libz.so.1 library is in the both
/usr/lib/ and /usr/lib64/ directories.</p>
<p>[root@srv1 ~]# find / type f -name libz.so.1<br />
<strong>/usr/lib/libz.so.1</strong><br />
/usr/openv/pdde/pdopensource/lib/libz.so.1<br />
<strong>/usr/lib64/libz.so.1</strong><br />
/tmp/rear.PmB3k8h9xc7L3f0/rootfs/opt/HP/BSM/Postgres/lib/libz.so.1<br />
/opt/HP/BSM/BOE4/InstallData/setup.engine/perl/extlibs/libz.so.1<br />
/opt/HP/BSM/BOE4/InstallData/InstallCache/product.businessobjects64-4.0-core-32/14.2.5.2618/actions/libz.so.1<br />
/opt/HP/BSM/BOE4/InstallData/InstallCache/product.businessobjects64-4.0-core-32/14.1.8.2060/actions/libz.so.1<br />
/opt/HP/BSM/BOE4/InstallData/InstallCache/product.boe64.patch-4.2.5.0-core-32/14.2.5.2618/actions/libz.so.1<br />
/opt/HP/BSM/BOE4/InstallData/InstallCache/platform.services.cms.cpp.dbcheck-4.0-core-64/14.2.5.2618/libz.so.1<br />
/opt/HP/BSM/BOE4/InstallData/InstallCache/platform.services.cms.cpp.dbcheck-4.0-core-64/14.1.8.2060/libz.so.1<br />
/opt/HP/BSM/BOE4/sap_bobj/enterprise_xi40/linux_x86/libz.so.1<br />
/opt/HP/BSM/BOE4/sap_bobj/enterprise_xi40/linux_x64/libz.so.1<br />
/opt/HP/BSM/Postgres/lib/libz.so.1<br />
/HP_Image/installsoftware/OBR1030/packages/BO/DATA_UNITS/BusinessObjectsServer_lnx/dunit/platform.services.cms.cpp.dbcheck-4.0-core-64/libz.so.1<br />
/HP_Image/installsoftware/OBR1030/packages/BO/DATA_UNITS/BusinessObjectsServer_lnx/dunit/product.businessobjects64-4.0-core-32/actions/libz.so.1<br />
/HP_Image/installsoftware/OBR1030/packages/BO/DATA_UNITS/BusinessObjectsServer_lnx/setup.engine/perl/extlibs/libz.so.1<br />
/HP_Image/installsoftware/OBR1030/packages/BO/Upgrade/dunit/platform.services.cms.cpp.dbcheck-4.0-core-64/libz.so.1<br />
/HP_Image/installsoftware/OBR1030/packages/BO/Upgrade/dunit/product.boe64.patch-4.2.5.0-core-32/actions/libz.so.1<br />
/HP_Image/installsoftware/OBR1030/packages/BO/Upgrade/dunit/product.businessobjects64-4.0-core-32/actions/libz.so.1<br />
/HP_Image/installsoftware/OBR1030/packages/BO/Upgrade/setup.engine/perl/extlibs/libz.so.1<br />
find: â€˜/proc/5082/task/37210/fdinfo/323â€™: No such file or
directory<br />
find: â€˜/proc/5082/task/37755/fdinfo/360â€™: No such file or
directory<br />
find: â€˜/proc/5082/task/37765/fdinfo/375â€™: No such file or
directory<br />
find: â€˜/proc/5082/task/37830/fdinfo/324â€™: No such file or
directory<br />
find: â€˜/proc/5082/task/38878/fd/360â€™: No such file or directory<br />
find: â€˜/proc/5082/task/39421/fd/360â€™: No such file or directory<br />
find: â€˜/proc/5082/task/39619/fd/383â€™: No such file or directory<br />
find: â€˜/proc/5082/task/39991/fdinfo/360â€™: No such file or
directory<br />
find: â€˜/proc/5082/task/40889/fdinfo/373â€™: No such file or
directory<br />
find: â€˜/proc/5082/task/1426/fdinfo/377â€™: No such file or directory<br />
find: â€˜/proc/5082/task/8219/fdinfo/323â€™: No such file or directory<br />
find: â€˜/proc/5082/task/8428/fdinfo/323â€™: No such file or directory<br />
find: â€˜/proc/5082/task/8634/fdinfo/373â€™: No such file or directory<br />
find: â€˜/proc/5082/task/8670/fd/323â€™: No such file or directory<br />
find: â€˜/proc/5082/task/9747/fdinfo/360â€™: No such file or directory<br />
find: â€˜/proc/5082/task/31430/fd/373â€™: No such file or directory<br />
find: â€˜/proc/5082/task/32036/fd/373â€™: No such file or directory<br />
find: â€˜/proc/5082/task/32442/fd/379â€™: No such file or directory<br />
find: â€˜/proc/34210â€™: No such file or directory<br />
find: â€˜/proc/34885â€™: No such file or directory<br />
find: â€˜/proc/35332â€™: No such file or directory<br />
find: â€˜typeâ€™: No such file or directory<br />
find: â€˜fâ€™: No such file or directory<br />
[root@srv1 ~]#</p>
<p>Then I have checked the rear log file in mkrescure folder and found out
that this library not copied from the server.</p>
<p>[root@cricket srv1]# pwd<br />
/mnt/srv1<br />
[root@cricket srv1]# ls<br />
README rear-srv1.iso rear-srv1.log VERSION<br />
[root@cricket srv1]#<br />
[root@cricket srv1]# cat rear-srv1.log | grep libz.so.1<br />
2018-10-11 17:17:13.358008702 Adding required library
'/opt/HP/BSM/Postgres/lib/libz.so.1' to LIBS<br />
2018-10-11 17:17:13.546381710 LIBS = /lib/libnss_dns-2.17.so
/lib/libnss_dns.so.2 /lib64/libnss_dns-2.17.so /lib64/libnss_dns.so
/lib64/libnss_dns.so.2 /lib/libnss_files-2.17.so
/lib/libnss_files.so.2 /lib64/libnss_files-2.17.so
/lib64/libnss_files.so /lib64/libnss_files.so.2
/lib/libgcc_s-4.8.2-20140120.so.1 /lib/libgcc_s.so.1
/lib64/libgcc_s-4.8.2-20140120.so.1 /lib64/libgcc_s.so.1
/lib/libresolv-2.17.so /lib/libresolv.so.2 /lib64/libresolv-2.17.so
/lib64/libresolv.so /lib64/libresolv.so.2 /usr/lib64/rsyslog/imdiag.so
/usr/lib64/rsyslog/imfile.so /usr/lib64/rsyslog/imjournal.so
/usr/lib64/rsyslog/imklog.so /usr/lib64/rsyslog/immark.so
/usr/lib64/rsyslog/impstats.so /usr/lib64/rsyslog/imptcp.so
/usr/lib64/rsyslog/imtcp.so /usr/lib64/rsyslog/imudp.so
/usr/lib64/rsyslog/imuxsock.so /usr/lib64/rsyslog/lmnet.so
/usr/lib64/rsyslog/lmnetstrms.so /usr/lib64/rsyslog/lmnsd_ptcp.so
/usr/lib64/rsyslog/lmregexp.so /usr/lib64/rsyslog/lmstrmsrv.so
/usr/lib64/rsyslog/lmtcpclt.so /usr/lib64/rsyslog/lmtcpsrv.so
/usr/lib64/rsyslog/lmzlibw.so /usr/lib64/rsyslog/mmanon.so
/usr/lib64/rsyslog/omjournal.so /usr/lib64/rsyslog/ommail.so
/usr/lib64/rsyslog/omprog.so /usr/lib64/rsyslog/omruleset.so
/usr/lib64/rsyslog/omstdout.so /usr/lib64/rsyslog/omtesting.so
/usr/lib64/rsyslog/omuxsock.so /usr/lib64/rsyslog/pmaixforwardedfrom.so
/usr/lib64/rsyslog/pmcisconames.so /usr/lib64/rsyslog/pmlastmsg.so
/usr/lib64/rsyslog/pmrfc3164sd.so /usr/lib64/rsyslog/pmsnare.so
/lib64/rsyslog/imdiag.so /lib64/rsyslog/imfile.so
/lib64/rsyslog/imjournal.so /lib64/rsyslog/imklog.so
/lib64/rsyslog/immark.so /lib64/rsyslog/impstats.so
/lib64/rsyslog/imptcp.so /lib64/rsyslog/imtcp.so /lib64/rsyslog/imudp.so
/lib64/rsyslog/imuxsock.so /lib64/rsyslog/lmnet.so
/lib64/rsyslog/lmnetstrms.so /lib64/rsyslog/lmnsd_ptcp.so
/lib64/rsyslog/lmregexp.so /lib64/rsyslog/lmstrmsrv.so
/lib64/rsyslog/lmtcpclt.so /lib64/rsyslog/lmtcpsrv.so
/lib64/rsyslog/lmzlibw.so /lib64/rsyslog/mmanon.so
/lib64/rsyslog/omjournal.so /lib64/rsyslog/ommail.so
/lib64/rsyslog/omprog.so /lib64/rsyslog/omruleset.so
/lib64/rsyslog/omstdout.so /lib64/rsyslog/omtesting.so
/lib64/rsyslog/omuxsock.so /lib64/rsyslog/pmaixforwardedfrom.so
/lib64/rsyslog/pmcisconames.so /lib64/rsyslog/pmlastmsg.so
/lib64/rsyslog/pmrfc3164sd.so /lib64/rsyslog/pmsnare.so
/lib/libnsspem.so /lib64/libnsspem.so /usr/lib/libnsspem.so
/usr/lib64/libnsspem.so /lib/libfreebl3.so /lib64/libfreebl3.so
/usr/lib/libfreebl3.so /usr/lib64/libfreebl3.so /lib/libnss3.so
/lib64/libnss3.so /usr/lib/libnss3.so /usr/lib64/libnss3.so
/lib/libnssutil3.so /lib64/libnssutil3.so /usr/lib/libnssutil3.so
/usr/lib64/libnssutil3.so /lib/libsoftokn3.so /lib64/libsoftokn3.so
/usr/lib/libsoftokn3.so /usr/lib64/libsoftokn3.so /lib/libsqlite3.so.0
/lib/libsqlite3.so.0.8.6 /lib64/libsqlite3.so.0
/lib64/libsqlite3.so.0.8.6 /usr/lib/libsqlite3.so.0
/usr/lib/libsqlite3.so.0.8.6 /usr/lib64/libsqlite3.so.0
/usr/lib64/libsqlite3.so.0.8.6 /lib64/libssl.so.0.9.8e
/lib64/libssl.so.1.0.1e /lib64/libssl.so.10 /lib64/libssl.so.6
/usr/lib64/libssl.so.0.9.8e /usr/lib64/libssl.so.1.0.1e
/usr/lib64/libssl.so.10 /usr/lib64/libssl.so.6 /lib/libnssdbm3.so
/lib64/libnssdbm3.so /usr/lib/libnssdbm3.so /usr/lib64/libnssdbm3.so
/lib/libaio.so.1 /lib/libaio.so.1.0.0 /lib/libaio.so.1.0.1
/lib64/libaio.so.1 /lib64/libaio.so.1.0.0 /lib64/libaio.so.1.0.1
/lib64/ld-linux-x86-64.so.2 /opt/HP/BSM/Postgres/lib/libcom_err.so.3
/opt/HP/BSM/Postgres/lib/libcrypto.so.1.0.0
/opt/HP/BSM/Postgres/lib/libgssapi_krb5.so.2
/opt/HP/BSM/Postgres/lib/libk5crypto.so.3
/opt/HP/BSM/Postgres/lib/libkrb5.so.3
/opt/HP/BSM/Postgres/lib/libkrb5support.so.0
/opt/HP/BSM/Postgres/lib/liblber-2.4.so.2
/opt/HP/BSM/Postgres/lib/libldap-2.4.so.2
/opt/HP/BSM/Postgres/lib/libsasl2.so.3
/opt/HP/BSM/Postgres/lib/libssl.so.1.0.0
/opt/HP/BSM/Postgres/lib/libz.so.1 /usr/lib64/libacl.so.1
/usr/lib64/libaio.so.1 /usr/lib64/libattr.so.1 /usr/lib64/libaudit.so.1
/usr/lib64/libblkid.so.1 /usr/lib64/libbz2.so.1 /usr/lib64/libc.so.6
/usr/lib64/libcap.so.2 /usr/lib64/libcom_err.so.2
/usr/lib64/libcrypto.so.10 /usr/lib64/libcryptsetup.so.4
/usr/lib64/libcurl.so.4 /usr/lib64/libdevmapper.so.1.02
/usr/lib64/libdl.so.2 /usr/lib64/libdw.so.1 /usr/lib64/libelf.so.1
/usr/lib64/libfipscheck.so.1 /usr/lib64/libgcc_s.so.1
/usr/lib64/libgcrypt.so.11 /usr/lib64/libglib-2.0.so.0
/usr/lib64/libgpg-error.so.0 /usr/lib64/libidn.so.11
/usr/lib64/libkmod.so.2 /usr/lib64/liblzma.so.5 /usr/lib64/libm.so.6
/usr/lib64/libnspr4.so /usr/lib64/libpcre.so.1 /usr/lib64/libplc4.so
/usr/lib64/libplds4.so /usr/lib64/libpthread.so.0
/usr/lib64/libresolv.so.2 /usr/lib64/librt.so.1
/usr/lib64/libselinux.so.1 /usr/lib64/libsepol.so.1
/usr/lib64/libsmime3.so /usr/lib64/libssh2.so.1 /usr/lib64/libssl3.so
/usr/lib64/libudev.so.1 /usr/lib64/libuuid.so.1<br />
2018-10-11 17:17:16.077156643 Libraries being copied:
/lib/libnss_dns-2.17.so /lib/libnss_dns.so.2
/lib64/libnss_dns-2.17.so /lib64/libnss_dns.so /lib64/libnss_dns.so.2
/lib/libnss_files-2.17.so /lib/libnss_files.so.2
/lib64/libnss_files-2.17.so /lib64/libnss_files.so
/lib64/libnss_files.so.2 /lib/libgcc_s-4.8.2-20140120.so.1
/lib/libgcc_s.so.1 /lib64/libgcc_s-4.8.2-20140120.so.1
/lib64/libgcc_s.so.1 /lib/libresolv-2.17.so /lib/libresolv.so.2
/lib64/libresolv-2.17.so /lib64/libresolv.so /lib64/libresolv.so.2
/usr/lib64/rsyslog/imdiag.so /usr/lib64/rsyslog/imfile.so
/usr/lib64/rsyslog/imjournal.so /usr/lib64/rsyslog/imklog.so
/usr/lib64/rsyslog/immark.so /usr/lib64/rsyslog/impstats.so
/usr/lib64/rsyslog/imptcp.so /usr/lib64/rsyslog/imtcp.so
/usr/lib64/rsyslog/imudp.so /usr/lib64/rsyslog/imuxsock.so
/usr/lib64/rsyslog/lmnet.so /usr/lib64/rsyslog/lmnetstrms.so
/usr/lib64/rsyslog/lmnsd_ptcp.so /usr/lib64/rsyslog/lmregexp.so
/usr/lib64/rsyslog/lmstrmsrv.so /usr/lib64/rsyslog/lmtcpclt.so
/usr/lib64/rsyslog/lmtcpsrv.so /usr/lib64/rsyslog/lmzlibw.so
/usr/lib64/rsyslog/mmanon.so /usr/lib64/rsyslog/omjournal.so
/usr/lib64/rsyslog/ommail.so /usr/lib64/rsyslog/omprog.so
/usr/lib64/rsyslog/omruleset.so /usr/lib64/rsyslog/omstdout.so
/usr/lib64/rsyslog/omtesting.so /usr/lib64/rsyslog/omuxsock.so
/usr/lib64/rsyslog/pmaixforwardedfrom.so
/usr/lib64/rsyslog/pmcisconames.so /usr/lib64/rsyslog/pmlastmsg.so
/usr/lib64/rsyslog/pmrfc3164sd.so /usr/lib64/rsyslog/pmsnare.so
/lib64/rsyslog/imdiag.so /lib64/rsyslog/imfile.so
/lib64/rsyslog/imjournal.so /lib64/rsyslog/imklog.so
/lib64/rsyslog/immark.so /lib64/rsyslog/impstats.so
/lib64/rsyslog/imptcp.so /lib64/rsyslog/imtcp.so /lib64/rsyslog/imudp.so
/lib64/rsyslog/imuxsock.so /lib64/rsyslog/lmnet.so
/lib64/rsyslog/lmnetstrms.so /lib64/rsyslog/lmnsd_ptcp.so
/lib64/rsyslog/lmregexp.so /lib64/rsyslog/lmstrmsrv.so
/lib64/rsyslog/lmtcpclt.so /lib64/rsyslog/lmtcpsrv.so
/lib64/rsyslog/lmzlibw.so /lib64/rsyslog/mmanon.so
/lib64/rsyslog/omjournal.so /lib64/rsyslog/ommail.so
/lib64/rsyslog/omprog.so /lib64/rsyslog/omruleset.so
/lib64/rsyslog/omstdout.so /lib64/rsyslog/omtesting.so
/lib64/rsyslog/omuxsock.so /lib64/rsyslog/pmaixforwardedfrom.so
/lib64/rsyslog/pmcisconames.so /lib64/rsyslog/pmlastmsg.so
/lib64/rsyslog/pmrfc3164sd.so /lib64/rsyslog/pmsnare.so
/lib/libnsspem.so /lib64/libnsspem.so /usr/lib/libnsspem.so
/usr/lib64/libnsspem.so /lib/libfreebl3.so /lib64/libfreebl3.so
/usr/lib/libfreebl3.so /usr/lib64/libfreebl3.so /lib/libnss3.so
/lib64/libnss3.so /usr/lib/libnss3.so /usr/lib64/libnss3.so
/lib/libnssutil3.so /lib64/libnssutil3.so /usr/lib/libnssutil3.so
/usr/lib64/libnssutil3.so /lib/libsoftokn3.so /lib64/libsoftokn3.so
/usr/lib/libsoftokn3.so /usr/lib64/libsoftokn3.so /lib/libsqlite3.so.0
/lib/libsqlite3.so.0.8.6 /lib64/libsqlite3.so.0
/lib64/libsqlite3.so.0.8.6 /usr/lib/libsqlite3.so.0
/usr/lib/libsqlite3.so.0.8.6 /usr/lib64/libsqlite3.so.0
/usr/lib64/libsqlite3.so.0.8.6 /lib64/libssl.so.0.9.8e
/lib64/libssl.so.1.0.1e /lib64/libssl.so.10 /lib64/libssl.so.6
/usr/lib64/libssl.so.0.9.8e /usr/lib64/libssl.so.1.0.1e
/usr/lib64/libssl.so.10 /usr/lib64/libssl.so.6 /lib/libnssdbm3.so
/lib64/libnssdbm3.so /usr/lib/libnssdbm3.so /usr/lib64/libnssdbm3.so
/lib/libaio.so.1 /lib/libaio.so.1.0.0 /lib/libaio.so.1.0.1
/lib64/libaio.so.1 /lib64/libaio.so.1.0.0 /lib64/libaio.so.1.0.1
/lib64/ld-linux-x86-64.so.2 /opt/HP/BSM/Postgres/lib/libcom_err.so.3
/opt/HP/BSM/Postgres/lib/libcrypto.so.1.0.0
/opt/HP/BSM/Postgres/lib/libgssapi_krb5.so.2
/opt/HP/BSM/Postgres/lib/libk5crypto.so.3
/opt/HP/BSM/Postgres/lib/libkrb5.so.3
/opt/HP/BSM/Postgres/lib/libkrb5support.so.0
/opt/HP/BSM/Postgres/lib/liblber-2.4.so.2
/opt/HP/BSM/Postgres/lib/libldap-2.4.so.2
/opt/HP/BSM/Postgres/lib/libsasl2.so.3
/opt/HP/BSM/Postgres/lib/libssl.so.1.0.0
/opt/HP/BSM/Postgres/lib/libz.so.1 /usr/lib64/libacl.so.1
/usr/lib64/libaio.so.1 /usr/lib64/libattr.so.1 /usr/lib64/libaudit.so.1
/usr/lib64/libblkid.so.1 /usr/lib64/libbz2.so.1 /usr/lib64/libc.so.6
/usr/lib64/libcap.so.2 /usr/lib64/libcom_err.so.2
/usr/lib64/libcrypto.so.10 /usr/lib64/libcryptsetup.so.4
/usr/lib64/libcurl.so.4 /usr/lib64/libdevmapper.so.1.02
/usr/lib64/libdl.so.2 /usr/lib64/libdw.so.1 /usr/lib64/libelf.so.1
/usr/lib64/libfipscheck.so.1 /usr/lib64/libgcc_s.so.1
/usr/lib64/libgcrypt.so.11 /usr/lib64/libglib-2.0.so.0
/usr/lib64/libgpg-error.so.0 /usr/lib64/libidn.so.11
/usr/lib64/libkmod.so.2 /usr/lib64/liblzma.so.5 /usr/lib64/libm.so.6
/usr/lib64/libnspr4.so /usr/lib64/libpcre.so.1 /usr/lib64/libplc4.so
/usr/lib64/libplds4.so /usr/lib64/libpthread.so.0
/usr/lib64/libresolv.so.2 /usr/lib64/librt.so.1
/usr/lib64/libselinux.so.1 /usr/lib64/libsepol.so.1
/usr/lib64/libsmime3.so /usr/lib64/libssh2.so.1 /usr/lib64/libssl3.so
/usr/lib64/libudev.so.1 /usr/lib64/libuuid.so.1 /lib/ld-linux.so.2
/lib/libc.so.6 /lib/libdl.so.2 /lib/libfreebl3.so /lib/libnspr4.so
/lib/libnssdbm3.so /lib/libnssutil3.so /lib/libplc4.so /lib/libplds4.so
/lib/libpthread.so.0 /lib/libresolv.so.2 /lib/librt.so.1
/lib/libsoftokn3.so /lib/libsqlite3.so.0 /lib64/ld-linux-x86-64.so.2
/opt/HP/BSM/Postgres/lib/libcom_err.so.3
/opt/HP/BSM/Postgres/lib/libcrypto.so.1.0.0
/opt/HP/BSM/Postgres/lib/libedit.so.0
/opt/HP/BSM/Postgres/lib/libgssapi_krb5.so.2
/opt/HP/BSM/Postgres/lib/libiconv.so.2
/opt/HP/BSM/Postgres/lib/libk5crypto.so.3
/opt/HP/BSM/Postgres/lib/libkrb5.so.3
/opt/HP/BSM/Postgres/lib/libkrb5support.so.0
/opt/HP/BSM/Postgres/lib/liblber-2.4.so.2
/opt/HP/BSM/Postgres/lib/libldap-2.4.so.2
/opt/HP/BSM/Postgres/lib/libncurses.so.5
/opt/HP/BSM/Postgres/lib/libsasl2.so.3
/opt/HP/BSM/Postgres/lib/libssl.so.1.0.0
/opt/HP/BSM/Postgres/lib/libxml2.so.2 /opt/HP/BSM/Postgres/lib/libz.so.1
/usr/lib64/libacl.so.1 /usr/lib64/libattr.so.1 /usr/lib64/libaudit.so.1
/usr/lib64/libbfd-2.23.52.0.1-16.el7.so /usr/lib64/libbind9.so.90
/usr/lib64/libblkid.so.1 /usr/lib64/libbz2.so.1 /usr/lib64/libc.so.6
/usr/lib64/libcap-ng.so.0 /usr/lib64/libcap.so.2
/usr/lib64/libcom_err.so.2 /usr/lib64/libcrack.so.2
/usr/lib64/libcrypt.so.1 /usr/lib64/libcrypto.so.10
/usr/lib64/libcrypto.so.6 /usr/lib64/libcryptsetup.so.4
/usr/lib64/libcurl.so.4 /usr/lib64/libdbus-1.so.3
/usr/lib64/libdevmapper-event.so.1.02 /usr/lib64/libdevmapper.so.1.02
/usr/lib64/libdl.so.2 /usr/lib64/libdns-export.so.100
/usr/lib64/libdns.so.100 /usr/lib64/libdw.so.1 /usr/lib64/libe2p.so.2
/usr/lib64/libelf.so.1 /usr/lib64/libestr.so.0 /usr/lib64/libexpat.so.1
/usr/lib64/libext2fs.so.2 /usr/lib64/libfipscheck.so.1
/usr/lib64/libfreebl3.so /usr/lib64/libgcc_s.so.1
/usr/lib64/libgcrypt.so.11 /usr/lib64/libgmp.so.10
/usr/lib64/libgpg-error.so.0 /usr/lib64/libgpm.so.2
/usr/lib64/libidn.so.11 /usr/lib64/libisc-export.so.95
/usr/lib64/libisc.so.95 /usr/lib64/libisccc.so.90
/usr/lib64/libisccfg.so.90 /usr/lib64/libjson-c.so.2
/usr/lib64/libkmod.so.2 /usr/lib64/liblwres.so.90
/usr/lib64/liblzma.so.5 /usr/lib64/liblzo2.so.2 /usr/lib64/libm.so.6
/usr/lib64/libmagic.so.1 /usr/lib64/libmount.so.1
/usr/lib64/libmpathpersist.so.0 /usr/lib64/libmultipath.so.0
/usr/lib64/libncursesw.so.5 /usr/lib64/libnsl.so.1
/usr/lib64/libnspr4.so /usr/lib64/libnss3.so /usr/lib64/libnssdbm3.so
/usr/lib64/libnssutil3.so /usr/lib64/libomapi.so.0
/usr/lib64/libpam.so.0 /usr/lib64/libparted.so.2 /usr/lib64/libpci.so.3
/usr/lib64/libpcre.so.1 /usr/lib64/libplc4.so /usr/lib64/libplds4.so
/usr/lib64/libpopt.so.0 /usr/lib64/libprocps.so.3
/usr/lib64/libpthread.so.0 /usr/lib64/libpwquality.so.1
/usr/lib64/libqrencode.so.3 /usr/lib64/libreadline.so.6
/usr/lib64/libresolv.so.2 /usr/lib64/librt.so.1
/usr/lib64/libselinux.so.1 /usr/lib64/libsepol.so.1
/usr/lib64/libsmime3.so /usr/lib64/libsoftokn3.so
/usr/lib64/libsqlite3.so.0 /usr/lib64/libssh2.so.1
/usr/lib64/libssl.so.10 /usr/lib64/libssl3.so
/usr/lib64/libsystemd-id128.so.0 /usr/lib64/libsystemd-journal.so.0
/usr/lib64/libsystemd-login.so.0 /usr/lib64/libsystemd.so.0
/usr/lib64/libtinfo.so.5 /usr/lib64/libtirpc.so.1
/usr/lib64/libudev.so.1 /usr/lib64/libutil.so.1 /usr/lib64/libuuid.so.1
/usr/lib64/libwrap.so.0 /usr/lib64/perl5/CORE/libperl.so<br />
'/opt/HP/BSM/Postgres/lib/libz.so.1' -&gt;
'/tmp/rear.LK1aj0oHdIoSOq3/rootfs//opt/HP/BSM/Postgres/lib/libz.so.1'<br />
[root@cricket srv1]#</p>
<h4 id="gdha_commented_at_2018-10-12_1344"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-429330320">2018-10-12 13:44</a>:<a class="headerlink" href="#gdha_commented_at_2018-10-12_1344" title="Permanent link">&para;</a></h4>
<p>@samurdhi The wrong <strong>libz.so.1</strong> was copied to the rescue image:<br />
<code>'/opt/HP/BSM/Postgres/lib/libz.so.1' -&gt; '/tmp/rear.LK1aj0oHdIoSOq3/rootfs//opt/HP/BSM/Postgres/lib/libz.so.1'</code><br />
The question is now why? You could run <code>rear -vD mkrescue</code> and perhaps
we see something more in there?</p>
<h4 id="samurdhi_commented_at_2018-10-12_1353"><img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50"><a href="https://github.com/samurdhi">samurdhi</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-429333240">2018-10-12 13:53</a>:<a class="headerlink" href="#samurdhi_commented_at_2018-10-12_1353" title="Permanent link">&para;</a></h4>
<p>@gdha</p>
<p>Please see below output of command "rear -vD mkrescue"</p>
<p>[root@srv1~]# rear -vD mkrescue<br />
Relax-and-Recover 2.3 / 2017-12-20<br />
Using log file: /var/log/rear/rear-srv1.log<br />
Using backup archive
'/tmp/rear.KywiRPxIHGiDnFa/outputfs/srv1/backup.tar.gz'<br />
Creating disk layout<br />
Using guessed bootloader 'GRUB'<br />
Creating root filesystem layout<br />
To log into the recovery system via ssh set up
/root/.ssh/authorized_keys or specify SSH_ROOT_PASSWORD<br />
Copying logfile /var/log/rear/rear-srv1.log into initramfs as
'/tmp/rear-srv1-partial-2018-10-12T13:46:19+0000.log'<br />
Copying files and directories<br />
Copying binaries and libraries<br />
Copying kernel modules<br />
Copying all files in /lib*/firmware/<br />
Creating recovery/rescue system initramfs/initrd initrd.cgz with gzip
default compression<br />
Created initrd.cgz with gzip default compression (101364400 bytes) in 15
seconds<br />
Making ISO image<br />
Wrote ISO image: /var/lib/rear/output/rear-srv1.iso (104M)<br />
Copying resulting files to nfs location<br />
Saving /var/log/rear/rear-srv1.log as rear-srv1.log to nfs location<br />
You should also rm -Rf /tmp/rear.KywiRPxIHGiDnFa<br />
[root@srv1~]#</p>
<h4 id="samurdhi_commented_at_2018-10-12_1354"><img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50"><a href="https://github.com/samurdhi">samurdhi</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-429333514">2018-10-12 13:54</a>:<a class="headerlink" href="#samurdhi_commented_at_2018-10-12_1354" title="Permanent link">&para;</a></h4>
<p>@gdha : Please see attached rear log file</p>
<p><a href="https://github.com/rear/rear/files/2473328/rear-srv1.log">rear-srv1.log</a></p>
<h4 id="gdha_commented_at_2018-10-12_1554"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-429373650">2018-10-12 15:54</a>:<a class="headerlink" href="#gdha_commented_at_2018-10-12_1554" title="Permanent link">&para;</a></h4>
<p>@samurdhi Cannot figure out why <code>/opt/HP/BSM/Postgres/lib/libc.so.1</code> is
added amongst many other libraries under /opt/HP/BSM ? However, I'm
pretty sure you do need these under recovery mode, right? Therefore, I
suggest to add the following line to your <code>/etc/rear/local.conf</code> file:</p>
<pre><code>COPY_AS_IS_EXCLUDE=( "${COPY_AS_IS_EXCLUDE[@]"  '/opt/HP/BSM' )
</code></pre>
<h4 id="jsmeix_commented_at_2018-10-15_0759"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-429745144">2018-10-15 07:59</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-10-15_0759" title="Permanent link">&para;</a></h4>
<p>This issue is the same as
<a href="https://github.com/rear/rear/issues/1494">https://github.com/rear/rear/issues/1494</a><br />
but that should have been fixed since the ReaR 2.3 release via<br />
<a href="https://github.com/rear/rear/pull/1502">https://github.com/rear/rear/pull/1502</a>
and<br />
<a href="https://github.com/rear/rear/pull/1514">https://github.com/rear/rear/pull/1514</a>
and<br />
<a href="https://github.com/rear/rear/pull/1521">https://github.com/rear/rear/pull/1521</a></p>
<p>Simply put:<br />
With ReaR before the ReaR 2.3 release<br />
as soon as some special libraries configuration is used,<br />
the libraries in the recovery system had been likely inconsistent<br />
and when a library is involved or missing where init is linked with,<br />
the recovery system fails to boot with kernel panic because <code>init</code>
fails.<br />
But since the ReaR 2.3 release the libraries in the recovery system<br />
should be consistent and each binary is tested that all its needed<br />
libraries exist in the recovery system.</p>
<p>In
<a href="https://github.com/rear/rear/files/2473328/rear-srv1.log">https://github.com/rear/rear/files/2473328/rear-srv1.log</a><br />
I see that usr/share/rear/build/default/980_verify_rootfs.sh<br />
runs and tests successfully tons of binaries for missing libraries<br />
(in particular <code>/bin/init</code> is successfully tested in the recovery
system)<br />
so that currently I do not understand why later a library<br />
can be still missing for <code>init</code>.</p>
<p>FYI:<br />
<code>/bin/init</code> in the recovery system could be <code>/sbin/init</code> on the original
system<br />
because in the recovery system <code>/sbin</code> is a symlink to <code>/bin</code>.</p>
<p>Perhaps the libraries setup might got broken on the original system<br />
since it was last booted but there that is not yet noticed<br />
because <code>init</code> is still running there since it was booted?</p>
<p>@samurdhi<br />
what is the content of your <code>/etc/ld.so.conf</code> file?</p>
<p>Does it work to reboot your original system?<br />
Caution!<br />
When in your original system your libraries setup is broken,<br />
it may fail to boot your original system in the same way<br />
as now it fails to boot the ReaR recovery system.</p>
<p>What actual program is <code>init</code> on your original system?</p>
<p>E.g. on my SLES11 system <code>/sbin/init</code> is a binary<br />
that is not linked with any libz and that belons to the sysvinit RPM<br />
but on my SLES12 system <code>/sbin/init</code> is a symlink<br />
that points to /usr/lib/systemd/systemd<br />
which is linked with 'libz.so.1 =&gt; /lib64/libz.so.1'.</p>
<p>How you could inspect your ReaR recovery system content<br />
in $TMPDIR/rear.XXXXXXXXXXXXXXX/rootfs/ directly:</p>
<p>Set in etc/rear/local.conf</p>
<pre>
KEEP_BUILD_DIR="yes"
</pre>

<p>cf. usr/share/rear/conf/default.conf</p>
<p>This way you can 'chroot' into the ReaR recovery system directly<br />
on the original system where you made it with "rear mkrescue"<br />
without the need to boot the ReaR recovery system<br />
on another (virtual) machine only to do some tests<br />
in the ReaR recovery system which is impossible<br />
when the ReaR recovery system fails to come up<br />
like here when the kernel panics because init fails, cf.<br />
<a href="https://github.com/rear/rear/issues/1494#issuecomment-330192635">https://github.com/rear/rear/issues/1494#issuecomment-330192635</a></p>
<h4 id="jsmeix_commented_at_2018-10-15_0918"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-429769507">2018-10-15 09:18</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-10-15_0918" title="Permanent link">&para;</a></h4>
<p>@gdha<br />
provided my code (in particular the RequiredSharedOjects function)<br />
works as it should, libraries like
<code>/opt/HP/BSM/Postgres/lib/libc.so.1</code><br />
get used in the recovery system because <code>ldd</code> reports them as needed.</p>
<p><code>ldd</code> is called in the RequiredSharedOjects function for each binary<br />
and for each library that is intended for the recovery system, see in<br />
usr/share/rear/build/GNU/Linux/390_copy_binaries_libraries.sh</p>
<pre>
local all_libs=( "${LIBS[@]}" $( RequiredSharedOjects "${all_binaries[@]}" "${LIBS[@]}" ) )
</pre>

<p>In particular for sbin/init<br />
<a href="https://github.com/rear/rear/files/2473328/rear-srv1.log">https://github.com/rear/rear/files/2473328/rear-srv1.log</a><br />
shows (excerpts):</p>
<pre>
+++ RequiredSharedOjects ... /sbin/init ...
...
+++ ldd ... /sbin/init ...
...
++ Log 'Libraries being copied: ... /opt/HP/BSM/Postgres/lib/libz.so.1 ...
</pre>

<p>so that according to the <code>ldd</code> output
/opt/HP/BSM/Postgres/lib/libz.so.1<br />
is the only 'libz.so.1' that is needed on the original system where
'ldd'<br />
is run e.g. for '/sbin/init' (390_copy_binaries_libraries.sh and<br />
the RequiredSharedOjects function run on the original system).</p>
<p>This is the reason behind why I think the libraries setup might<br />
be already broken on the original system.</p>
<h4 id="jsmeix_commented_at_2018-10-15_0952"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-429780453">2018-10-15 09:52</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-10-15_0952" title="Permanent link">&para;</a></h4>
<p>I really do not understand what goes wrong because we also<br />
copy all 'ld.so.conf*' files into the recovery system via<br />
(excerpts from
<a href="https://github.com/rear/rear/files/2473328/rear-srv1.log">https://github.com/rear/rear/files/2473328/rear-srv1.log</a>)</p>
<pre>
+ source /usr/share/rear/rescue/GNU/Linux/550_copy_ldconfig.sh
...
++ COPY_AS_IS=(${COPY_AS_IS[@]} /etc/ld.so.conf /etc/ld.so.conf.d/*)
...
+ source /usr/share/rear/build/GNU/Linux/100_copy_as_is.sh
...
++ Log 'Files being copied: ... /etc/ld.so.conf /etc/ld.so.conf.d/dyninst-x86_64.conf /etc/ld.so.conf.d/kernel-3.10.0-123.20.1.el7.x86_64.conf /etc/ld.so.conf.d/kernel-3.10.0-123.el7.x86_64.conf /etc/ld.so.conf.d/kernel-3.10.0-229.20.1.el7.x86_64.conf /etc/ld.so.conf.d/mariadb-x86_64.conf
</pre>

<p>Afterwards we run 'ldconfig' in the recovery system<br />
so that - even when <code>init</code> links with
opt/HP/BSM/Postgres/lib/libz.so.1<br />
that library should be found by the linker in the recovery system<br />
(which is also verified by the 'ldd' test in 980_verify_rootfs.sh<br />
that tests that for each binary in the recovery system that<br />
all its needed libraries are found in the recovery system).<br />
but I think the <code>ldconfig</code> output in the recovery system<br />
does not look right<br />
(excerpts from
<a href="https://github.com/rear/rear/files/2473328/rear-srv1.log">https://github.com/rear/rear/files/2473328/rear-srv1.log</a>)</p>
<pre>
+ source /usr/share/rear/build/GNU/Linux/390_copy_binaries_libraries.sh
...
++ cp -v -a -f /opt/HP/BSM/Postgres/lib/libz.so.1 /tmp/rear.KywiRPxIHGiDnFa/rootfs//opt/HP/BSM/Postgres/lib/libz.so.1
'/opt/HP/BSM/Postgres/lib/libz.so.1' -> '/tmp/rear.KywiRPxIHGiDnFa/rootfs//opt/HP/BSM/Postgres/lib/libz.so.1'
...
++ ldconfig -v -r /tmp/rear.KywiRPxIHGiDnFa/rootfs
ldconfig: Can't stat /usr/lib64/dyninst: No such file or directory
ldconfig: Can't stat /usr/lib64/mysql: No such file or directory
ldconfig: Can't stat /libx32: No such file or directory
ldconfig: Path `/usr/lib' given more than once
ldconfig: Path `/usr/lib64' given more than once
ldconfig: Can't stat /usr/libx32: No such file or directory
/lib:
        libnssutil3.so -> libnssutil3.so
        libaio.so.1.0.0 -> libaio.so.1.0.0
        ld-linux.so.2 -> ld-2.17.so
        libsoftokn3.so -> libsoftokn3.so
        libnspr4.so -> libnspr4.so
        libplds4.so -> libplds4.so
        librt.so.1 -> librt-2.17.so
        libnsspem.so -> libnsspem.so
        libnss3.so -> libnss3.so
        libnssdbm3.so -> libnssdbm3.so
        libresolv.so.2 -> libresolv-2.17.so
        libfreebl3.so -> libfreebl3.so
        libgcc_s.so.1 -> libgcc_s-4.8.2-20140120.so.1
        libsqlite3.so.0 -> libsqlite3.so.0.8.6
        libnss_dns.so.2 -> libnss_dns-2.17.so
        libpthread.so.0 -> libpthread-2.17.so
        libaio.so.1 -> libaio.so.1.0.1
        libnss_files.so.2 -> libnss_files-2.17.so
        libc.so.6 -> libc-2.17.so
        libplc4.so -> libplc4.so
        libdl.so.2 -> libdl-2.17.so
/lib64:
        libnssutil3.so -> libnssutil3.so
        libaio.so.1.0.0 -> libaio.so.1.0.0
        libisccfg.so.90 -> libisccfg.so.90.0.7
        libmount.so.1 -> libmount.so.1.1.0
        liblwres.so.90 -> liblwres.so.90.0.5
        libglib-2.0.so.0 -> libglib-2.0.so.0.4600.2
        libattr.so.1 -> libattr.so.1.1.0
        libssl3.so -> libssl3.so
        libmpathpersist.so.0 -> libmpathpersist.so.0
        libexpat.so.1 -> libexpat.so.1.6.0
        libsoftokn3.so -> libsoftokn3.so
        libssh2.so.1 -> libssh2.so.1.0.1
        libcrack.so.2 -> libcrack.so.2.9.0
        libcrypt.so.1 -> libcrypt-2.17.so
        liblzo2.so.2 -> liblzo2.so.2.0.0
        libsystemd-login.so.0 -> libsystemd-login.so.0.9.3
        libdw.so.1 -> libdw-0.158.so
        libbz2.so.1 -> libbz2.so.1.0.6
        libnspr4.so -> libnspr4.so
        libdns-export.so.100 -> libdns-export.so.100.1.1
        libcom_err.so.2 -> libcom_err.so.2.1
        libdevmapper-event.so.1.02 -> libdevmapper-event.so.1.02
        libwrap.so.0 -> libwrap.so.0.7.6
        libplds4.so -> libplds4.so
        libcrypto.so.10 -> libcrypto.so.1.0.1e
        librt.so.1 -> librt-2.17.so
        libparted.so.2 -> libparted.so.2.0.0
        libreadline.so.6 -> libreadline.so.6.2
        libsystemd-id128.so.0 -> libsystemd-id128.so.0.0.28
        libdevmapper.so.1.02 -> libdevmapper.so.1.02
        libdbus-1.so.3 -> libdbus-1.so.3.7.4
        libsmime3.so -> libsmime3.so
        libpwquality.so.1 -> libpwquality.so.1.0.2
        libpopt.so.0 -> libpopt.so.0.0.0
        libuuid.so.1 -> libuuid.so.1.3.0
        libprocps.so.3 -> libprocps.so.3.0.0
        libcrypto.so.6 -> libcrypto.so.0.9.8e
        libnsspem.so -> libnsspem.so
        libnss3.so -> libnss3.so
        libext2fs.so.2 -> libext2fs.so.2.4
        libidn.so.11 -> libidn.so.11.6.11
        libnssdbm3.so -> libnssdbm3.so
        libtinfo.so.5 -> libtinfo.so.5.9
        libgpm.so.2 -> libgpm.so.2.1.0
        libgcrypt.so.11 -> libgcrypt.so.11.8.2
        libestr.so.0 -> libestr.so.0.0.0
        libresolv.so.2 -> libresolv-2.17.so
        libpam.so.0 -> libpam.so.0.83.1
        libfreebl3.so -> libfreebl3.so
        libselinux.so.1 -> libselinux.so.1
        libsepol.so.1 -> libsepol.so.1
        libgcc_s.so.1 -> libgcc_s-4.8.2-20140120.so.1
        libblkid.so.1 -> libblkid.so.1.1.0
        libcryptsetup.so.4 -> libcryptsetup.so.4.5.0
        libssl.so.6 -> libssl.so.0.9.8e
        libsqlite3.so.0 -> libsqlite3.so.0.8.6
        libelf.so.1 -> libelf-0.158.so
        libudev.so.1 -> libudev.so.1.6.2
        libqrencode.so.3 -> libqrencode.so.3.4.1
        libacl.so.1 -> libacl.so.1.1.0
        libm.so.6 -> libm-2.17.so
        libmagic.so.1 -> libmagic.so.1.0.0
        libsystemd-journal.so.0 -> libsystemd-journal.so.0.11.5
        libbfd-2.23.52.0.1-16.el7.so -> libbfd-2.23.52.0.1-16.el7.so
        libsystemd.so.0 -> libsystemd.so.0.6.0
        libmultipath.so.0 -> libmultipath.so.0
        libjson-c.so.2 -> libjson-c.so.2.0.1
        libisc.so.95 -> libisc.so.95.2.1
        libgpg-error.so.0 -> libgpg-error.so.0.10.0
        libnss_dns.so.2 -> libnss_dns-2.17.so
        libssl.so.10 -> libssl.so.1.0.1e
        libpcre.so.1 -> libpcre.so.1.2.0
        libisc-export.so.95 -> libisc-export.so.95.2.1
        libpthread.so.0 -> libpthread-2.17.so
        libgmp.so.10 -> libgmp.so.10.1.1
        libdns.so.100 -> libdns.so.100.1.1
        libaio.so.1 -> libaio.so.1.0.1
        libutil.so.1 -> libutil-2.17.so
        libcap.so.2 -> libcap.so.2.22
        libnsl.so.1 -> libnsl-2.17.so
        libtirpc.so.1 -> libtirpc.so.1.0.10
        libpci.so.3 -> libpci.so.3.2.1
        libcap-ng.so.0 -> libcap-ng.so.0.0.0
        libnss_files.so.2 -> libnss_files-2.17.so
        libncursesw.so.5 -> libncursesw.so.5.9
        libc.so.6 -> libc-2.17.so
        libe2p.so.2 -> libe2p.so.2.3
        libkmod.so.2 -> libkmod.so.2.2.4
        libbind9.so.90 -> libbind9.so.90.0.8
        libcurl.so.4 -> libcurl.so.4.3.0
        libplc4.so -> libplc4.so
        libaudit.so.1 -> libaudit.so.1.0.0
        ld-linux-x86-64.so.2 -> ld-2.17.so
        libisccc.so.90 -> libisccc.so.90.0.4
        libdl.so.2 -> libdl-2.17.so
        libfipscheck.so.1 -> libfipscheck.so.1.2.1
        libomapi.so.0 -> libomapi.so.0.0.0
        liblzma.so.5 -> liblzma.so.5.0.99
</pre>

<p>because there is not any 'libz' reported therein.</p>
<p>In contrast when I run 'ldconfig' in a recovery system rootfs<br />
I get 'libz' reported (output from my SLES11 system):</p>
<pre>
# ldconfig -v -r /tmp/rear.5spzdiDoqZvtt7B/rootfs
...
/lib:
        libwrap.so.0 -> libwrap.so.0.7.6
        libuuid.so.1 -> libuuid.so.1.3.0
        libutil.so.1 -> libutil-2.11.3.so
        libudev.so.0 -> libudev.so.0.5.1
        libtirpc.so.1 -> libtirpc.so.1.0.10
        libsysfs.so.2 -> libsysfs.so.2.0.1
        libsepol.so.1 -> libsepol.so.1
        libreadline.so.5 -> libreadline.so.5.2
        libpopt.so.0 -> libpopt.so.0.0.0
        libpci.so.3 -> libpci.so.3.1.7
        libpam.so.0 -> libpam.so.0.83.1
        libnsl.so.1 -> libnsl-2.11.3.so
        libnet.so.0 -> libnet.so.0.0.0
        libncursesw.so.5 -> libncursesw.so.5.6
        libncurses.so.5 -> libncurses.so.5.6
        libmount.so.1 -> libmount.so.1.1.0
        liblzma.so.5 -> liblzma.so.5.0.3
        libkeyutils.so.1 -> libkeyutils-1.2.so
        libgssglue.so.1 -> libgssglue.so.1.0.0
        libext2fs.so.2 -> libext2fs.so.2.4
        libe2p.so.2 -> libe2p.so.2.3
        libdevmapper.so.1.03 -> libdevmapper.so.1.03
        libdevmapper.so.1.02 -> libdevmapper.so.1.02
        libdevmapper-event.so.1.03 -> libdevmapper-event.so.1.03
        libdevmapper-event.so.1.02 -> libdevmapper-event.so.1.02
        libcryptsetup.so.1 -> libcryptsetup.so.1.0.0
        libcrypt.so.1 -> libcrypt-2.11.3.so
        libcom_err.so.2 -> libcom_err.so.2.1
        libcap.so.2 -> libcap.so.2.11
        libbz2.so.1 -> libbz2.so.1.0.5
        libblkid.so.1 -> libblkid.so.1.1.0
        libaudit.so.0 -> libaudit.so.0.0.0
        libattr.so.1 -> libattr.so.1.1.0
        libacl.so.1 -> libacl.so.1.1.0
        libz.so.1 -> libz.so.1.2.7
        libselinux.so.1 -> libselinux.so.1
        librt.so.1 -> librt-2.11.3.so
        libpthread.so.0 -> libpthread-2.11.3.so
        libm.so.6 -> libm-2.11.3.so
        libgpg-error.so.0 -> libgpg-error.so.0.8.0
        libgcrypt.so.11 -> libgcrypt.so.11.7.0
        libdl.so.2 -> libdl-2.11.3.so
        libc.so.6 -> libc-2.11.3.so
        ld-linux.so.2 -> ld-2.11.3.so
        libfreebl3.so -> libfreebl3.so
        libresolv.so.2 -> libresolv-2.11.3.so
        libgcc_s.so.1 -> libgcc_s.so.1
        libnss_files.so.2 -> libnss_files-2.11.3.so
        libnss_dns.so.2 -> libnss_dns-2.11.3.so
/usr/lib:
        libslp.so.1 -> libslp.so.1.0.0
        libsasl2.so.2 -> libsasl2.so.2.0.22
        libreiserfs-0.3.so.0 -> libreiserfs-0.3.so.0.0.0
        libplds4.so -> libplds4.so
        libplc4.so -> libplc4.so
        libparted.so.0 -> libparted.so.0.0.1
        libnspr4.so -> libnspr4.so
        libmagic.so.1 -> libmagic.so.1.0.0
        liblwres.so.91 -> liblwres.so.91.0.0
        libldap-2.4.so.2 -> libldap-2.4.so.2.7.1
        liblber-2.4.so.2 -> liblber-2.4.so.2.7.1
        libkrb5support.so.0 -> libkrb5support.so.0.1
        libkrb5.so.3 -> libkrb5.so.3.3
        libk5crypto.so.3 -> libk5crypto.so.3.1
        libiw.so.30 -> libiw.so.30
        libisccfg.so.90 -> libisccfg.so.90.2.3
        libisccc.so.90 -> libisccc.so.90.0.6
        libisc.so.95 -> libisc.so.95.8.0
        libidn.so.11 -> libidn.so.11.5.39
        libgssapi_krb5.so.2 -> libgssapi_krb5.so.2.2
        libdns.so.104 -> libdns.so.104.1.0
        libdal-0.3.so.0 -> libdal-0.3.so.0.0.0
        libcurl.so.4 -> libcurl.so.4.1.1
        libcrypto.so.0.9.8 -> libcrypto.so.0.9.8
        libbind9.so.90 -> libbind9.so.90.0.11
        libbfd-2.25.0.so -> libbfd-2.25.0.so
        libxml2.so.2 -> libxml2.so.2.7.6
        libusbmuxd.so.1 -> libusbmuxd.so.1.0.7
        libusb-0.1.so.4 -> libusb-0.1.so.4.4.4
        libtasn1.so.3 -> libtasn1.so.3.0.16
        libsgutils2.so.2 -> libsgutils2.so.2.0.0
        libplist.so.1 -> libplist.so.1.1.3
        libpcre.so.0 -> libpcre.so.0.0.1
        libimobiledevice.so.2 -> libimobiledevice.so.2.0.1
        libgthread-2.0.so.0 -> libgthread-2.0.so.0.2200.5
        libgpod.so.4 -> libgpod.so.4.3.2
        libgobject-2.0.so.0 -> libgobject-2.0.so.0.2200.5
        libgnutls.so.26 -> libgnutls.so.26.4.5
        libgmodule-2.0.so.0 -> libgmodule-2.0.so.0.2200.5
        libglib-2.0.so.0 -> libglib-2.0.so.0.2200.5
        libgio-2.0.so.0 -> libgio-2.0.so.0.2200.5
        libgdk_pixbuf-2.0.so.0 -> libgdk_pixbuf-2.0.so.0.1800.9
        libnssdbm3.so -> libnssdbm3.so
        libssl.so.0.9.8 -> libssl.so.0.9.8
        libsqlite3.so.0 -> libsqlite3.so.0.8.6
        libsoftokn3.so -> libsoftokn3.so
        libnssutil3.so -> libnssutil3.so
        libnss3.so -> libnss3.so
</pre>

<h4 id="samurdhi_commented_at_2018-10-15_1939"><img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50"><a href="https://github.com/samurdhi">samurdhi</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-429986205">2018-10-15 19:39</a>:<a class="headerlink" href="#samurdhi_commented_at_2018-10-15_1939" title="Permanent link">&para;</a></h4>
<p>@gdha</p>
<p>I have added following line to config file. But it doesn't do
anything.<br />
<code>COPY_AS_IS_EXCLUDE=( "${COPY_AS_IS_EXCLUDE[@]"  '/opt/HP/BSM' )</code></p>
<pre>
OUTPUT=ISO
OUTPUT_OPTIONS="nfsvers=3,nolock"
OUTPUT_URL=nfs://srv1/UNIXDRBACKUP
BACKUP=NETFS
BACKUP_OPTIONS="nfsvers=3,nolock"
BACKUP_URL=nfs://srv1/UNIXDRBACKUP
REQUIRED_PROGS=( "${REQUIRED_PROGS[@]}" lsblk vim )
BACKUP_PROG_EXCLUDE=( ${BACKUP_PROG_EXCLUDE[@]} '/spare/*' '/root/*' '/HP_Image/*' )
COPY_AS_IS_EXCLUDE=( "${COPY_AS_IS_EXCLUDE[@]"  '/opt/HP/BSM' )
</pre>

<p>Please see attached rear log file.</p>
<p><a href="https://github.com/rear/rear/files/2480273/rear-srv.log">rear-srv.log</a></p>
<p>Thanks,<br />
Samurdhi</p>
<h4 id="samurdhi_commented_at_2018-10-15_2024"><img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50"><a href="https://github.com/samurdhi">samurdhi</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-429999909">2018-10-15 20:24</a>:<a class="headerlink" href="#samurdhi_commented_at_2018-10-15_2024" title="Permanent link">&para;</a></h4>
<p>@jsmeix</p>
<p>[root@srv1 rear]# cat /etc/ld.so.conf<br />
include ld.so.conf.d/*.conf<br />
[root@srv1 rear]#</p>
<p>I cannot reboot this server because this is PRODUCTION servers. But I
have a change ticket opened and I can do it this Friday 👍</p>
<h4 id="jsmeix_commented_at_2018-10-16_0717"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-430127980">2018-10-16 07:17</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-10-16_0717" title="Permanent link">&para;</a></h4>
<p>@samurdhi<br />
what are the contents of your <code>/etc/ld.so.conf.d/*.conf</code> files?<br />
What is your output of</p>
<pre>
# for f in /etc/ld.so.conf.d/*.conf ; do file $f ; cat $f ; done
</pre>

<p>Hopefully you warned them that rebooting of that production server may
fail<br />
(perhaps in the same way as booting of your ReaR recovery system fails).</p>
<p>With what libraries is your <code>/sbin/init</code> linked with?<br />
What is your output of</p>
<pre>
# file /sbin/init ; ldd /sbin/init
</pre>

<p>E.g. on my SLES11 system:</p>
<pre>
# file /sbin/init ; ldd /sbin/init
/sbin/init: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), for GNU/Linux 2.6.4, dynamically linked (uses shared libs), stripped
        linux-gate.so.1 =>  (0xffffe000)
        libselinux.so.1 => /lib/libselinux.so.1 (0xb7781000)
        libsepol.so.1 => /lib/libsepol.so.1 (0xb7744000)
        libc.so.6 => /lib/libc.so.6 (0xb75d1000)
        libdl.so.2 => /lib/libdl.so.2 (0xb75cc000)
        /lib/ld-linux.so.2 (0xb77d8000)
</pre>

<p>versus on my SLES12 like openSUSE Leap 15.o system:</p>
<pre>
# file /sbin/init ; ldd /sbin/init
/sbin/init: symbolic link to ../usr/lib/systemd/systemd
        linux-vdso.so.1 (0x00007ffc717bf000)
        libsystemd-shared-234.so => /usr/lib/systemd/libsystemd-shared-234.so (0x00007fa8a3171000)
        libselinux.so.1 => /lib64/libselinux.so.1 (0x00007fa8a2f48000)
        librt.so.1 => /lib64/librt.so.1 (0x00007fa8a2d40000)
        libseccomp.so.2 => /usr/lib64/libseccomp.so.2 (0x00007fa8a2aff000)
        libpam.so.0 => /lib64/libpam.so.0 (0x00007fa8a28f0000)
        libkmod.so.2 => /usr/lib64/libkmod.so.2 (0x00007fa8a26bb000)
        libapparmor.so.1 => /usr/lib64/libapparmor.so.1 (0x00007fa8a24aa000)
        libmount.so.1 => /usr/lib64/libmount.so.1 (0x00007fa8a2252000)
        libpthread.so.0 => /lib64/libpthread.so.0 (0x00007fa8a2034000)
        libc.so.6 => /lib64/libc.so.6 (0x00007fa8a1c7a000)
        libcap.so.2 => /usr/lib64/libcap.so.2 (0x00007fa8a1a75000)
        libresolv.so.2 => /lib64/libresolv.so.2 (0x00007fa8a185e000)
        liblzma.so.5 => /usr/lib64/liblzma.so.5 (0x00007fa8a1623000)
        liblz4.so.1 => /usr/lib64/liblz4.so.1 (0x00007fa8a140e000)
        libgcrypt.so.20 => /usr/lib64/libgcrypt.so.20 (0x00007fa8a10f2000)
        libdl.so.2 => /lib64/libdl.so.2 (0x00007fa8a0eee000)
        libgpg-error.so.0 => /usr/lib64/libgpg-error.so.0 (0x00007fa8a0cce000)
        libacl.so.1 => /lib64/libacl.so.1 (0x00007fa8a0ac5000)
        libblkid.so.1 => /usr/lib64/libblkid.so.1 (0x00007fa8a0877000)
        libcryptsetup.so.12 => /usr/lib64/libcryptsetup.so.12 (0x00007fa8a062b000)
        /lib64/ld-linux-x86-64.so.2 (0x00007fa8a38be000)
        libpcre.so.1 => /usr/lib64/libpcre.so.1 (0x00007fa8a039e000)
        libaudit.so.1 => /usr/lib64/libaudit.so.1 (0x00007fa8a0178000)
        libz.so.1 => /lib64/libz.so.1 (0x00007fa89ff61000)
        libattr.so.1 => /lib64/libattr.so.1 (0x00007fa89fd5c000)
        libuuid.so.1 => /usr/lib64/libuuid.so.1 (0x00007fa89fb54000)
        libdevmapper.so.1.03 => /usr/lib64/libdevmapper.so.1.03 (0x00007fa89f8fd000)
        libargon2.so.1 => /usr/lib64/libargon2.so.1 (0x00007fa89f6f5000)
        libjson-c.so.3 => /usr/lib64/libjson-c.so.3 (0x00007fa89f4e5000)
        libudev.so.1 => /usr/lib64/libudev.so.1 (0x00007fa89f2c3000)
        libm.so.6 => /lib64/libm.so.6 (0x00007fa89ef78000)
</pre>

<h4 id="samurdhi_commented_at_2018-10-16_1313"><img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50"><a href="https://github.com/samurdhi">samurdhi</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-430232244">2018-10-16 13:13</a>:<a class="headerlink" href="#samurdhi_commented_at_2018-10-16_1313" title="Permanent link">&para;</a></h4>
<p>@jsmeix</p>
<p>Please see below command outputs of the server</p>
<pre>
[root@srv1 ~]# for f in /etc/ld.so.conf.d/*.conf ; do file $f ; cat $f ; done
/etc/ld.so.conf.d/dyninst-x86_64.conf: ASCII text
/usr/lib64/dyninst
/etc/ld.so.conf.d/kernel-3.10.0-123.20.1.el7.x86_64.conf: ASCII text
# Placeholder file, no vDSO hwcap entries used in this kernel.
/etc/ld.so.conf.d/kernel-3.10.0-123.el7.x86_64.conf: ASCII text
# Placeholder file, no vDSO hwcap entries used in this kernel.
/etc/ld.so.conf.d/kernel-3.10.0-229.20.1.el7.x86_64.conf: ASCII text
# Placeholder file, no vDSO hwcap entries used in this kernel.
/etc/ld.so.conf.d/mariadb-x86_64.conf: ASCII text
/usr/lib64/mysql
</pre>

<pre>
[root@srv1 ~]# file /sbin/init ; ldd /sbin/init
/sbin/init: symbolic link to `../lib/systemd/systemd'
        linux-vdso.so.1 =>  (0x00007ffdc047c000)
        libselinux.so.1 => /usr/lib64/libselinux.so.1 (0x00007f2de428d000)
        libcap.so.2 => /usr/lib64/libcap.so.2 (0x00007f2de4087000)
        libpam.so.0 => /usr/lib64/libpam.so.0 (0x00007f2de3e78000)
        libaudit.so.1 => /usr/lib64/libaudit.so.1 (0x00007f2de3c52000)
        libkmod.so.2 => /usr/lib64/libkmod.so.2 (0x00007f2de3a3b000)
        libmount.so.1 => /usr/lib64/libmount.so.1 (0x00007f2de37fd000)
        librt.so.1 => /usr/lib64/librt.so.1 (0x00007f2de35f5000)
        libgcc_s.so.1 => /usr/lib64/libgcc_s.so.1 (0x00007f2de33de000)
        libpthread.so.0 => /usr/lib64/libpthread.so.0 (0x00007f2de31c2000)
        libc.so.6 => /usr/lib64/libc.so.6 (0x00007f2de2e01000)
        /lib64/ld-linux-x86-64.so.2 (0x00007f2de4618000)
        libpcre.so.1 => /usr/lib64/libpcre.so.1 (0x00007f2de2b9f000)
        liblzma.so.5 => /usr/lib64/liblzma.so.5 (0x00007f2de297a000)
        libdl.so.2 => /usr/lib64/libdl.so.2 (0x00007f2de2776000)
        libattr.so.1 => /usr/lib64/libattr.so.1 (0x00007f2de2570000)
        libz.so.1 => /opt/HP/BSM/Postgres/lib/libz.so.1 (0x00007f2de2355000)
        libblkid.so.1 => /usr/lib64/libblkid.so.1 (0x00007f2de2119000)
        libuuid.so.1 => /usr/lib64/libuuid.so.1 (0x00007f2de1f13000)
</pre>

<h4 id="samurdhi_commented_at_2018-10-16_1320"><img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50"><a href="https://github.com/samurdhi">samurdhi</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-430234342">2018-10-16 13:20</a>:<a class="headerlink" href="#samurdhi_commented_at_2018-10-16_1320" title="Permanent link">&para;</a></h4>
<p>@jsmeix</p>
<p>I cannot remove special formatting of above comment so please see same
output in a below-attached file.</p>
<p><a href="https://github.com/rear/rear/files/2483214/cmd_output.txt">cmd_output.txt</a></p>
<h4 id="jsmeix_commented_at_2018-10-16_1415"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-430254499">2018-10-16 14:15</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-10-16_1415" title="Permanent link">&para;</a></h4>
<p>@samurdhi<br />
compared to what I have on my SLES systems cf.<br />
<a href="https://github.com/rear/rear/issues/1927#issuecomment-430127980">https://github.com/rear/rear/issues/1927#issuecomment-430127980</a><br />
things do not look o.k. on your RHEL system<br />
but I do not use RHEL so that I cannot tell if things are really
broken<br />
on your RHEL system, but at least your <code>ldd /sbin/init</code> output line</p>
<pre>
libz.so.1 => /opt/HP/BSM/Postgres/lib/libz.so.1
</pre>

<p>looks broken.</p>
<p>@gdha<br />
I do not have a RHEL system installed so that<br />
I would like to ask you if you could have a look if<br />
the dynamic linker config files of @samurdhi in<br />
<a href="https://github.com/rear/rear/issues/1927#issuecomment-429999909">https://github.com/rear/rear/issues/1927#issuecomment-429999909</a><br />
and<br />
<a href="https://github.com/rear/rear/issues/1927#issuecomment-430232244">https://github.com/rear/rear/issues/1927#issuecomment-430232244</a><br />
seems to be o.k. on a RHEL system.</p>
<p>FYI:<br />
The dynamic linker config files on my SLES systems:<br />
On SLES11:</p>
<pre>
# cat /etc/ld.so.conf
/usr/X11R6/lib/Xaw3d
/usr/X11R6/lib
/usr/lib/Xaw3d
/usr/i386-suse-linux/lib
/usr/local/lib
/opt/kde3/lib
include /etc/ld.so.conf.d/*.conf
</pre>

<pre>
# for f in /etc/ld.so.conf.d/*.conf ; do file $f ; cat $f ; done
/etc/ld.so.conf.d/ghostscript-omni.conf: ASCII text
/usr/lib/ghostscript/Omni
/etc/ld.so.conf.d/graphviz.conf: ASCII text
/usr/lib/graphviz
/usr/lib/graphviz/sharp
/usr/lib/graphviz/java
/usr/lib/graphviz/perl
/usr/lib/graphviz/php
/usr/lib/graphviz/ocaml
/usr/lib/graphviz/python
/usr/lib/graphviz/lua
/usr/lib/graphviz/tcl
/usr/lib/graphviz/guile
/usr/lib/graphviz/ruby
/etc/ld.so.conf.d/novell-NLDAPsdk-dyn.conf: ASCII text
/opt/novell/ldapsdk-dyn/lib
/etc/ld.so.conf.d/samba4.conf: ASCII text
/usr/lib/samba4/lib
</pre>

<p>On my SLES12 like openSUSE Leap 15.0 system:</p>
<pre>
# cat /etc/ld.so.conf
/usr/local/lib64
/usr/local/lib
include /etc/ld.so.conf.d/*.conf
# /lib64, /lib, /usr/lib64 and /usr/lib gets added
# automatically by ldconfig after parsing this file.
# So, they do not need to be listed.
</pre>

<pre>
# for f in /etc/ld.so.conf.d/*.conf ; do file $f ; cat $f ; done
/etc/ld.so.conf.d/graphviz.conf: ASCII text
/usr/lib64/graphviz
/usr/lib64/graphviz/sharp
/usr/lib64/graphviz/java
/usr/lib64/graphviz/perl
/usr/lib64/graphviz/php
/usr/lib64/graphviz/ocaml
/usr/lib64/graphviz/python
/usr/lib64/graphviz/lua
/usr/lib64/graphviz/tcl
/usr/lib64/graphviz/guile
/usr/lib64/graphviz/ruby
</pre>

<h4 id="jsmeix_commented_at_2018-10-24_1444"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-432687592">2018-10-24 14:44</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-10-24_1444" title="Permanent link">&para;</a></h4>
<p>@samurdhi<br />
any news?</p>
<h4 id="jsmeix_commented_at_2018-10-26_1454"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-433435842">2018-10-26 14:54</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-10-26_1454" title="Permanent link">&para;</a></h4>
<p>Because "no news is good news" I close it hereby.</p>
<p>@samurdhi<br />
regardless that it is closed you can still add comments<br />
(I would be interested to learn how it turns out).</p>
<h4 id="jsmeix_commented_at_2018-10-30_0911"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-434224424">2018-10-30 09:11</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-10-30_0911" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/rear/rear/issues/1907#issuecomment-434024416">https://github.com/rear/rear/issues/1907#issuecomment-434024416</a><br />
actually belongs here so that also<br />
<a href="https://github.com/rear/rear/issues/1907#issuecomment-434215448">https://github.com/rear/rear/issues/1907#issuecomment-434215448</a><br />
and<br />
<a href="https://github.com/rear/rear/issues/1907#issuecomment-434218293">https://github.com/rear/rear/issues/1907#issuecomment-434218293</a><br />
belong here.</p>
<p>In the end Hewlett Packard's setenv.sh script did<br />
<code>export LD_LIBRARY_PATH=somewhere</code> for some users<br />
that messes up the system libraries configuration<br />
for the users where such a LD_LIBRARY_PATH is set<br />
so that the root cause is a broken dynamic libraries setup<br />
on the original system which makes this issue "not ReaR / invalid".</p>
<h4 id="samurdhi_commented_at_2018-11-06_2022"><img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50"><a href="https://github.com/samurdhi">samurdhi</a> commented at <a href="https://github.com/rear/rear/issues/1927#issuecomment-436395378">2018-11-06 20:22</a>:<a class="headerlink" href="#samurdhi_commented_at_2018-11-06_2022" title="Permanent link">&para;</a></h4>
<p>@gdha @jsmeix</p>
<p>I was able to take ReaR Iso and it was not given me a kernel panic
issue.<br />
what I did was, I cleared the LD_LIBRARY_PATH variable<br />
and ran <code>rear -dv mkbackup</code><br />
It solved the kernel panic issue.</p>
<p><code>export LD_LIBRARY_PATH=""</code></p>
<pre><code>[root@srv ~]# ldd /sbin/init
linux-vdso.so.1 =&gt; (0x00007ffe9a718000)
libselinux.so.1 =&gt; /usr/lib64/libselinux.so.1 (0x00007f6bf3700000)
libcap.so.2 =&gt; /usr/lib64/libcap.so.2 (0x00007f6bf34fa000)
libpam.so.0 =&gt; /usr/lib64/libpam.so.0 (0x00007f6bf32eb000)
libaudit.so.1 =&gt; /usr/lib64/libaudit.so.1 (0x00007f6bf30c5000)
libkmod.so.2 =&gt; /usr/lib64/libkmod.so.2 (0x00007f6bf2eae000)
libmount.so.1 =&gt; /usr/lib64/libmount.so.1 (0x00007f6bf2c70000)
librt.so.1 =&gt; /usr/lib64/librt.so.1 (0x00007f6bf2a68000)
libgcc_s.so.1 =&gt; /usr/lib64/libgcc_s.so.1 (0x00007f6bf2851000)
libpthread.so.0 =&gt; /usr/lib64/libpthread.so.0 (0x00007f6bf2635000)
libc.so.6 =&gt; /usr/lib64/libc.so.6 (0x00007f6bf2274000)
/lib64/ld-linux-x86-64.so.2 (0x00007f6bf3a8b000)
libpcre.so.1 =&gt; /usr/lib64/libpcre.so.1 (0x00007f6bf2012000)
liblzma.so.5 =&gt; /usr/lib64/liblzma.so.5 (0x00007f6bf1ded000)
libdl.so.2 =&gt; /usr/lib64/libdl.so.2 (0x00007f6bf1be9000)
libattr.so.1 =&gt; /usr/lib64/libattr.so.1 (0x00007f6bf19e3000)
libz.so.1 =&gt; /opt/HP/BSM/Postgres/lib/libz.so.1 (0x00007f6bf17c8000) # &lt;- before
libblkid.so.1 =&gt; /usr/lib64/libblkid.so.1 (0x00007f6bf158c000)
libuuid.so.1 =&gt; /usr/lib64/libuuid.so.1 (0x00007f6bf1386000)

[root@srv ~]# export LD_LIBRARY_PATH=""

[root@srv ~]# ldd /sbin/init
linux-vdso.so.1 =&gt; (0x00007fff5f3f4000)
libselinux.so.1 =&gt; /lib64/libselinux.so.1 (0x00007f00ac8b1000)
libcap.so.2 =&gt; /lib64/libcap.so.2 (0x00007f00ac6ac000)
libpam.so.0 =&gt; /lib64/libpam.so.0 (0x00007f00ac49c000)
libaudit.so.1 =&gt; /lib64/libaudit.so.1 (0x00007f00ac276000)
libkmod.so.2 =&gt; /lib64/libkmod.so.2 (0x00007f00ac060000)
libmount.so.1 =&gt; /lib64/libmount.so.1 (0x00007f00abe21000)
librt.so.1 =&gt; /lib64/librt.so.1 (0x00007f00abc19000)
libgcc_s.so.1 =&gt; /lib64/libgcc_s.so.1 (0x00007f00aba03000)
libpthread.so.0 =&gt; /lib64/libpthread.so.0 (0x00007f00ab7e6000)
libc.so.6 =&gt; /lib64/libc.so.6 (0x00007f00ab425000)
/lib64/ld-linux-x86-64.so.2 (0x00007f00acc4a000)
libpcre.so.1 =&gt; /lib64/libpcre.so.1 (0x00007f00ab1c4000)
liblzma.so.5 =&gt; /lib64/liblzma.so.5 (0x00007f00aaf9e000)
libdl.so.2 =&gt; /lib64/libdl.so.2 (0x00007f00aad9a000)
libattr.so.1 =&gt; /lib64/libattr.so.1 (0x00007f00aab95000)
libz.so.1 =&gt; /lib64/libz.so.1 (0x00007f00aa97e000)                   # &lt;- after
libblkid.so.1 =&gt; /lib64/libblkid.so.1 (0x00007f00aa742000)
libuuid.so.1 =&gt; /lib64/libuuid.so.1 (0x00007f00aa53d000)
</code></pre>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2018-10-11.1927.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
