<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#3507 Issue closed: Why is ReaR formating/deleting other drives drive/partition than the system/bootdrive? - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#3507 Issue closed: Why is ReaR formating/deleting other drives drive/partition than the system/bootdrive?";
        var mkdocs_page_input_path = "issues/2025-08-07.3507.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/restic.html">External Backup using restic</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#3507 Issue closed: Why is ReaR formating/deleting other drives drive/partition than the system/bootdrive?</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="3507_issue_closed_why_is_rear_formatingdeleting_other_drives_drivepartition_than_the_systembootdrive"><a href="https://github.com/rear/rear/issues/3507">#3507 Issue</a> <code>closed</code>: Why is ReaR formating/deleting other drives drive/partition than the system/bootdrive?<a class="headerlink" href="#3507_issue_closed_why_is_rear_formatingdeleting_other_drives_drivepartition_than_the_systembootdrive" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code></p>
<h4 id="hausmarke_opened_issue_at_2025-08-07_1029"><img src="https://avatars.githubusercontent.com/u/2803254?v=4" width="50"><a href="https://github.com/Hausmarke">Hausmarke</a> opened issue at <a href="https://github.com/rear/rear/issues/3507">2025-08-07 10:29</a>:<a class="headerlink" href="#hausmarke_opened_issue_at_2025-08-07_1029" title="Permanent link">&para;</a></h4>
<h3 id="requesting_support_or_just_a_question">Requesting support or just a question<a class="headerlink" href="#requesting_support_or_just_a_question" title="Permanent link">&para;</a></h3>
<p>How to disable the change made on any other drive than the
system/bootdrive?</p>
<h3 id="platform">Platform<a class="headerlink" href="#platform" title="Permanent link">&para;</a></h3>
<p>Linux x64</p>
<h3 id="output">Output<a class="headerlink" href="#output" title="Permanent link">&para;</a></h3>
<p>While testing on a server with mutliple storage devices<br />
besides the boot/system disc I found out that per default<br />
ReaR formats/cleans not only the boot/system drive<br />
but also any other drives/partitions which where only mounted/</p>
<p>ur of RearR when it comes to recover a system with a system/boot drive<br />
and multiple other physical drives/partitions...<br />
ReaR formats them during recover and destroys all the data...<br />
Why?<br />
I mean these drives could handle some data<br />
which is not important to the Recover?<br />
But they could be very important for the running system<br />
when you think of File/Sambaserver...<br />
-&gt; Is there a way that ReaR will only(!!!) format/write (do
wathever)<br />
on the system, boot-device and let any other possible drive untouched?</p>
<h3 id="additional_information">Additional information<a class="headerlink" href="#additional_information" title="Permanent link">&para;</a></h3>
<p>I have a test system where i excluded under BACKUP_PROG_EXCLUDE<br />
some of my Symlinks to other drives in the system<br />
(btw - why would/should ReaR also backup these drives?!?).<br />
After recovering i was stunned that RaeR had formated/deleted<br />
these drives before linking them in again... again - why?</p>
<h4 id="gdha_commented_at_2025-08-07_1213"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/3507#issuecomment-3163935204">2025-08-07 12:13</a>:<a class="headerlink" href="#gdha_commented_at_2025-08-07_1213" title="Permanent link">&para;</a></h4>
<p>@Hausmarke Can you paste your ReaR configuration
(<code>/etc/rear/local.conf</code>)? And, also the output of
<code>lsblk -ipo NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,LABEL,SIZE,MOUNTPOINT</code></p>
<h4 id="hausmarke_commented_at_2025-08-07_1225"><img src="https://avatars.githubusercontent.com/u/2803254?v=4" width="50"><a href="https://github.com/Hausmarke">Hausmarke</a> commented at <a href="https://github.com/rear/rear/issues/3507#issuecomment-3163970545">2025-08-07 12:25</a>:<a class="headerlink" href="#hausmarke_commented_at_2025-08-07_1225" title="Permanent link">&para;</a></h4>
<pre><code>OUTPUT=ISO
OUTPUT_URL=cifs://xxx.xxx.xxxx.xxx/bootimages/
OUTPUT_OPTIONS="cred=/etc/rear/cifs-boot"
BACKUP=NETFS
BACKUP_URL=cifs://xxx.xxx.xxx.xxx/Images-mns/
BACKUP_OPTIONS="cred=/etc/rear/cifs-backup"
BACKUP_PROG_EXCLUDE=("${BACKUP_PROG_EXCLUDE[@]}" '/var/tmp' '/var/crash' '/14TB/*' '/5TB/*')
</code></pre>
<p>lsblk -ipo NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,LABEL,SIZE,MOUNTPOINT</p>
<pre><code>NAME        KNAME     PKNAME   TRAN   TYPE FSTYPE  LABEL      SIZE MOUNT
/dev/sda    /dev/sda           sata   disk                  223.6G
|-/dev/sda1 /dev/sda1 /dev/sda        part                      1M
`-/dev/sda2 /dev/sda2 /dev/sda        part ext4             223.6G /
/dev/sdb    /dev/sdb           sata   disk                  931.5G
`-/dev/sdb1 /dev/sdb1 /dev/sdb        part ntfs    1tbRed   931.5G
/dev/sdc    /dev/sdc           sata   disk                   12.7T
`-/dev/sdc1 /dev/sdc1 /dev/sdc        part ext4              12.7T /14TB
/dev/sdd    /dev/sdd           sata   disk                    4.5T
`-/dev/sdd1 /dev/sdd1 /dev/sdd        part ext4               4.5T /5TB
/dev/sr0    /dev/sr0           usb    rom  iso9660 REAR-ISO   751M
`
</code></pre>
<h4 id="gdha_commented_at_2025-08-07_1238"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/3507#issuecomment-3164011027">2025-08-07 12:38</a>:<a class="headerlink" href="#gdha_commented_at_2025-08-07_1238" title="Permanent link">&para;</a></h4>
<p>@Hausmarke</p>
<p>Use the appropriate syntax to exclude the component. For example, add
<code>EXCLUDE_COMPONENTS</code> to <code>/etc/rear/local.conf</code> file:</p>
<p>To exclude a mounted filesystem:
<code>EXCLUDE_COMPONENTS=( "fs:/mnt/data" )</code><br />
To exclude a swap partition: <code>EXCLUDE_COMPONENTS=( "swap:/dev/sdb1" )</code><br />
To exclude a partition: <code>EXCLUDE_COMPONENTS=( "/dev/sdb2" )</code><br />
You can exclude multiple components by separating them with spaces:
<code>EXCLUDE_COMPONENTS=( "fs:/mnt/data" "swap:/dev/sdb1" "/dev/sdb2" )</code></p>
<h4 id="pcahyna_commented_at_2025-08-07_1245"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/issues/3507#issuecomment-3164035717">2025-08-07 12:45</a>:<a class="headerlink" href="#pcahyna_commented_at_2025-08-07_1245" title="Permanent link">&para;</a></h4>
<blockquote>
<p>While testing on a server with mutliple storage devices besides the
boot/system disc I found out that per default ReaR formats/cleans not
only the boot/system drive but also any other drives/partitions which
where only mounted/</p>
<p>ReaR formats them during recover and destroys all the data...<br />
Why? I mean these drives could handle some data which is not important
to the Recover?</p>
</blockquote>
<p>ReaR needs to format them in order to recreate what was on them. If you
don't want them to be recreated, you need to exclude them from being
saved, for example using the syntax that @gdha has shown. Check your
<code>/var/lib/rear/layout/disklayout.conf</code> that gets created by
<code>rear mkbackup</code> or <code>rear savelayout</code> or <code>rear mkrescue</code> to see what gets
included in the layout (and thus will be recreated).</p>
<h4 id="hausmarke_commented_at_2025-08-07_1717"><img src="https://avatars.githubusercontent.com/u/2803254?v=4" width="50"><a href="https://github.com/Hausmarke">Hausmarke</a> commented at <a href="https://github.com/rear/rear/issues/3507#issuecomment-3165095185">2025-08-07 17:17</a>:<a class="headerlink" href="#hausmarke_commented_at_2025-08-07_1717" title="Permanent link">&para;</a></h4>
<p>I want only to recreate all the mounted filesystem/symlinks without
changing anything in it... i want the same behavior like when i backup
and restore via clonezilla.</p>
<p>If i exclude for example my 3 partitions "/dev/sdb" "/dev/sdc"
"/dev/sdd" will ReaR still mount the "old" filesystem on it?</p>
<h4 id="gdha_commented_at_2025-08-11_0853"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/3507#issuecomment-3173815368">2025-08-11 08:53</a>:<a class="headerlink" href="#gdha_commented_at_2025-08-11_0853" title="Permanent link">&para;</a></h4>
<p>@Hausmarke</p>
<blockquote>
<p>I want only to recreate all the mounted filesystem/symlinks without
changing anything in it... i want the same behavior like when i backup
and restore via clonezilla.</p>
<p>If i exclude for example my 3 partitions "/dev/sdb" "/dev/sdc"
"/dev/sdd" will ReaR still mount the "old" filesystem on it?</p>
</blockquote>
<p>ReaR will only recreate the devices/file systems which are saved in the
<code>/var/lib/rear/layout/disklayout.conf</code> file. After a ReaR recovery it
will mount again what is mentioned in the <code>/etc/fstab</code> file.</p>
<h4 id="abbbi_commented_at_2025-08-12_1954"><img src="https://avatars.githubusercontent.com/u/3919561?u=473291dd3dbd58fd0af45714935992a3d416aa6e&v=4" width="50"><a href="https://github.com/abbbi">abbbi</a> commented at <a href="https://github.com/rear/rear/issues/3507#issuecomment-3180814509">2025-08-12 19:54</a>:<a class="headerlink" href="#abbbi_commented_at_2025-08-12_1954" title="Permanent link">&para;</a></h4>
<p>only reformatting drives which do not already have the same partition
information and/or filesystem on them might make sense. If only one
partition is broken, why format all of them during recover? I think that
is what OP means.</p>
<p>On the oder side a filesysystem can be broken in subtle ways and
detection mechanism is hard to implement, ruling out all<br />
the corner cases. You might consider removing the known-to-be-good
partitions from the disklayout.conf during recovery to archive your
goal.</p>
<h4 id="hausmarke_commented_at_2025-08-12_2019"><img src="https://avatars.githubusercontent.com/u/2803254?v=4" width="50"><a href="https://github.com/Hausmarke">Hausmarke</a> commented at <a href="https://github.com/rear/rear/issues/3507#issuecomment-3180898188">2025-08-12 20:19</a>:<a class="headerlink" href="#hausmarke_commented_at_2025-08-12_2019" title="Permanent link">&para;</a></h4>
<blockquote>
<p>only reformatting drives which do not already have the same partition
information and/or filesystem on them might make sense. If only one
partition is broken, why format all of them during recover? I think
that is what OP means.</p>
</blockquote>
<p>Exactly - in my opinion this formatting all physical drives should not
be the default option - it should be an extra feature. Lets face it a
disaster at a server is a problem with the system/bootdrive and not with
some datadrive. A datadrive should be controlled and backuped with
different tools at a different stage.</p>
<p>It would be cool if there where an simple command line option for ReaR
to enable this -now- default behavior of deleting and empty rebuilding
of any other drives beside the really important boot/systemdrives.<br />
In my case with my bunch of fileservers recovering all in all more than
2PB would take way, way much more time and work than reconfigurating the
Samba, scripts, rsync, rclone, ssh,...</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2025-08-07.3507.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
