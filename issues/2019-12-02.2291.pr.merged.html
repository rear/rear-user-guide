<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2291 PR merged: Error out in case of insufficient LVM tools (issue 2259) - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2291 PR merged: Error out in case of insufficient LVM tools (issue 2259)";
        var mkdocs_page_input_path = "issues/2019-12-02.2291.pr.merged.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#2291 PR merged: Error out in case of insufficient LVM tools (issue 2259)</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2291_pr_merged_error_out_in_case_of_insufficient_lvm_tools_issue_2259"><a href="https://github.com/rear/rear/pull/2291">#2291 PR</a> <code>merged</code>: Error out in case of insufficient LVM tools (issue 2259)<a class="headerlink" href="#2291_pr_merged_error_out_in_case_of_insufficient_lvm_tools_issue_2259" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>bug</code>, <code>cleanup</code>, <code>fixed / solved / done</code></p>
<h4 id="jsmeix_opened_issue_at_2019-12-02_1524"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> opened issue at <a href="https://github.com/rear/rear/pull/2291">2019-12-02 15:24</a>:<a class="headerlink" href="#jsmeix_opened_issue_at_2019-12-02_1524" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Type: <strong>Minor Bug Fix</strong> / <strong>Enhancement</strong></p>
</li>
<li>
<p>Impact: <strong>Low</strong> / <strong>High</strong><br />
    Normally (i.e. on SLES and RHEL) nothing should be noticed<br />
    but when there are insufficient LVM tools used<br />
    (as in
    <a href="https://github.com/rear/rear/issues/2259">https://github.com/rear/rear/issues/2259</a>)<br />
    the impact is high because without the check the error is
    unnoticed<br />
    so that things fail when it is too late during "rear recover".</p>
</li>
<li>
<p>Reference to related issue (URL):<br />
<a href="https://github.com/rear/rear/issues/2259">https://github.com/rear/rear/issues/2259</a></p>
</li>
<li>
<p>How was this pull request tested?<br />
    Works for me on SLES12-SP4 with its default LVM(+btrfs) setup.<br />
    My disklayout.conf is identical compared to before the changes here.</p>
</li>
<li>
<p>Brief description of the changes in this pull request:</p>
</li>
</ul>
<p>According to<br />
<a href="https://github.com/rear/rear/issues/2259#issuecomment-557019729">https://github.com/rear/rear/issues/2259#issuecomment-557019729</a><br />
there is now a check before the longer <code>lvs</code> calls<br />
to ensure all needed lvs fields are actually supported<br />
and if not it errors out now during "rear mkrescue/mkbackup".</p>
<p>By the way I also removed the strange looking <code>8&gt;&amp;- 7&gt;&amp;-</code> cf.<br />
<a href="https://github.com/rear/rear/issues/2259#issuecomment-544999137">https://github.com/rear/rear/issues/2259#issuecomment-544999137</a></p>
<h4 id="jsmeix_commented_at_2019-12-02_1650"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2291#issuecomment-560481030">2019-12-02 16:50</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-12-02_1650" title="Permanent link">&para;</a></h4>
<p>My initial attempt to verify LVM entries in disklayout.conf via<br />
<a href="https://github.com/rear/rear/pull/2291/commits/85e89691050e2a884f9b9d5f13ec79ea9adb0e9c">https://github.com/rear/rear/pull/2291/commits/85e89691050e2a884f9b9d5f13ec79ea9adb0e9c</a><br />
is not yet tested by me - I will do this tomorrow...</p>
<h4 id="pcahyna_commented_at_2019-12-02_1806"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/2291#issuecomment-560511622">2019-12-02 18:06</a>:<a class="headerlink" href="#pcahyna_commented_at_2019-12-02_1806" title="Permanent link">&para;</a></h4>
<p>Hi, why to parse the output of <code>lvs -o help</code> to get the list of
supported fields? Wouldn't it be simpler and less error-prone to just
check the error status from the <code>lvm lvs</code> commands?</p>
<h4 id="jsmeix_commented_at_2019-12-03_0935"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2291#issuecomment-561080596">2019-12-03 09:35</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-12-03_0935" title="Permanent link">&para;</a></h4>
<p>My current "solution" is plain add-on code<br />
so that I do not need to reorganize existing commands.</p>
<p>To "just" check the error status from the <code>lvm lvs</code> commands<br />
I "just" need to "just" reorganize existing code.</p>
<p>I do fully agree that it is in general always plain wrong<br />
to ignore the error status from mandatory commands<br />
cf. "Try hard to care about possible errors" in<br />
<a href="https://github.com/rear/rear/wiki/Coding-Style">https://github.com/rear/rear/wiki/Coding-Style</a></p>
<p>So I will now mercilessly clean up that mess...</p>
<h4 id="jsmeix_commented_at_2019-12-03_1541"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2291#issuecomment-561224611">2019-12-03 15:41</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-12-03_1541" title="Permanent link">&para;</a></h4>
<p>I completely overhauled layout/save/GNU/Linux/220_lvm_layout.sh<br />
and for me on SLES12-SP4 with its default LVM(+btrfs) setup<br />
my disklayout.conf is still identical compared to before all of<br />
the changes in this pull request.</p>
<p>@pcahyna @rmetrich<br />
I would very much appreciate it if you could test<br />
if things also still work o.k. in your case.<br />
I assume you have much more complicated LVM setups than I have.<br />
In particular I did not test when the 'lv_layout' field is not
supported.</p>
<p>My LVM entries in my disklayout.conf are only</p>
<pre><code># grep lvm disklayout.conf

part /dev/sda 21473787904 1048576 primary boot,lvm /dev/sda1
# lvmdev &lt;volume_group&gt; &lt;device&gt; [&lt;uuid&gt;] [&lt;size(bytes)&gt;]
lvmdev /dev/system /dev/sda1 7wwpcO-KmNN-qsTE-7sp7-JBJS-vBdC-Zyt1W7 41940992
# lvmgrp &lt;volume_group&gt; &lt;extentsize&gt; [&lt;size(extents)&gt;] [&lt;size(bytes)&gt;]
lvmgrp /dev/system 4096 5119 20967424
# lvmvol &lt;volume_group&gt; &lt;name&gt; &lt;size(bytes)&gt; &lt;layout&gt; [key:value ...]
lvmvol /dev/system root 19927138304b linear 
lvmvol /dev/system swap 1535115264b linear
</code></pre>
<p>and this is 'lsblk' on my system:</p>
<pre><code># lsblk -ipo NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,SIZE,MOUNTPOINT

NAME                        KNAME     PKNAME    TRAN TYPE FSTYPE       SIZE MOUNTPOINT
/dev/sda                    /dev/sda            ata  disk               20G 
`-/dev/sda1                 /dev/sda1 /dev/sda       part LVM2_member   20G 
  |-/dev/mapper/system-swap /dev/dm-0 /dev/sda1      lvm  swap         1.4G [SWAP]
  `-/dev/mapper/system-root /dev/dm-1 /dev/sda1      lvm  btrfs       18.6G /
</code></pre>
<h4 id="pcahyna_commented_at_2019-12-03_1936"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/2291#issuecomment-561323063">2019-12-03 19:36</a>:<a class="headerlink" href="#pcahyna_commented_at_2019-12-03_1936" title="Permanent link">&para;</a></h4>
<p>@jsmeix wow, that's an impressive cleanup. I started reviewing it (not
finished yet). I will also test it on my cases, although they not much
more complicated than yours. Still they will have multiple disks and
file systems.</p>
<h4 id="jsmeix_commented_at_2019-12-13_1047"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2291#issuecomment-565394959">2019-12-13 10:47</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-12-13_1047" title="Permanent link">&para;</a></h4>
<p>@rmetrich<br />
could you have a look here (provided you find a bit of time)?<br />
Perhaps you see something that is obviously wrong.</p>
<p>I would like to merge it next week if things look OK.</p>
<h4 id="jsmeix_commented_at_2019-12-20_1359"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2291#issuecomment-567933705">2019-12-20 13:59</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-12-20_1359" title="Permanent link">&para;</a></h4>
<p>A side note FYI:</p>
<p>When testing LVM recovery on my SLES12-SP4 KVM virtual test machine<br />
using the SLES12-SP4 default LVM plus btrfs structure on a single disk<br />
I noticed that the kernel device nodes of the logical volumes<br />
on the recreated system are interchanged compared to what<br />
they have been on the original system.</p>
<p>On the original system I have:</p>
<pre><code># lsblk -ipo NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,SIZE,MOUNTPOINT

NAME                        KNAME     PKNAME    TRAN TYPE FSTYPE       SIZE MOUNTPOINT
/dev/sda                    /dev/sda            ata  disk               20G 
`-/dev/sda1                 /dev/sda1 /dev/sda       part LVM2_member   20G 
  |-/dev/mapper/system-swap /dev/dm-0 /dev/sda1      lvm  swap         1.4G [SWAP]
  `-/dev/mapper/system-root /dev/dm-1 /dev/sda1      lvm  btrfs       18.6G /
</code></pre>
<p>On the recreated system I have:</p>
<pre><code># lsblk -ipo NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,SIZE,MOUNTPOINT

NAME                        KNAME     PKNAME    TRAN TYPE FSTYPE        SIZE MOUNTPOINT
/dev/sda                    /dev/sda            ata  disk                20G 
`-/dev/sda1                 /dev/sda1 /dev/sda       part LVM2_member    20G 
  |-/dev/mapper/system-root /dev/dm-0 /dev/sda1      lvm  btrfs        18.6G /
  `-/dev/mapper/system-swap /dev/dm-1 /dev/sda1      lvm  swap          1.4G [SWAP]
</code></pre>
<p>I assume it does not matter what kernel device node<br />
<code>/dev/dm-0</code> versus <code>/dev/dm-1</code> belongs to the logical volumes<br />
<code>/dev/mapper/system-root</code> and <code>/dev/mapper/system-swap</code> because<br />
I assume that logical volumes are always accessed via their symlinks</p>
<pre><code>/dev/mapper/system-root -&gt; /dev/dm-0
/dev/mapper/system-swap -&gt; /dev/dm-1

/dev/system/root -&gt; /dev/dm-0
/dev/system/swap -&gt; /dev/dm-1
</code></pre>
<p>but never directly via the kernel device nodes.</p>
<p>This is the disklayout.conf file:</p>
<pre><code># Disk layout dated 20191220121325 (YYYYmmddHHMMSS)
# NAME                        KNAME     PKNAME    TRAN TYPE FSTYPE       SIZE MOUNTPOINT
# /dev/sda                    /dev/sda            ata  disk               20G 
# `-/dev/sda1                 /dev/sda1 /dev/sda       part LVM2_member   20G 
#   |-/dev/mapper/system-swap /dev/dm-0 /dev/sda1      lvm  swap         1.4G [SWAP]
#   `-/dev/mapper/system-root /dev/dm-1 /dev/sda1      lvm  btrfs       18.6G /
# /dev/sr0                    /dev/sr0            ata  rom  iso9660      3.8G 
# Disk /dev/sda
# Format: disk &lt;devname&gt; &lt;size(bytes)&gt; &lt;partition label type&gt;
disk /dev/sda 21474836480 msdos
# Partitions on /dev/sda
# Format: part &lt;device&gt; &lt;partition size(bytes)&gt; &lt;partition start(bytes)&gt; &lt;partition type|name&gt; &lt;flags&gt; /dev/&lt;partition&gt;
part /dev/sda 21473787904 1048576 primary boot,lvm /dev/sda1
# Format for LVM PVs
# lvmdev &lt;volume_group&gt; &lt;device&gt; [&lt;uuid&gt;] [&lt;size(bytes)&gt;]
lvmdev /dev/system /dev/sda1 7wwpcO-KmNN-qsTE-7sp7-JBJS-vBdC-Zyt1W7 41940992
# Format for LVM VGs
# lvmgrp &lt;volume_group&gt; &lt;extentsize&gt; [&lt;size(extents)&gt;] [&lt;size(bytes)&gt;]
lvmgrp /dev/system 4096 5119 20967424
# Format for LVM LVs
# lvmvol &lt;volume_group&gt; &lt;name&gt; &lt;size(bytes)&gt; &lt;layout&gt; [key:value ...]
lvmvol /dev/system root 19927138304b linear 
lvmvol /dev/system swap 1535115264b linear 
# Filesystems (only ext2,ext3,ext4,vfat,xfs,reiserfs,btrfs are supported).
# Format: fs &lt;device&gt; &lt;mountpoint&gt; &lt;fstype&gt; [uuid=&lt;uuid&gt;] [label=&lt;label&gt;] [&lt;attributes&gt;]
fs /dev/mapper/system-root / btrfs uuid=624c4653-1e78-4159-8cdf-2998d2f3c670 label= options=rw,relatime,space_cache,subvolid=259,subvol=/@/.snapshots/1/snapshot
# Btrfs default subvolume for /dev/mapper/system-root at /
# Format: btrfsdefaultsubvol &lt;device&gt; &lt;mountpoint&gt; &lt;btrfs_subvolume_ID&gt; &lt;btrfs_subvolume_path&gt;
btrfsdefaultsubvol /dev/mapper/system-root / 259 @/.snapshots/1/snapshot
# Btrfs snapshot subvolumes for /dev/mapper/system-root at /
# Btrfs snapshot subvolumes are listed here only as documentation.
# There is no recovery of btrfs snapshot subvolumes.
# Format: btrfssnapshotsubvol &lt;device&gt; &lt;mountpoint&gt; &lt;btrfs_subvolume_ID&gt; &lt;btrfs_subvolume_path&gt;
#btrfssnapshotsubvol /dev/mapper/system-root / 259 @/.snapshots/1/snapshot
#btrfssnapshotsubvol /dev/mapper/system-root / 283 @/.snapshots/2/snapshot
#btrfssnapshotsubvol /dev/mapper/system-root / 284 @/.snapshots/3/snapshot
#btrfssnapshotsubvol /dev/mapper/system-root / 285 @/.snapshots/4/snapshot
# Btrfs normal subvolumes for /dev/mapper/system-root at /
# Format: btrfsnormalsubvol &lt;device&gt; &lt;mountpoint&gt; &lt;btrfs_subvolume_ID&gt; &lt;btrfs_subvolume_path&gt;
# SLES12-SP1 (and later) btrfs subvolumes setup needed for /dev/mapper/system-root (default subvolume path contains '@/.snapshots/')
# Btrfs subvolumes that belong to snapper are listed here only as documentation.
# Snapper's base subvolume '/@/.snapshots' is deactivated here because during 'rear recover'
# it is created by 'snapper/installation-helper --step 1' (which fails if it already exists).
# Furthermore any normal btrfs subvolume under snapper's base subvolume would be wrong.
# See https://github.com/rear/rear/issues/944#issuecomment-238239926
# and https://github.com/rear/rear/issues/963#issuecomment-240061392
# how to create a btrfs subvolume in compliance with the SLES12 default brtfs structure.
# In short: Normal btrfs subvolumes on SLES12 must be created directly below '/@/'
# e.g. '/@/var/lib/mystuff' (which requires that the btrfs root subvolume is mounted)
# and then the subvolume is mounted at '/var/lib/mystuff' to be accessible from '/'
# plus usually an entry in /etc/fstab to get it mounted automatically when booting.
# Because any '@/.snapshots' subvolume would let 'snapper/installation-helper --step 1' fail
# such subvolumes are deactivated here to not let 'rear recover' fail:
#btrfsnormalsubvol /dev/mapper/system-root / 258 @/.snapshots
btrfsnormalsubvol /dev/mapper/system-root / 257 @
btrfsnormalsubvol /dev/mapper/system-root / 260 @/boot/grub2/i386-pc
btrfsnormalsubvol /dev/mapper/system-root / 261 @/boot/grub2/x86_64-efi
btrfsnormalsubvol /dev/mapper/system-root / 262 @/home
btrfsnormalsubvol /dev/mapper/system-root / 263 @/opt
btrfsnormalsubvol /dev/mapper/system-root / 264 @/srv
btrfsnormalsubvol /dev/mapper/system-root / 265 @/tmp
btrfsnormalsubvol /dev/mapper/system-root / 266 @/usr/local
btrfsnormalsubvol /dev/mapper/system-root / 267 @/var/cache
btrfsnormalsubvol /dev/mapper/system-root / 268 @/var/crash
btrfsnormalsubvol /dev/mapper/system-root / 269 @/var/lib/libvirt/images
btrfsnormalsubvol /dev/mapper/system-root / 270 @/var/lib/machines
btrfsnormalsubvol /dev/mapper/system-root / 271 @/var/lib/mailman
btrfsnormalsubvol /dev/mapper/system-root / 272 @/var/lib/mariadb
btrfsnormalsubvol /dev/mapper/system-root / 273 @/var/lib/mysql
btrfsnormalsubvol /dev/mapper/system-root / 274 @/var/lib/named
btrfsnormalsubvol /dev/mapper/system-root / 275 @/var/lib/pgsql
btrfsnormalsubvol /dev/mapper/system-root / 276 @/var/log
btrfsnormalsubvol /dev/mapper/system-root / 277 @/var/opt
btrfsnormalsubvol /dev/mapper/system-root / 278 @/var/spool
btrfsnormalsubvol /dev/mapper/system-root / 279 @/var/tmp
# All mounted btrfs subvolumes (including mounted btrfs default subvolumes and mounted btrfs snapshot subvolumes).
# Determined by the findmnt command that shows the mounted btrfs_subvolume_path.
# Format: btrfsmountedsubvol &lt;device&gt; &lt;subvolume_mountpoint&gt; &lt;mount_options&gt; &lt;btrfs_subvolume_path&gt;
btrfsmountedsubvol /dev/mapper/system-root / rw,relatime,space_cache,subvolid=259,subvol=/@/.snapshots/1/snapshot @/.snapshots/1/snapshot
btrfsmountedsubvol /dev/mapper/system-root /.snapshots rw,relatime,space_cache,subvolid=258,subvol=/@/.snapshots @/.snapshots
btrfsmountedsubvol /dev/mapper/system-root /usr/local rw,relatime,space_cache,subvolid=266,subvol=/@/usr/local @/usr/local
btrfsmountedsubvol /dev/mapper/system-root /var/opt rw,relatime,space_cache,subvolid=277,subvol=/@/var/opt @/var/opt
btrfsmountedsubvol /dev/mapper/system-root /var/lib/mysql rw,relatime,space_cache,subvolid=273,subvol=/@/var/lib/mysql @/var/lib/mysql
btrfsmountedsubvol /dev/mapper/system-root /boot/grub2/i386-pc rw,relatime,space_cache,subvolid=260,subvol=/@/boot/grub2/i386-pc @/boot/grub2/i386-pc
btrfsmountedsubvol /dev/mapper/system-root /var/crash rw,relatime,space_cache,subvolid=268,subvol=/@/var/crash @/var/crash
btrfsmountedsubvol /dev/mapper/system-root /var/lib/pgsql rw,relatime,space_cache,subvolid=275,subvol=/@/var/lib/pgsql @/var/lib/pgsql
btrfsmountedsubvol /dev/mapper/system-root /var/lib/mailman rw,relatime,space_cache,subvolid=271,subvol=/@/var/lib/mailman @/var/lib/mailman
btrfsmountedsubvol /dev/mapper/system-root /var/spool rw,relatime,space_cache,subvolid=278,subvol=/@/var/spool @/var/spool
btrfsmountedsubvol /dev/mapper/system-root /tmp rw,relatime,space_cache,subvolid=265,subvol=/@/tmp @/tmp
btrfsmountedsubvol /dev/mapper/system-root /opt rw,relatime,space_cache,subvolid=263,subvol=/@/opt @/opt
btrfsmountedsubvol /dev/mapper/system-root /home rw,relatime,space_cache,subvolid=262,subvol=/@/home @/home
btrfsmountedsubvol /dev/mapper/system-root /var/cache rw,relatime,space_cache,subvolid=267,subvol=/@/var/cache @/var/cache
btrfsmountedsubvol /dev/mapper/system-root /var/lib/mariadb rw,relatime,space_cache,subvolid=272,subvol=/@/var/lib/mariadb @/var/lib/mariadb
btrfsmountedsubvol /dev/mapper/system-root /boot/grub2/x86_64-efi rw,relatime,space_cache,subvolid=261,subvol=/@/boot/grub2/x86_64-efi @/boot/grub2/x86_64-efi
btrfsmountedsubvol /dev/mapper/system-root /var/lib/named rw,relatime,space_cache,subvolid=274,subvol=/@/var/lib/named @/var/lib/named
btrfsmountedsubvol /dev/mapper/system-root /var/lib/libvirt/images rw,relatime,space_cache,subvolid=269,subvol=/@/var/lib/libvirt/images @/var/lib/libvirt/images
btrfsmountedsubvol /dev/mapper/system-root /srv rw,relatime,space_cache,subvolid=264,subvol=/@/srv @/srv
btrfsmountedsubvol /dev/mapper/system-root /var/lib/machines rw,relatime,space_cache,subvolid=270,subvol=/@/var/lib/machines @/var/lib/machines
btrfsmountedsubvol /dev/mapper/system-root /var/tmp rw,relatime,space_cache,subvolid=279,subvol=/@/var/tmp @/var/tmp
btrfsmountedsubvol /dev/mapper/system-root /var/log rw,relatime,space_cache,subvolid=276,subvol=/@/var/log @/var/log
# Mounted btrfs subvolumes that have the 'no copy on write' attribute set.
# Format: btrfsnocopyonwrite &lt;btrfs_subvolume_path&gt;
btrfsnocopyonwrite @/var/lib/mysql
btrfsnocopyonwrite @/var/lib/pgsql
btrfsnocopyonwrite @/var/lib/mariadb
btrfsnocopyonwrite @/var/lib/libvirt/images
# Swap partitions or swap files
# Format: swap &lt;filename&gt; uuid=&lt;uuid&gt; label=&lt;label&gt;
swap /dev/mapper/system-swap uuid=ab95b1b8-8747-48ef-89fa-e24b08fd1b8c label=
</code></pre>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2019-12-02.2291.pr.merged.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
