<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2490 Issue closed: Rear with Bareos service not running on Recovery - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2490 Issue closed: Rear with Bareos service not running on Recovery";
        var mkdocs_page_input_path = "issues/2020-09-11.2490.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#2490 Issue closed: Rear with Bareos service not running on Recovery</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2490_issue_closed_rear_with_bareos_service_not_running_on_recovery"><a href="https://github.com/rear/rear/issues/2490">#2490 Issue</a> <code>closed</code>: Rear with Bareos service not running on Recovery<a class="headerlink" href="#2490_issue_closed_rear_with_bareos_service_not_running_on_recovery" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>support / question</code>, <code>external tool</code>,
<code>no-issue-activity</code></p>
<h4 id="theprim0_opened_issue_at_2020-09-11_1324"><img src="https://avatars.githubusercontent.com/u/13757003?u=d617109f36c5beb83d2797627dcdd4145fba7fed&v=4" width="50"><a href="https://github.com/Theprim0">Theprim0</a> opened issue at <a href="https://github.com/rear/rear/issues/2490">2020-09-11 13:24</a>:<a class="headerlink" href="#theprim0_opened_issue_at_2020-09-11_1324" title="Permanent link">&para;</a></h4>
<p>Rear version: 2.4<br />
OS: Centos 7</p>
<p>When im restoring with "rear recover", i see it can talk to Bareos
Director and Start the Job for recovery, but the issue comes when
Director tries to connect to the client to port 9102.</p>
<p><code>bareos-dir JobId 47492: Fatal error: lib/bsock_tcp.cc:131 Unable to connect to Client: TEST-CLIENT on 182.11.53.216:9102. ERR=Conexi√≥n rehusada</code></p>
<p>On the restoration machine I just see port 22 listening. There's no way
Director can connect to the client if 9102 is not listening. Also I
can't find a service to start bareos-fd</p>
<p>Thanks.</p>
<h4 id="gdha_commented_at_2020-09-11_1419"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2490#issuecomment-691122678">2020-09-11 14:19</a>:<a class="headerlink" href="#gdha_commented_at_2020-09-11_1419" title="Permanent link">&para;</a></h4>
<p>@Theprim0 Please have a look at
<a href="https://gist.github.com/gdha/178504db0f6e0099848c2963ece81b6a#file-rear-automated-test-sh-log-L197">https://gist.github.com/gdha/178504db0f6e0099848c2963ece81b6a#file-rear-automated-test-sh-log-L197</a>
for an example local.conf - perhaps your <code>/etc/rear/local.conf</code> was not
complete - we cannot tell as it was not attached.</p>
<h4 id="jsmeix_commented_at_2020-09-15_0641"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2490#issuecomment-692501829">2020-09-15 06:41</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-09-15_0641" title="Permanent link">&para;</a></h4>
<p>@Theprim0<br />
I would like to know how you did enter your issue report<br />
because normally I would assume one uses the [New issue] button on<br />
<a href="https://github.com/rear/rear/issues">https://github.com/rear/rear/issues</a><br />
which leads to<br />
<a href="https://github.com/rear/rear/issues/new">https://github.com/rear/rear/issues/new</a><br />
which shows<br />
<a href="https://github.com/rear/rear/blob/master/.github/ISSUE_TEMPLATE.md">https://github.com/rear/rear/blob/master/.github/ISSUE_TEMPLATE.md</a><br />
which lists what information we need to be able to do something useful.</p>
<p>In general regarding issues with third-party backup tools:<br />
Usually we at ReaR upstream do not use third-party backup tools<br />
so usually we cannot reproduce issues with third-party backup tools.<br />
Nevertheless we try to help - provided we get sufficient information<br />
so that we have a chance to provide some useful help.</p>
<p>In particular regarding Bareos you may also contact the Bareos team
via<br />
<a href="https://github.com/bareos">https://github.com/bareos</a></p>
<h4 id="github-actions_commented_at_2020-11-15_0135"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/issues/2490#issuecomment-727292454">2020-11-15 01:35</a>:<a class="headerlink" href="#github-actions_commented_at_2020-11-15_0135" title="Permanent link">&para;</a></h4>
<p>Stale issue message</p>
<h4 id="theprim0_commented_at_2021-01-14_1329"><img src="https://avatars.githubusercontent.com/u/13757003?u=d617109f36c5beb83d2797627dcdd4145fba7fed&v=4" width="50"><a href="https://github.com/Theprim0">Theprim0</a> commented at <a href="https://github.com/rear/rear/issues/2490#issuecomment-760196984">2021-01-14 13:29</a>:<a class="headerlink" href="#theprim0_commented_at_2021-01-14_1329" title="Permanent link">&para;</a></h4>
<p>I resolved this issue months ago, the problem was:</p>
<p>ReaR could not install/start bareos-fd daemon because on the client, I
had 2 lines commented out:</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/13757003/104596534-6116a080-5674-11eb-9508-92ed2682627b.png" /></p>
<p>To make this work, i just commented them both and then made the new iso.</p>
<p>The problem it's because when ReaR tries to recover, it does not
understand the python plugin, so it won't start.</p>
<h4 id="gdha_commented_at_2021-01-14_1334"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2490#issuecomment-760200010">2021-01-14 13:34</a>:<a class="headerlink" href="#gdha_commented_at_2021-01-14_1334" title="Permanent link">&para;</a></h4>
<p>@Theprim0 So, you did not need any plugin for the recovery, right? Could
you briefly explain what these plugins are meant for? And, how do we
know these are not required at all? Otherwise, python and the
<code>/usr/lib64/bareos/plugins</code> could be copied over to the DR mediam?</p>
<h4 id="theprim0_commented_at_2021-01-14_1420"><img src="https://avatars.githubusercontent.com/u/13757003?u=d617109f36c5beb83d2797627dcdd4145fba7fed&v=4" width="50"><a href="https://github.com/Theprim0">Theprim0</a> commented at <a href="https://github.com/rear/rear/issues/2490#issuecomment-760226541">2021-01-14 14:20</a>:<a class="headerlink" href="#theprim0_commented_at_2021-01-14_1420" title="Permanent link">&para;</a></h4>
<p>At normal cases, this is not a problem, but it is if you use a plugin
with Bareos.</p>
<p>In my case, I was using the package <em>bareos-filedaemon-python-plugin</em> to
make MySql database backups with Bareos.<br />
There are plugins to backup Postgres, Mysql, LDAP, MSSQL,... databases.</p>
<p>So I guess if there's more people using Bareos with a plugin as this
one, ReaR may not work as expected.</p>
<p>Don't exactly remember if my restore didn't work was because it was
either Bareos trying to load the plugins or Bareos trying to use python.
Or both. (Inside booted ISO)</p>
<p>Maybe if ReaR could come with the needed package, this issue can be
resolved? At least resolved as make it run and restore the files, but
not the database.</p>
<p>More info about Bareos plugins:<br />
<a href="https://docs.bareos.org/TasksAndConcepts/Plugins.html">https://docs.bareos.org/TasksAndConcepts/Plugins.html</a></p>
<p>I know this is a specific case, and not too much people using ReaR with
Bareos, and even less with a plugin, but some may, and if that's the
case, this post may help</p>
<h4 id="gdha_commented_at_2021-01-14_1423"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2490#issuecomment-760228448">2021-01-14 14:23</a>:<a class="headerlink" href="#gdha_commented_at_2021-01-14_1423" title="Permanent link">&para;</a></h4>
<p>@Theprim0 Thank you so much for the prompt reply and useful explanation.
I will check it out.</p>
<h4 id="github-actions_commented_at_2021-03-17_0214"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/issues/2490#issuecomment-800739701">2021-03-17 02:14</a>:<a class="headerlink" href="#github-actions_commented_at_2021-03-17_0214" title="Permanent link">&para;</a></h4>
<p>Stale issue message</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2023 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2020-09-11.2490.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
