<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2702 PR closed: Software RAID: IMSM support - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2702 PR closed: Software RAID: IMSM support";
        var mkdocs_page_input_path = "issues/2021-10-25.2702.pr.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#2702 PR closed: Software RAID: IMSM support</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2702_pr_closed_software_raid_imsm_support"><a href="https://github.com/rear/rear/pull/2702">#2702 PR</a> <code>closed</code>: Software RAID: IMSM support<a class="headerlink" href="#2702_pr_closed_software_raid_imsm_support" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>won't fix / can't fix / obsolete</code></p>
<h4 id="rmetrich_opened_issue_at_2021-10-25_1529"><img src="https://avatars.githubusercontent.com/u/1163635?u=36b5e32e1dd55f1ce77cad431a5683fce40a7934&v=4" width="50"><a href="https://github.com/rmetrich">rmetrich</a> opened issue at <a href="https://github.com/rear/rear/pull/2702">2021-10-25 15:29</a>:<a class="headerlink" href="#rmetrich_opened_issue_at_2021-10-25_1529" title="Permanent link">&para;</a></h4>
<p>The current code was badly failing with Software RAID having Containers,
such as IMSM.</p>
<h4 id="relax-and-recover_rear_pull_request_template">Relax-and-Recover (ReaR) Pull Request Template<a class="headerlink" href="#relax-and-recover_rear_pull_request_template" title="Permanent link">&para;</a></h4>
<p>Please fill in the following items before submitting a new pull request:</p>
<h5 id="pull_request_details">Pull Request Details:<a class="headerlink" href="#pull_request_details" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>Type: <strong>Enhancement</strong></p>
</li>
<li>
<p>Impact: <strong>Normal</strong></p>
</li>
<li>
<p>Reference to related issue (URL):</p>
</li>
<li>
<p>How was this pull request tested?</p>
<p>On RHEL8 with Upstream ReaR, by creating fake IMSM arrays on a
QEMU/KVM</p>
</li>
<li>
<p>Brief description of the changes in this pull request:</p>
<p>When encountering an IMSM array, to be able to recreate it the
<code>mdadm</code> command line is somehow different.<br />
In particular the volumes inside the container have only the
container as parent, and size of the array can be specified.<br />
Finally, because the normal partitions are also seen, it's necessary
to wipe the devices prior to setting it up.</p>
</li>
</ul>
<h3 id="reproducer_a_qemukvm">Reproducer (a QEMU/KVM)<a class="headerlink" href="#reproducer_a_qemukvm" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Create a QEMU/KVM with additional SCSI disks and allocate an ID to
    each disk.</p>
</li>
<li>
<p>Create a IMSM container</p>
<pre><code># mdadm --create /dev/md/imsm1 -n 2 --metadata=imsm /dev/sdc /dev/sdd
</code></pre>
</li>
<li>
<p>Create volumes in the container (size is optional)</p>
<pre><code># mdadm --create /dev/md/Raid1_1 -n 2 --level 1 /dev/md/imsm1 --size 200M
# mdadm --create /dev/md/Raid0_1 -n 2 --level 0 /dev/md/imsm1 --size 300M
</code></pre>
</li>
<li>
<p>Amend <code>/etc/rear/local.conf</code></p>
<pre><code>export IMSM_NO_PLATFORM=1
AUTOEXCLUDE_DISKS=n
</code></pre>
</li>
<li>
<p>Execute <code>rear mkrescue</code></p>
</li>
<li>
<p>Restore the ISO on a clone system</p>
</li>
</ol>
<p>With current code, the restore will fail due to missing <code>raid-devices</code>
option for the container, <code>wipefs</code> issues and badly formed lines for the
Volumes containing raw devices making the Container, whereas the
Container device should be used.</p>
<p>Example with this patch:</p>
<pre><code>raid /dev/md127 metadata=imsm level=container raid-devices=2 uuid=cd51b012:c06cc1a1:f8ecdb57:690899ac name=imsm1 devices=/dev/sdc,/dev/sdd

raid /dev/md124 level=raid1 raid-devices=2 uuid=c49d5e0b:f78f04be:42d81ecc:7d5ca98a name=Raid1_1 devices=/dev/md127 size=204800
raid /dev/md123 level=raid0 raid-devices=2 uuid=11d7c434:a1be15ae:cd0049d8:53bd36b5 name=Raid0_1 chunk=128 devices=/dev/md127 size=307200
</code></pre>
<h4 id="pcahyna_commented_at_2021-10-25_1538"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-951053743">2021-10-25 15:38</a>:<a class="headerlink" href="#pcahyna_commented_at_2021-10-25_1538" title="Permanent link">&para;</a></h4>
<p>Great, thanks for the contribution! I am currently in the process of
learning how to use IMSM on an actual IMSM capable hardware, but I
haven't written any code yet. I am going to try your code in IMSM test
setup, hopefully soon.</p>
<h4 id="rmetrich_commented_at_2021-10-25_1546"><img src="https://avatars.githubusercontent.com/u/1163635?u=36b5e32e1dd55f1ce77cad431a5683fce40a7934&v=4" width="50"><a href="https://github.com/rmetrich">rmetrich</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-951060531">2021-10-25 15:46</a>:<a class="headerlink" href="#rmetrich_commented_at_2021-10-25_1546" title="Permanent link">&para;</a></h4>
<p>See also <a href="https://bugzilla.redhat.com/show_bug.cgi?id=2017107">RHBZ
2017107</a> for
reproducing without any IMSM hardware (just some hack is required to let
the system boot).<br />
If the IMSM devices are created for non-system partitions, this is
straightforward.</p>
<h4 id="jsmeix_commented_at_2021-10-26_0818"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-951690511">2021-10-26 08:18</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-10-26_0818" title="Permanent link">&para;</a></h4>
<p>@rmetrich<br />
thank you for your enhancement!</p>
<p>Could you do me a favour and also post here your output of</p>
<pre><code>lsblk -ipo NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,SIZE,MOUNTPOINT,UUID
</code></pre>
<p>on your test system - ideally the one where you posted your "Example
with this patch"<br />
in your initial comment
<a href="https://github.com/rear/rear/pull/2702#issue-765592871">https://github.com/rear/rear/pull/2702#issue-765592871</a></p>
<p>I like that <code>lsblk</code> output so much because at least for me it provides
me<br />
an easily comprehensible overview of the whole block devices structure.</p>
<h4 id="rmetrich_commented_at_2021-10-26_0841"><img src="https://avatars.githubusercontent.com/u/1163635?u=36b5e32e1dd55f1ce77cad431a5683fce40a7934&v=4" width="50"><a href="https://github.com/rmetrich">rmetrich</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-951715796">2021-10-26 08:41</a>:<a class="headerlink" href="#rmetrich_commented_at_2021-10-26_0841" title="Permanent link">&para;</a></h4>
<p>Actually I don't have it anymore, did modify the configuration for wider
testing ...<br />
Anyway, this is what I have with the following configuration (4 more 2GB
disks):</p>
<pre><code># mdadm --create /dev/md/imsm1 -n 4 --metadata=imsm /dev/sdc /dev/sdd /dev/sde /dev/sdf
# mdadm --create /dev/md/Raid1_1 -n 2 --level 1 /dev/md/imsm1 --size 200M
# mdadm --create /dev/md/Raid0_1 -n 2 --level 0 /dev/md/imsm1 --size 200M
# mdadm --create /dev/md/Raid10_1 -n 4 --level 10 /dev/md/imsm1 --size 300M

# lsblk -ipo NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,SIZE,MOUNTPOINT,UUID
NAME                        KNAME        PKNAME       TRAN TYPE   FSTYPE           SIZE MOUNTPOINT UUID
/dev/sda                    /dev/sda                       disk   isw_raid_member   20G            
`-/dev/md126                /dev/md126   /dev/sda          raid1                    20G            
  |-/dev/md126p1            /dev/md126p1 /dev/md126        md     xfs                1G /boot      93e3a8a6-e365-4e53-9648-f699e9bb6a28
  `-/dev/md126p2            /dev/md126p2 /dev/md126        md     LVM2_member       19G            dFAVuo-eQTU-c0Jc-BhpB-eXcK-Lfde-1c388C
    |-/dev/mapper/rhel-root /dev/dm-0    /dev/md126p2      lvm    xfs               17G /          67fcc871-8f65-4592-8cb4-5ff9b94e5f9b
    `-/dev/mapper/rhel-swap /dev/dm-1    /dev/md126p2      lvm    swap               2G [SWAP]     9e2259c8-a730-4e64-8d0e-66e579e5bdc2
/dev/sdb                    /dev/sdb                       disk   isw_raid_member    2G            
|-/dev/md122                /dev/md122   /dev/sdb          raid10                  600M            
|-/dev/md123                /dev/md123   /dev/sdb          raid0                   400M            
`-/dev/md124                /dev/md124   /dev/sdb          raid1                   200M            
/dev/sdc                    /dev/sdc                       disk   isw_raid_member    2G            
|-/dev/md122                /dev/md122   /dev/sdc          raid10                  600M            
`-/dev/md123                /dev/md123   /dev/sdc          raid0                   400M            
/dev/sdd                    /dev/sdd                       disk   isw_raid_member    2G            
`-/dev/md122                /dev/md122   /dev/sdd          raid10                  600M            
/dev/sde                    /dev/sde                       disk   isw_raid_member    2G            
|-/dev/md122                /dev/md122   /dev/sde          raid10                  600M            
`-/dev/md124                /dev/md124   /dev/sde          raid1                   200M            
/dev/sdf                    /dev/sdf                       disk   isw_raid_member   20G            
`-/dev/md126                /dev/md126   /dev/sdf          raid1                    20G            
  |-/dev/md126p1            /dev/md126p1 /dev/md126        md     xfs                1G /boot      93e3a8a6-e365-4e53-9648-f699e9bb6a28
  `-/dev/md126p2            /dev/md126p2 /dev/md126        md     LVM2_member       19G            dFAVuo-eQTU-c0Jc-BhpB-eXcK-Lfde-1c388C
    |-/dev/mapper/rhel-root /dev/dm-0    /dev/md126p2      lvm    xfs               17G /          67fcc871-8f65-4592-8cb4-5ff9b94e5f9b
    `-/dev/mapper/rhel-swap /dev/dm-1    /dev/md126p2      lvm    swap               2G [SWAP]     9e2259c8-a730-4e64-8d0e-66e579e5bdc2
</code></pre>
<h4 id="jsmeix_commented_at_2021-10-26_0903"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-951732993">2021-10-26 09:03</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-10-26_0903" title="Permanent link">&para;</a></h4>
<p>To me as non RAID expert the lsblk output seems<br />
to not match the mdadm command that created the container<br />
because to me it seems</p>
<pre><code>mdadm --create /dev/md/imsm1 -n 4 --metadata=imsm /dev/sdc /dev/sdd /dev/sde /dev/sdf
</code></pre>
<p>should create a container of sdc sdd sde sdf<br />
while the lsblk output looks as if the container consists of sdb sdc sdd
sde<br />
and there is a separated RAID1 consisting of sda and sdf.</p>
<h4 id="rmetrich_commented_at_2021-10-26_0908"><img src="https://avatars.githubusercontent.com/u/1163635?u=36b5e32e1dd55f1ce77cad431a5683fce40a7934&v=4" width="50"><a href="https://github.com/rmetrich">rmetrich</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-951737129">2021-10-26 09:08</a>:<a class="headerlink" href="#rmetrich_commented_at_2021-10-26_0908" title="Permanent link">&para;</a></h4>
<blockquote>
<p>To me as non RAID expert the lsblk output seems to not match the mdadm
command that created the container because to me it seems</p>
<pre><code>mdadm --create /dev/md/imsm1 -n 4 --metadata=imsm /dev/sdc /dev/sdd /dev/sde /dev/sdf
</code></pre>
<p>should create a container of sdc sdd sde sdf while the lsblk output
looks as if the container consists of sdb sdc sdd sde and there is a
separated RAID1 consisting of sda and sdf.</p>
</blockquote>
<p>Right, actually there was a disk renaming after I rebooted, explaining
the difference (sdX naming is not reliable).</p>
<h4 id="jsmeix_commented_at_2021-10-26_0947"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-951769031">2021-10-26 09:47</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-10-26_0947" title="Permanent link">&para;</a></h4>
<p>Ah - "reboot" explains it all.</p>
<p>Unfortunately it seems the NAME output column of <code>lsblk</code><br />
only shows /dev/mapper/ symlinks as NAME (in contrast to KNAME)<br />
but does not show /dev/md/ symlinks as NAME (in contrast to KNAME)</p>
<p>E.g. on my homeoffice laptop with LUKS (excerpt)</p>
<pre><code># lsblk -ipo NAME,KNAME,PKNAME,TYPE,FSTYPE,MOUNTPOINT
NAME                                                      KNAME     PKNAME    TYPE  FSTYPE      MOUNTPOINT
/dev/sda                                                  /dev/sda            disk              
|-/dev/sda1                                               /dev/sda1 /dev/sda  part              
|-/dev/sda2                                               /dev/sda2 /dev/sda  part  crypto_LUKS 
| `-/dev/mapper/cr_ata-TOSHIBA_MQ01ABF050_Y2PLP02CT-part2 /dev/dm-1 /dev/sda2 crypt swap        [SWAP]
|-/dev/sda3                                               /dev/sda3 /dev/sda  part  crypto_LUKS 
| `-/dev/mapper/cr_ata-TOSHIBA_MQ01ABF050_Y2PLP02CT-part3 /dev/dm-0 /dev/sda3 crypt ext4        /
|-/dev/sda4                                               /dev/sda4 /dev/sda  part  ext4        /nfs
</code></pre>
<p>where one can see the /dev/mapper/ symlinks as NAME</p>
<pre><code>/dev/mapper/cr_ata-TOSHIBA_MQ01ABF050_Y2PLP02CT-part3 -&gt; ../dm-0
/dev/mapper/cr_ata-TOSHIBA_MQ01ABF050_Y2PLP02CT-part2 -&gt; ../dm-1
</code></pre>
<p>versus on a QEMU/KVM test system with RAID1 (excerpt)</p>
<pre><code># lsblk -ipo NAME,KNAME,PKNAME,TYPE,FSTYPE,MOUNTPOINT
NAME                      KNAME        PKNAME       TYPE  FSTYPE            MOUNTPOINT
/dev/sda                  /dev/sda                  disk  linux_raid_member 
`-/dev/md127              /dev/md127   /dev/sda     raid1                   
  |-/dev/md127p1          /dev/md127p1 /dev/md127   part                    
  `-/dev/md127p2          /dev/md127p2 /dev/md127   part  crypto_LUKS       
    `-/dev/mapper/cr_root /dev/dm-0    /dev/md127p2 crypt btrfs             /
/dev/sdb                  /dev/sdb                  disk  linux_raid_member 
`-/dev/md127              /dev/md127   /dev/sdb     raid1                   
  |-/dev/md127p1          /dev/md127p1 /dev/md127   part                    
  `-/dev/md127p2          /dev/md127p2 /dev/md127   part  crypto_LUKS       
    `-/dev/mapper/cr_root /dev/dm-0    /dev/md127p2 crypt btrfs             /
</code></pre>
<p>where one cannot see the stable /dev/md/ symlinks as NAME</p>
<pre><code>/dev/md/raid1sdab2 -&gt; ../md127p2
/dev/md/raid1sdab1 -&gt; ../md127p1
/dev/md/raid1sdab -&gt; ../md127
</code></pre>
<p>but only the unstable kernel device nodes :-(</p>
<h4 id="devil0000_commented_at_2021-10-29_1213"><img src="https://avatars.githubusercontent.com/u/3344302?v=4" width="50"><a href="https://github.com/DEvil0000">DEvil0000</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-954693698">2021-10-29 12:13</a>:<a class="headerlink" href="#devil0000_commented_at_2021-10-29_1213" title="Permanent link">&para;</a></h4>
<p><code>md127</code> and such is the name of the raid given by the kernel (I guess)
if the raid has no name set. see mdadm assemble for rename.<br />
For plain disk names and order (like <code>sdb</code>) this is normally controlled
by your BIOS/firmware and configured boot order but you can identify
them by UUID or label instead.<br />
Another option is using LVM which can internally make use of (md) raid
but you get the easy naming and other LVM features for free.</p>
<h4 id="jsmeix_commented_at_2021-11-15_1252"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-968880305">2021-11-15 12:52</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-11-15_1252" title="Permanent link">&para;</a></h4>
<p>@pcahyna<br />
if you approve it - provided it looks OK to you - I would merge it.<br />
No problem if you need more time for review.<br />
I only like to know what its status is.</p>
<h4 id="pcahyna_commented_at_2021-11-15_1320"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-968904230">2021-11-15 13:20</a>:<a class="headerlink" href="#pcahyna_commented_at_2021-11-15_1320" title="Permanent link">&para;</a></h4>
<p>@jsmeix sorry for the delay, it took me some time to do proper tests
(backup+restore) on an actual IMSM-capable hardware. Here are the
results (not with the current code though - I backported the change to
ReaR 2.6 in RHEL 8.5).<br />
Output from rear recover:</p>
<pre><code>Creating software RAID /dev/md127
Creating software RAID /dev/md126
Disk '/dev/md126': creating 'gpt' partition table
Disk '/dev/md126': creating partition number 1 with name ''EFI System Partition''
Disk '/dev/md126': creating partition number 2 with name ''md126p2''
Disk '/dev/md126': creating partition number 3 with name ''md126p3''
Creating LVM PV /dev/md126p3
Restoring LVM VG 'rhel_sgi-uv300-02'
Sleeping 3 seconds to let udev or systemd-udevd create their devices...
Creating filesystem of type xfs with mount point / on /dev/mapper/rhel_sgi--uv300--02-root.
Mounting filesystem /
Creating filesystem of type xfs with mount point /home on /dev/mapper/rhel_sgi--uv300--02-home.
Mounting filesystem /home
Creating filesystem of type xfs with mount point /boot on /dev/md126p2.
Mounting filesystem /boot
Creating filesystem of type vfat with mount point /boot/efi on /dev/md126p1.
Mounting filesystem /boot/efi
Creating swap on /dev/mapper/rhel_sgi--uv300--02-swap
Disk layout created.
Restoring from '/tmp/rear.HPhb0jLJMJzuKqD/outputfs/sgi-uv300-02/backup.tar.gz' (restore log in /var/lib/rear/restore/recover.backup.tar.gz.2620.restore.log) ...
Restoring tar: boot/extlinux: time stamp 2021-11-11 04:53:49.916804272 is 14206.848134038 s in the future OK
Backup restore 'tar' finished with zero exit code
Restoring finished (verify backup restore log messages in /var/lib/rear/restore/recover.backup.tar.gz.2620.restore.log)
Created SELinux /mnt/local/.autorelabel file : after reboot SELinux will relabel all files
Recreating directories (with permissions) from /var/lib/rear/recovery/directories_permissions_owner_group
Migrating disk-by-id mappings in certain restored files in /mnt/local to current disk-by-id mappings ...
Migrating filesystem UUIDs in certain restored files in /mnt/local to current UUIDs ...
Patching symlink etc/sysconfig/grub target /mnt/local/etc/default/grub
Patching filesystem UUIDs in /mnt/local/etc/default/grub to current UUIDs
Skip patching symlink etc/mtab target /mnt/local/proc/6394/mounts on /proc/ /sys/ /dev/ or /run/
Patching filesystem UUIDs in etc/fstab to current UUIDs
Patching filesystem UUIDs in etc/mtools.conf to current UUIDs
Patching filesystem UUIDs in boot/efi/EFI/redhat/grub.cfg to current UUIDs
Running mkinitrd...
Updated initrd with new drivers for kernel 4.18.0-348.el8.x86_64.
Creating EFI Boot Manager entries...
Cannot create EFI Boot Manager entry for ESP /dev/md126p1 (unable to find the underlying disk)
efibootmgr failed to create EFI Boot Manager entry for 'EFI\redhat\grubx64.efi' (UEFI_BOOTLOADER='/boot/efi/EFI/redhat/grubx64.efi')
WARNING:
For this system
RedHatEnterpriseServer/8 on Linux-i386 (based on Fedora/8/i386)
there is no code to install a boot loader on the recovered system
or the code that we have failed to install the boot loader correctly.
Please contribute appropriate code to the Relax-and-Recover project,
see http://relax-and-recover.org/development/
Take a look at the scripts in /usr/share/rear/finalize - for example
for PC architectures like x86 and x86_64 see the script
/usr/share/rear/finalize/Linux-i386/660_install_grub2.sh
and for POWER architectures like ppc64le see the script
/usr/share/rear/finalize/Linux-ppc64le/660_install_grub2.sh
---------------------------------------------------
|  IF YOU DO NOT INSTALL A BOOT LOADER MANUALLY,  |
|  THEN YOUR SYSTEM WILL NOT BE ABLE TO BOOT.     |
---------------------------------------------------
You can use 'chroot /mnt/local bash --login'
to change into the recovered system and
manually install a boot loader therein.
</code></pre>
<p>So, first problem, ReaR is not able to execute efibootmgr to set the
RAID bootable. (This looks similar to #2595 and I can fix this
separately, because I fixed that issue as well).</p>
<p>After fixing the boot order in UEFI and rebooting, the machine is stuck
in initrd and drops to the emergency shell because it is not able to
find its LVM storage. Investigation reveals that the recovery process
has changed the MD UUIDs, but the GRUB command line and
<code>/etc/mdadm.conf</code> in the initrd still have the old UUIDs. After fixing
them in GRUB (I had to do it both in <code>/boot/efi/EFI/redhat/grub.cfg</code> and
in <code>/boot/efi/EFI/redhat/grubenv</code> where there is the current boot entry
saved -
<code>grub2-editenv  /boot/efi/EFI/redhat/grubenv unset saved_entry kernelopts boot_success</code>
did the trick for me) the restored system worked properly.</p>
<p>Not sure about the second problem - ReaR should be able to patch
configuration files to solve it, but shouldn't it restore the arrays
with the same UUIDs in the first place to avoid the problem from the
start?<br />
Here is the saved layout (note that it includes RAID array UUIDs):</p>
<pre><code># Disk layout dated 20211111104549 (YYYYmmddHHMMSS)
# NAME                                       KNAME        PKNAME       TRAN   TYPE  FSTYPE            SIZE MOUNTPOINT
# /dev/sda                                   /dev/sda                  sata   disk  isw_raid_member 372.6G 
# `-/dev/md126                               /dev/md126   /dev/sda            raid1                 372.6G 
#   |-/dev/md126p1                           /dev/md126p1 /dev/md126          md    vfat              600M /boot/efi
#   |-/dev/md126p2                           /dev/md126p2 /dev/md126          md    xfs                 1G /boot
#   `-/dev/md126p3                           /dev/md126p3 /dev/md126          md    LVM2_member       371G 
#     |-/dev/mapper/rhel_sgi--uv300--02-root /dev/dm-0    /dev/md126p3        lvm   xfs                70G /
#     |-/dev/mapper/rhel_sgi--uv300--02-swap /dev/dm-1    /dev/md126p3        lvm   swap                4G [SWAP]
#     `-/dev/mapper/rhel_sgi--uv300--02-home /dev/dm-2    /dev/md126p3        lvm   xfs               297G /home
# /dev/sdb                                   /dev/sdb                  sata   disk  isw_raid_member 372.6G 
# `-/dev/md126                               /dev/md126   /dev/sdb            raid1                 372.6G 
#   |-/dev/md126p1                           /dev/md126p1 /dev/md126          md    vfat              600M /boot/efi
#   |-/dev/md126p2                           /dev/md126p2 /dev/md126          md    xfs                 1G /boot
#   `-/dev/md126p3                           /dev/md126p3 /dev/md126          md    LVM2_member       371G 
#     |-/dev/mapper/rhel_sgi--uv300--02-root /dev/dm-0    /dev/md126p3        lvm   xfs                70G /
#     |-/dev/mapper/rhel_sgi--uv300--02-swap /dev/dm-1    /dev/md126p3        lvm   swap                4G [SWAP]
#     `-/dev/mapper/rhel_sgi--uv300--02-home /dev/dm-2    /dev/md126p3        lvm   xfs               297G /home
# /dev/sr0                                   /dev/sr0                  usb    rom                    1024M 
# Disk /dev/sda
# Format: disk &lt;devname&gt; &lt;size(bytes)&gt; &lt;partition label type&gt;
disk /dev/sda 400088457216 gpt
# Partitions on /dev/sda
# Format: part &lt;device&gt; &lt;partition size(bytes)&gt; &lt;partition start(bytes)&gt; &lt;partition type|name&gt; &lt;flags&gt; /dev/&lt;partition&gt;
# Disk /dev/sdb
# Format: disk &lt;devname&gt; &lt;size(bytes)&gt; &lt;partition label type&gt;
disk /dev/sdb 400088457216 gpt
# Partitions on /dev/sdb
# Format: part &lt;device&gt; &lt;partition size(bytes)&gt; &lt;partition start(bytes)&gt; &lt;partition type|name&gt; &lt;flags&gt; /dev/&lt;partition&gt;
# List of Software Raid devices (mdadm --detail --scan --config=partitions):
# ARRAY /dev/md/imsm0 metadata=imsm UUID=4d5cf215:80024c95:e19fdff4:2fba35a8
# ARRAY /dev/md/Volume0_0 container=/dev/md/imsm0 member=0 UUID=ffb80762:127807b3:3d7e4f4d:4532022f
# 
# mdadm --misc --detail /dev/md127
# /dev/md127:
#            Version : imsm
#         Raid Level : container
#      Total Devices : 2
# 
#    Working Devices : 2
# 
# 
#               UUID : 4d5cf215:80024c95:e19fdff4:2fba35a8
#      Member Arrays : /dev/md/Volume0_0
# 
#     Number   Major   Minor   RaidDevice
# 
#        -       8        0        -        /dev/sda
#        -       8       16        -        /dev/sdb
raid /dev/md127 metadata=imsm level=container raid-devices=2 uuid=4d5cf215:80024c95:e19fdff4:2fba35a8 name=imsm0 devices=/dev/sda,/dev/sdb
# mdadm --misc --detail /dev/md126
# /dev/md126:
#          Container : /dev/md/imsm0, member 0
#         Raid Level : raid1
#         Array Size : 390706176 (372.61 GiB 400.08 GB)
#      Used Dev Size : 390706176 (372.61 GiB 400.08 GB)
#       Raid Devices : 2
#      Total Devices : 2
# 
#              State : active 
#     Active Devices : 2
#    Working Devices : 2
#     Failed Devices : 0
# 
# Consistency Policy : resync
# 
# 
#               UUID : ffb80762:127807b3:3d7e4f4d:4532022f
#     Number   Major   Minor   RaidDevice State
#        1       8       16        0      active sync   /dev/sdb
#        0       8        0        1      active sync   /dev/sda
raid /dev/md126 level=raid1 raid-devices=2 uuid=ffb80762:127807b3:3d7e4f4d:4532022f name=Volume0_0 devices=/dev/md127 size=390706176
part /dev/md126 629145600 1048576 EFI%20System%20Partition boot,esp /dev/md126p1
part /dev/md126 1073741824 630194176 md126p2 none /dev/md126p2
part /dev/md126 398378139648 1703936000 md126p3 lvm /dev/md126p3
# Format for LVM PVs
# lvmdev &lt;volume_group&gt; &lt;device&gt; [&lt;uuid&gt;] [&lt;size(bytes)&gt;]
lvmdev /dev/rhel_sgi-uv300-02 /dev/md126p3 hqqg0f-9bZF-bKqR-nnEv-lR0Y-AjxB-X3EM2i 778082304
# Format for LVM VGs
# lvmgrp &lt;volume_group&gt; &lt;extentsize&gt; [&lt;size(extents)&gt;] [&lt;size(bytes)&gt;]
lvmgrp /dev/rhel_sgi-uv300-02 4096 94980 389038080
# Format for LVM LVs
# lvmvol &lt;volume_group&gt; &lt;name&gt; &lt;size(bytes)&gt; &lt;layout&gt; [key:value ...]
lvmvol /dev/rhel_sgi-uv300-02 home 318918098944b linear 
lvmvol /dev/rhel_sgi-uv300-02 root 75161927680b linear 
lvmvol /dev/rhel_sgi-uv300-02 swap 4294967296b linear 
# Filesystems (only ext2,ext3,ext4,vfat,xfs,reiserfs,btrfs are supported).
# Format: fs &lt;device&gt; &lt;mountpoint&gt; &lt;fstype&gt; [uuid=&lt;uuid&gt;] [label=&lt;label&gt;] [&lt;attributes&gt;]
fs /dev/mapper/rhel_sgi--uv300--02-home /home xfs uuid=7f2000c1-6555-4d4a-91ca-c95a30afc5c1 label=  options=rw,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota
fs /dev/mapper/rhel_sgi--uv300--02-root / xfs uuid=3b8f6908-860a-4a13-aa21-27dfd61efa5e label=  options=rw,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota
fs /dev/md126p1 /boot/efi vfat uuid=97C0-D758 label= options=rw,relatime,fmask=0077,dmask=0077,codepage=437,iocharset=ascii,shortname=winnt,errors=remount-ro
fs /dev/md126p2 /boot xfs uuid=c63225cb-ac04-4220-8200-2d03a5a9b0be label=  options=rw,relatime,attr2,inode64,logbufs=8,logbsize=32k,noquota
# Swap partitions or swap files
# Format: swap &lt;filename&gt; uuid=&lt;uuid&gt; label=&lt;label&gt;
swap /dev/mapper/rhel_sgi--uv300--02-swap uuid=9af4ffb5-2a09-480e-82c2-ad55a54ff6cd label=
</code></pre>
<h4 id="jsmeix_commented_at_2021-11-15_1357"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-968934959">2021-11-15 13:57</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-11-15_1357" title="Permanent link">&para;</a></h4>
<p>@pcahyna</p>
<p>I never tested software RAID having containers such as IMSM<br />
so I cannot tell how this behaves different.</p>
<p>From plain looking at the code in
layout/prepare/GNU/Linux/120_include_raid_code.sh<br />
in current master code (i.e. without this pull request code)<br />
ReaR should recreate RAID with the UUID that is stored in
disklayout.conf</p>
<pre><code>if version_newer "$mdadm_version" 2.0 ; then
    FEATURE_MDADM_UUID="y"
fi
...
create_raid() {
    local raid device options
    read raid device options &lt; &lt;(grep "^raid $1 " "$LAYOUT_FILE")
    ...
    for option in $options ; do
        case "$option" in
        ...
            (uuid=*)
                if [ -n "$FEATURE_MDADM_UUID" ] ; then
                    mdadmcmd="$mdadmcmd --$option"
                fi
                ;;
</code></pre>
<p>So you should run "rear -D recover" to see how that code<br />
with the changes of this pull request actually behaves in your case<br />
and inspect the diskrestore.sh script in the recovery system.</p>
<p>Before you run "rear -D recover" you may
<code># export MIGRATION_MODE='true'</code><br />
to let the recovery process stop at certain steps/stages so you could
better<br />
inspect how things actually are after each step/stage.</p>
<p>By the way:<br />
The code in layout/prepare/GNU/Linux/120_include_raid_code.sh<br />
is yet another piece of mostly old code that is almost impossible for me
to understand<br />
in particular its meaningless variable names "device" "devices"
"raiddevice"<br />
that seem to contradict the names that are used in "man mdadm" (of
mdadm-4.1)</p>
<pre><code>SYNOPSIS
       mdadm [mode] &lt;raiddevice&gt; [options] &lt;component-devices&gt;
...
For create, build, or grow:
       -n, --raid-devices=
</code></pre>
<p>I think "device" in 120_include_raid_code.sh is "raiddevice" in "man
mdadm" and<br />
"devices" in 120_include_raid_code.sh is "component-devices" in "man
mdadm" and<br />
"raiddevice" in 120_include_raid_code.sh would be "component-device"
in "man mdadm"<br />
where only the option name "raid-devices" seem to match what is used in
"man mdadm"<br />
but all that could be just wrong because of my confusion...</p>
<h4 id="pcahyna_commented_at_2021-11-15_1534"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-969030311">2021-11-15 15:34</a>:<a class="headerlink" href="#pcahyna_commented_at_2021-11-15_1534" title="Permanent link">&para;</a></h4>
<p>@jsmeix thanks for looking so quickly and for the warning about the code
in <code>layout/prepare/GNU/Linux/120_include_raid_code.sh</code>. Indeed, I would
expect the code to be able to restore the correct UUIDs already, because
we would have had similar problems with regular MD arrays already. I
have captured the -D log from recovery, so I will check if it can
provide a hint on what went wrong.<br />
I am also only marginally familiar with IMSM (had to learn it now
because of ReaR), but I can say that the metadata container and the RAID
volume in it both have their own independent UUIDs and both are wrong
(changed from their previous values).</p>
<h4 id="jsmeix_commented_at_2021-11-16_1153"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-970197077">2021-11-16 11:53</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-11-16_1153" title="Permanent link">&para;</a></h4>
<p>@pcahyna<br />
via
<a href="https://github.com/rear/rear/pull/2714">https://github.com/rear/rear/pull/2714</a><br />
I overhauled layout/save/GNU/Linux/210_raid_layout.sh<br />
which is based on the changes of this pull request here.<br />
I would much appreciate it if you could have an early look.<br />
It is not yet finished.<br />
It seems to work for my simple RAID1 array.<br />
I could have made mistakes for other types of RAID arrays.<br />
I just cannot work with confusing variable names and things like that.<br />
So to be able to actually do something for RAID I must make its code
readable.</p>
<h4 id="jsmeix_commented_at_2021-11-16_1336"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-970282091">2021-11-16 13:36</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-11-16_1336" title="Permanent link">&para;</a></h4>
<p>See
<a href="https://github.com/rear/rear/pull/2714#issuecomment-970279152">https://github.com/rear/rear/pull/2714#issuecomment-970279152</a><br />
for my current results with a RAID1 array<br />
of plain /dev/sda and /dev/sdb disks as component devices.</p>
<h4 id="pcahyna_commented_at_2021-11-16_1538"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-970395567">2021-11-16 15:38</a>:<a class="headerlink" href="#pcahyna_commented_at_2021-11-16_1538" title="Permanent link">&para;</a></h4>
<p>So, I looked at the debug log and ReaR is not doing anything weird: it
merely passes the right <code>--uuid=...</code> options to mdadm. Further
experiments revealed that mdadm silently ignores this option when
creating IMSM arrays (both containers and the volumes inside them) and
picks a random UUID. The mdadm manual mentions that it is possible to
change the UUID of an existing array during assembly: <code>-U uuid</code>. This
would be a workaround, but it does not work either. The problem is
present both in RHEL 7.9 and RHEL 8.5. Setting <code>IMSM_NO_PLATFORM=1</code> has
no effect either, so I wonder how it worked in @rmetrich's tests. Can
you please examine your test results for the actual and expected MD
UUIDs?<br />
With this problem, I see two possible ways forward:</p>
<ul>
<li>report the mdadm problem to upstream and don't support IMSM until
    this is fixed</li>
<li>write a workaround that will deal with changed UUIDs by substituting
    them in all files where they can be used. (There is already some
    code to change storage IDs, but it does not apply to GRUB and mdadm
    configuration.)</li>
</ul>
<h4 id="jsmeix_commented_at_2021-11-17_0806"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-971331028">2021-11-17 08:06</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-11-17_0806" title="Permanent link">&para;</a></h4>
<p>@pcahyna<br />
thank you very much for your laborious investigation!<br />
It helps so much to understand what actually goes on.</p>
<p>Regarding how to deal with such kind of issues in ReaR<br />
see the part "Dirty hacks welcome" in<br />
<a href="https://github.com/rear/rear/wiki/Coding-Style">https://github.com/rear/rear/wiki/Coding-Style</a></p>
<p>I would try to add a test in
layout/prepare/GNU/Linux/120_include_raid_code.sh<br />
or in a separated new script like
layout/recreate/default/220_verify_layout.sh<br />
(i.e. after diskrestore.sh was run via
layout/recreate/default/200_run_layout_code.sh)<br />
that tests if the recreated array has the specified UUID (if a UUID is
there at all)<br />
and if this test fails show a LogPrintError so the user so he is
informed<br />
that he must check that after "rear recover" in the recovery system.</p>
<p>Optionally - but only as far as possible with reasonable effort - I
would<br />
try to correct that UUID in the restored files during 'finalize' stage<br />
preferably with DebugPrint messages in what files that UUID was<br />
actually corrected but the latter only if it is easy to implement.</p>
<p>In general the user must test if "rear recover" works for him<br />
in his particular environment so it is OK when ReaR cannot<br />
automatically recreate his specific system 100% identical<br />
but then ReaR should tell the user about it.</p>
<h4 id="jsmeix_commented_at_2021-11-19_1416"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-974110171">2021-11-19 14:16</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-11-19_1416" title="Permanent link">&para;</a></h4>
<p>@rmetrich @pcahyna<br />
because the changes of this pull request<br />
are all also in
<a href="https://github.com/rear/rear/pull/2714">https://github.com/rear/rear/pull/2714</a><br />
(hopefully I did not mess up something with my major cleanup work)<br />
I suggest to close this pull request as "obsolete" and<br />
continue only in
<a href="https://github.com/rear/rear/pull/2714">https://github.com/rear/rear/pull/2714</a></p>
<p>If I messed up something in
<a href="https://github.com/rear/rear/pull/2714">https://github.com/rear/rear/pull/2714</a><br />
I will of course fix it there.</p>
<h4 id="rmetrich_commented_at_2021-11-19_1417"><img src="https://avatars.githubusercontent.com/u/1163635?u=36b5e32e1dd55f1ce77cad431a5683fce40a7934&v=4" width="50"><a href="https://github.com/rmetrich">rmetrich</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-974110935">2021-11-19 14:17</a>:<a class="headerlink" href="#rmetrich_commented_at_2021-11-19_1417" title="Permanent link">&para;</a></h4>
<p>Sure, feel free to close this, I have no time to follow all the details
:)</p>
<h4 id="jsmeix_commented_at_2021-11-19_1419"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2702#issuecomment-974112535">2021-11-19 14:19</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-11-19_1419" title="Permanent link">&para;</a></h4>
<p>@rmetrich<br />
wow - that was a fast response - thank you!</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2021-10-25.2702.pr.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
