<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#895 Issue closed: Wrong GRUB version recovered - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#895 Issue closed: Wrong GRUB version recovered";
        var mkdocs_page_input_path = "issues/2016-06-27.895.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#895 Issue closed: Wrong GRUB version recovered</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="895_issue_closed_wrong_grub_version_recovered"><a href="https://github.com/rear/rear/issues/895">#895 Issue</a> <code>closed</code>: Wrong GRUB version recovered<a class="headerlink" href="#895_issue_closed_wrong_grub_version_recovered" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>cleanup</code>, <code>fixed / solved / done</code></p>
<h4 id="gcchelp_opened_issue_at_2016-06-27_1249"><img src="https://avatars.githubusercontent.com/u/19816134?v=4" width="50"><a href="https://github.com/GCChelp">GCChelp</a> opened issue at <a href="https://github.com/rear/rear/issues/895">2016-06-27 12:49</a>:<a class="headerlink" href="#gcchelp_opened_issue_at_2016-06-27_1249" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>rear version (/usr/sbin/rear -V): Relax-and-Recover 1.18 / Git</p>
</li>
<li>
<p>OS version (cat /etc/rear/os.conf or lsb_release -a):<br />
    OS_VENDOR=SUSE_LINUX<br />
    OS_VERSION=13.1</p>
<p>ARCH='Linux-i386'<br />
OS='GNU/Linux'<br />
OS_VERSION='13.1'<br />
OS_VENDOR='SUSE_LINUX'<br />
OS_VENDOR_VERSION='SUSE_LINUX/13.1'<br />
OS_VENDOR_ARCH='SUSE_LINUX/i386'</p>
</li>
<li>
<p>rear configuration files (cat /etc/rear/site.conf or cat
    /etc/rear/local.conf):<br />
    OUTPUT=USB<br />
    USB_DEVICE=/dev/disk/by-label/REAR-000<br />
    BACKUP=NETFS<br />
    BACKUP_URL=nfs://nfsserver/backups/rear<br />
    BACKUP_OPTIONS="nfsvers=3,nolock"<br />
    EXCLUDE_MOUNTPOINTS=( /home /scratch )<br />
    AUTOEXCLUDE_PATH=( /media /mnt )<br />
    AUTOEXCLUDE_AUTOFS=..<br />
    AUTOEXCLUDE_DISKS=y<br />
    SSH_ROOT_PASSWORD=XXX</p>
</li>
<li>
<p>Brief description of the issue<br />
    "rear recover" restores unconfigured GRUB2, while GRUB legacy was
    used on the system.<br />
    Result is a unbootable machine after restore.</p>
</li>
<li>
<p>Work-around, if any<br />
    nothing known</p>
</li>
</ul>
<h4 id="gcchelp_commented_at_2016-06-27_1257"><img src="https://avatars.githubusercontent.com/u/19816134?v=4" width="50"><a href="https://github.com/GCChelp">GCChelp</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-228737866">2016-06-27 12:57</a>:<a class="headerlink" href="#gcchelp_commented_at_2016-06-27_1257" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/rear/rear/files/334865/rear-testupd.log-bootloader.grub.txt">rear-testupd.log-bootloader+grub.txt</a></p>
<p>@jsmeix<br />
Attached the result of <code>egrep -i "bootloader|grub" rear-testupd.log</code> as
separate file.<br />
I couldn't find any entries causing the problem on first sight.<br />
Please let me know what to search for if you have further ideas.</p>
<h4 id="jsmeix_commented_at_2016-06-29_1002"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-229313396">2016-06-29 10:02</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-06-29_1002" title="Permanent link">&para;</a></h4>
<p>I assing it to me because it is about openSUSE 13.1<br />
regardless that I am not at all an expert in bootloader issues<br />
i.e. do not expect too much from me here.</p>
<p>@GCChelp<br />
first and foremost I like to understand<br />
why you use GRUB legacy and not GRUB2?</p>
<p>On my openSUSE 13.1 test system<br />
(cf.
<a href="https://github.com/rear/rear/issues/870#issuecomment-225876504">https://github.com/rear/rear/issues/870#issuecomment-225876504</a>
)<br />
I get by default GRUB 2 used as bootloader<br />
and with that it "just works" for me.</p>
<p>Therefore I like to understand the reasoning behind<br />
why you use GRUB legacy on your system.</p>
<h4 id="gcchelp_commented_at_2016-06-29_1206"><img src="https://avatars.githubusercontent.com/u/19816134?v=4" width="50"><a href="https://github.com/GCChelp">GCChelp</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-229336720">2016-06-29 12:06</a>:<a class="headerlink" href="#gcchelp_commented_at_2016-06-29_1206" title="Permanent link">&para;</a></h4>
<p>@jsmeix<br />
We use GRUB legacy for legacy reasons...<br />
Have been running openSUSE on this workstations from something like 11.2
on, updating them as required. Now, everything is updated to 13.1, only
the bootloader stayed where it was.</p>
<p>I am not an expert in bootloader issues, too. That's why I always
postpone the possible project to update GRUB legacy to GRUB 2...</p>
<h4 id="jsmeix_commented_at_2016-06-29_1215"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-229338479">2016-06-29 12:15</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-06-29_1215" title="Permanent link">&para;</a></h4>
<p>@GCChelp<br />
many thanks for your background information.<br />
It helps me a lot to understand how it can happen<br />
that an old bootloader is used on a new system:</p>
<p>By updating only the files of the system from older ones<br />
(i.e. by updateing the installed RPM packages)<br />
instead of installing the whole system anew from scratch.</p>
<p>This means in general that rear should be prepared<br />
to detact if an old (even outdated) bootloader is still in use.</p>
<p>But there is the general problem to reliably detect the actually<br />
used bootloader, cf. "Disaster recovery does not just work" in<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<p>I will dig into it how rear detects what bootloader is used...</p>
<h4 id="jsmeix_commented_at_2016-06-29_1227"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-229340980">2016-06-29 12:27</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-06-29_1227" title="Permanent link">&para;</a></h4>
<p>@GCChelp<br />
In your
<a href="https://github.com/rear/rear/issues/895#issuecomment-228737866">https://github.com/rear/rear/issues/895#issuecomment-228737866</a>
your<br />
"result of egrep -i 'bootloader|grub' rear-testupd.log"<br />
contains:</p>
<pre>
+++ cat /var/lib/rear/recovery/bootloader
++ BOOTLOADER=GRUB
</pre>

<p>i.e. it has correctly detected that GRUB (not GRUB2) is used<br />
but later it does contradictingly</p>
<pre>
++ Print 'Installing GRUB2 boot loader'
++ echo -e 'Installing GRUB2 boot loader'
++ grub_name=grub2
</pre>

<p>FYI: On my openSUSE 13.1 test system<br />
after "rear -d -D mkbackup" I have in<br />
var/lib/rear/recovery/bootloader</p>
<pre>
GRUB2
</pre>

<h4 id="gcchelp_commented_at_2016-06-29_1241"><img src="https://avatars.githubusercontent.com/u/19816134?v=4" width="50"><a href="https://github.com/GCChelp">GCChelp</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-229343873">2016-06-29 12:41</a>:<a class="headerlink" href="#gcchelp_commented_at_2016-06-29_1241" title="Permanent link">&para;</a></h4>
<p>@jsmeix</p>
<blockquote>
<p>This means in general that rear should be prepared<br />
to detact if an old (even outdated) bootloader is still in use.</p>
</blockquote>
<p>I fully agree!</p>
<blockquote>
<p>i.e. it has correctly detected that GRUB (not GRUB2) is used<br />
but later it does contradictingly</p>
</blockquote>
<p>I am willing to provide further details or do some tests in our
environment.<br />
Just let me know what you suggest.</p>
<h4 id="jsmeix_commented_at_2016-06-29_1244"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-229344628">2016-06-29 12:44</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-06-29_1244" title="Permanent link">&para;</a></h4>
<p>With probability one (cf.
<a href="https://en.wikipedia.org/wiki/Almost_surely">https://en.wikipedia.org/wiki/Almost_surely</a>
)<br />
I found the root cause:</p>
<p>Your "result of egrep -i 'bootloader|grub' rear-testupd.log"<br />
contains:</p>
<pre>
+ source /usr/share/rear/finalize/Linux-i386/21_install_grub.sh
++ ((  USING_UEFI_BOOTLOADER  ))
++ [[ GRUB = \G\R\U\B ]]
+++ type -p grub-probe
+++ type -p grub2-probe
++ [[ -n /sbin/grub2-probe ]]
++ ((  USING_UEFI_BOOTLOADER  ))
2016-06-27 12:20:57.496977540 Including finalize/Linux-i386/22_install_grub2.sh
+ source /usr/share/rear/finalize/Linux-i386/22_install_grub2.sh
++ ((  USING_UEFI_BOOTLOADER  ))
+++ type -p grub-probe
+++ type -p grub2-probe
++ [[ -n /sbin/grub2-probe ]]
++ LogPrint 'Installing GRUB2 boot loader'
</pre>

<p>I.e. it runs finalize/Linux-i386/21_install_grub.sh<br />
but that gives up because of a wrong test and<br />
lets finalize/Linux-i386/22_install_grub2.sh do the job<br />
which means it tries to install GRUB2.</p>
<p>The wrong test in finalize/Linux-i386/21_install_grub.sh is</p>
<pre>
# check the BOOTLOADER variable (read by 01_prepare_checks.sh script)
if [[ "$BOOTLOADER" = "GRUB" ]]; then
    if [[ $(type -p grub-probe) || $(type -p grub2-probe) ]]; then
        # grub2 script should handle this instead
        return
    fi
fi
</pre>

<p>In finalize/Linux-i386/22_install_grub2.sh there is the same test:</p>
<pre>
# Only for GRUB2 - GRUB Legacy will be handled by its own script
[[ $(type -p grub-probe) || $(type -p grub2-probe) ]] || return
</pre>

<p>Currently I do not understand how that tests are meant to work.<br />
As usual no comments that tell the reasoning behind<br />
so that I could undrerstand the intent behind that code,<br />
cf. "Code should be easy to understand" in<br />
<a href="https://github.com/rear/rear/wiki/Coding-Style">https://github.com/rear/rear/wiki/Coding-Style</a></p>
<p>@GCChelp<br />
when you are logged in as root in the recovery system<br />
you can change whatever you want in the recovery system<br />
before you run "rear recover".</p>
<p>In this case please change<br />
/usr/share/rear/finalize/Linux-i386/21_install_grub.sh<br />
and<br />
/usr/share/rear/finalize/Linux-i386/22_install_grub2.sh<br />
before you run "rear recover"<br />
to enforce that 21_install_grub.sh does its job<br />
and that 22_install_grub2.sh does not do anything.</p>
<p>For example (untested) remove the test from 21_install_grub.sh<br />
and in 22_install_grub2.sh add a plain "return" at the beginning<br />
so that 22_install_grub2.sh does nothing.</p>
<p>Then try if afterwards "rear recover" installs GRUB<br />
(and not GRUB2).</p>
<h4 id="jsmeix_commented_at_2016-06-29_1257"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-229347661">2016-06-29 12:57</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-06-29_1257" title="Permanent link">&para;</a></h4>
<p>"git blame" indicates the above mentioned test in 21_install_grub.sh<br />
is from "Jesper Sander Lindgren" via commit 3f8b22f3<br />
and the matching test in 22_install_grub2.sh<br />
is from @gdha via commit 079de45b</p>
<p>@gdha<br />
could you explain how the</p>
<pre>
[[ $(type -p grub-probe) || $(type -p grub2-probe) ]]
</pre>

<p>tests in
<a href="https://github.com/rear/rear/issues/895#issuecomment-229344628">https://github.com/rear/rear/issues/895#issuecomment-229344628</a>
are meant to work?</p>
<p>From my current point of view the test looks like an<br />
overcomplicated indirection (RFC 1925 item 6a).</p>
<p>I would have expected something straightforward<br />
and simple (KISS) like in 21_install_grub.sh</p>
<pre>
# do not do anything for GRUB 2 here because
# GRUB 2 is installed via 22_install_grub2.sh
test "GRUB2" = "$BOOTLOADER" && return
</pre>

<p>and accordingly in 22_install_grub2.sh</p>
<pre>
# do not do anything for GRUB (i.e. GRUB Legacy) here
# because GRUB Legacy is installed via 21_install_grub.sh
test "GRUB" = "$BOOTLOADER" && return
</pre>

<h4 id="jsmeix_commented_at_2016-06-29_1300"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-229348431">2016-06-29 13:00</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-06-29_1300" title="Permanent link">&para;</a></h4>
<p>Ha!<br />
Commit 3f8b22f shows that the test was KISS before.<br />
But currently I have no idea why it was complicated.<br />
There must have been a reason but who knows it?</p>
<h4 id="jsmeix_commented_at_2016-06-29_1310"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-229350822">2016-06-29 13:10</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-06-29_1310" title="Permanent link">&para;</a></h4>
<p>Grepping in "git log" for "3f8b22f" results:</p>
<pre>
Merge: 78a6f9f 3f8b22f
Author: Gratien D'haese <gratien.dhaese@gmail.com>
Date:   Thu May 21 18:24:28 2015 +0200
    Merge pull request #589 from sanderu/Grub2_support_for_Linux
 </pre>

<p>which leads to
<a href="https://github.com/rear/rear/pull/589">https://github.com/rear/rear/pull/589</a><br />
that contains</p>
<pre>
Problems found:
The 21_install_grub.sh checked for GRUB2 which is
not part of the first 2048 bytes of a disk - only GRUB
was present - thus the check for grub-probe/grub2-probe.
</pre>

<p>I am afraid - I still do not understand it - I mean how does</p>
<pre>
if [[ "$BOOTLOADER" = "GRUB2" ]]; then
</pre>

<p>check the first 2048 bytes of a disk?</p>
<p>On my openSUSE 13.1 I have<br />
"$BOOTLOADER" = "GRUB2"<br />
and accordingly I think it should work to test for it.</p>
<h4 id="gdha_commented_at_2016-06-30_0632"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-229571763">2016-06-30 06:32</a>:<a class="headerlink" href="#gdha_commented_at_2016-06-30_0632" title="Permanent link">&para;</a></h4>
<p>@jsmeix I believe
<code>[[ $(type -p grub-probe) || $(type -p grub2-probe) ]]</code> was meant as a
test to verify if grub legacy or grub2 is present on the system. It
looks indeed a bit strange, feel free to modify towards you think how it
should be.</p>
<h4 id="jsmeix_commented_at_2016-06-30_1231"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-229644300">2016-06-30 12:31</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-06-30_1231" title="Permanent link">&para;</a></h4>
<p>The whole logic when what bootloader install script<br />
is actually installing its specific bootloader<br />
confuses me.</p>
<p>In<br />
<a href="https://github.com/jsmeix/rear/tree/perfer_to_run_GRUB_install_script_as_specified_issue895">https://github.com/jsmeix/rear/tree/perfer_to_run_GRUB_install_script_as_specified_issue895</a><br />
I tried to overhaul finalize/Linux-i386/21_install_grub.sh<br />
but I fear I introduced regressions.</p>
<p>I need to test it.</p>
<p>For now<br />
<a href="https://github.com/jsmeix/rear/tree/perfer_to_run_GRUB_install_script_as_specified_issue895">https://github.com/jsmeix/rear/tree/perfer_to_run_GRUB_install_script_as_specified_issue895</a><br />
is only there FYI so that you can have a look.</p>
<p>@gdha<br />
could you check my comments in<br />
<a href="https://github.com/jsmeix/rear/blob/perfer_to_run_GRUB_install_script_as_specified_issue895/usr/share/rear/finalize/Linux-i386/21_install_grub.sh">https://github.com/jsmeix/rear/blob/perfer_to_run_GRUB_install_script_as_specified_issue895/usr/share/rear/finalize/Linux-i386/21_install_grub.sh</a><br />
whether or not my reasoning makes sense?</p>
<p>In particular I have now in finalize/Linux-i386/21_install_grub.sh</p>
<pre>
# If the BOOTLOADER variable (read by finalize/default/01_prepare_checks.sh)
# is not "GRUB" (which means GRUB Legacy) skip this script (which is only for GRUB Legacy)
# because finalize/Linux-i386/22_install_grub2.sh is for installing GRUB 2
# and finalize/Linux-i386/22_install_elilo.sh is for installing elilo:
test "GRUB" = "$BOOTLOADER" || return
</pre>

<p>But I wonder what is the intended way what "rear recover"<br />
should do if no BOOTLOADER value exists?</p>
<p>Is then "NOBOOTLOADER=1" the right default?</p>
<p>Or should perhaps "rear recover" install GRUB 2<br />
as fallback if no BOOTLOADER value exists?</p>
<h4 id="jsmeix_commented_at_2016-06-30_1310"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-229652996">2016-06-30 13:10</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-06-30_1310" title="Permanent link">&para;</a></h4>
<p>I tested<br />
<a href="https://github.com/jsmeix/rear/tree/perfer_to_run_GRUB_install_script_as_specified_issue895">https://github.com/jsmeix/rear/tree/perfer_to_run_GRUB_install_script_as_specified_issue895</a><br />
on a SLES11-SP4 system that uses GRUB Legacy:</p>
<pre>
# rpm -qa | grep -i grub
grub-0.97-162.172.1
</pre>

<p>There it still "just works" (at least for me):</p>
<pre>
RESCUE f96:~ # cat /var/lib/rear/recovery/bootloader 
GRUB
RESCUE f96:~ # rear -d -D recover
Relax-and-Recover 1.18 / Git
...
Recreated initramfs (mkinitrd).
Installing GRUB Legacy boot loader:
Installed GRUB Legacy boot loader with /boot on disk with MBR booted on 'device (hd0) /dev/sda' with 'root (hd0,1)'.
Updating udev configuration (70-persistent-net.rules)
...
Finished recovering your system. You can explore it under '/mnt/local'.
</pre>

<p>@GCChelp<br />
can you please use<br />
<a href="https://github.com/jsmeix/rear/tree/perfer_to_run_GRUB_install_script_as_specified_issue895">https://github.com/jsmeix/rear/tree/perfer_to_run_GRUB_install_script_as_specified_issue895</a><br />
for a test on your openSUSE 13.1 system with GRUB Legacy.</p>
<p>I assume it will not yet work for you because I did not<br />
remove the test for</p>
<pre>
type -p grub-probe || type -p grub2-probe
</pre>

<p>but I show now that message</p>
<pre>
Skip installing GRUB Legacy boot loader
because GRUB 2 is installed
(grub-probe or grub2-probe exist).
</pre>

<p>I assume you will get that message<br />
but I would appreciate it if you could try it out<br />
and confirm if my assumption is right (or not).</p>
<h4 id="jsmeix_commented_at_2016-06-30_1321"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-229655856">2016-06-30 13:21</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-06-30_1321" title="Permanent link">&para;</a></h4>
<p>@GCChelp<br />
only FYI if needed how to use something like<br />
<a href="https://github.com/jsmeix/rear/tree/perfer_to_run_GRUB_install_script_as_specified_issue895">https://github.com/jsmeix/rear/tree/perfer_to_run_GRUB_install_script_as_specified_issue895</a><br />
for a test:</p>
<p>Basically "git clone" it into a directory and<br />
then run rear from within that directory.</p>
<p>This is how I did in on my above mentioned SLES11-SP4 system:</p>
<pre>
# git clone https://github.com/jsmeix/rear.git
Cloning into 'rear'...
# cd rear
# git branch -a
* master
...
  remotes/origin/perfer_to_run_GRUB_install_script_as_specified_issue895
# git checkout -b perfer_to_run_GRUB_install_script_as_specified_issue895 origin/perfer_to_run_GRUB_install_script_as_specified_issue895
Branch perfer_to_run_GRUB_install_script_as_specified_issue895 set up to track remote branch perfer_to_run_GRUB_install_script_as_specified_issue895 from origin.
Switched to a new branch 'perfer_to_run_GRUB_install_script_as_specified_issue895'
# vi etc/rear/local.conf
...
# grep -v '^#' etc/rear/local.conf
OUTPUT=ISO
BACKUP=NETFS
BACKUP_OPTIONS="nfsvers=3,nolock"
BACKUP_URL=nfs://10.160.4.244/nfs
NETFS_KEEP_OLD_BACKUP_COPY=yes
SSH_ROOT_PASSWORD="rear"
USE_DHCLIENT="yes"
KEEP_BUILD_DIR=""
# usr/sbin/rear -d -D mkbackup
...
</pre>

<h4 id="jsmeix_commented_at_2016-06-30_1338"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-229660412">2016-06-30 13:38</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-06-30_1338" title="Permanent link">&para;</a></h4>
<p>Interestingly on my openSUSE 13.1 system I have by default<br />
both GRUB Legacy and GRUB 2 RPMs installed:</p>
<pre>
# cat /etc/os-release
NAME=openSUSE
VERSION="13.1 (Bottle)"
VERSION_ID="13.1"
PRETTY_NAME="openSUSE 13.1 (Bottle) (x86_64)"
# rpm -qa | grep -i grub
grub2-2.00-39.1.3.x86_64
grub-0.97-194.1.2.x86_64
grub2-i386-pc-2.00-39.1.3.x86_64
grub2-x86_64-efi-2.00-39.1.3.x86_64
grub2-branding-openSUSE-13.1-10.4.13.noarch
# type -p grub-probe
# type -p grub2-probe
/usr/sbin/grub2-probe
</pre>

<p>This means the test for</p>
<pre>
type -p grub-probe || type -p grub2-probe
</pre>

<p>succeeds which results that during "rear recover"</p>
<pre>
Skip installing GRUB Legacy boot loader
because GRUB 2 is installed
(grub-probe or grub2-probe exist).
</pre>

<h4 id="jsmeix_commented_at_2016-06-30_1345"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-229662423">2016-06-30 13:45</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-06-30_1345" title="Permanent link">&para;</a></h4>
<p>I tested<br />
<a href="https://github.com/jsmeix/rear/tree/perfer_to_run_GRUB_install_script_as_specified_issue895">https://github.com/jsmeix/rear/tree/perfer_to_run_GRUB_install_script_as_specified_issue895</a><br />
on a SLES12-SP1 system that uses GRUB 2:</p>
<pre>
# rpm -qa | grep -i grub
grub2-2.02~beta2-69.1.x86_64
grub2-branding-SLE-12-11.3.1.noarch
grub2-i386-pc-2.02~beta2-69.1.x86_64
grub2-snapper-plugin-2.02~beta2-69.1.noarch
</pre>

<p>There it also still "just works" (at least for me):</p>
<pre>
RESCUE e229:~ # cat /var/lib/rear/recovery/bootloader
GRUB2
RESCUE e229:~ # rear -d -D recover
Relax-and-Recover 1.18 / Git
...
Recreated initramfs (mkinitrd).
Installing GRUB2 boot loader
Finished recovering your system. You can explore it under '/mnt/local'.
</pre>

<h4 id="gcchelp_commented_at_2016-07-01_1325"><img src="https://avatars.githubusercontent.com/u/19816134?v=4" width="50"><a href="https://github.com/GCChelp">GCChelp</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-229945780">2016-07-01 13:25</a>:<a class="headerlink" href="#gcchelp_commented_at_2016-07-01_1325" title="Permanent link">&para;</a></h4>
<p>@jsmeix<br />
Thanks a lot for providing the "git clone" information. Would have been
hard for me without this!</p>
<blockquote>
<p>but I show now that message</p>
<p>Skip installing GRUB Legacy boot loader<br />
because GRUB 2 is installed<br />
(grub-probe or grub2-probe exist).</p>
<p>I assume you will get that message<br />
but I would appreciate it if you could try it out<br />
and confirm if my assumption is right (or not).</p>
</blockquote>
<p>You are right, I got</p>
<blockquote>
<p>Skip installing GRUB Legacy boot loader because GRUB 2 is installed
(grub-probe or grub2-probe exist).<br />
Installing GRUB2 boot loader</p>
</blockquote>
<p>BTW:</p>
<blockquote>
<h1 id="cat_varlibrearrecoverybootloader">cat /var/lib/rear/recovery/bootloader<a class="headerlink" href="#cat_varlibrearrecoverybootloader" title="Permanent link">&para;</a></h1>
<p><code>GRUB</code></p>
</blockquote>
<h4 id="jsmeix_commented_at_2016-07-01_1351"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-229952174">2016-07-01 13:51</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-07-01_1351" title="Permanent link">&para;</a></h4>
<p>@GCChelp<br />
because you do not use GRUB 2 on your system<br />
I assume you no not need /usr/sbin/grub2-probe<br />
on your system so that you could move it away with</p>
<pre>
# mv /usr/sbin/grub2-probe /usr/sbin/grub2-probe.away
</pre>

<p>as a dirty hack to make "rear recover" work on<br />
your particular system - at least for now because<br />
I need more time to find out about the reason behind<br />
why that special code is there not to simply trust when<br />
the value in /var/lib/rear/recovery/bootloader is "GRUB"<br />
(i.e. I like to avoid regressions on whatever other Linux<br />
distributions if I simply remove that code).</p>
<h4 id="gdha_commented_at_2016-07-04_1141"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-230271596">2016-07-04 11:41</a>:<a class="headerlink" href="#gdha_commented_at_2016-07-04_1141" title="Permanent link">&para;</a></h4>
<p>@jsmeix Your script version of 21_install_grub.sh looks ok to me. We
can give it a try (+1)<br />
The <strong>NOBOOTLOADER</strong> variable is meant as a kind of being desperate of
not knowing what to do when there is no bootloader found. It was (and
still is) up the the user to decide then. What else can we do? Make some
suggestions, but I wouldn't make a decision on his behalf as some will
like it, where others will be angry...</p>
<h4 id="jsmeix_commented_at_2016-07-04_1212"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-230276612">2016-07-04 12:12</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-07-04_1212" title="Permanent link">&para;</a></h4>
<p>With
<a href="https://github.com/rear/rear/pull/900">https://github.com/rear/rear/pull/900</a>
I merged<br />
<a href="https://github.com/jsmeix/rear/tree/perfer_to_run_GRUB_install_script_as_specified_issue895">https://github.com/jsmeix/rear/tree/perfer_to_run_GRUB_install_script_as_specified_issue895</a></p>
<p>It is still not fully reliably installing the right bootloader:<br />
When GRUB 2 is installed in addition to GRUB Legacy<br />
it still prefers to install GRUB 2 as bootloader<br />
even if the BOOTLOADER variable tells "GRUB"<br />
(which means GRUB Legacy).</p>
<p>I.e. further work is needed...</p>
<p>An idea how to further improve it:</p>
<p>If GRUB 2 and GRUB Legacy are installed and<br />
the BOOTLOADER variable tells "GRUB",<br />
then install GRUB Legacy as bootloader.</p>
<p>In contrast if GRUB Legacy is not installed then<br />
do not install GRUB Legacy as bootloader<br />
in finalize/Linux-i386/21_install_grub.sh<br />
even if the BOOTLOADER variable tells "GRUB".<br />
In this case hope for the best that then GRUB 2 is installed.<br />
In finalize/Linux-i386/22_install_grub2.sh do the following:<br />
If GRUB 2 is installed then install GRUB 2 as bootloader<br />
even if the BOOTLOADER variable tells "GRUB".</p>
<h4 id="gcchelp_commented_at_2016-07-05_0542"><img src="https://avatars.githubusercontent.com/u/19816134?v=4" width="50"><a href="https://github.com/GCChelp">GCChelp</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-230391804">2016-07-05 05:42</a>:<a class="headerlink" href="#gcchelp_commented_at_2016-07-05_0542" title="Permanent link">&para;</a></h4>
<p>@jsmeix<br />
It seems that openSUSE 13.1 installed both, GRUB legacy <em>and</em> GRUB 2 by
default.</p>
<p>Concerning the dirty hack, I found another workaround:<br />
If I simply deinstall all GRUB 2 rpms, the machine still is able to boot
and rear is finally working.<br />
I could even perform my first successful rear recover with this setup!
:-)</p>
<p>Regarding the BOOTLOADER variable and the file
/var/lib/rear/recovery/bootloader : Where does this value come from? How
is it determined and defined?</p>
<h4 id="jsmeix_commented_at_2016-07-11_0909"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-231680743">2016-07-11 09:09</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-07-11_0909" title="Permanent link">&para;</a></h4>
<p>@GCChelp<br />
regarding<br />
"openSUSE 13.1 installed both, GRUB legacy and GRUB 2 by default":<br />
Yes, see my<br />
<a href="https://github.com/rear/rear/issues/895#issuecomment-229660412">https://github.com/rear/rear/issues/895#issuecomment-229660412</a></p>
<p>Regarding<br />
"deinstall all GRUB 2 ... successful rear recover":<br />
Many thanks for the positive feedback!</p>
<p>Regarding<br />
"BOOTLOADER ... Where does this value come from?":<br />
This is what I need to learn and understand as a precondition<br />
to further improve that the actually right bootloader gets installed<br />
during "rear recover".</p>
<p>Because of this I like to keep this issue open because<br />
in general it is not really solved regardless that for this<br />
special case here a workaround (deinstall GRUB 2) exists.</p>
<h4 id="stoxxys_commented_at_2016-07-13_1244"><img src="https://avatars.githubusercontent.com/u/20321580?v=4" width="50"><a href="https://github.com/stoxxys">stoxxys</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-232343557">2016-07-13 12:44</a>:<a class="headerlink" href="#stoxxys_commented_at_2016-07-13_1244" title="Permanent link">&para;</a></h4>
<p>I had the same error in openSUSE 42.1:<br />
You need to edit
/usr/share/rear/finalize/Linux-i386/21_install_grub.sh</p>
<p>You need to change the bootloader settings part like this and it will
work:</p>
<p>...</p>
<p>#skip if another bootloader was installed<br />
if [[ -z "$NOBOOTLOADER" ]] ; then<br />
return<br />
fi</p>
<p>#for UEFI systems with grub legacy with should use efibootmgr instead<br />
[[ ! -z "$USING_UEFI_BOOTLOADER" ]] &amp;&amp; return # not empty means
UEFI booting<br />
**<br />
#check the BOOTLOADER variable (read by 01_prepare_checks.sh script)</p>
<p>if [[ "$BOOTLOADER" = "GRUB" || "$BOOTLOADER" = "GRUB2" ]]; then<br />
# grub2 script should handle this instead<br />
return<br />
fi</p>
<p>#Only for GRUB Legacy - GRUB2 will be handled by its own script<br />
if [[ -z "$(type -p grub)" ]]; then<br />
return<br />
fi<br />
...</p>
<h4 id="jsmeix_commented_at_2016-07-13_1303"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-232347930">2016-07-13 13:03</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-07-13_1303" title="Permanent link">&para;</a></h4>
<p>@stoxxys<br />
please provide a GitHub pull request with your changes<br />
so that I can reliably see your exact changes<br />
(a GitHub pull request provides a nice diff)<br />
or at least provide a "diff -u" output preferably<br />
as a uploaded file or at least here enclosed<br />
in &lt;pre&gt; ... &lt;/pre&gt;</p>
<h4 id="jsmeix_commented_at_2016-07-13_1306"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-232348695">2016-07-13 13:06</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-07-13_1306" title="Permanent link">&para;</a></h4>
<p>@stoxxys<br />
what "grub*" RPM packages have you installed on<br />
your openSUSE Leap 42.1 system?</p>
<p>On my openSUSE Leap 42.1 system I have only grub2*<br />
packages</p>
<pre>
# cat /etc/os-release 
NAME="openSUSE Leap"
VERSION="42.1"
VERSION_ID="42.1"
PRETTY_NAME="openSUSE Leap 42.1 (x86_64)"
...
# rpm -qa | grep -i grub
grub2-i386-pc-2.02~beta2-76.1.x86_64
grub2-2.02~beta2-76.1.x86_64
grub2-x86_64-efi-2.02~beta2-76.1.x86_64
grub2-branding-openSUSE-42.1-6.2.noarch
grub2-snapper-plugin-2.02~beta2-76.1.noarch
</pre>

<p>and for me "rear recover" just works there.</p>
<h4 id="jsmeix_commented_at_2016-07-13_1419"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-232369458">2016-07-13 14:19</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-07-13_1419" title="Permanent link">&para;</a></h4>
<p>@stoxxys<br />
your /usr/share/rear/finalize/Linux-i386/21_install_grub.sh<br />
in your
<a href="https://github.com/rear/rear/issues/895#issuecomment-232343557">https://github.com/rear/rear/issues/895#issuecomment-232343557</a><br />
is not the current rear master, in particular ist is not<br />
my latest version from
<a href="https://github.com/rear/rear/pull/900">https://github.com/rear/rear/pull/900</a></p>
<p>Please report issues with older rear versions as separated<br />
issues and do not mix up your issues into other issues.</p>
<p>In general in case of issues preferably try to reproduce them<br />
with newest rear master code.</p>
<p>In general regarding how to test with<br />
the currently newest rear GitHub master code:</p>
<pre>
# git clone https://github.com/rear/rear.git
# cd rear
# vi etc/rear/local.conf
# usr/sbin/rear -d -D mkbackup
and finally test whether "rear -d -D recover" works
</pre>

<h4 id="gdha_commented_at_2016-09-13_1426"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-246698887">2016-09-13 14:26</a>:<a class="headerlink" href="#gdha_commented_at_2016-09-13_1426" title="Permanent link">&para;</a></h4>
<p>@GCChelp Do you still need some assistance from us or are you good to
close it?</p>
<h4 id="gcchelp_commented_at_2016-09-14_0953"><img src="https://avatars.githubusercontent.com/u/19816134?v=4" width="50"><a href="https://github.com/GCChelp">GCChelp</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-246962861">2016-09-14 09:53</a>:<a class="headerlink" href="#gcchelp_commented_at_2016-09-14_0953" title="Permanent link">&para;</a></h4>
<p>@gdha<br />
For me the workaround was fine, no further assistance required. Thanks
for asking!</p>
<p>@jsmeix<br />
Do you consider this issue fixed in the next Rear release?</p>
<h4 id="jsmeix_commented_at_2016-09-15_1408"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/895#issuecomment-247338543">2016-09-15 14:08</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-09-15_1408" title="Permanent link">&para;</a></h4>
<p>All what is shown as "merged" above will be in the next<br />
Relay-and-Recover release.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2023 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2016-06-27.895.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
