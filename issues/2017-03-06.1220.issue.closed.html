<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>2017 03 06.1220.issue.closed - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "2017 03 06.1220.issue.closed";
        var mkdocs_page_input_path = "issues/2017-03-06.1220.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/rust.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', '366986045', 'auto');
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li>2017 03 06.1220.issue.closed</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1220_issue_closed_turn_off_30_seconds_counter_while_rear_recover"><a href="https://github.com/rear/rear/issues/1220">#1220 Issue</a> <code>closed</code>: turn off 30 seconds counter while rear recover<a class="headerlink" href="#1220_issue_closed_turn_off_30_seconds_counter_while_rear_recover" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>fixed / solved / done</code>,
<code>external tool</code>, <code>Dedicated Priority Support</code></p>
<h4 id="rolfweilen_opened_issue_at_2017-03-06_1413"><img src="https://avatars.githubusercontent.com/u/20532944?v=4" width="50"><a href="https://github.com/RolfWeilen">RolfWeilen</a> opened issue at <a href="https://github.com/rear/rear/issues/1220">2017-03-06 14:13</a>:<a class="headerlink" href="#rolfweilen_opened_issue_at_2017-03-06_1413" title="Permanent link">&para;</a></h4>
<h4 id="relax-and-recover_rear_issue_template">Relax-and-Recover (rear) Issue Template<a class="headerlink" href="#relax-and-recover_rear_issue_template" title="Permanent link">&para;</a></h4>
<p>Please fill in the following items before submitting a new issue (quick
response is not guaranteed with free support):</p>
<ul>
<li>rear version (/usr/sbin/rear -V):<br />
    Relax-and-Recover 2.00-git201701271258 / 2017-01-27</li>
</ul>
<p>Hi<br />
On the rear recover work, on all steps there is an 30 seconds counter.
After this time rear goes to the next step. Can i set this counter
higher or even turn it off to wait for user action? In my case i don't
need to go automatically to the next step.<br />
Regards<br />
Rolf</p>
<h4 id="jsmeix_commented_at_2017-03-07_1038"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1220#issuecomment-284685018">2017-03-07 10:38</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-03-07_1038" title="Permanent link">&para;</a></h4>
<p>Not for me.<br />
For me "rear recover" runs fast as lightning.</p>
<p>First and foremost see<br />
<a href="https://raw.githubusercontent.com/rear/rear/master/.github/ISSUE_TEMPLATE.md">https://raw.githubusercontent.com/rear/rear/master/.github/ISSUE_TEMPLATE.md</a></p>
<p>Furthermore you may have a look at<br />
"Debugging issues with Relax-and-Recover" in<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<h4 id="rolfweilen_commented_at_2017-03-07_1050"><img src="https://avatars.githubusercontent.com/u/20532944?v=4" width="50"><a href="https://github.com/RolfWeilen">RolfWeilen</a> commented at <a href="https://github.com/rear/rear/issues/1220#issuecomment-284687708">2017-03-07 10:50</a>:<a class="headerlink" href="#rolfweilen_commented_at_2017-03-07_1050" title="Permanent link">&para;</a></h4>
<p>Sorry about missing information.</p>
<ul>
<li>
<p>rear version (/usr/sbin/rear -V):<br />
    Relax-and-Recover 2.00-git201701271258 / 2017-01-27</p>
</li>
<li>
<p>OS version (cat /etc/rear/os.conf or lsb_release -a):<br />
    OS_VENDOR=RedHatEnterpriseServer<br />
    OS_VERSION=7</p>
</li>
<li>
<p>rear configuration files (cat /etc/rear/site.conf or cat
    /etc/rear/local.conf):<br />
    $ cat /etc/rear/site.conf<br />
    AUTOEXCLUDE_MULTIPATH=N<br />
    OUTPUT=ISO<br />
    #OUTPUT_URL=file:/var/lib/rear/output/<br />
    OUTPUT_URL=null<br />
    ISO_DEFAULT=manuel<br />
    TIMESYNC=NTP<br />
    BACKUP=TSM<br />
    TSM_RESULT_SAVE=n<br />
    TSM_RESULT_FILE_PATH=<br />
    USE_DHCLIENT=y<br />
    USE_STATIC_NETWORKING=n</p>
<h1 id="include_only_rootvg">Include only rootvg<a class="headerlink" href="#include_only_rootvg" title="Permanent link">&para;</a></h1>
<p>ONLY_INCLUDE_VG=(h50l270vg00)</p>
<h1 id="add_an_group_entry">Add an group Entry<a class="headerlink" href="#add_an_group_entry" title="Permanent link">&para;</a></h1>
<p>GRUB_RESCUE=n</p>
</li>
<li>
<p>Are you using legacy BIOS or UEFI boot?<br />
    legacy BIOS</p>
</li>
<li>
<p>Brief description of the issue:</p>
</li>
<li>
<p>Work-around, if any:<br />
    No work arround</p>
</li>
</ul>
<h4 id="jsmeix_commented_at_2017-03-07_1116"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1220#issuecomment-284693538">2017-03-07 11:16</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-03-07_1116" title="Permanent link">&para;</a></h4>
<p>I am not a RHEL user but I don't see something<br />
obviously wrong in your /etc/rear/site.conf<br />
except the typo "ISO_DEFAULT=manuel"<br />
which should probably be "ISO_DEFAULT=manual"<br />
but that only affects the recovery system bootloader<br />
and not what happens during "rear recover".</p>
<p>I think you need to do<br />
"Debugging issues with Relax-and-Recover"<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a><br />
to find out what causes the delays during "rear recover".<br />
The ReaR log file has timestamps so that one should<br />
see where there is a 30 seconds delay.</p>
<p>FYI:<br />
At first glance it seems the functions in<br />
usr/share/rear/lib/bootloader-functions.sh<br />
that work with ISO_DEFAULT are not well<br />
prepared for unsupported ISO_DEFAULT values<br />
because I only find this setting</p>
<pre>
        # If ISO_DEFAULT is not set, set it to default 'boothd'
        if [ -z "$ISO_DEFAULT" ]; then
                ISO_DEFAULT="boothd"
        fi
</pre>

<p>but no fallback setting in case of<br />
unsupported ISO_DEFAULT values.</p>
<h4 id="rolfweilen_commented_at_2017-03-07_1133"><img src="https://avatars.githubusercontent.com/u/20532944?v=4" width="50"><a href="https://github.com/RolfWeilen">RolfWeilen</a> commented at <a href="https://github.com/rear/rear/issues/1220#issuecomment-284697321">2017-03-07 11:33</a>:<a class="headerlink" href="#rolfweilen_commented_at_2017-03-07_1133" title="Permanent link">&para;</a></h4>
<p>Hi</p>
<p><img alt="capture" src="https://cloud.githubusercontent.com/assets/20532944/23654714/35182f56-0332-11e7-874d-4bfc9652810c.PNG" /></p>
<h4 id="gozora_commented_at_2017-03-07_1136"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1220#issuecomment-284697749">2017-03-07 11:36</a>:<a class="headerlink" href="#gozora_commented_at_2017-03-07_1136" title="Permanent link">&para;</a></h4>
<p>Hello @RolfWeilen,</p>
<p>Maybe try to set <code>WAIT_SECS=0</code> in your <em>/etc/rear/local.conf</em></p>
<h4 id="rolfweilen_commented_at_2017-03-07_1445"><img src="https://avatars.githubusercontent.com/u/20532944?v=4" width="50"><a href="https://github.com/RolfWeilen">RolfWeilen</a> commented at <a href="https://github.com/rear/rear/issues/1220#issuecomment-284741103">2017-03-07 14:45</a>:<a class="headerlink" href="#rolfweilen_commented_at_2017-03-07_1445" title="Permanent link">&para;</a></h4>
<p>Hi<br />
thanks for the info, but it does not work. If i wait more the 30 sec,
rear goes to next step and finaly will start the restore.</p>
<p>add line in /etc/rear/site.conf<br />
WAIT_SECS=0</p>
<p>Enter date/time (YYYY-MM-DD HH:mm:ss) or press ENTER [30 secs]:
Skipping Point-In-Time Restore, will restore most recent data.</p>
<p>The TSM Server reports the following for this node:<br />
# Last Incr Date Type File Space Name  </p>
<hr />
<p>1 07-03-2017 13:54:40 XFS /<br />
2 07-03-2017 13:54:05 XFS /app/lib<br />
3 07-03-2017 13:54:40 XFS /boot<br />
4 07-03-2017 13:54:41 UNKNOWN /dev<br />
5 07-03-2017 13:54:40 XFS /home<br />
6 07-03-2017 13:54:41 XFS /usr/local<br />
7 07-03-2017 13:54:44 XFS /var/log<br />
8 07-03-2017 13:54:44 XFS /var/log/suva<br />
Please enter the numbers of the filespaces we should restore.<br />
Pay attention to enter the filesystems in the correct order<br />
(like restore / before /var/log) !<br />
(default: 1 2 3 5 6 7 8): [30 secs] We will now restore the following
filesystems:<br />
/<br />
/app/lib<br />
/boot<br />
/home<br />
/usr/local<br />
/var/log<br />
/var/log/suva<br />
Is this selection correct ? (Y|n) [30 secs]</p>
<h4 id="jsmeix_commented_at_2017-03-07_1514"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1220#issuecomment-284749815">2017-03-07 15:14</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-03-07_1514" title="Permanent link">&para;</a></h4>
<p>I think I cannot help further here<br />
because I know nothing at all about TSM<br />
(or any other third-party backup solution).</p>
<h4 id="rolfweilen_commented_at_2017-03-07_1553"><img src="https://avatars.githubusercontent.com/u/20532944?v=4" width="50"><a href="https://github.com/RolfWeilen">RolfWeilen</a> commented at <a href="https://github.com/rear/rear/issues/1220#issuecomment-284762096">2017-03-07 15:53</a>:<a class="headerlink" href="#rolfweilen_commented_at_2017-03-07_1553" title="Permanent link">&para;</a></h4>
<p>Hi<br />
This has nothing to with tsm. I found the code in the scripts.<br />
Set to 0 means 30. I try to increase the value to higher as 30. A value
to wait for user interaction does not exist. So i will set the
WAIT_SECS=999999.</p>
<p>This value is then used in the needed tsm restore scripts.<br />
./verify/TSM/default/390_request_point_in_time_restore_parameters.sh<br />
./verify/TSM/default/400_verify_tsm.sh</p>
<p>./verify/default/040_validate_variables.sh<br />
if [[ ! -z "$WAIT_SECS" ]]; then<br />
WAIT_SECS=$( is_numeric $WAIT_SECS ) # if 0 then bsize was not
numeric<br />
[[ $WAIT_SECS -eq 0 ]] &amp;&amp; WAIT_SECS=30<br />
WAIT_SECS=30</p>
<h4 id="rolfweilen_commented_at_2017-03-07_1609"><img src="https://avatars.githubusercontent.com/u/20532944?v=4" width="50"><a href="https://github.com/RolfWeilen">RolfWeilen</a> commented at <a href="https://github.com/rear/rear/issues/1220#issuecomment-284767394">2017-03-07 16:09</a>:<a class="headerlink" href="#rolfweilen_commented_at_2017-03-07_1609" title="Permanent link">&para;</a></h4>
<p>Hi<br />
Thanks the parameter WAIT_SECS works! No i can wait for 1 year for an
user interaction.<br />
TSM restores by default the latest backup data. Alternatively you can
specify<br />
a different date and time to enable Point-In-Time Restore. Press ENTER
to<br />
use the most recent available backup<br />
Enter date/time (YYYY-MM-DD HH:mm:ss) or press ENTER [31104000 secs]:</p>
<p>Thank you for your help<br />
regards<br />
Rolf</p>
<h4 id="rolfweilen_commented_at_2017-03-07_1614"><img src="https://avatars.githubusercontent.com/u/20532944?v=4" width="50"><a href="https://github.com/RolfWeilen">RolfWeilen</a> commented at <a href="https://github.com/rear/rear/issues/1220#issuecomment-284768872">2017-03-07 16:14</a>:<a class="headerlink" href="#rolfweilen_commented_at_2017-03-07_1614" title="Permanent link">&para;</a></h4>
<p>Leave a comment</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2022 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2017-03-06.1220.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
