<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#1800 Issue closed: Support Question: Pipe output - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#1800 Issue closed: Support Question: Pipe output";
        var mkdocs_page_input_path = "issues/2018-05-08.1800.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#1800 Issue closed: Support Question: Pipe output</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1800_issue_closed_support_question_pipe_output"><a href="https://github.com/rear/rear/issues/1800">#1800 Issue</a> <code>closed</code>: Support Question: Pipe output<a class="headerlink" href="#1800_issue_closed_support_question_pipe_output" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>fixed / solved / done</code></p>
<h4 id="namezero111111_opened_issue_at_2018-05-08_1213"><img src="https://avatars.githubusercontent.com/u/1008646?u=3481c45084afe10193c920f71b6e29fe24adeb54&v=4" width="50"><a href="https://github.com/namezero111111">namezero111111</a> opened issue at <a href="https://github.com/rear/rear/issues/1800">2018-05-08 12:13</a>:<a class="headerlink" href="#namezero111111_opened_issue_at_2018-05-08_1213" title="Permanent link">&para;</a></h4>
<p>Dear folks,</p>
<p>we want to evaluate REAR, and want to backup a restoreable USB image to
Bareos, so we can just recover that to another machine, and recover from
there.</p>
<p>Is there a way to pipe the output of REAR into another process?</p>
<p>Thanks!</p>
<h4 id="gdha_commented_at_2018-05-08_1220"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1800#issuecomment-387383691">2018-05-08 12:20</a>:<a class="headerlink" href="#gdha_commented_at_2018-05-08_1220" title="Permanent link">&para;</a></h4>
<p>@namezero111111 Why not using <code>BACKUP=BAREOS</code> directly? See example
<a href="https://gist.github.com/gdha/178504db0f6e0099848c2963ece81b6a#file-rear-automated-test-sh-log-L203">https://gist.github.com/gdha/178504db0f6e0099848c2963ece81b6a#file-rear-automated-test-sh-log-L203</a></p>
<h4 id="namezero111111_commented_at_2018-05-08_1224"><img src="https://avatars.githubusercontent.com/u/1008646?u=3481c45084afe10193c920f71b6e29fe24adeb54&v=4" width="50"><a href="https://github.com/namezero111111">namezero111111</a> commented at <a href="https://github.com/rear/rear/issues/1800#issuecomment-387384551">2018-05-08 12:24</a>:<a class="headerlink" href="#namezero111111_commented_at_2018-05-08_1224" title="Permanent link">&para;</a></h4>
<p>Does doing so backup the recovery image to bareos, too?<br />
We would also like to be able to restore without network connectivity so
we can restore to test environments.</p>
<hr />
<p>Od: gdha <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
Wysłano: wtorek, 8 maja 2018 14:20<br />
Do: rear/rear<br />
DW: Andreas M. Iwanowski; Mention<br />
Temat: Re: [rear/rear] Support Question: Pipe output (#1800)</p>
<p>@namezero111111<a href="https://github.com/namezero111111">https://github.com/namezero111111</a>
Why not usingBACKUP=BAREOS directly? See example
<a href="https://gist.github.com/gdha/178504db0f6e0099848c2963ece81b6a#file-rear-automated-test-sh-log-L203">https://gist.github.com/gdha/178504db0f6e0099848c2963ece81b6a#file-rear-automated-test-sh-log-L203</a></p>
<p>—<br />
You are receiving this because you were mentioned.<br />
Reply to this email directly, view it on
GitHub<a href="https://github.com/rear/rear/issues/1800#issuecomment-387383691">https://github.com/rear/rear/issues/1800#issuecomment-387383691</a>,
or mute the
thread<a href="https://github.com/notifications/unsubscribe-auth/AA9kBql4131lld1u7nHDHwSk5YphnLgTks5twY2NgaJpZM4T2iB8">https://github.com/notifications/unsubscribe-auth/AA9kBql4131lld1u7nHDHwSk5YphnLgTks5twY2NgaJpZM4T2iB8</a>.</p>
<h4 id="gozora_commented_at_2018-05-08_1244"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1800#issuecomment-387389716">2018-05-08 12:44</a>:<a class="headerlink" href="#gozora_commented_at_2018-05-08_1244" title="Permanent link">&para;</a></h4>
<p>@namezero111111</p>
<p>Isn't it easier to do whole backup (ReaR recovery system + OS data) to
USB ?</p>
<p>V.</p>
<h4 id="namezero111111_commented_at_2018-05-08_1439"><img src="https://avatars.githubusercontent.com/u/1008646?u=3481c45084afe10193c920f71b6e29fe24adeb54&v=4" width="50"><a href="https://github.com/namezero111111">namezero111111</a> commented at <a href="https://github.com/rear/rear/issues/1800#issuecomment-387425413">2018-05-08 14:39</a>:<a class="headerlink" href="#namezero111111_commented_at_2018-05-08_1439" title="Permanent link">&para;</a></h4>
<p>Mhh... ok. Maybe this was phrased in an unfortunate way.<br />
We are trying to use Rear to have a full BMR of some CentOS6/7 machines.
This backup should be completely in Bareos, including the (custom?) boot
image for each machine.<br />
As an additional benefit, we would like to be able, if the necessity
arises, to be able to restore random machines in isolated environments
where they will not have access to the original Bareos server druing
restore.</p>
<p>For many machines, we backup the images directly from VMware to achieve
these goals. However, in some cases this option is not available for a
varietly of reasons, so we are looking into an alternative in these
cases.</p>
<h4 id="jsmeix_commented_at_2018-05-09_0859"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1800#issuecomment-387672181">2018-05-09 08:59</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-05-09_0859" title="Permanent link">&para;</a></h4>
<p>My untested first idea is to not change ReaR<br />
but to use ReaR as it is meant to be used<br />
and do the intended things "outside" of ReaR<br />
something like the following</p>
<p>Configure ReaR so that "rear mkrescue" stores<br />
the results on the local disk.</p>
<p>Configure the backup so that the "rear mkrescue"<br />
results are also included in the backup.</p>
<p>Run the backup directly if an external backup tool is used<br />
or run "rear mkbackuponly" if an internal backup tool is used<br />
to get a backup that also contains the "rear mkrescue" results.</p>
<p>Background information:</p>
<p>There is no feasible way (with reasonable effort)<br />
to pipe the output of ReaR into another process<br />
because ReaR does not write its output as a single<br />
stream of dats to a single file descriptor that could be<br />
redirected into a pipe.</p>
<p>Note that stdout and stdin are redirected into the ReaR log file,<br />
cf. "What to do with stdin, stdout, and stderr" at<br />
<a href="https://github.com/rear/rear/wiki/Coding-Style">https://github.com/rear/rear/wiki/Coding-Style</a></p>
<p>"rear mkrescue" produces various regular files,<br />
the so called RESULT_FILES (see default.conf).</p>
<p>ReaR supports to send the RESULT_FILES via<br />
mail (see default.conf).</p>
<p>ReaR does not support to output the RESULT_FILES<br />
as a data stream via a file descriptor that could be<br />
redirected into a pipe.</p>
<p>"rear mkbackup" produces the RESULT_FILES<br />
plus whatever specific kind of backup (files)<br />
that depend on the particular backup program<br />
that is called by ReaR and how support for that<br />
particular backup program is implemented in ReaR,<br />
cf. "Relax-and-Recover versus backup and restore" in<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<h4 id="jsmeix_commented_at_2018-05-09_0901"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1800#issuecomment-387673006">2018-05-09 09:01</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-05-09_0901" title="Permanent link">&para;</a></h4>
<p>@namezero111111<br />
in general regarding questions about third-party backup tools (like
Bareos)<br />
you should better directly ask those who make the third-party backup
tool.<br />
In particular I do not use any third-party backup tool so that<br />
I cannot answer any question about third-party backup tools.</p>
<h4 id="didacog_commented_at_2018-05-09_0953"><img src="https://avatars.githubusercontent.com/u/5380209?u=163f1571e6b9c9c7df94e2c6ca152b0a7406b52d&v=4" width="50"><a href="https://github.com/didacog">didacog</a> commented at <a href="https://github.com/rear/rear/issues/1800#issuecomment-387686773">2018-05-09 09:53</a>:<a class="headerlink" href="#didacog_commented_at_2018-05-09_0953" title="Permanent link">&para;</a></h4>
<p>@namezero111111</p>
<p>You can combine ReaR, <a href="https://github.com/brainupdaters/drlm">DRLM</a> and
BareOS.<br />
DRLM provides DR over network (PXE) and manages ReaR installations. You
can export/import DRLM images (rear backup + boot img PXE) from/to
different servers(clients) for testing, migrations or installations from
template DR image, then You can get those backups with BareOS from
/var/lib/drlm/arch in DRLM server with a standard BareOS backup job on a
convenient backup window.<br />
DRLM keeps a configurable number of DR images at disk, olders are
removed, you can always restore any older DR image from BareOS to any
DRLM server, import it to a DRLM client and recover it.</p>
<p>Hope this can help you.</p>
<p>Regards,<br />
Didac</p>
<h4 id="namezero111111_commented_at_2018-05-10_0613"><img src="https://avatars.githubusercontent.com/u/1008646?u=3481c45084afe10193c920f71b6e29fe24adeb54&v=4" width="50"><a href="https://github.com/namezero111111">namezero111111</a> commented at <a href="https://github.com/rear/rear/issues/1800#issuecomment-387962510">2018-05-10 06:13</a>:<a class="headerlink" href="#namezero111111_commented_at_2018-05-10_0613" title="Permanent link">&para;</a></h4>
<p>Ok thank you for all your expert advice. We will try the suggestions in
a test environment and report back!</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2018-05-08.1800.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
