<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2713 Issue closed: Problems with 1TB SanDisk USB driver rear - v mkrescue - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2713 Issue closed: Problems with 1TB SanDisk USB driver rear - v mkrescue";
        var mkdocs_page_input_path = "issues/2021-11-16.2713.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#2713 Issue closed: Problems with 1TB SanDisk USB driver rear - v mkrescue</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2713_issue_closed_problems_with_1tb_sandisk_usb_driver_rear_-_v_mkrescue"><a href="https://github.com/rear/rear/issues/2713">#2713 Issue</a> <code>closed</code>: Problems with 1TB SanDisk USB driver rear - v mkrescue<a class="headerlink" href="#2713_issue_closed_problems_with_1tb_sandisk_usb_driver_rear_-_v_mkrescue" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>fixed / solved / done</code></p>
<h4 id="epaiser_opened_issue_at_2021-11-16_0041"><img src="https://avatars.githubusercontent.com/u/94415209?v=4" width="50"><a href="https://github.com/epaiser">epaiser</a> opened issue at <a href="https://github.com/rear/rear/issues/2713">2021-11-16 00:41</a>:<a class="headerlink" href="#epaiser_opened_issue_at_2021-11-16_0041" title="Permanent link">&para;</a></h4>
<h4 id="relax-and-recover_rear_issue_template">Relax-and-Recover (ReaR) Issue Template<a class="headerlink" href="#relax-and-recover_rear_issue_template" title="Permanent link">&para;</a></h4>
<p>Fill in the following items before submitting a new issue<br />
(quick response is not guaranteed with free support):</p>
<ul>
<li>
<p>ReaR version ("/usr/sbin/rear -V"):<br />
    Relax-and-Recover 2.6-git.4317.be8b6ed.master / 2021-04-21</p>
</li>
<li>
<p>OS version ("cat /etc/os-release" or "lsb_release -a" or "cat
    /etc/rear/os.conf"):</p>
</li>
</ul>
<!-- -->

<pre><code>```
NAME="Ubuntu"
VERSION="18.04.6 LTS (Bionic Beaver)"
ID=ubuntu
ID_LIKE=debian
PRETTY_NAME="Ubuntu 18.04.6 LTS"
VERSION_ID="18.04"
HOME_URL="https://www.ubuntu.com/"
SUPPORT_URL="https://help.ubuntu.com/"
BUG_REPORT_URL="https://bugs.launchpad.net/ubuntu/"
PRIVACY_POLICY_URL="https://www.ubuntu.com/legal/terms-and-policies/privacy-policy"
VERSION_CODENAME=bionic
UBUNTU_CODENAME=bionic
```
</code></pre>
<ul>
<li>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
    /etc/rear/local.conf"):</li>
</ul>
<!-- -->

<pre><code>```
cat /etc/rear/site.conf
cat: /etc/rear/site.conf: No such file or directory

cat /etc/rear/local.conf
# Default is to create Relax-and-Recover rescue media as ISO image
# set OUTPUT to change that
# set BACKUP to activate an automated (backup and) restore of your data
# Possible configuration values can be found in /usr/share/rear/conf/default.conf
#
# This file (local.conf) is intended for manual configuration. For configuration
# through packages and other automated means we recommend creating a new
# file named site.conf next to this file and to leave the local.conf as it is.
# Our packages will never ship with a site.conf.
# ### write the rescue initramfs to USB and update the USB bootloader
OUTPUT=USB
#
# ### create a backup using the internal NETFS method, using 'tar'
BACKUP=NETFS
#
# ### write both rescue image and backup to the device labeled REAR-000
BACKUP_URL=usb:///dev/disk/by-label/REAR-000
```
</code></pre>
<ul>
<li>Hardware vendor/product (PC or PowerNV BareMetal or ARM) or VM (KVM
    guest or PowerVM LPAR):<br />
    Supermicro:<br />
    Product Name: SYS-7049A-T<br />
    Product Name: X11DAi-N</li>
</ul>
<!-- -->

<pre><code>```
System Information
        Manufacturer: Supermicro
        Product Name: SYS-7049A-T
        Version: 123456789
        Serial Number: S280025X9715928
        UUID: CFE28600-A1C1-11E9-8000-002590BC0F4E
        Wake-up Type: Power Switch
        SKU Number: 097A15D9
        Family: SMC X11

Handle 0x0002, DMI type 2, 15 bytes
Base Board Information
        Manufacturer: Supermicro
        Product Name: X11DAi-N
        Version: 1.10
        Serial Number: WM197S000330
        Asset Tag: WM197S000330
        Features:
                Board is a hosting board
                Board is replaceable
        Location In Chassis: Default string
        Chassis Handle: 0x0003
        Type: Motherboard
        Contained Object Handles: 0

```
</code></pre>
<ul>
<li>
<p>System architecture (x86 compatible or PPC64/PPC64LE or what exact
    ARM device):<br />
    x86_64</p>
</li>
<li>
<p>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or
    ELILO or Petitboot):</p>
</li>
</ul>
<!-- -->

<pre><code>```
 [ -d /sys/firmware/efi ] &amp;&amp; echo "EFI boot on HDD" || echo "Legacy boot on HDD"
EFI boot on HDD
BIOS Information
        Vendor: American Megatrends Inc.
        Version: 3.1
        Release Date: 05/03/2019
        Address: 0xF0000
        Runtime Size: 64 kB
        ROM Size: 32 MB
        Characteristics:
                PCI is supported
                BIOS is upgradeable
                BIOS shadowing is allowed
                Boot from CD is supported
                Selectable boot is supported
                BIOS ROM is socketed
                EDD is supported
                5.25"/1.2 MB floppy services are supported (int 13h)
                3.5"/720 kB floppy services are supported (int 13h)
                3.5"/2.88 MB floppy services are supported (int 13h)
                Print screen service is supported (int 5h)
                Serial services are supported (int 14h)
                Printer services are supported (int 17h)
                ACPI is supported
                USB legacy is supported
                BIOS boot specification is supported
                Targeted content distribution is supported
                UEFI is supported
        BIOS Revision: 5.14

```
</code></pre>
<ul>
<li>
<p>Storage (local disk or SSD) and/or SAN (FC or iSCSI or FCoE) and/or
    multipath (DM or NVMe):<br />
    NVMe 256GB</p>
</li>
<li>
<p>Storage layout ("lsblk -ipo
    NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,SIZE,MOUNTPOINT"):</p>
</li>
</ul>
<!-- -->

<pre><code>```
lsblk -ipo NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,SIZE,MOUNTPOINT
NAME             KNAME          PKNAME       TRAN   TYPE FSTYPE     SIZE MOUNTPOINT
/dev/loop0       /dev/loop0                         loop squashfs     4K /snap/bare/5
/dev/loop1       /dev/loop1                         loop squashfs  61.9M /snap/core20/1169
/dev/loop2       /dev/loop2                         loop squashfs  55.4M /snap/core18/2128
/dev/loop3       /dev/loop3                         loop squashfs   219M /snap/gnome-3-34-1804/72
/dev/loop4       /dev/loop4                         loop squashfs 162.9M /snap/gnome-3-28-1804/145
/dev/loop5       /dev/loop5                         loop squashfs  65.1M /snap/gtk-common-themes/1515
/dev/loop6       /dev/loop6                         loop squashfs  65.2M /snap/gtk-common-themes/1519
/dev/loop7       /dev/loop7                         loop squashfs   548K /snap/gnome-logs/106
/dev/loop8       /dev/loop8                         loop squashfs   2.5M /snap/gnome-calculator/884
/dev/loop9       /dev/loop9                         loop squashfs  99.5M /snap/core/11798
/dev/loop10      /dev/loop10                        loop squashfs 164.8M /snap/gnome-3-28-1804/161
/dev/loop11      /dev/loop11                        loop squashfs  99.4M /snap/core/11993
/dev/loop12      /dev/loop12                        loop squashfs   2.5M /snap/gnome-system-monitor/169
/dev/loop13      /dev/loop13                        loop squashfs   704K /snap/gnome-characters/761
/dev/loop14      /dev/loop14                        loop squashfs   116M /snap/cmake/955
/dev/loop15      /dev/loop15                        loop squashfs   704K /snap/gnome-characters/726
/dev/loop16      /dev/loop16                        loop squashfs   219M /snap/gnome-3-34-1804/66
/dev/loop17      /dev/loop17                        loop squashfs   2.5M /snap/gnome-calculator/826
/dev/loop18      /dev/loop18                        loop squashfs 241.4M /snap/gnome-3-38-2004/70
/dev/loop19      /dev/loop19                        loop squashfs   2.5M /snap/gnome-system-monitor/163
/dev/loop20      /dev/loop20                        loop squashfs 242.4M /snap/gnome-3-38-2004/76
/dev/loop21      /dev/loop21                        loop squashfs 110.8M /snap/cmake/936
/dev/loop22      /dev/loop22                        loop squashfs  55.5M /snap/core18/2246
/dev/loop23      /dev/loop23                        loop squashfs  61.8M /snap/core20/1081
/dev/loop24      /dev/loop24                        loop squashfs   548K /snap/gnome-logs/103
/dev/sda         /dev/sda                    sata   disk          931.5G
`-/dev/sda1      /dev/sda1      /dev/sda            part ext4     931.5G /data1
/dev/sdb         /dev/sdb                    sata   disk          931.5G
`-/dev/sdb1      /dev/sdb1      /dev/sdb            part ext4     931.5G /data2
/dev/sdc         /dev/sdc                    usb    disk            231G
|-/dev/sdc1      /dev/sdc1      /dev/sdc            part vfat       512M
`-/dev/sdc2      /dev/sdc2      /dev/sdc            part ext3     230.5G
/dev/sdd         /dev/sdd                    usb    disk          920.4G
|-/dev/sdd1      /dev/sdd1      /dev/sdd            part vfat       512M
`-/dev/sdd2      /dev/sdd2      /dev/sdd            part ext3     919.9G
/dev/nvme0n1     /dev/nvme0n1                nvme   disk          232.9G
|-/dev/nvme0n1p1 /dev/nvme0n1p1 /dev/nvme0n1 nvme   part vfat       512M /boot/efi
`-/dev/nvme0n1p2 /dev/nvme0n1p2 /dev/nvme0n1 nvme   part ext4     232.4G /
```
</code></pre>
<ul>
<li>Description of the issue (ideally so that others can reproduce
    it):<br />
    When doing:<br />
    "rear format /dev/sdd", then "rear -v mkrescue", got:</li>
</ul>
<!-- -->

<pre><code>```
Relax-and-Recover 2.6-git.4317.be8b6ed.master / 2021-04-21
Running rear mkrescue (PID 26879 date 2021-11-15 16:04:01)
Using log file: /var/log/rear/rear-Prisma.log
Running workflow mkrescue on the normal/original system
Using UEFI Boot Loader for Linux (USING_UEFI_BOOTLOADER=1)
Using autodetected kernel '/boot/vmlinuz-5.4.0-90-generic' as kernel in the recovery system
Creating disk layout
Overwriting existing disk layout file /var/lib/rear/layout/disklayout.conf
Docker is running, skipping filesystems mounted below Docker Root Dir /var/lib/docker
Disabling component 'disk /dev/sdc' in /var/lib/rear/layout/disklayout.conf
Disabling component 'part /dev/sdc' in /var/lib/rear/layout/disklayout.conf
Using guessed bootloader 'EFI' (found in first bytes on /dev/nvme0n1)
Verifying that the entries in /var/lib/rear/layout/disklayout.conf are correct
Created disk layout (check the results in /var/lib/rear/layout/disklayout.conf)
Creating recovery system root filesystem skeleton layout
Skipping 'docker0': not bound to any physical interface.
To log into the recovery system via ssh set up /root/.ssh/authorized_keys or specify SSH_ROOT_PASSWORD
Trying to find what to use as UEFI bootloader...
Trying to find a 'well known file' to be used as UEFI bootloader...
Using '/boot/efi/EFI/ubuntu/grubx64.efi' as UEFI bootloader file
Copying logfile /var/log/rear/rear-Prisma.log into initramfs as '/tmp/rear-Prisma-partial-2021-11-15T16:04:09-08:00.log'
Copying files and directories
Copying binaries and libraries
Copying all kernel modules in /lib/modules/5.4.0-90-generic (MODULES contains 'all_modules')
Copying all files in /lib*/firmware/
Symlink '/lib/modules/5.4.0-90-generic/build' -&gt; '/usr/src/linux-headers-5.4.0-90-generic' refers to a non-existing directory on the recovery system.
It will not be copied by default. You can include '/usr/src/linux-headers-5.4.0-90-generic' via the 'COPY_AS_IS' configuration variable.
Testing that the recovery system in /tmp/rear.ULGbHOPORxlGlVm/rootfs contains a usable system
Creating recovery/rescue system initramfs/initrd initrd.cgz with gzip default compression
Created initrd.cgz with gzip default compression (337413415 bytes) in 43 seconds
ERROR: /dev/disk/by-label/REAR-EFI is not block device. Use `rear format -- --efi &lt;USB_device_file&gt;' for correct format
Some latest log messages since the last called script 100_create_efiboot.sh:
  2021-11-15 16:05:38.346834862 Including output/USB/Linux-i386/100_create_efiboot.sh
  2021-11-15 16:05:38.351496120 Configuring device for EFI boot
Aborting due to an error, check /var/log/rear/rear-Prisma.log for details
Exiting rear mkrescue (PID 26879) and its descendant processes ...
Running exit tasks
Terminated
```
</code></pre>
<p>Then:<br />
After doing:<br />
"rear format -- --efi /dev/sdd ; rear -v mkrescue"</p>
<pre><code>```
rear -v mkrescue /dev/sdd
Relax-and-Recover 2.6-git.4317.be8b6ed.master / 2021-04-21
Running rear mkrescue (PID 13589 date 2021-11-15 16:17:43)
Using log file: /var/log/rear/rear-Prisma.log
Running workflow mkrescue on the normal/original system
Using UEFI Boot Loader for Linux (USING_UEFI_BOOTLOADER=1)
Using autodetected kernel '/boot/vmlinuz-5.4.0-90-generic' as kernel in the recovery system
Creating disk layout
Overwriting existing disk layout file /var/lib/rear/layout/disklayout.conf
Docker is running, skipping filesystems mounted below Docker Root Dir /var/lib/docker
Disabling component 'disk /dev/sdc' in /var/lib/rear/layout/disklayout.conf
Disabling component 'part /dev/sdc' in /var/lib/rear/layout/disklayout.conf
Disabling component 'disk /dev/sdd' in /var/lib/rear/layout/disklayout.conf
Disabling component 'part /dev/sdd' in /var/lib/rear/layout/disklayout.conf
Using guessed bootloader 'EFI' (found in first bytes on /dev/nvme0n1)
Verifying that the entries in /var/lib/rear/layout/disklayout.conf are correct
Created disk layout (check the results in /var/lib/rear/layout/disklayout.conf)
Creating recovery system root filesystem skeleton layout
Skipping 'docker0': not bound to any physical interface.
To log into the recovery system via ssh set up /root/.ssh/authorized_keys or specify SSH_ROOT_PASSWORD
Trying to find what to use as UEFI bootloader...
Trying to find a 'well known file' to be used as UEFI bootloader...
Using '/boot/efi/EFI/ubuntu/grubx64.efi' as UEFI bootloader file
Copying logfile /var/log/rear/rear-Prisma.log into initramfs as '/tmp/rear-Prisma-partial-2021-11-15T16:17:53-08:00.log'
Copying files and directories
Copying binaries and libraries
Copying all kernel modules in /lib/modules/5.4.0-90-generic (MODULES contains 'all_modules')
Copying all files in /lib*/firmware/
Symlink '/lib/modules/5.4.0-90-generic/build' -&gt; '/usr/src/linux-headers-5.4.0-90-generic' refers to a non-existing directory on the recovery system.
It will not be copied by default. You can include '/usr/src/linux-headers-5.4.0-90-generic' via the 'COPY_AS_IS' configuration variable.
Testing that the recovery system in /tmp/rear.XZv6065iNpD2iAK/rootfs contains a usable system
Creating recovery/rescue system initramfs/initrd initrd.cgz with gzip default compression
Created initrd.cgz with gzip default compression (337423025 bytes) in 43 seconds
GRUB2 modules to load: ext2 fat part_gpt
Saved /var/log/rear/rear-Prisma.log as rear/Prisma/20211115.1617/rear-Prisma.log
ERROR:
====================
BUG in /usr/share/rear/output/USB/Linux-i386/850_make_USB_bootable.sh line 40:
'Filesystem for device '/dev/sdd2' could not be found'
--------------------
Please report this issue at https://github.com/rear/rear/issues
and include the relevant parts from /var/log/rear/rear-Prisma.log
preferably with full debug information via 'rear -D mkrescue'
====================
Some latest log messages since the last called script 850_make_USB_bootable.sh:
  2021-11-15 16:19:29.772955493 Including output/USB/Linux-i386/850_make_USB_bootable.sh
Aborting due to an error, check /var/log/rear/rear-Prisma.log for details
Exiting rear mkrescue (PID 13589) and its descendant processes ...
Running exit tasks
Terminated
```
</code></pre>
<ul>
<li>
<p>Workaround, if any:<br />
    None</p>
</li>
<li>
<p>Attachments, as applicable ("rear -D mkrescue/mkbackup/recover"
    debug log files):</p>
</li>
</ul>
<p>To paste verbatim text like command output or file content,<br />
include it between a leading and a closing line of three backticks like</p>
<pre><code>```
verbatim content
```
</code></pre>
<h4 id="devil0000_commented_at_2021-11-17_1035"><img src="https://avatars.githubusercontent.com/u/3344302?v=4" width="50"><a href="https://github.com/DEvil0000">DEvil0000</a> commented at <a href="https://github.com/rear/rear/issues/2713#issuecomment-971447782">2021-11-17 10:35</a>:<a class="headerlink" href="#devil0000_commented_at_2021-11-17_1035" title="Permanent link">&para;</a></h4>
<p>I changed a lot for output=USB the last 1-2 month so the version from 21
Apr is a bit on the old side. Try using a newer master version please -
your issue may have been fixed.<br />
For the older version the <code>--efi</code> in format is correct.</p>
<h4 id="gdha_commented_at_2021-11-19_0847"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2713#issuecomment-973873320">2021-11-19 08:47</a>:<a class="headerlink" href="#gdha_commented_at_2021-11-19_0847" title="Permanent link">&para;</a></h4>
<p>@epaiser Try the deb package from
<a href="http://download.opensuse.org/repositories/Archiving:/Backup:/Rear:/Snapshot/xUbuntu_18.04/amd64/">http://download.opensuse.org/repositories/Archiving:/Backup:/Rear:/Snapshot/xUbuntu_18.04/amd64/</a>
which was build this week. This contains the updated USB format code.</p>
<h4 id="epaiser_commented_at_2021-11-29_1742"><img src="https://avatars.githubusercontent.com/u/94415209?v=4" width="50"><a href="https://github.com/epaiser">epaiser</a> commented at <a href="https://github.com/rear/rear/issues/2713#issuecomment-981864723">2021-11-29 17:42</a>:<a class="headerlink" href="#epaiser_commented_at_2021-11-29_1742" title="Permanent link">&para;</a></h4>
<p>The latest version solve the problem I have.<br />
But it didn't to work to save the system and restore to a different<br />
machine with different hardware (Supermicro -&gt; ASUS Motherboard).<br />
I will investigate more.<br />
Thank you anyway!!</p>
<p>On 11/17/2021 2:35 AM, A. Binzxxxxxx wrote:</p>
<blockquote>
<p>I changed a lot for output=USB the last 1-2 month so the version from
21<br />
Apr is a bit on the old side. Try using a newer master version please
-<br />
your issue may have been fixed.<br />
For the older version the |--efi | in format is correct.</p>
<p>—<br />
You are receiving this because you authored the thread.<br />
Reply to this email directly, view it on GitHub<br />
<a href="https://github.com/rear/rear/issues/2713#issuecomment-971447782">https://github.com/rear/rear/issues/2713#issuecomment-971447782</a>,
or<br />
unsubscribe<br />
<a href="https://github.com/notifications/unsubscribe-auth/AWQKS2N3STX4EAVCLZTCPCDUMOAQZANCNFSM5IC7ZCOA">https://github.com/notifications/unsubscribe-auth/AWQKS2N3STX4EAVCLZTCPCDUMOAQZANCNFSM5IC7ZCOA</a>.<br />
Triage notifications on the go with GitHub Mobile for iOS<br />
<a href="https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&amp;mt=8&amp;pt=524675">https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&amp;mt=8&amp;pt=524675</a><br />
or Android<br />
<a href="https://play.google.com/store/apps/details?id=com.github.android&amp;referrer=utm_campaign%3Dnotification-email%26utm_medium%3Demail%26utm_source%3Dgithub">https://play.google.com/store/apps/details?id=com.github.android&amp;referrer=utm_campaign%3Dnotification-email%26utm_medium%3Demail%26utm_source%3Dgithub</a>.</p>
</blockquote>
<p>--<br />
Ernesto Paiser - Senior Controls Engineer<br />
Sigray, Inc.<br />
5750 Imhoff Dr, Concord, CA 94520<br />
United States<br />
***@***.*** ***@***.***&gt;<br />
+1-650-503-3410</p>
<p>--</p>
<p>This email and any files transmitted with it are confidential and<br />
intended solely for the use of the individual or entity to whom they
are<br />
addressed. If you have received this email in error, please notify the<br />
system manager. This message contains confidential information and is<br />
intended only for the individual named. If you are not the named
addressee,<br />
you should not disseminate, distribute or copy this email. Please
notify<br />
the sender immediately by email if you have received this email by
mistake<br />
and delete this email from your system. If you are not the intended<br />
recipient, you are notified that disclosing, copying, distributing or<br />
taking any action in reliance on the contents of this information is<br />
strictly prohibited</p>
<h4 id="gdha_commented_at_2021-12-23_0837"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2713#issuecomment-1000134550">2021-12-23 08:37</a>:<a class="headerlink" href="#gdha_commented_at_2021-12-23_0837" title="Permanent link">&para;</a></h4>
<p>@epaiser Did you already try to add <code>MODULES=( 'all_modules' )</code> in your
local.conf file? However, there is no guarantee this will have the
desired behavior on different HW.</p>
<h4 id="jsmeix_commented_at_2022-01-03_0927"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2713#issuecomment-1003965554">2022-01-03 09:27</a>:<a class="headerlink" href="#jsmeix_commented_at_2022-01-03_0927" title="Permanent link">&para;</a></h4>
<p><code>MODULES=( 'all_modules' )</code> is in default.conf since ReaR version 2.5<br />
cf.
<a href="https://github.com/rear/rear/blob/master/doc/rear-release-notes.txt">https://github.com/rear/rear/blob/master/doc/rear-release-notes.txt</a><br />
and @epaiser got the matching "rear mkrescue" message</p>
<pre><code>Copying all kernel modules in /lib/modules/5.4.0-90-generic (MODULES contains 'all_modules')
</code></pre>
<p>so the recreating on different hardware failure has a different cause.</p>
<p>@epaiser<br />
in general see in particular the section<br />
"Fully compatible replacement hardware is needed" in<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<p>E.g. I think it cannot "just work" to switch from a SATA disk to a NVMe
disk<br />
because the kernel device name changes from /dev/sda to /dev/nvme0n1<br />
but ReaR stores kernel device names in
var/lib/rear/layout/disklayout.conf<br />
so one has to manually adapt that file and likely some other files
like<br />
var/lib/rear/layout/disktodo.conf<br />
var/lib/rear/layout/config/df.txt<br />
var/lib/rear/layout/diskdeps.conf<br />
to make "rear recover" work on replacement hardware with a NVMe disk<br />
when "rear mkrescue" was run on original hardware with a SATA disk.<br />
I don't know how far ReaR's MIGRATION_MODE helps in this case<br />
because I never migrated from SATA to NVMe myself.</p>
<h4 id="jsmeix_commented_at_2022-01-31_1059"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2713#issuecomment-1025614489">2022-01-31 10:59</a>:<a class="headerlink" href="#jsmeix_commented_at_2022-01-31_1059" title="Permanent link">&para;</a></h4>
<p>I guess the issue is meanwhile sufficiently solved<br />
where "sufficiently" could also mean it was found<br />
that migration is not possible with reasonable effort<br />
in this case.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2021-11-16.2713.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
