<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2445 PR merged: Fix issue #2441 & #2442 - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2445 PR merged: Fix issue #2441 \u0026 #2442";
        var mkdocs_page_input_path = "issues/2020-06-30.2445.pr.merged.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#2445 PR merged: Fix issue #2441 & #2442</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2445_pr_merged_fix_issue_2441_2442"><a href="https://github.com/rear/rear/pull/2445">#2445 PR</a> <code>merged</code>: Fix issue #2441 &amp; #2442<a class="headerlink" href="#2445_pr_merged_fix_issue_2441_2442" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>fixed / solved / done</code></p>
<h4 id="damanin_opened_issue_at_2020-06-30_0547"><img src="https://avatars.githubusercontent.com/u/37876601?u=832a55ad26fa192d411932dcf7a9f13187d79380&v=4" width="50"><a href="https://github.com/DamaniN">DamaniN</a> opened issue at <a href="https://github.com/rear/rear/pull/2445">2020-06-30 05:47</a>:<a class="headerlink" href="#damanin_opened_issue_at_2020-06-30_0547" title="Permanent link">&para;</a></h4>
<h5 id="pull_request_details">Pull Request Details:<a class="headerlink" href="#pull_request_details" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>Type: <strong>Enhancement</strong></p>
</li>
<li>
<p>Impact: <strong>High</strong></p>
</li>
<li>
<p>Reference to related issue (URL):</p>
</li>
</ul>
<p>#2441</p>
<ul>
<li>How was this pull request tested?</li>
</ul>
<p>Restored system from replica cluster running Rubrik CDM v5.2</p>
<ul>
<li>Brief description of the changes in this pull request:</li>
</ul>
<p>The RBS agent file name changed in Rubrik CDM v5.1. Failed over to the
new file name if the old file doesn't work.</p>
<h4 id="jsmeix_commented_at_2020-06-30_0717"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2445#issuecomment-651597317">2020-06-30 07:17</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-06-30_0717" title="Permanent link">&para;</a></h4>
<p>@rear/contributors<br />
I would appreciate a second review from any other ReaR contributor.</p>
<h4 id="damanin_commented_at_2020-06-30_1552"><img src="https://avatars.githubusercontent.com/u/37876601?u=832a55ad26fa192d411932dcf7a9f13187d79380&v=4" width="50"><a href="https://github.com/DamaniN">DamaniN</a> commented at <a href="https://github.com/rear/rear/pull/2445#issuecomment-651883744">2020-06-30 15:52</a>:<a class="headerlink" href="#damanin_commented_at_2020-06-30_1552" title="Permanent link">&para;</a></h4>
<blockquote>
<p>It seems via this pull request the file<br />
usr/share/rear/verify/CDM/default/400_verify_cdm.sh<br />
gets deleted.<br />
Is that intentional?</p>
</blockquote>
<p>Yes this is intentional. That file was causing the Rubrik agent to be
started twice. The functionality was moved to another file in an earlier
update but the file was never removed at that time. Starting the agent
twice was contributing to #2441.</p>
<h4 id="damanin_commented_at_2020-06-30_1929"><img src="https://avatars.githubusercontent.com/u/37876601?u=832a55ad26fa192d411932dcf7a9f13187d79380&v=4" width="50"><a href="https://github.com/DamaniN">DamaniN</a> commented at <a href="https://github.com/rear/rear/pull/2445#issuecomment-651997217">2020-06-30 19:29</a>:<a class="headerlink" href="#damanin_commented_at_2020-06-30_1929" title="Permanent link">&para;</a></h4>
<blockquote>
<p>I do not use <code>BACKUP=CDM</code> so I cannot test anything here but<br />
from plain looking at the code things look OK to me.</p>
<p>I wished there was a comment in the code<br />
(cf. "Code must be easy to understand" in
<a href="https://github.com/rear/rear/wiki/Coding-Style">https://github.com/rear/rear/wiki/Coding-Style</a>)<br />
that at least mentiones the issue #2441<br />
or even better directly tells about the source of this problem<br />
why two file names must be tried to dowload<br />
for example something like</p>
<pre><code># The name of the tar file that is being downloaded has changed in Rubrik CDM v5.1.
# Before Rubrik CDM v5.1 it was rubrik-agent-sunos5.10.sparc.tar.gz
# since Rubrik CDM v5.1 it is rubrik-agent-solaris.sparc.tar.gz
# cf. https://github.com/rear/rear/issues/2441
</code></pre>
</blockquote>
<p>Added this note in commit 7b1e26b9b8c43934e46d8a1f95c8b85168a807df.</p>
<h4 id="damanin_commented_at_2020-06-30_1942"><img src="https://avatars.githubusercontent.com/u/37876601?u=832a55ad26fa192d411932dcf7a9f13187d79380&v=4" width="50"><a href="https://github.com/DamaniN">DamaniN</a> commented at <a href="https://github.com/rear/rear/pull/2445#issuecomment-652003611">2020-06-30 19:42</a>:<a class="headerlink" href="#damanin_commented_at_2020-06-30_1942" title="Permanent link">&para;</a></h4>
<p>d86ca29cd561d49bb00ee64ee120a1ff042ae18a also fixes #2442.</p>
<h4 id="jsmeix_commented_at_2020-07-01_0619"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2445#issuecomment-652216097">2020-07-01 06:19</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-07-01_0619" title="Permanent link">&para;</a></h4>
<p>@DamaniN<br />
thank you for your prompt replies and your further code enhancements.</p>
<p>Now things are clear to me so I approve it.</p>
<h4 id="jsmeix_commented_at_2020-07-01_0621"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2445#issuecomment-652217001">2020-07-01 06:21</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-07-01_0621" title="Permanent link">&para;</a></h4>
<p>@rear/contributors<br />
a second review from another ReaR contributor would be nice to have.<br />
If there is none and if there are no objections I would "just merge" it
tomorrow afternoon.</p>
<h4 id="jsmeix_commented_at_2020-07-01_1005"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2445#issuecomment-652325350">2020-07-01 10:05</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-07-01_1005" title="Permanent link">&para;</a></h4>
<p>@gdha<br />
for the reason of the removal of
usr/share/rear/verify/CDM/default/400_verify_cdm.sh<br />
see
<a href="https://github.com/rear/rear/pull/2445#issuecomment-651883744">https://github.com/rear/rear/pull/2445#issuecomment-651883744</a></p>
<h4 id="jsmeix_commented_at_2020-07-22_1201"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2445#issuecomment-662413240">2020-07-22 12:01</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-07-22_1201" title="Permanent link">&para;</a></h4>
<p>I tested it as far as I could without a Rubrik (CDM) cluster
environment<br />
by simulating things as far as possible with reasonable effort.<br />
To me things look OK now.</p>
<p>If there are no objections I would like to merge it as is tomorrow
afternoon.<br />
We are in early ReaR 2.7 development phase so we can fix things if
needed.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2023 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2020-06-30.2445.pr.merged.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
