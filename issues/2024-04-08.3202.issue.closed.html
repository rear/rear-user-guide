<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#3202 Issue closed: What to improve in ReaR project as lesson learned from XZ Attack? - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#3202 Issue closed: What to improve in ReaR project as lesson learned from XZ Attack?";
        var mkdocs_page_input_path = "issues/2024-04-08.3202.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#3202 Issue closed: What to improve in ReaR project as lesson learned from XZ Attack?</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="3202_issue_closed_what_to_improve_in_rear_project_as_lesson_learned_from_xz_attack"><a href="https://github.com/rear/rear/issues/3202">#3202 Issue</a> <code>closed</code>: What to improve in ReaR project as lesson learned from XZ Attack?<a class="headerlink" href="#3202_issue_closed_what_to_improve_in_rear_project_as_lesson_learned_from_xz_attack" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>discuss / RFC</code>, <code>ReaR Project</code>, <code>no-issue-activity</code></p>
<h4 id="jsmeix_opened_issue_at_2024-04-08_1239"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> opened issue at <a href="https://github.com/rear/rear/issues/3202">2024-04-08 12:39</a>:<a class="headerlink" href="#jsmeix_opened_issue_at_2024-04-08_1239" title="Permanent link">&para;</a></h4>
<p>For background information about the XZ Attack see<br />
<a href="https://en.wikipedia.org/wiki/XZ_Utils_backdoor">https://en.wikipedia.org/wiki/XZ_Utils_backdoor</a><br />
and follow the links therein, in particular see<br />
<a href="https://tukaani.org/xz-backdoor/">https://tukaani.org/xz-backdoor/</a><br />
and<br />
<a href="https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27">https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27</a></p>
<h4 id="jsmeix_commented_at_2024-04-08_1254"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3202#issuecomment-2042685076">2024-04-08 12:54</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-04-08_1254" title="Permanent link">&para;</a></h4>
<p>I find in particular this one interesting:</p>
<p><a href="https://mastodon.social/@AndresFreundTec/112208281684931915">https://mastodon.social/@AndresFreundTec/112208281684931915</a></p>
<p>From my point of view the most important outcome in that discussion is
this<br />
posting (excerpt):</p>
<pre><code>Elias Probst @eliasp

@jejb so it all comes down to being able
to actually understand and review every contribution,
so it doesn't really matter in the end who contributed,
but what was contributed instead.
</code></pre>
<p>I.e. take out the "who" part from finding a solution<br />
how to avoid malicious code changes and<br />
focus on the code changes itself.</p>
<p>Another posting in that discussion also indicates<br />
that the "who" part likely does not help<br />
to avoid malicious code changes (excerpt):</p>
<pre><code>Christoph Petrausch @hikhvar@norden.social

@eliasp @AndresFreundTec But even with the web of trust.
How should that scale in a global way and also
not exclude less privileged people?

A student in a remote country side
wants to start contributing to code.
Welp, nobody there to establish web of trust.
</code></pre>
<p>I.e. trying to solve the "who" part via a "web of trust"<br />
does not work in practice.<br />
In contrast understanding what was contributed<br />
(regardless who contributed it)<br />
should work in practice.</p>
<p>From my personal point of view this means:</p>
<p>New code that is not easy to understand should be<br />
rejected at upstream by those upstream maintainers<br />
who review contributions from others<br />
regardless if some other one is an unknown newcomer<br />
or a "well known expert in sophisticated coding ingenuity".</p>
<p>Old code that is known to be OK since ages can stay as is.<br />
But when old code is changed the changes must be easy to understand<br />
(which may mean that bigger parts of old code must be overhauled).</p>
<p>Simply put:<br />
Code that is hard for others to understand must be rejected<br />
because it would be unmaintainable by others in the future.</p>
<p>So in the end from my personal point of view<br />
it means to more enforce what is meant with</p>
<p><a href="https://github.com/rear/rear/wiki/Coding-Style">https://github.com/rear/rear/wiki/Coding-Style</a></p>
<p>i.e. not some nitpicking coding syntax style "rules"<br />
(which cause more annoyance than being actually helpful)<br />
but to more enforce the overall idea behind:</p>
<pre><code>Make yourself understood
to make your code maintainable which means
at any time later others still understand your code
so they can properly fix and enhance your code as needed.
</code></pre>
<h4 id="gdha_commented_at_2024-04-08_1259"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/3202#issuecomment-2042697184">2024-04-08 12:59</a>:<a class="headerlink" href="#gdha_commented_at_2024-04-08_1259" title="Permanent link">&para;</a></h4>
<p>An important aspect is to meet the active contributors once personally.
A "web of trust" should be a "people of trust" (in our case). All ReaR
contributors have met each other in person - that helps.</p>
<h4 id="jsmeix_commented_at_2024-04-08_1308"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3202#issuecomment-2042718569">2024-04-08 13:08</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-04-08_1308" title="Permanent link">&para;</a></h4>
<p>In addition to enforce that code must be easy to understand<br />
I think we should also enforce to review all code changes.</p>
<p>This means that all code changes<br />
(also code changes by us, the upstream maintainers)<br />
must be approved by at least one other upstream maintainer<br />
even if that makes merging code changes into 'master' slower.</p>
<p>But I think that a certain kind of slowness is helpful<br />
because it results from "verify" in "Trust, but verify"<br />
<a href="https://en.wikipedia.org/wiki/Trust,_but_verify">https://en.wikipedia.org/wiki/Trust,_but_verify</a></p>
<p>In practice enforced code change reviews means<br />
that all code changes must happen via a pull request.</p>
<p>I mean only actual code changes (at least for now).<br />
I.e. all what changes what ReaR does on the user's system.</p>
<p>E.g. typo fixes in comments can still be directly merged<br />
regardless that even a "typo fix" in a comment may<br />
(unintentionally or by evil intent) be a false change<br />
of the meaning of a comment so others get a false<br />
understanding what (some weird looking) code<br />
actually does which could be a first step to do<br />
later a malicious change in the actual code.</p>
<h4 id="jsmeix_commented_at_2024-04-08_1313"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3202#issuecomment-2042728967">2024-04-08 13:13</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-04-08_1313" title="Permanent link">&para;</a></h4>
<p>@gdha<br />
yes, that all ReaR contributors have met each other in person<br />
does help very much.</p>
<p>But:</p>
<p>This would exclude people in far away countries.<br />
Currently I have no good idea how to solve that properly.</p>
<p>And it does not help when the account<br />
of a ReaR upstream maintainer got hijacked<br />
or when a ReaR upstream maintainer was tricked<br />
by a malicious external person.<br />
I think enforced code change reviews<br />
by at least one other upstream maintainer help.<br />
And at least two active upstream maintainers help<br />
against social engineering attrition of single<br />
upstream maintainers (as it happened to the<br />
single upstream maintainer during the XZ Attack).</p>
<h4 id="gdha_commented_at_2024-04-09_0634"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/3202#issuecomment-2044246020">2024-04-09 06:34</a>:<a class="headerlink" href="#gdha_commented_at_2024-04-09_0634" title="Permanent link">&para;</a></h4>
<p>As mentioned already mentioned before all Pull Requests must be reviewed
by another person then the author, and I would like to add an additional
third person - the co-called "approver" of the PR. This way there always
3 persons involved before a PR is getting merged.</p>
<h4 id="schlomo_commented_at_2024-04-09_0650"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/3202#issuecomment-2044265183">2024-04-09 06:50</a>:<a class="headerlink" href="#schlomo_commented_at_2024-04-09_0650" title="Permanent link">&para;</a></h4>
<p>We can enable <a href="https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/managing-protected-branches/about-protected-branches">branch
protection</a>
to help us "remember" the PR rule, although maintainers of course can
override that.</p>
<p>I'm against a 6-eyes approval, at least now, because I think that going
from "just do it" to "everything via PR" is already a big and probably
sometimes inconvenient step for us. As we don't have any actual problem,
I'd like to take this slowly, step by step. And inspect and adapt after
every change.</p>
<h4 id="jsmeix_commented_at_2024-04-09_0826"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3202#issuecomment-2044433154">2024-04-09 08:26</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-04-09_0826" title="Permanent link">&para;</a></h4>
<p>I also think that 6-eyes approval is too much for us for now.<br />
Often I don't get a single approval for my pull requests and<br />
when I get one I think it is often not after a thorough review.<br />
I totally understand this because in most cases I don't do<br />
a thorough review but only have a look if I spot something<br />
and if not I just trust you.</p>
<p>I always prefer to change things slowly, step by step.</p>
<p>In think for now it is enough to have some kind of "enforced"<br />
approval by at least one other upstream maintainer<br />
for pull requests from an upstream maintainer.</p>
<p>Perhaps we should "enforce" approval by at least<br />
two upstream maintainers for pull requests<br />
from external contributors?</p>
<p>With "enforce" I mean that we set up something in GitHub<br />
which we can of course override but that would at least<br />
remind us each time to not "just merge" something without<br />
approval by at least one other upstream maintainer.</p>
<p>FWIW:<br />
I remember well how @pcahyna asked me<br />
again and again questions during<br />
<a href="https://github.com/rear/rear/pull/2961">https://github.com/rear/rear/pull/2961</a><br />
because he did not understand my description in default.conf.<br />
I even felt somewhat annoyed by his insisting questions<br />
("why the heck doesn't he understand my nice description?")<br />
until finally I saw it that what I described<br />
did not match what I had implemented, cf.<br />
<a href="https://github.com/rear/rear/pull/2961#discussion_r1363679930">https://github.com/rear/rear/pull/2961#discussion_r1363679930</a><br />
I was blind regarding my own faulty description<br />
(from 09. Oct. 2023 until 18. Oct. 2023).<br />
I still cannot understand why I was so blind.<br />
So @pcahyna helped me to finally see my fault and<br />
he helped our users to not get my faulty description.</p>
<h4 id="gdha_commented_at_2024-04-09_0832"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/3202#issuecomment-2044443881">2024-04-09 08:32</a>:<a class="headerlink" href="#gdha_commented_at_2024-04-09_0832" title="Permanent link">&para;</a></h4>
<p>Perhaps, the biggest danger is not in the source code itself, but in the
produced ISO images stored on a NAS location where everybody (within a
company) can replace it with a malicious code (or whatever evil).</p>
<h4 id="schlomo_commented_at_2024-04-09_0839"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/3202#issuecomment-2044456334">2024-04-09 08:39</a>:<a class="headerlink" href="#schlomo_commented_at_2024-04-09_0839" title="Permanent link">&para;</a></h4>
<p>Yes, that is however by design and we shouldn't worry about it.</p>
<p>Maybe Secure Boot with custom keys can be used to create end-end secured
DR boot media</p>
<h4 id="jsmeix_commented_at_2024-04-09_0942"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3202#issuecomment-2044587483">2024-04-09 09:42</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-04-09_0942" title="Permanent link">&para;</a></h4>
<p>With this issue here I meant only our source code,<br />
in particular how to better ensure that our users<br />
actually get what we intended to provide them.</p>
<p>Regarding secure ReaR recovery system images:<br />
I don't remember there had been a user request in the past<br />
for a secured ReaR boot medium so at least currently<br />
this seems to be not an issue for our users.<br />
I assume our users know how to keep e.g. ReaR ISOs secure.<br />
I assume they handle ReaR boot media same as their backups.<br />
One does not want to restore a maliciously modified backup<br />
(e.g. where /usr/sbin/sshd got "additional functionality").</p>
<h4 id="jsmeix_commented_at_2024-04-12_1343"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3202#issuecomment-2051790940">2024-04-12 13:43</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-04-12_1343" title="Permanent link">&para;</a></h4>
<p>FYI:<br />
an openSUSE report about the XZ Backdoor issue:</p>
<p><a href="https://news.opensuse.org/2024/04/12/learn-from-the-xz-backdoor/">https://news.opensuse.org/2024/04/12/learn-from-the-xz-backdoor/</a></p>
<h4 id="github-actions_commented_at_2024-06-12_0218"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/issues/3202#issuecomment-2161977304">2024-06-12 02:18</a>:<a class="headerlink" href="#github-actions_commented_at_2024-06-12_0218" title="Permanent link">&para;</a></h4>
<p>Stale issue message</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2024-04-08.3202.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
