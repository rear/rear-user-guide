<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2836 Issue closed: WARNING: tar ended with return code 1 - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2836 Issue closed: WARNING: tar ended with return code 1";
        var mkdocs_page_input_path = "issues/2022-07-06.2836.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#2836 Issue closed: WARNING: tar ended with return code 1</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2836_issue_closed_warning_tar_ended_with_return_code_1"><a href="https://github.com/rear/rear/issues/2836">#2836 Issue</a> <code>closed</code>: WARNING: tar ended with return code 1<a class="headerlink" href="#2836_issue_closed_warning_tar_ended_with_return_code_1" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>fixed / solved / done</code></p>
<h4 id="zenadmin-ops_opened_issue_at_2022-07-06_0738"><img src="https://avatars.githubusercontent.com/u/62083231?v=4" width="50"><a href="https://github.com/ZENAdmin-Ops">ZENAdmin-Ops</a> opened issue at <a href="https://github.com/rear/rear/issues/2836">2022-07-06 07:38</a>:<a class="headerlink" href="#zenadmin-ops_opened_issue_at_2022-07-06_0738" title="Permanent link">&para;</a></h4>
<h4 id="relax-and-recover_rear_issue_template">Relax-and-Recover (ReaR) Issue Template<a class="headerlink" href="#relax-and-recover_rear_issue_template" title="Permanent link">&para;</a></h4>
<p>Fill in the following items before submitting a new issue<br />
(quick response is not guaranteed with free support):</p>
<ul>
<li>
<p>ReaR version ("/usr/sbin/rear -V"): 2.6</p>
</li>
<li>
<p>OS version ("cat /etc/os-release" or "lsb_release -a" or "cat
    /etc/rear/os.conf"): Ubuntu 22.04</p>
</li>
<li>
<p>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
    /etc/rear/local.conf"): N/A</p>
</li>
<li>
<p>Hardware vendor/product (PC or PowerNV BareMetal or ARM) or VM (KVM
    guest or PowerVM LPAR): N/A</p>
</li>
<li>
<p>System architecture (x86 compatible or PPC64/PPC64LE or what exact
    ARM device):</p>
</li>
<li>
<p>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or
    ELILO or Petitboot):</p>
</li>
<li>
<p>Storage (local disk or SSD) and/or SAN (FC or iSCSI or FCoE) and/or
    multipath (DM or NVMe):</p>
</li>
<li>
<p>Storage layout ("lsblk -ipo
    NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,LABEL,SIZE,MOUNTPOINT"):</p>
</li>
<li>
<p>Description of the issue (ideally so that others can reproduce it):</p>
</li>
</ul>
<p>Hello,</p>
<p>Sometimes when the backup completes I have observed the following
entries in the log</p>
<pre><code>WARNING: tar ended with return code 1 and below output:
  ---snip---
  tar: 16292: Warning: Cannot flistxattr: Operation not supported
  tar: 10: Warning: Cannot flistxattr: Operation not supported
  tar: 14: Warning: Cannot flistxattr: Operation not supported
  ----------
This means that files have been modified during the archiving
process. As a result the backup may not be completely consistent
or may not be a perfect copy of the system. Relax-and-Recover
will continue, however it is highly advisable to verify the
backup in order to be sure to safely recover this system.
</code></pre>
<p>I've written a "wrapper" script to call Rear, because I wanted to be
notified when this occurred.</p>
<p>An extract of the script logic is below</p>
<pre><code>rear -C basic_system mkbackup

# Check return value
if [ $? -ne 0 ]; then
   Update_EventLog "*** Backup completed with error ***"
else
   Update_EventLog "Backup completed successfully"
fi
</code></pre>
<p>I have two questions</p>
<ol>
<li>
<p>When the above Rear warning occurred. The return code from rear to:
    $? was still 0<br />
    I would have expected a warning to result in a non-zero return code?</p>
</li>
<li>
<p>The warning text mentions .."however it is highly advisable to
    verify the<br />
    backup in order to be sure to safely recover this system".</p>
</li>
</ol>
<p>I've had a look at the user guide and I don't see any mention of verify
options.</p>
<p>Are there verify options that are not described in the user guide?</p>
<p>Thanks</p>
<p>Vaughan</p>
<h4 id="jsmeix_commented_at_2022-07-06_0856"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2836#issuecomment-1175965007">2022-07-06 08:56</a>:<a class="headerlink" href="#jsmeix_commented_at_2022-07-06_0856" title="Permanent link">&para;</a></h4>
<p>@ZENAdmin-Ops</p>
<p>in general cf. what I wrote at<br />
<a href="https://github.com/rear/rear/issues/2835#issuecomment-1175001352">https://github.com/rear/rear/issues/2835#issuecomment-1175001352</a><br />
(relevant excerpt):</p>
<pre><code>In general ReaR does not include things to manage ReaR
or things to manage backups and so on, cf. the section
"Relax-and-Recover versus backup and restore" in
https://en.opensuse.org/SDB:Disaster_Recovery
</code></pre>
<p>where that<br />
"Relax-and-Recover versus backup and restore" section reads<br />
(only some excerpts - better read the whole section)</p>
<pre><code>Relax-and-Recover (ReaR) complements backup
and restore of files but ReaR is
neither a backup software
nor a backup management software
and it is not meant to be one.

In general backup and restore of the files
is external functionality for ReaR.

...

It is your task to verify your backup
is sufficiently complete to restore
your system as you need it.

It is your task to verify your backup
can be read completely to restore all your files.
</code></pre>
<p>In particular regarding</p>
<pre><code>tar: ... Warning: Cannot flistxattr: Operation not supported
</code></pre>
<p>see
<a href="https://github.com/rear/rear/issues/2770">https://github.com/rear/rear/issues/2770</a><br />
therein in particular<br />
<a href="https://github.com/rear/rear/issues/2770#issuecomment-1072659786">https://github.com/rear/rear/issues/2770#issuecomment-1072659786</a><br />
and<br />
<a href="https://github.com/rear/rear/issues/2770#issuecomment-1073744082">https://github.com/rear/rear/issues/2770#issuecomment-1073744082</a><br />
and the subsequent comments from there<br />
in particular<br />
<a href="https://github.com/rear/rear/issues/2770#issuecomment-1073809204">https://github.com/rear/rear/issues/2770#issuecomment-1073809204</a><br />
(excerpt)</p>
<pre><code>I think
"tar: ...: Warning: Cannot flistxattr: Operation not supported"
is normally harmless and
it also cannot be avoided because
we need to call 'tar' with "--xattrs"
to have extended attributes support
but then files where extended attributes
are not supported (e.g. files on filesystems
that do not support extended attributes)
will cause such 'tar' warnings
and - as far as I see - there is no
matching --warning=no-... option
to suppress that in general.
</code></pre>
<h4 id="jsmeix_commented_at_2022-07-06_0859"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2836#issuecomment-1175967381">2022-07-06 08:59</a>:<a class="headerlink" href="#jsmeix_commented_at_2022-07-06_0859" title="Permanent link">&para;</a></h4>
<p>In general warnings are just warnings and no errors<br />
so in general it would be wrong to abort ReaR<br />
with non zero exit code because of a warning,<br />
see the rather sophisticated exit code handling<br />
when the backup program is 'tar' in<br />
usr/share/rear/backup/NETFS/default/500_make_backup.sh</p>
<p>In general regarding "Warning" messages see also<br />
<a href="https://schlomo.schapiro.org/2015/04/warning-is-waste-of-my-time.html">https://schlomo.schapiro.org/2015/04/warning-is-waste-of-my-time.html</a></p>
<h4 id="zenadmin-ops_commented_at_2022-07-06_1039"><img src="https://avatars.githubusercontent.com/u/62083231?v=4" width="50"><a href="https://github.com/ZENAdmin-Ops">ZENAdmin-Ops</a> commented at <a href="https://github.com/rear/rear/issues/2836#issuecomment-1176066556">2022-07-06 10:39</a>:<a class="headerlink" href="#zenadmin-ops_commented_at_2022-07-06_1039" title="Permanent link">&para;</a></h4>
<p>Thanks for the prompt response</p>
<p>Regards,<br />
Vaughan</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2022-07-06.2836.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
