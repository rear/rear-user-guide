<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#143 Issue closed: BACKUP_URL target should include/append backup date - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#143 Issue closed: BACKUP_URL target should include/append backup date";
        var mkdocs_page_input_path = "issues/2012-08-10.143.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_rsync.html">Internal Backup with rsync to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/restic.html">External Backup using restic</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#143 Issue closed: BACKUP_URL target should include/append backup date</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="143_issue_closed_backup_url_target_should_includeappend_backup_date"><a href="https://github.com/rear/rear/issues/143">#143 Issue</a> <code>closed</code>: BACKUP_URL target should include/append backup date<a class="headerlink" href="#143_issue_closed_backup_url_target_should_includeappend_backup_date" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>won't fix / can't fix / obsolete</code></p>
<h4 id="cal-s_opened_issue_at_2012-08-10_1350"><img src="https://avatars.githubusercontent.com/u/2027029?v=4" width="50"><a href="https://github.com/cal-s">cal-s</a> opened issue at <a href="https://github.com/rear/rear/issues/143">2012-08-10 13:50</a>:<a class="headerlink" href="#cal-s_opened_issue_at_2012-08-10_1350" title="Permanent link">&para;</a></h4>
<p>Saving via nfs:// should probably append the creation date-time
associated with the hostname, otherwise a subsequent mkbackup will
overwrite the previous one. We export NFS dirs with root_squash, so
it's not possible for root on the remote to create a dated subdirectory
via its autofs paths in which to save to latest mkbackup. I seem to
recall that this is done for USB-based mkbackups.</p>
<p>eg: local.conf:</p>
<p>BACKUP_URL=nfs://host/xfs/backup/rear</p>
<p>mkbackup will create t/xfs/backup/rear/host-fqdn</p>
<p>containing that host's ISO and tarbball</p>
<p>Preferably, ReaR should create the mkbackup in
/xfs/backup/rear/host-fqdn/date or /xfs/backup/rear/host-fqdn-date</p>
<h4 id="dagwieers_commented_at_2012-08-12_2216"><img src="https://avatars.githubusercontent.com/u/388198?u=0732dee3fe5002278cfbf40359ec431bdcf5f06c&v=4" width="50"><a href="https://github.com/dagwieers">dagwieers</a> commented at <a href="https://github.com/rear/rear/issues/143#issuecomment-7680452">2012-08-12 22:16</a>:<a class="headerlink" href="#dagwieers_commented_at_2012-08-12_2216" title="Permanent link">&para;</a></h4>
<p>Personally I agree.</p>
<p>The reason this was not done for the NFS use-case was that we did not
want to break Relax-and-Recover for existing users, and because there is
not retention-plan for the NFS use-case implemented. It is not
impossible to do this, at some point in the future but we have to be
very careful if we do this. And there needs to be consensus which there
wasn't when we implemented the USB use-case.</p>
<h4 id="cal-s_commented_at_2012-08-13_1028"><img src="https://avatars.githubusercontent.com/u/2027029?v=4" width="50"><a href="https://github.com/cal-s">cal-s</a> commented at <a href="https://github.com/rear/rear/issues/143#issuecomment-7688227">2012-08-13 10:28</a>:<a class="headerlink" href="#cal-s_commented_at_2012-08-13_1028" title="Permanent link">&para;</a></h4>
<p>Interesting, i'd sure like to hear the case against dated NFS retention,
but let me guess:</p>
<p>I can work around it, but ...</p>
<p>Is there a procedure for getting a vote (or some alternate rationale) on
this?</p>
<p>cheers</p>
<h4 id="dagwieers_commented_at_2012-08-28_2159"><img src="https://avatars.githubusercontent.com/u/388198?u=0732dee3fe5002278cfbf40359ec431bdcf5f06c&v=4" width="50"><a href="https://github.com/dagwieers">dagwieers</a> commented at <a href="https://github.com/rear/rear/issues/143#issuecomment-8108747">2012-08-28 21:59</a>:<a class="headerlink" href="#dagwieers_commented_at_2012-08-28_2159" title="Permanent link">&para;</a></h4>
<p>No procedure (yet). But maybe we should list all the possible options we
have together with the consequences, and do a vote.</p>
<h4 id="cal-s_commented_at_2012-09-05_1629"><img src="https://avatars.githubusercontent.com/u/2027029?v=4" width="50"><a href="https://github.com/cal-s">cal-s</a> commented at <a href="https://github.com/rear/rear/issues/143#issuecomment-8304885">2012-09-05 16:29</a>:<a class="headerlink" href="#cal-s_commented_at_2012-09-05_1629" title="Permanent link">&para;</a></h4>
<p>Variable set in local.conf: APPEND_DATE?</p>
<h4 id="gdha_commented_at_2014-03-03_0740"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/143#issuecomment-36487405">2014-03-03 07:40</a>:<a class="headerlink" href="#gdha_commented_at_2014-03-03_0740" title="Permanent link">&para;</a></h4>
<p>@cal-s with rear it is now possible to make incremental and full
backups:</p>
<pre><code>OUTPUT=ISO
BACKUP=NETFS
BACKUP_URL=nfs://lnx01/vol/lnx01/linux_images_dr/rear
# NETFS_KEEP_OLD_BACKUP_COPY may not be used in combination with BACKUP_TYPE=incremental!!!!
#NETFS_KEEP_OLD_BACKUP_COPY=y
BACKUP_TYPE=incremental
FULLBACKUPDAY="Mon"
</code></pre>
<p>It uses dates in its filenames. I guess this is more or less a solution
to your problem?</p>
<h4 id="bbeaver_commented_at_2014-06-04_1723"><img src="https://avatars.githubusercontent.com/u/7350825?u=2ec61633eda874b17db7b1eb383363444e6064d6&v=4" width="50"><a href="https://github.com/bbeaver">bbeaver</a> commented at <a href="https://github.com/rear/rear/issues/143#issuecomment-45122350">2014-06-04 17:23</a>:<a class="headerlink" href="#bbeaver_commented_at_2014-06-04_1723" title="Permanent link">&para;</a></h4>
<p>I'm testing with rear 1.16 and have not had any luck with incrementals.
I'm using the config gdha recommends immediately above this post. I've
run "rear mkbackuponly" three times in a row, modifying a few files in
between so I can check to see if only the incremental changes get picked
up. What appears to happen instead, is rear creates what appears to be a
full backup each time:</p>
<p>-rw-r--r--. 1 root root 2016177806 Jun 4 12:49
2014-06-04-1243-F.tar.gz<br />
-rw-r--r--. 1 root root 2014242030 Jun 4 12:59
2014-06-04-1253-I.tar.gz<br />
-rw-r--r--. 1 root root 2015048301 Jun 4 13:11 2014-06-04-1305-I.tar.gz</p>
<p>When I run the rear recover process, the first saved file is what gets
restored, (2014-06-04-1243-F.tar.gz). Should I be prompted during the
recovery process so that I can tell rear which bkup/incremental I want
applied? Thanks for your help - great program, I've just got to figure
incrementals out.</p>
<h4 id="gdha_commented_at_2015-09-23_1134"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/143#issuecomment-142573772">2015-09-23 11:34</a>:<a class="headerlink" href="#gdha_commented_at_2015-09-23_1134" title="Permanent link">&para;</a></h4>
<p>no time to work on this - sorry</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2012-08-10.143.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
