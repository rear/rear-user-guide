<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#1764 Issue closed: IBM power8 hmc console disconnects at root prompt for rear rescue - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#1764 Issue closed: IBM power8 hmc console disconnects at root prompt for rear rescue";
        var mkdocs_page_input_path = "issues/2018-03-30.1764.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#1764 Issue closed: IBM power8 hmc console disconnects at root prompt for rear rescue</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1764_issue_closed_ibm_power8_hmc_console_disconnects_at_root_prompt_for_rear_rescue"><a href="https://github.com/rear/rear/issues/1764">#1764 Issue</a> <code>closed</code>: IBM power8 hmc console disconnects at root prompt for rear rescue<a class="headerlink" href="#1764_issue_closed_ibm_power8_hmc_console_disconnects_at_root_prompt_for_rear_rescue" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>fixed / solved / done</code>,
<code>special hardware or VM</code></p>
<h4 id="pspatola101_opened_issue_at_2018-03-30_1636"><img src="https://avatars.githubusercontent.com/u/37379705?v=4" width="50"><a href="https://github.com/pspatola101">pspatola101</a> opened issue at <a href="https://github.com/rear/rear/issues/1764">2018-03-30 16:36</a>:<a class="headerlink" href="#pspatola101_opened_issue_at_2018-03-30_1636" title="Permanent link">&para;</a></h4>
<h4 id="relax-and-recover_rear_issue_template">Relax-and-Recover (ReaR) Issue Template<a class="headerlink" href="#relax-and-recover_rear_issue_template" title="Permanent link">&para;</a></h4>
<p>Fill in the following items before submitting a new issue<br />
(quick response is not guaranteed with free support):</p>
<ul>
<li>rear version (/usr/sbin/rear -V):<br />
    rear -V<br />
    Relax-and-Recover 2.3 / 2017-12-20</li>
<li>OS version (cat /etc/rear/os.conf or lsb_release -a):<br />
    cat /etc/rear/os.conf<br />
    cat: /etc/rear/os.conf: No such file or directory<br />
    lsb_release -i -s<br />
    -bash: lsb_release: command not found</li>
</ul>
<p>[root@sssxfs03 rear]# uname -a<br />
Linux sssxfs03 3.10.0-514.21.1.el7.ppc64le #1 SMP Sat Apr 22 02:38:06
EDT 2017 ppc64le ppc64le ppc64le GNU/Linux</p>
<ul>
<li>
<p>rear configuration files (cat /etc/rear/site.conf or cat
    /etc/rear/local.conf):<br />
    OUTPUT=ISO<br />
    BACKUP=NETFS<br />
    BACKUP_URL="nfs://172.19.5.99/stuff/unix/iowa"<br />
    SSH_ROOT_PASSWORD="reardemo"<br />
    BOOT_FROM_SAN=y<br />
    AUTOEXCLUDE_MULTIPATH=n<br />
    REAR_INITRD_COMPRESSION=lzma<br />
    ONLY_INCLUDE_VG=( rhel_sssxfs03 )<br />
    BACKUP_PROG_EXCLUDE=( "${BACKUP_PROG_EXCLUDE[@]}"
    '/usr/lpp/mmfs/4.2.3.1' '/usr/lpp/mmfs/4.2.3.2' )</p>
</li>
<li>
<p>Are you using legacy BIOS or UEFI boot?BIOS</p>
</li>
<li>
<p>Brief description of the issue: The hmc console vterm disconnects
    when I get to the root prompt for recovery.<br />
    sssxfs03 login: root<br />
<strong>-bash: cannot set terminal process group (-1): Inappropriate ioctl
    for device<br />
    -bash: no job control in this shell</strong></p>
</li>
</ul>
<p>At this point I cant type anything in. I tried setting the TERM but that
didnt work. I did notice during the recovery the message.<br />
[ 0.000103] console [hvc0] enabled, bootconsole disabled<br />
[ 0.000103] console [hvc0] enabled, bootconsole disabled<br />
The hvc is for a XEN and not for IBM Power. Is there a way to change
this?<br />
This is the full recovery:<br />
OF stdout device is: /vdevice/vty@30000000<br />
Preparing to boot Linux version 3.10.0-514.21.1.el7.ppc64le
(<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#109;&#111;&#99;&#107;&#98;&#117;&#105;&#108;&#100;&#64;&#112;&#112;&#99;&#45;&#48;&#52;&#55;&#46;&#98;&#117;&#105;&#108;&#100;&#46;&#101;&#110;&#103;&#46;&#98;&#111;&#115;&#46;&#114;&#101;&#100;&#104;&#97;&#116;&#46;&#99;&#111;&#109;">&#109;&#111;&#99;&#107;&#98;&#117;&#105;&#108;&#100;&#64;&#112;&#112;&#99;&#45;&#48;&#52;&#55;&#46;&#98;&#117;&#105;&#108;&#100;&#46;&#101;&#110;&#103;&#46;&#98;&#111;&#115;&#46;&#114;&#101;&#100;&#104;&#97;&#116;&#46;&#99;&#111;&#109;</a>) (gcc version 4.8.5
20150623 (Red Hat 4.8.5-11) (GCC) ) #1 SMP Sat Apr 22 02:38:06 EDT
2017<br />
Detected machine type: 0000000000000101<br />
Max number of cores passed to firmware: 256 (NR_CPUS = 2048)<br />
Calling ibm,client-architecture-support... done<br />
command line: BOOT_IMAGE=/kernel root=/dev/ram0
ip=10.97.31.245::10.97.28.1:255.255.252.0:sssxfs04:eth0:none<br />
memory layout at init:<br />
memory_limit : 0000000000000000 (16 MB aligned)<br />
alloc_bottom : 000000000e4b0000<br />
alloc_top : 0000000010000000<br />
alloc_top_hi : 0000000010000000<br />
rmo_top : 0000000010000000<br />
ram_top : 0000000010000000<br />
instantiating rtas at 0x000000000eca0000... done<br />
prom_hold_cpus: skipped<br />
copying OF device tree...<br />
Building dt strings...<br />
Building dt structure...<br />
Device tree strings 0x000000000e4c0000 -&gt; 0x000000000e4c170c<br />
Device tree struct 0x000000000e4d0000 -&gt; 0x000000000e500000<br />
Calling quiesce...<br />
returning from prom_init<br />
[ 0.000000] Using pSeries machine description<br />
[ 0.000000] Page sizes from device-tree:<br />
[ 0.000000] base_shift=12: shift=12, sllp=0x0000, avpnm=0x00000000,
tlbiel=1, penc=0<br />
[ 0.000000] base_shift=12: shift=16, sllp=0x0000, avpnm=0x00000000,
tlbiel=1, penc=7<br />
[ 0.000000] base_shift=12: shift=24, sllp=0x0000, avpnm=0x00000000,
tlbiel=1, penc=56<br />
[ 0.000000] base_shift=16: shift=16, sllp=0x0110, avpnm=0x00000000,
tlbiel=1, penc=1<br />
[ 0.000000] base_shift=16: shift=24, sllp=0x0110, avpnm=0x00000000,
tlbiel=1, penc=8<br />
[ 0.000000] base_shift=24: shift=24, sllp=0x0100, avpnm=0x00000001,
tlbiel=0, penc=0<br />
[ 0.000000] base_shift=34: shift=34, sllp=0x0120, avpnm=0x000007ff,
tlbiel=0, penc=3<br />
[ 0.000000] Using 1TB segments<br />
[ 0.000000] Found initrd at 0xc00000000be00000:0xc00000000e4ac692<br />
[ 0.000000] bootconsole [udbg0] enabled<br />
[ 0.000000] Partition configured for 64 cpus.<br />
[ 0.000000] CPU maps initialized for 8 threads per core<br />
[ 0.000000] Starting Linux PPC64 #1 SMP Sat Apr 22 02:38:06 EDT
2017<br />
[ 0.000000] -----------------------------------------------------<br />
[ 0.000000] ppc64_pft_size = 0x1b<br />
[ 0.000000] physicalMemorySize = 0x100000000<br />
[ 0.000000] htab_hash_mask = 0xfffff<br />
[ 0.000000] -----------------------------------------------------<br />
[ 0.000000] Initializing cgroup subsys cpuset<br />
[ 0.000000] Initializing cgroup subsys cpu<br />
[ 0.000000] Initializing cgroup subsys cpuacct<br />
[ 0.000000] Linux version 3.10.0-514.21.1.el7.ppc64le
(<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#109;&#111;&#99;&#107;&#98;&#117;&#105;&#108;&#100;&#64;&#112;&#112;&#99;&#45;&#48;&#52;&#55;&#46;&#98;&#117;&#105;&#108;&#100;&#46;&#101;&#110;&#103;&#46;&#98;&#111;&#115;&#46;&#114;&#101;&#100;&#104;&#97;&#116;&#46;&#99;&#111;&#109;">&#109;&#111;&#99;&#107;&#98;&#117;&#105;&#108;&#100;&#64;&#112;&#112;&#99;&#45;&#48;&#52;&#55;&#46;&#98;&#117;&#105;&#108;&#100;&#46;&#101;&#110;&#103;&#46;&#98;&#111;&#115;&#46;&#114;&#101;&#100;&#104;&#97;&#116;&#46;&#99;&#111;&#109;</a>) (gcc version 4.8.5
20150623 (Red Hat 4.8.5-11) (GCC) ) #1 SMP Sat Apr 22 02:38:06 EDT
2017<br />
[ 0.000000] [boot]0012 Setup Arch<br />
[ 0.000000] PPC64 nvram contains 15360 bytes<br />
[ 0.000000] Zone ranges:<br />
[ 0.000000] DMA [mem 0x00000000-0xffffffff]<br />
[ 0.000000] Normal empty<br />
[ 0.000000] Movable zone start for each node<br />
[ 0.000000] Early memory node ranges<br />
[ 0.000000] node 2: [mem 0x00000000-0xffffffff]<br />
[ 0.000000] Could not find start_pfn for node 0<br />
[ 0.000000] [boot]0015 Setup Done<br />
[ 0.000000] PERCPU: Embedded 3 pages/cpu @c000000001600000 s124952 r0
d71656 u262144<br />
[ 0.000000] Built 2 zonelists in Node order, mobility grouping on.
Total pages: 65480<br />
[ 0.000000] Policy zone: DMA<br />
[ 0.000000] Kernel command line: BOOT_IMAGE=/kernel root=/dev/ram0
ip=10.97.31.245::10.97.28.1:255.255.252.0:sssxfs04:eth0:none<br />
[ 0.000000] PID hash table entries: 4096 (order: -1, 32768 bytes)<br />
[ 0.000000] Sorting __ex_table...<br />
[ 0.000000] freeing bootmem node 2<br />
[ 0.000000] Memory: 4011904k/4194304k available (17152k kernel code,
0k reserved, 1344k data, 3657k bss, 4288k init)<br />
[ 0.000000] SLUB: HWalign=128, Order=0-3, MinObjects=0, CPUs=64,
Nodes=256<br />
[ 0.000000] Hierarchical RCU implementation.<br />
[ 0.000000] RCU restricting CPUs from NR_CPUS=2048 to
nr_cpu_ids=64.<br />
[ 0.000000] NR_IRQS:512 nr_irqs:512 16<br />
[ 0.000001] clocksource: timebase mult[1f40000] shift[24]
registered<br />
[ 0.000090] Console: colour dummy device 80x25<br />
[ 0.000103] console [hvc0] enabled, bootconsole disabled<br />
[ 0.000103] console [hvc0] enabled, bootconsole disabled<br />
[ 0.000825] allocated 1048576 bytes of page_cgroup<br />
[ 0.000831] please try 'cgroup_disable=memory' option if you don't
want memory cgroups<br />
[ 0.000868] Enabling automatic NUMA balancing. Configure with
numa_balancing= or the kernel.numa_balancing sysctl<br />
[ 0.000874] pid_max: default: 65536 minimum: 512<br />
[ 0.000921] Security Framework initialized<br />
[ 0.000933] SELinux: Initializing.<br />
[ 0.001014] Dentry cache hash table entries: 524288 (order: 6, 4194304
bytes)<br />
[ 0.001668] Inode-cache hash table entries: 262144 (order: 5, 2097152
bytes)<br />
[ 0.001984] Mount-cache hash table entries: 4096<br />
[ 0.002719] Initializing cgroup subsys memory<br />
[ 0.002770] Initializing cgroup subsys devices<br />
[ 0.002772] Initializing cgroup subsys freezer<br />
[ 0.002775] Initializing cgroup subsys net_cls<br />
[ 0.002777] Initializing cgroup subsys blkio<br />
[ 0.002779] Initializing cgroup subsys perf_event<br />
[ 0.002782] Initializing cgroup subsys hugetlb<br />
[ 0.002784] Initializing cgroup subsys pids<br />
[ 0.002786] Initializing cgroup subsys net_prio<br />
[ 0.002909] EEH: pSeries platform initialized<br />
[ 0.002920] POWER8 performance monitor hardware support registered<br />
[ 0.010572] Brought up 32 CPUs<br />
[ 0.013752] devtmpfs: initialized<br />
[ 0.020921] EEH: devices created<br />
[ 0.021688] atomic64 test passed<br />
[ 0.022147] NET: Registered protocol family 16<br />
[ 0.022222] EEH: No capable adapters found<br />
[ 0.022238] IBM eBus Device Driver<br />
[ 0.022405] pstore: Registered nvram as persistent store backend<br />
[ 0.024301] PCI: Probing PCI hardware<br />
[ 0.024394] pseries-rng: Registering arch random hook.<br />
[ 0.050898] vgaarb: loaded<br />
[ 0.050946] SCSI subsystem initialized<br />
[ 0.050973] usbcore: registered new interface driver usbfs<br />
[ 0.050981] usbcore: registered new interface driver hub<br />
[ 0.051076] usbcore: registered new device driver usb<br />
[ 0.051353] NetLabel: Initializing<br />
[ 0.051356] NetLabel: domain hash size = 128<br />
[ 0.051358] NetLabel: protocols = UNLABELED CIPSOv4<br />
[ 0.051369] NetLabel: unlabeled traffic allowed by default<br />
[ 0.051478] Switched to clocksource timebase<br />
[ 0.056564] NET: Registered protocol family 2<br />
[ 0.056780] TCP established hash table entries: 32768 (order: 2,
262144 bytes)<br />
[ 0.056851] TCP bind hash table entries: 32768 (order: 3, 524288
bytes)<br />
[ 0.056904] TCP: Hash tables configured (established 32768 bind
32768)<br />
[ 0.056913] TCP: reno registered<br />
[ 0.056923] UDP hash table entries: 2048 (order: 0, 65536 bytes)<br />
[ 0.056934] UDP-Lite hash table entries: 2048 (order: 0, 65536
bytes)<br />
[ 0.057047] NET: Registered protocol family 1<br />
[ 0.057082] Unpacking initramfs...<br />
[ 8.382331] Freeing initrd memory: 39552K (c00000000be00000 -
c00000000e4a0000)<br />
[ 8.382995] IOMMU table initialized, virtual merging enabled<br />
[ 8.431976] hv-24x7: read 1330 catalog entries, created 337 event
attrs (0 failures), 169 descs<br />
[ 8.432507] futex hash table entries: 16384 (order: 5, 2097152
bytes)<br />
[ 8.432665] Initialise system trusted keyring<br />
[ 8.432685] audit: initializing netlink socket (disabled)<br />
[ 8.432701] type=2000 audit(1522423719.430:1): initialized<br />
[ 8.454278] HugeTLB registered 16 MB page size, pre-allocated 0
pages<br />
[ 8.454284] HugeTLB registered 16 GB page size, pre-allocated 0
pages<br />
[ 8.455236] zpool: loaded<br />
[ 8.455239] zbud: loaded<br />
[ 8.455465] VFS: Disk quotas dquot_6.5.2<br />
[ 8.455513] Dquot-cache hash table entries: 8192 (order 0, 65536
bytes)<br />
[ 8.455683] msgmni has been set to 8040<br />
[ 8.455734] Key type big_key registered<br />
[ 8.456427] NET: Registered protocol family 38<br />
[ 8.456434] Key type asymmetric registered<br />
[ 8.456437] Asymmetric key parser 'x509' registered<br />
[ 8.456460] Block layer SCSI generic (bsg) driver version 0.4 loaded
(major 252)<br />
[ 8.456588] io scheduler noop registered<br />
[ 8.456593] io scheduler deadline registered (default)<br />
[ 8.456619] io scheduler cfq registered<br />
[ 8.456668] pci_hotplug: PCI Hot Plug PCI Core version: 0.5<br />
[ 8.456916] Serial: 8250/16550 driver, 4 ports, IRQ sharing enabled<br />
[ 8.457171] Linux agpgart interface v0.103<br />
[ 8.457189] crash memory driver: version 1.1<br />
[ 8.457289] rdac: device handler registered<br />
[ 8.457351] hp_sw: device handler registered<br />
[ 8.457356] emc: device handler registered<br />
[ 8.457358] alua: device handler registered<br />
[ 8.457382] libphy: Fixed MDIO Bus: probed<br />
[ 8.457409] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI)
Driver<br />
[ 8.457417] ehci-pci: EHCI PCI platform driver<br />
[ 8.457424] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver<br />
[ 8.457431] ohci-pci: OHCI PCI platform driver<br />
[ 8.457438] uhci_hcd: USB Universal Host Controller Interface
driver<br />
[ 8.457465] usbcore: registered new interface driver usbserial<br />
[ 8.457470] usbcore: registered new interface driver
usbserial_generic<br />
[ 8.457476] usbserial: USB Serial support registered for generic<br />
[ 8.457513] mousedev: PS/2 mouse device common for all mice<br />
[ 8.457657] rtc-generic rtc-generic: rtc core: registered rtc-generic
as rtc0<br />
[ 8.457672] cpuidle: using governor menu<br />
[ 8.481483] nx_compress_pseries ibm,compression-v1: nx842_OF_upd:
device disabled<br />
[ 8.521507] hidraw: raw HID events driver (C) Jiri Kosina<br />
[ 8.521575] usbcore: registered new interface driver usbhid<br />
[ 8.521577] usbhid: USB HID core driver<br />
[ 8.521589] drop_monitor: Initializing network drop monitor service<br />
[ 8.521648] TCP: cubic registered<br />
[ 8.521652] Initializing XFRM netlink socket<br />
[ 8.521736] NET: Registered protocol family 10<br />
[ 8.522004] NET: Registered protocol family 17<br />
[ 8.522123] Loading compiled-in X.509 certificates<br />
[ 8.522496] Loaded X.509 cert 'Red Hat Enterprise Linux Driver Update
Program (key 3): bf57f3e87362bc7229d9f465321773dfd1f77a80'<br />
[ 8.522858] Loaded X.509 cert 'Red Hat Enterprise Linux kpatch signing
key: 4d38fd864ebe18c5f0b72e3852e2014c3a676fc8'<br />
[ 8.523225] Loaded X.509 cert 'Red Hat Enterprise Linux kernel signing
key: abee87f9ae3c21f216ca2d00b836473ad6a052a0'<br />
[ 8.523236] registered taskstats version 1<br />
[ 8.523735] rtc-generic rtc-generic: setting system clock to
2018-03-30 15:28:39 UTC (1522423719)<br />
[ 8.524043] Freeing unused kernel memory: 4288K (c000000000c90000 -
c0000000010c0000)<br />
[ 8.527056] ip_tables: (C) 2000-2006 Netfilter Core Team<br />
[ 8.527069] systemd[1]: Inserted module 'ip_tables'<br />
[ 8.531260] systemd[1]: systemd 219 running in system mode. (+PAM
+AUDIT +SELINUX +IMA -APPARMOR +SMACK +SYSVINIT +UTMP +LIBCRYPTSETUP
+GCRYPT +GNUTLS +ACL +XZ -LZ4 -SECCOMP +BLKID +ELFUTILS +KMOD +IDN)<br />
[ 8.531357] systemd[1]: Detected architecture ppc64-le.<br />
[ 8.531362] systemd[1]: Running with unpopulated /etc.</p>
<p>Welcome to Red Hat Enterprise Linux!</p>
<p>[ 8.531520] systemd[1]: Set hostname to <sssxfs03>.<br />
[ 8.531544] systemd[1]: Initializing machine ID from random
generator.<br />
[ 8.532084] systemd[1]: Failed to populate /etc with preset unit
settings, ignoring: Invalid argument<br />
[ OK ] Reached target System Initialization.<br />
[ 8.536588] systemd[1]: Reached target System Initialization.<br />
[ 8.536596] systemd[1]: Starting System Initialization.<br />
[ OK ] Created slice -.slice.<br />
[ 8.536814] systemd[1]: Created slice -.slice.<br />
[ 8.536822] systemd[1]: Starting -.slice.<br />
[ OK ] Listening on udev Control Socket.<br />
[ 8.536991] systemd[1]: Listening on udev Control Socket.<br />
[ 8.536998] systemd[1]: Starting udev Control Socket.<br />
[ OK ] Listening on Journal Socket.<br />
[ 8.537135] systemd[1]: Listening on Journal Socket.<br />
[ 8.537142] systemd[1]: Starting Journal Socket.<br />
[ OK ] Listening on D-Bus System Message Bus Socket.<br />
[ 8.537268] systemd[1]: Listening on D-Bus System Message Bus
Socket.<br />
[ 8.537276] systemd[1]: Starting D-Bus System Message Bus Socket.<br />
[ OK ] Listening on udev Kernel Socket.<br />
[ 8.537430] systemd[1]: Listening on udev Kernel Socket.<br />
[ 8.537437] systemd[1]: Starting udev Kernel Socket.<br />
[ OK ] Listening on Delayed Shutdown Socket.<br />
[ 8.537554] systemd[1]: Listening on Delayed Shutdown Socket.<br />
[ 8.537561] systemd[1]: Starting Delayed Shutdown Socket.<br />
[ OK ] Listening on Syslog Socket.<br />
[ 8.537681] systemd[1]: Listening on Syslog Socket.<br />
[ 8.537689] systemd[1]: Starting Syslog Socket.<br />
[ OK ] Created slice system.slice.<br />
[ 8.537849] systemd[1]: Created slice system.slice.<br />
[ 8.537856] systemd[1]: Starting system.slice.<br />
[ OK ] Created slice system-serial\x2dgetty.slice.<br />
[ 8.538026] systemd[1]: Created slice
system-serial\x2dgetty.slice.<br />
[ 8.538033] systemd[1]: Starting system-serial\x2dgetty.slice.<br />
[ 8.538459] systemd[1]: Starting udev Kernel Device Manager...<br />
Starting udev Kernel Device Manager...<br />
[ 8.538869] systemd[1]: Starting Relax-and-Recover boot script...<br />
Starting Relax-and-Recover boot script...<br />
[ OK ] Started Relax-and-Recover sshd service.<br />
[ 8.539447] systemd[1]: Started Relax-and-Recover sshd service.<br />
[ 8.539574] systemd[1]: Starting Relax-and-Recover sshd service...<br />
Starting Relax-and-Recover sshd service...<br />
[ 8.540056] systemd[1]: Starting udev Coldplug all Devices...<br />
Starting udev Coldplug all Devices...<br />
[ OK ] Created slice system-getty.slice.<br />
[ 8.540452] systemd[1]: Created slice system-getty.slice.<br />
[ 8.540464] systemd[1]: Starting system-getty.slice.<br />
[ OK ] Listening on Logging Socket.<br />
[ 8.540604] systemd[1]: Listening on Logging Socket.<br />
[ 8.540611] systemd[1]: Starting Logging Socket.<br />
[ OK ] Reached target Sockets.<br />
[ OK ] Started Journal Service.<br />
Starting Journal Service...<br />
[ OK ] Started udev Kernel Device Manager.<br />
[ OK ] Reached target Basic System.<br />
Starting Initialize Rescue System...<br />
[ OK ] Started Relax-and-Recover boot script.<br />
[ OK ] Found device /dev/ttyS0.<br />
[ OK ] Started udev Coldplug all Devices.<br />
[ OK ] Found device /dev/hvc0.<br />
[ OK ] Started Relax-and-Recover run-syslog script.<br />
Starting Relax-and-Recover run-syslog script...</p>
<p>Configuring Relax-and-Recover rescue system</p>
<p>Running 00-functions.sh...<br />
Running 01-run-ldconfig.sh...<br />
Running 10-console-setup.sh...<br />
Loading /etc/dumpkeys.out<br />
Running 20-check-boot-options.sh...<br />
IP address will be overruled by kernel option
ip=10.97.31.245::10.97.28.1:255.255.252.0:sssxfs04:eth0:none<br />
Running 40-start-udev-or-load-modules.sh...<br />
/etc/scripts/system-setup.d/00-functions.sh: line 16: udevsettle:
command not found<br />
Waiting for udev ... /etc/scripts/system-setup.d/00-functions.sh: line
16: udevsettle: command not found<br />
done.<br />
Running 41-load-special-modules.sh...<br />
Running 42-engage-scsi.sh...<br />
Running 45-serial-console.sh...<br />
Running 55-migrate-network-devices.sh...<br />
No network interface mapping is specified in /etc/rear/mappings/mac<br />
The original network interface eth0 d2:d5:09:ee:88:02 is not available</p>
<ol>
<li>eth0 26:2f:0a:88:f2:02 ibmveth</li>
<li>Skip replacing eth0 d2:d5:09:ee:88:02<br />
    Choose replacement for eth0 d2:d5:09:ee:88:02 2<br />
    Skipping eth0 d2:d5:09:ee:88:02 (you may have to manually fix your
    network setup)<br />
    The original network interface eth1 d2:d5:09:ee:88:03 is not
    available</li>
<li>eth0 26:2f:0a:88:f2:02 ibmveth</li>
<li>Skip replacing eth1 d2:d5:09:ee:88:03<br />
    Choose replacement for eth1 d2:d5:09:ee:88:03 2<br />
    Skipping eth1 d2:d5:09:ee:88:03 (you may have to manually fix your
    network setup)<br />
    Running 58-start-dhclient.sh...<br />
    Running 60-network-devices.sh...<br />
    Cannot find device "eth1"<br />
    Cannot find device "eth1"<br />
    Cannot find device "eth1"<br />
    Cannot find device "eth1"<br />
    Running 62-routing.sh...<br />
    Running 63-teaming.sh...<br />
    Running 65-sysctl.sh...<br />
    Running 67-check-by-label-cdrom.sh...<br />
    Did not find a cdrom device. Recover might fail.<br />
    Running 99-makedev.sh...</li>
</ol>
<p>Relax-and-Recover rescue system is ready</p>
<p>[ OK ] Started Initialize Rescue System.<br />
[ OK ] Started Getty on tty3.<br />
Starting Getty on tty3...<br />
[ OK ] Started Getty on tty2.<br />
Starting Getty on tty2...<br />
[ OK ] Started Getty on hvc0.<br />
Starting Getty on hvc0...<br />
[ OK ] Started Getty on tty0.<br />
Starting Getty on tty0...<br />
[ OK ] Started Getty on tty1.<br />
Starting Getty on tty1...<br />
[ OK ] Started Getty on tty4.<br />
Starting Getty on tty4...<br />
[ OK ] Reached target Login Prompts.<br />
[ OK ] Reached target Multi-User.<br />
[ OK ] Started Serial Getty on ttyS0.<br />
Starting Serial Getty on ttyS0...<br />
[ OK ] Started Serial Getty on hvc0.</p>
<p>Relax-and-Recover 2.3 / 2017-12-20</p>
<p>Relax-and-Recover comes with ABSOLUTELY NO WARRANTY; for details see<br />
the GNU General Public License at:
<a href="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</a></p>
<p>Host sssxfs03 using Backup NETFS and Output ISO<br />
Build date: Thu, 29 Mar 2018 14:41:57 -0400</p>
<p>Red Hat Enterprise Linux<br />
Kernel 3.10.0-514.21.1.el7.ppc64le on an ppc64le</p>
<p>SSH fingerprint: 2048 65:1e:5b:a5:c7:8b:3a:29:e0:5c:87:9f:3b:7d:45:fc
root@sssxfs03 (RSA)</p>
<p>sssxfs03 login:</p>
<p>Relax-and-Recover 2.3 / 2017-12-20</p>
<p>Relax-and-Recover comes with ABSOLUTELY NO WARRANTY; for details see<br />
the GNU General Public License at:
<a href="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</a></p>
<p>Host sssxfs03 using Backup NETFS and Output ISO<br />
Build date: Thu, 29 Mar 2018 14:41:57 -0400</p>
<p>Red Hat Enterprise Linux<br />
Kernel 3.10.0-514.21.1.el7.ppc64le on an ppc64le</p>
<p>SSH fingerprint: 2048 65:1e:5b:a5:c7:8b:3a:29:e0:5c:87:9f:3b:7d:45:fc
root@sssxfs03 (RSA)</p>
<p>sssxfs03 login: root<br />
-bash: cannot set terminal process group (-1): Inappropriate ioctl for
device<br />
-bash: no job control in this shell</p>
<p>Welcome to Relax-and-Recover. Run "rear recover" to restore your system
!</p>
<ul>
<li>Work-around, if any:</li>
</ul>
<h4 id="schabrolles_commented_at_2018-04-01_0806"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1764#issuecomment-377770484">2018-04-01 08:06</a>:<a class="headerlink" href="#schabrolles_commented_at_2018-04-01_0806" title="Permanent link">&para;</a></h4>
<p>Hi @pspatola101,</p>
<p>/dev/hvc0 is not only used by XEN. It is also the default console for
POWER when using HMC virtual console (in PowerVM).</p>
<p>How do you use your system? :</p>
<ul>
<li>PowerNV (BareMetal, no virtualization, with VGA console or IPMI
    console)</li>
<li>PowerVM (Native Power Firmware Virtualisation, with HMC virtual
    console)</li>
<li>KVM on Power (KVM virtualization, virsh console, VNC console)</li>
<li>RHV/oVIrt (KVM, virtual console via VNC / Web interface)</li>
<li>Nutanix (Hyperconverged based on KVM, virtual console via Prism web
    interface)</li>
</ul>
<h4 id="pspatola101_commented_at_2018-04-02_1449"><img src="https://avatars.githubusercontent.com/u/37379705?v=4" width="50"><a href="https://github.com/pspatola101">pspatola101</a> commented at <a href="https://github.com/rear/rear/issues/1764#issuecomment-377946093">2018-04-02 14:49</a>:<a class="headerlink" href="#pspatola101_commented_at_2018-04-02_1449" title="Permanent link">&para;</a></h4>
<p>I'm using the PowerVM.</p>
<h4 id="pspatola101_commented_at_2018-04-02_1457"><img src="https://avatars.githubusercontent.com/u/37379705?v=4" width="50"><a href="https://github.com/pspatola101">pspatola101</a> commented at <a href="https://github.com/rear/rear/issues/1764#issuecomment-377948091">2018-04-02 14:57</a>:<a class="headerlink" href="#pspatola101_commented_at_2018-04-02_1457" title="Permanent link">&para;</a></h4>
<p>Somewhere I read that I need the mingetty package on the linux lpar for
the restore to work properly?</p>
<h4 id="schabrolles_commented_at_2018-04-02_1524"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1764#issuecomment-377954644">2018-04-02 15:24</a>:<a class="headerlink" href="#schabrolles_commented_at_2018-04-02_1524" title="Permanent link">&para;</a></h4>
<p>@pspatola101, If you are on PowerVM, then you should stay with <code>hvc0</code> as
default console.</p>
<p>If you still have errors with your console, you should also give a try
to the current master branch (some patches regarding dbus could help to
detect the console during boot on rescue media
<a href="https://github.com/rear/rear/pull/1743">https://github.com/rear/rear/pull/1743</a>)</p>
<pre><code>git clone http://github.com/rear/rear
cd rear
make install
</code></pre>
<p>@jsmeix , What do you think about the following message:</p>
<pre><code>cat /etc/rear/os.conf
cat: /etc/rear/os.conf: No such file or directory
lsb_release -i -s
-bash: lsb_release: command not found
</code></pre>
<h4 id="pspatola101_commented_at_2018-04-02_1638"><img src="https://avatars.githubusercontent.com/u/37379705?v=4" width="50"><a href="https://github.com/pspatola101">pspatola101</a> commented at <a href="https://github.com/rear/rear/issues/1764#issuecomment-377972776">2018-04-02 16:38</a>:<a class="headerlink" href="#pspatola101_commented_at_2018-04-02_1638" title="Permanent link">&para;</a></h4>
<p>I downloaded the latest rear and created an rpm package with it:<br />
[root@sssxfs03 rear]# rear -V<br />
Relax-and-Recover 2.3-git.2932.d6865ed.master.changed / 2018-03-23<br />
I also installed the lsb components:<br />
[root@sssxfs03 rear]# rpm -qa |grep lsb-core<br />
redhat-lsb-core-4.1-27.el7.ppc64le</p>
<p>I ran the rear rescue again and recovered the system on another lpar and
it worked! Many thanks!</p>
<h4 id="jsmeix_commented_at_2018-04-03_0942"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1764#issuecomment-378191823">2018-04-03 09:42</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-04-03_0942" title="Permanent link">&para;</a></h4>
<p>@schabrolles<br />
many thanks for your help with this POWER related issue!</p>
<p>Regarding os.conf see
<a href="https://github.com/rear/rear/issues/1639">https://github.com/rear/rear/issues/1639</a></p>
<p>Regarding "lsb_release: command not found":<br />
As far as I know <code>lsb_release</code> is only required by RPM packaging.<br />
This means when one installs the ReaR files not as RPM packages<br />
one can have the ReaR files without <code>lsb_release</code>.<br />
But I think then the SetOSVendorAndVersion() function in<br />
usr/share/rear/lib/config-functions.sh<br />
may error out depending on whether or not<br />
OS_VENDOR and OS_VERSION are already specified<br />
and depending on whether or not the SetOSVendorAndVersion() function<br />
can determine OS_VENDOR and OS_VERSION also without <code>lsb_release</code>.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2018-03-30.1764.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
