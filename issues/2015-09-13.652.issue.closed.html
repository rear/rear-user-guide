<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#652 Issue closed: Bareos and Rear not recovering - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#652 Issue closed: Bareos and Rear not recovering";
        var mkdocs_page_input_path = "issues/2015-09-13.652.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_rsync.html">Internal Backup with rsync to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/restic.html">External Backup using restic</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#652 Issue closed: Bareos and Rear not recovering</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="652_issue_closed_bareos_and_rear_not_recovering"><a href="https://github.com/rear/rear/issues/652">#652 Issue</a> <code>closed</code>: Bareos and Rear not recovering<a class="headerlink" href="#652_issue_closed_bareos_and_rear_not_recovering" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code></p>
<h4 id="hi-flyer_opened_issue_at_2015-09-13_1833"><img src="https://avatars.githubusercontent.com/u/4342834?v=4" width="50"><a href="https://github.com/hi-flyer">hi-flyer</a> opened issue at <a href="https://github.com/rear/rear/issues/652">2015-09-13 18:33</a>:<a class="headerlink" href="#hi-flyer_opened_issue_at_2015-09-13_1833" title="Permanent link">&para;</a></h4>
<p>I used version 17.2 of Rear (from git) to create a usb backup using
bareos. the configuration parameters in local.conf were</p>
<p>OUTPUT=USB<br />
USB_DEVICE=/dev/sdb1<br />
BACKUP=BAREOS<br />
BAREOS_CLIENT=zeus-fd</p>
<p>this created a USB with bootable Rear recovery.<br />
I booted a second dell computer with this usb, after reassigning eth0
(which was not connected in any case) and wlan0 (which is my access to
the bareos server), it proceed to a line where if I hit a cr<br />
it asked me for ZEUS login:<br />
I have tried both the user name and root both of which state that they
have created the disk layout. then it says is is connecting to the
Director (which seems good to me)<br />
Then is says "waiting for job to start" Which it never does anything
else.</p>
<p>The real Zeus is on line when I am doing the above restore and I admit
that the Bareos backup is only my local user files but it seems that it
should actually run the restore from bareos but I do not expect that the
operating system will be there as bareos backup is not set to provide
that at this time.</p>
<p>So why does the job not start - any suggestions.</p>
<p>PS, your patch on #624 did fix my problem of not having a bootable usb.</p>
<h4 id="gdha_commented_at_2015-09-14_1131"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/652#issuecomment-140045090">2015-09-14 11:31</a>:<a class="headerlink" href="#gdha_commented_at_2015-09-14_1131" title="Permanent link">&para;</a></h4>
<p>@sebastianlederer Hi Sebastian - are you able to have a look at this
issue and respond to it?</p>
<h4 id="sebastianlederer_commented_at_2015-09-21_1103"><img src="https://avatars.githubusercontent.com/u/3583086?v=4" width="50"><a href="https://github.com/sebastianlederer">sebastianlederer</a> commented at <a href="https://github.com/rear/rear/issues/652#issuecomment-141942309">2015-09-21 11:03</a>:<a class="headerlink" href="#sebastianlederer_commented_at_2015-09-21_1103" title="Permanent link">&para;</a></h4>
<p>To help debugging, you can try manual recovery mode. Include the
following in your rear configuration:</p>
<p>BAREOS_RECOVERY_MODE=manual</p>
<p>Then when booting the rear image and starting the recovery command, you
will get a bconsole prompt. From there you can start a bareos restore
job. Maybe then you can see more easily what is wrong.</p>
<p>You said that the original machine is still running, maybe the director
is trying to connect with this machine instead of the new one?</p>
<h4 id="hi-flyer_commented_at_2015-09-26_2108"><img src="https://avatars.githubusercontent.com/u/4342834?v=4" width="50"><a href="https://github.com/hi-flyer">hi-flyer</a> commented at <a href="https://github.com/rear/rear/issues/652#issuecomment-143495794">2015-09-26 21:08</a>:<a class="headerlink" href="#hi-flyer_commented_at_2015-09-26_2108" title="Permanent link">&para;</a></h4>
<p>It turns out there are 3 issues. 1&amp;2) the network dhclients are not
establishing the IP connections. Because I am on a different machine, it
detects that the mac addresses are different and asks me to select for a
new idenity for ETH0 and WLAN0 which I did. It attempts to establish
dhclient connections but fails for both. When I run ifconfig only local
and wlan0 show up but no network IP connections. If I run dhclient -v
wlan0 after many attempts it fails. If I run dhclient -v eth2 (and hook
up the hardwire), then it gets a client connection. Normally I run these
machines only on wlan. these are the first 2 issues. the last issue is
with bareos. 3) If I run bconsole, I can start the backup. If I try to
run rear recover, it gets to the point where it has selected the files
and tries to select the bareos recover definition. I have 9 definitions
and it tries something 3 times but then hangs. It will not let me enter
the number 9 which is the correct one and not does it seem to do
anything else.</p>
<p>As indicated above I can make it work but it is definitely not automatic
in my test case.</p>
<h4 id="gdha_commented_at_2015-09-28_1510"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/652#issuecomment-143770460">2015-09-28 15:10</a>:<a class="headerlink" href="#gdha_commented_at_2015-09-28_1510" title="Permanent link">&para;</a></h4>
<p>@hi-flyer Different machine - could it be that the wlan drivers were not
loaded and therefore no IP address could be attached? Rear does not
always load automatically drivers if the HW changed. Certainly when
doing cloning on different HW this might happen. Using <code>dmesg</code> might
help to identify what was and what was not loaded...<br />
We are open for improvements (as always)...</p>
<h4 id="schlomo_commented_at_2015-10-01_1145"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/652#issuecomment-144704556">2015-10-01 11:45</a>:<a class="headerlink" href="#schlomo_commented_at_2015-10-01_1145" title="Permanent link">&para;</a></h4>
<p>Are you sure that all the WIFI tools are included in the Rescue image? I
don't remember seeing WIFI support in ReaR... Consequently I would be
surprised if WIFI would work just like this.</p>
<h4 id="hi-flyer_commented_at_2015-10-02_0040"><img src="https://avatars.githubusercontent.com/u/4342834?v=4" width="50"><a href="https://github.com/hi-flyer">hi-flyer</a> commented at <a href="https://github.com/rear/rear/issues/652#issuecomment-144886414">2015-10-02 00:40</a>:<a class="headerlink" href="#hi-flyer_commented_at_2015-10-02_0040" title="Permanent link">&para;</a></h4>
<p>I have tried to drop txt messages for dmesg, dhclient, ifconfig on the
site to give info as to what am seeing but the system is saying it
cannot process any of those files.</p>
<h4 id="hi-flyer_commented_at_2015-10-02_0043"><img src="https://avatars.githubusercontent.com/u/4342834?v=4" width="50"><a href="https://github.com/hi-flyer">hi-flyer</a> commented at <a href="https://github.com/rear/rear/issues/652#issuecomment-144886593">2015-10-02 00:43</a>:<a class="headerlink" href="#hi-flyer_commented_at_2015-10-02_0043" title="Permanent link">&para;</a></h4>
<p>as I am not available for next 3 weeks, I will close this issue as I
have a work around. thanks</p>
<h4 id="schlomo_commented_at_2015-10-02_0838"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/652#issuecomment-144960470">2015-10-02 08:38</a>:<a class="headerlink" href="#schlomo_commented_at_2015-10-02_0838" title="Permanent link">&para;</a></h4>
<p>@hi-flyer maybe it would help if you could open separate issues for your
3 problems?</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2015-09-13.652.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
