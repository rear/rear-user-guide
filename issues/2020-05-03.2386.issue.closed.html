<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2386 Issue closed: ReaR generating very large initrd of 3GB - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2386 Issue closed: ReaR generating very large initrd of 3GB";
        var mkdocs_page_input_path = "issues/2020-05-03.2386.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#2386 Issue closed: ReaR generating very large initrd of 3GB</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2386_issue_closed_rear_generating_very_large_initrd_of_3gb"><a href="https://github.com/rear/rear/issues/2386">#2386 Issue</a> <code>closed</code>: ReaR generating very large initrd of 3GB<a class="headerlink" href="#2386_issue_closed_rear_generating_very_large_initrd_of_3gb" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>fixed / solved / done</code></p>
<h4 id="normhenderson_opened_issue_at_2020-05-03_1148"><img src="https://avatars.githubusercontent.com/u/39542465?v=4" width="50"><a href="https://github.com/NormHenderson">NormHenderson</a> opened issue at <a href="https://github.com/rear/rear/issues/2386">2020-05-03 11:48</a>:<a class="headerlink" href="#normhenderson_opened_issue_at_2020-05-03_1148" title="Permanent link">&para;</a></h4>
<h4 id="relax-and-recover_rear_issue_template">Relax-and-Recover (ReaR) Issue Template<a class="headerlink" href="#relax-and-recover_rear_issue_template" title="Permanent link">&para;</a></h4>
<p>Fill in the following items before submitting a new issue<br />
(quick response is not guaranteed with free support):</p>
<ul>
<li>
<p>ReaR version ("/usr/sbin/rear -V"): 2.5 2019-05-10</p>
</li>
<li>
<p>OS version ("cat /etc/rear/os.conf" or "lsb_release -a" or "cat
    /etc/os-release"):<br />
    Ubuntu 18.04.4 LTS<br />
    Linux cem01vpbx 4.15.0-99-generic #100-Ubuntu SMP Wed Apr 22
    20:32:56 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux</p>
</li>
<li>
<p>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
    /etc/rear/local.conf"):<br />
    First system:</p>
</li>
</ul>
<!-- -->

<pre><code>BACKUP=DUPLICITY
OUTPUT=ISO
ISO_VOLID="ReaR-cem01vpbx"
OUTPUT_URL='nfs://cem01nas2.cem.ceml.net/volume1/cem01pbx_backups'
KEEP_OLD_OUTPUT_COPY=y
SSH_UNPROTECTED_PRIVATE_KEYS='yes'
TIMESYNC=NTP
TIMESYNC_SOURCE=10.0.69.1
DUPLY_PROFILE="cem01vpbx"
USE_DHCLIENT=n
USE_STATIC_NETWORKING=y
USE_RESOLV_CONF=( '1.1.1.1' )
GRUB_RESCUE=y
</code></pre>
<p>Second system:</p>
<pre><code>BACKUP=DUPLICITY
OUTPUT=ISO
ISO_VOLID="ReaR-CEM01FW"
OUTPUT_URL='nfs://cem01nas2.cem.ceml.net/volume1/cem01fw_backups'
KEEP_OLD_OUTPUT_COPY=y
REAR_INITRD_COMPRESSION="lzma"
SSH_UNPROTECTED_PRIVATE_KEYS='yes'
TIMESYNC=NTP
TIMESYNC_SOURCE=10.0.69.2
DUPLY_PROFILE="cem01vfw"
USE_DHCLIENT=n
USE_STATIC_NETWORKING=y
USE_RESOLV_CONF=( '10.0.69.2' )
GRUB_RESCUE=y
</code></pre>
<ul>
<li>
<p>Hardware (PC or PowerNV BareMetal or ARM) or virtual machine (KVM
    guest or PoverVM LPAR):<br />
    VM guests on XCP-ng server 8.1</p>
</li>
<li>
<p>System architecture (x86 compatible or PPC64/PPC64LE or what exact
    ARM device):<br />
    x86-64</p>
</li>
<li>
<p>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or
    ELILO or Petitboot):<br />
    Xenserver BIOS, GRUB</p>
</li>
<li>
<p>Storage (local disk or SSD) and/or SAN (FC or iSCSI or FCoE) and/or
    multipath (DM or NVMe):<br />
    virtual local disk</p>
</li>
<li>
<p>Storage layout ("lsblk -ipo
    NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,SIZE,MOUNTPOINT" or "lsblk" as
    makeshift):<br />
    First system:</p>
</li>
</ul>
<!-- -->

<pre><code> NAME                         KNAME      PKNAME     TRAN TYPE FSTYPE       SIZE MOUNTPOINT
/dev/loop0                   /dev/loop0                 loop squashfs    93.9M /snap/core/9066
/dev/loop1                   /dev/loop1                 loop squashfs      91M /snap/core/6350
/dev/sr0                     /dev/sr0              ata  rom              1024M
/dev/xvda                    /dev/xvda                  disk               50G
|-/dev/xvda1                 /dev/xvda1 /dev/xvda       part                1M
|-/dev/xvda2                 /dev/xvda2 /dev/xvda       part ext4           2G /boot
|-/dev/xvda3                 /dev/xvda3 /dev/xvda       part swap           4G [SWAP]
|-/dev/xvda4                 /dev/xvda4 /dev/xvda       part LVM2_member  5.2G
| `-/dev/mapper/vg0-lv--root /dev/dm-0  /dev/xvda4      lvm  ext4          44G /
`-/dev/xvda5                 /dev/xvda5 /dev/xvda       part LVM2_member 38.8G
  `-/dev/mapper/vg0-lv--root /dev/dm-0  /dev/xvda5      lvm  ext4          44G /
</code></pre>
<p>Second system:</p>
<pre><code>NAME                                  KNAME      PKNAME     TRAN TYPE FSTYPE       SIZE MOUNTPOINT
/dev/loop0                            /dev/loop0                 loop squashfs    93.8M /snap/core/8935
/dev/loop1                            /dev/loop1                 loop squashfs    93.9M /snap/core/9066
/dev/sr0                              /dev/sr0              ata  rom              1024M
/dev/xvda                             /dev/xvda                  disk               50G
|-/dev/xvda1                          /dev/xvda1 /dev/xvda       part                1M
|-/dev/xvda2                          /dev/xvda2 /dev/xvda       part ext4           1G /boot
`-/dev/xvda3                          /dev/xvda3 /dev/xvda       part LVM2_member   49G
  `-/dev/mapper/ubuntu--vg-ubuntu--lv /dev/dm-0  /dev/xvda3      lvm  ext4          49G /
</code></pre>
<ul>
<li>Description of the issue (ideally so that others can reproduce
    it):<br />
    The rear-initrd files are HUGE. In the case of the first system, it
    wants over 3 GB which won't fit on the /boot therefore rear mkrescue
    fails, see log. In the case of the second system, when using cgz
    compression (earlier attempt) produced rear-initrd.cgz of 347M,
    (current attempt) rear-initrd.xz is 223M, normal initrd is 56M. Both
    systems were recently built.</li>
<li>Workaround, if any:<br />
    None</li>
<li>Attachments, as applicable ("rear -D mkrescue/mkbackup/recover"
    debug log files):<br />
    From first system:</li>
</ul>
<!-- -->

<pre><code>Relax-and-Recover 2.5 / 2019-05-10

Relax-and-Recover comes with ABSOLUTELY NO WARRANTY; for details see
the GNU General Public License at: http://www.gnu.org/licenses/gpl.html

Host cem01vpbx using Backup DUPLICITY and Output ISO
Build date: Sun, 03 May 2020 10:24:03 +0000
'
++ echo 'display message'
++ echo 'F1 message'
+++ get_template rear.help
+++ [[ -e /etc/rear/templates/rear.help ]]
+++ echo /usr/share/rear/conf/templates/rear.help
++ [[ -s /usr/share/rear/conf/templates/rear.help ]]
+++ get_template rear.help
+++ [[ -e /etc/rear/templates/rear.help ]]
+++ echo /usr/share/rear/conf/templates/rear.help
++ cp -v /usr/share/rear/conf/templates/rear.help /tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/rear.help
'/usr/share/rear/conf/templates/rear.help' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/rear.help'
++ echo 'F2 rear.help'
++ echo 'say F2 - Show help'
++ syslinux_menu 'TABMSG Press [Tab] to edit, [F2] for help, [F1] for version info'
++ echo 'MENU TABMSG Press [Tab] to edit, [F2] for help, [F1] for version info'
++ echo 'timeout 300'
++ echo '#noescape 1'
++ syslinux_menu title Relax-and-Recover v2.5
++ echo 'MENU title' Relax-and-Recover v2.5
++ echo 'say rear - Recover cem01vpbx'
++ echo 'label rear'
++ syslinux_menu 'label ^Recover cem01vpbx'
++ echo 'MENU label ^Recover cem01vpbx'
+++ date -R
++ syslinux_menu_help 'Rescue image kernel 4.15.0-99-generic  Sun, 03 May 2020 10:28:20 +0000' 'BACKUP=DUPLICITY OUTPUT=ISO '
++ [[ -n y ]]
++ echo 'TEXT HELP'
++ for line in "$@"
++ echo 'Rescue image kernel 4.15.0-99-generic  Sun, 03 May 2020 10:28:20 +0000'
++ for line in "$@"
++ echo 'BACKUP=DUPLICITY OUTPUT=ISO '
++ echo ENDTEXT
++ echo 'kernel kernel'
++ echo 'append initrd=initrd.cgz root=/dev/ram0 vga=normal rw selinux=0 console=ttyS0,9600 console=tty0'
++ '[' boothd == manual ']'
++ echo ''
++ echo 'say rear - Recover cem01vpbx'
++ echo 'label rear-automatic'
++ syslinux_menu 'label ^Automatic Recover cem01vpbx'
++ echo 'MENU label ^Automatic Recover cem01vpbx'
+++ date -R
++ syslinux_menu_help 'Rescue image kernel 4.15.0-99-generic  Sun, 03 May 2020 10:28:20 +0000' 'BACKUP=DUPLICITY OUTPUT=ISO '
++ [[ -n y ]]
++ echo 'TEXT HELP'
++ for line in "$@"
++ echo 'Rescue image kernel 4.15.0-99-generic  Sun, 03 May 2020 10:28:20 +0000'
++ for line in "$@"
++ echo 'BACKUP=DUPLICITY OUTPUT=ISO '
++ echo ENDTEXT
++ echo 'kernel kernel'
++ echo 'append initrd=initrd.cgz root=/dev/ram0 vga=normal rw selinux=0 console=ttyS0,9600 console=tty0 auto_recover '
++ '[' boothd == automatic ']'
++ echo ''
++ syslinux_menu separator
++ echo 'MENU separator'
++ echo 'label -'
++ syslinux_menu 'label Other actions'
++ echo 'MENU label Other actions'
++ syslinux_menu disable
++ echo 'MENU disable'
++ echo ''
++ [[ -n y ]]
+++ get_template rear.help
+++ [[ -e /etc/rear/templates/rear.help ]]
+++ echo /usr/share/rear/conf/templates/rear.help
++ [[ -r /usr/share/rear/conf/templates/rear.help ]]
++ echo 'label help'
++ syslinux_menu 'label ^Help for Relax-and-Recover'
++ echo 'MENU label ^Help for Relax-and-Recover'
++ syslinux_menu_help 'More information about Relax-and-Recover and the steps for recovering your system'
++ [[ -n y ]]
++ echo 'TEXT HELP'
++ for line in "$@"
++ echo 'More information about Relax-and-Recover and the steps for recovering your system'
++ echo ENDTEXT
++ syslinux_menu 'help rear.help'
++ echo 'MENU help rear.help'
++ [[ -r /usr/lib/syslinux/modules/bios/chain.c32 ]]
++ cp -v /usr/lib/syslinux/modules/bios/chain.c32 /tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/chain.c32
'/usr/lib/syslinux/modules/bios/chain.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/chain.c32'
++ echo 'say boothd0 - boot first local disk'
++ echo 'label boothd0'
++ syslinux_menu 'label Boot First ^Local disk (hd0)'
++ echo 'MENU label Boot First ^Local disk (hd0)'
++ [[ isolinux == \i\s\o\l\i\n\u\x ]]
++ '[' boothd == boothd ']'
++ echo 'default boothd0'
++ syslinux_menu default
++ echo 'MENU default'
++ echo 'kernel chain.c32'
++ echo 'append hd0'
++ echo ''
++ echo 'say boothd1 - boot second local disk'
++ echo 'label boothd1'
++ syslinux_menu 'label Boot ^Second Local disk (hd1)'
++ echo 'MENU label Boot ^Second Local disk (hd1)'
++ [[ isolinux == \e\x\t\l\i\n\u\x ]]
++ echo 'kernel chain.c32'
++ echo 'append hd1'
++ echo ''
++ [[ isolinux != \e\x\t\l\i\n\u\x ]]
++ [[ ! -r /usr/lib/syslinux/modules/bios/chain.c32 ]]
++ echo 'say local - Boot from next boot device'
++ echo 'label local'
++ syslinux_menu 'label Boot ^Next device'
++ echo 'MENU label Boot ^Next device'
++ syslinux_menu_help 'Boot from the next device in the BIOS boot order list.'
++ [[ -n y ]]
++ echo 'TEXT HELP'
++ for line in "$@"
++ echo 'Boot from the next device in the BIOS boot order list.'
++ echo ENDTEXT
++ [[ isolinux == \p\x\e\l\i\n\u\x ]]
++ echo 'localboot -1'
++ echo ''
++ [[ -r /usr/lib/syslinux/modules/bios/ldlinux.c32 ]]
++ cp -v /usr/lib/syslinux/modules/bios/ldlinux.c32 /tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/ldlinux.c32
'/usr/lib/syslinux/modules/bios/ldlinux.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/ldlinux.c32'
++ [[ -r /usr/lib/syslinux/modules/bios/libcom32.c32 ]]
++ cp -v /usr/lib/syslinux/modules/bios/libcom32.c32 /tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/libcom32.c32
'/usr/lib/syslinux/modules/bios/libcom32.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/libcom32.c32'
++ [[ -r /usr/lib/syslinux/modules/bios/libgpl.c32 ]]
++ cp -v /usr/lib/syslinux/modules/bios/libgpl.c32 /tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/libgpl.c32
'/usr/lib/syslinux/modules/bios/libgpl.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/libgpl.c32'
++ [[ -r /usr/lib/syslinux/modules/bios/libmenu.c32 ]]
++ cp -v /usr/lib/syslinux/modules/bios/libmenu.c32 /tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/libmenu.c32
'/usr/lib/syslinux/modules/bios/libmenu.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/libmenu.c32'
++ [[ -r /usr/lib/syslinux/modules/bios/libutil.c32 ]]
++ cp -v /usr/lib/syslinux/modules/bios/libutil.c32 /tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/libutil.c32
'/usr/lib/syslinux/modules/bios/libutil.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/libutil.c32'
++ [[ -r /usr/lib/syslinux/modules/bios/vesamenu.c32 ]]
++ cp -v /usr/lib/syslinux/modules/bios/vesamenu.c32 /tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/vesamenu.c32
'/usr/lib/syslinux/modules/bios/vesamenu.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/vesamenu.c32'
++ [[ -r /usr/lib/syslinux/modules/bios/hdt.c32 ]]
++ cp -v /usr/lib/syslinux/modules/bios/hdt.c32 /tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/hdt.c32
'/usr/lib/syslinux/modules/bios/hdt.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/hdt.c32'
++ [[ -r /usr/share/hwdata/pci.ids ]]
++ [[ -r /usr/share/pci.ids ]]
++ [[ -r /lib/modules/4.15.0-99-generic/modules.pcimap ]]
++ echo 'say hdt - Hardware Detection Tool'
++ echo 'label hdt'
++ syslinux_menu 'label ^Hardware Detection Tool'
++ echo 'MENU label ^Hardware Detection Tool'
++ syslinux_menu_help 'Information about your current hardware configuration'
++ [[ -n y ]]
++ echo 'TEXT HELP'
++ for line in "$@"
++ echo 'Information about your current hardware configuration'
++ echo ENDTEXT
++ echo 'kernel hdt.c32'
++ echo ''
+++ ls -d
+++ tail -1
++ MEMTEST_BIN=.
++ [[ . != \. ]]
++ [[ -r /usr/lib/syslinux/modules/bios/reboot.c32 ]]
++ cp -v /usr/lib/syslinux/modules/bios/reboot.c32 /tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/reboot.c32
'/usr/lib/syslinux/modules/bios/reboot.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/reboot.c32'
++ echo 'say reboot - Reboot the system'
++ echo 'label reboot'
++ syslinux_menu 'label Re^Boot system'
++ echo 'MENU label Re^Boot system'
++ syslinux_menu_help 'Reboot the system now'
++ [[ -n y ]]
++ echo 'TEXT HELP'
++ for line in "$@"
++ echo 'Reboot the system now'
++ echo ENDTEXT
++ echo 'kernel reboot.c32'
++ echo ''
++ [[ -r /usr/lib/syslinux/modules/bios/poweroff.com ]]
++ [[ -r /usr/lib/syslinux/modules/bios/menu.c32 ]]
++ echo 'default menu.c32'
++ Log 'Created isolinux configuration'
++ echo '2020-05-03 10:28:20.151319674 Created isolinux configuration'
2020-05-03 10:28:20.151319674 Created isolinux configuration
++ cp -v -r /tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux /tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/
'/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux'
'/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/isolinux.bin' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/isolinux.bin'
'/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/isolinux.cfg' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/isolinux.cfg'
'/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/menu.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/menu.c32'
'/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/message' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/message'
'/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/rear.help' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/rear.help'
'/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/chain.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/chain.c32'
'/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/ldlinux.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/ldlinux.c32'
'/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/libcom32.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/libcom32.c32'
'/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/libgpl.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/libgpl.c32'
'/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/libmenu.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/libmenu.c32'
'/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/libutil.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/libutil.c32'
'/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/vesamenu.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/vesamenu.c32'
'/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/hdt.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/hdt.c32'
'/tmp/rear.tHhrnFJmZnPiDnI/tmp/isolinux/reboot.c32' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/reboot.c32'
++ StopIfError 'Could not copy syslinux boot directory to isofs/'
++ ((  0 != 0  ))
+ source_return_code=0
+ test 0 -eq 0
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ echo '2020-05-03 10:28:20.157125590 Leaving debugscripts mode (back to previous bash flags and options settings).'
2020-05-03 10:28:20.157125590 Leaving debugscripts mode (back to previous bash flags and options settings).
2020-05-03 10:28:20.164451718 Including output/default/400_copy_disk_struct_files.sh
2020-05-03 10:28:20.166502934 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/output/default/400_copy_disk_struct_files.sh
++ '[' -z '' ']'
++ return
+ source_return_code=0
+ test 0 -eq 0
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ echo '2020-05-03 10:28:20.173201101 Leaving debugscripts mode (back to previous bash flags and options settings).'
2020-05-03 10:28:20.173201101 Leaving debugscripts mode (back to previous bash flags and options settings).
2020-05-03 10:28:20.179044841 Including output/ISO/Linux-i386/700_create_efibootimg.sh
2020-05-03 10:28:20.180508559 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/output/ISO/Linux-i386/700_create_efibootimg.sh
++ is_true
++ case "$1" in
++ return 1
++ return 0
+ source_return_code=0
+ test 0 -eq 0
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ echo '2020-05-03 10:28:20.186699626 Leaving debugscripts mode (back to previous bash flags and options settings).'
2020-05-03 10:28:20.186699626 Leaving debugscripts mode (back to previous bash flags and options settings).
2020-05-03 10:28:20.192428852 Including output/ISO/Linux-i386/800_create_isofs.sh
2020-05-03 10:28:20.193954782 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/output/ISO/Linux-i386/800_create_isofs.sh
++ test -x /usr/bin/xorrisofs
+++ basename /usr/bin/xorrisofs
++ [[ xorrisofs = \e\b\i\s\o ]]
++ Log 'Copying kernel and initrd'
++ echo '2020-05-03 10:28:20.201920338 Copying kernel and initrd'
2020-05-03 10:28:20.201920338 Copying kernel and initrd
++ cp -pL -v /boot/vmlinuz-4.15.0-99-generic /tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/kernel
'/boot/vmlinuz-4.15.0-99-generic' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/kernel'
++ cp -v /tmp/rear.tHhrnFJmZnPiDnI/tmp/initrd.cgz /tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/initrd.cgz
'/tmp/rear.tHhrnFJmZnPiDnI/tmp/initrd.cgz' -&gt; '/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs/isolinux/initrd.cgz'
++ test 0 -gt 0
++ mkdir -p -v /var/lib/rear/output
+ source_return_code=0
+ test 0 -eq 0
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ echo '2020-05-03 10:28:23.538566265 Leaving debugscripts mode (back to previous bash flags and options settings).'
2020-05-03 10:28:23.538566265 Leaving debugscripts mode (back to previous bash flags and options settings).
2020-05-03 10:28:23.544408737 Including output/ISO/Linux-i386/810_prepare_multiple_iso.sh
2020-05-03 10:28:23.545902087 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/output/ISO/Linux-i386/810_prepare_multiple_iso.sh
++ test ''
++ return 0
+ source_return_code=0
+ test 0 -eq 0
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ echo '2020-05-03 10:28:23.552269656 Leaving debugscripts mode (back to previous bash flags and options settings).'
2020-05-03 10:28:23.552269656 Leaving debugscripts mode (back to previous bash flags and options settings).
2020-05-03 10:28:23.559550092 Including output/ISO/Linux-i386/820_create_iso_image.sh
2020-05-03 10:28:23.561236087 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/output/ISO/Linux-i386/820_create_iso_image.sh
++ is_true no
++ case "$1" in
++ return 1
++ Log 'Starting '\''/usr/bin/xorrisofs'\'''
++ echo '2020-05-03 10:28:23.568867350 Starting '\''/usr/bin/xorrisofs'\'''
2020-05-03 10:28:23.568867350 Starting '/usr/bin/xorrisofs'
++ LogPrint 'Making ISO image'
++ Log 'Making ISO image'
++ echo '2020-05-03 10:28:23.570946801 Making ISO image'
2020-05-03 10:28:23.570946801 Making ISO image
++ Print 'Making ISO image'
++ is_true
++ case "$1" in
++ return 1
++ EFIBOOT=
++ pushd /tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs
+++ basename /usr/bin/xorrisofs
++ test ebiso = xorrisofs
++ /usr/bin/xorrisofs -v -o /var/lib/rear/output/rear-cem01vpbx.iso -b isolinux/isolinux.bin -c isolinux/boot.cat -no-emul-boot -boot-load-size 4 -boot-info-table -R -J -volid ReaR-cem01vpbx -v -iso-level 3 .
xorriso 1.4.8 : RockRidge filesystem manipulator, libburnia project.

Drive current: -outdev 'stdio:/var/lib/rear/output/rear-cem01vpbx.iso'
Media current: stdio file, overwriteable
Media status : is blank
Media summary: 0 sessions, 0 data blocks, 0 data, 19.6g free
xorriso : WARNING : -volid text does not comply to ISO 9660 / ECMA 119 rules
Added to ISO image: directory '/'='/tmp/rear.tHhrnFJmZnPiDnI/tmp/isofs'
xorriso : UPDATE : 17 files added in 1 seconds
xorriso : UPDATE : 17 files added in 1 seconds
xorriso : UPDATE :  0.78% done
xorriso : UPDATE :  18.10% done
xorriso : UPDATE :  29.74% done, estimate finish Sun May 03 10:28:32 2020
xorriso : UPDATE :  38.31% done, estimate finish Sun May 03 10:28:33 2020
xorriso : UPDATE :  52.07% done, estimate finish Sun May 03 10:28:33 2020
xorriso : UPDATE :  65.57% done, estimate finish Sun May 03 10:28:32 2020
xorriso : UPDATE :  79.62% done, estimate finish Sun May 03 10:28:32 2020
xorriso : UPDATE :  93.07% done
xorriso : UPDATE : Thank you for being patient. Working since 8 seconds.
xorriso : UPDATE : Thank you for being patient. Working since 9 seconds.
xorriso : UPDATE : Thank you for being patient. Working since 10 seconds.
xorriso : UPDATE : Thank you for being patient. Working since 11 seconds.
xorriso : UPDATE : Thank you for being patient. Working since 12 seconds.
ISO image produced: 1643975 sectors
Written to medium : 1643975 sectors at LBA 0
Writing to 'stdio:/var/lib/rear/output/rear-cem01vpbx.iso' completed successfully.

++ StopIfError 'Could not create ISO image (with /usr/bin/xorrisofs)'
++ ((  0 != 0  ))
++ popd
++ iso_image_size=($(du -h "$ISO_DIR/$ISO_PREFIX.iso"))
+++ du -h /var/lib/rear/output/rear-cem01vpbx.iso
++ LogPrint 'Wrote ISO image: /var/lib/rear/output/rear-cem01vpbx.iso (3.2G)'
++ Log 'Wrote ISO image: /var/lib/rear/output/rear-cem01vpbx.iso (3.2G)'
++ echo '2020-05-03 10:28:37.463322049 Wrote ISO image: /var/lib/rear/output/rear-cem01vpbx.iso (3.2G)'
2020-05-03 10:28:37.463322049 Wrote ISO image: /var/lib/rear/output/rear-cem01vpbx.iso (3.2G)
++ Print 'Wrote ISO image: /var/lib/rear/output/rear-cem01vpbx.iso (3.2G)'
++ RESULT_FILES=("${RESULT_FILES[@]}" "$ISO_DIR/$ISO_PREFIX.iso")
+ source_return_code=0
+ test 0 -eq 0
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ echo '2020-05-03 10:28:37.469922980 Leaving debugscripts mode (back to previous bash flags and options settings).'
2020-05-03 10:28:37.469922980 Leaving debugscripts mode (back to previous bash flags and options settings).
2020-05-03 10:28:37.516561596 Including output/ISO/Linux-i386/830_create_iso_image_EFISTUB.sh
2020-05-03 10:28:37.521129071 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/output/ISO/Linux-i386/830_create_iso_image_EFISTUB.sh
++ is_true no
++ case "$1" in
++ return 1
++ return 0
+ source_return_code=0
+ test 0 -eq 0
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ echo '2020-05-03 10:28:37.549264574 Leaving debugscripts mode (back to previous bash flags and options settings).'
2020-05-03 10:28:37.549264574 Leaving debugscripts mode (back to previous bash flags and options settings).
2020-05-03 10:28:37.562042254 Including output/ISO/Linux-i386/850_check_for_errors.sh
2020-05-03 10:28:37.564524180 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/output/ISO/Linux-i386/850_check_for_errors.sh
++ [[ 1 -eq 1 ]]
++ return
+ source_return_code=0
+ test 0 -eq 0
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ echo '2020-05-03 10:28:37.574884651 Leaving debugscripts mode (back to previous bash flags and options settings).'
2020-05-03 10:28:37.574884651 Leaving debugscripts mode (back to previous bash flags and options settings).
2020-05-03 10:28:37.584871463 Including output/default/940_grub2_rescue.sh
2020-05-03 10:28:37.587565593 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/output/default/940_grub2_rescue.sh
++ is_true no
++ case "$1" in
++ return 1
++ is_true y
++ case "$1" in
++ return 0
+++ type -p grub-probe
++ [[ ! -n /usr/sbin/grub-probe ]]
++ local grub_rear_menu_entry_name=Relax-and-Recover
++ LogPrint 'Setting up GRUB_RESCUE: Adding Relax-and-Recover rescue system to the local GRUB 2 configuration.'
++ Log 'Setting up GRUB_RESCUE: Adding Relax-and-Recover rescue system to the local GRUB 2 configuration.'
++ echo '2020-05-03 10:28:37.608123353 Setting up GRUB_RESCUE: Adding Relax-and-Recover rescue system to the local GRUB 2 configuration.'
2020-05-03 10:28:37.608123353 Setting up GRUB_RESCUE: Adding Relax-and-Recover rescue system to the local GRUB 2 configuration.
++ Print 'Setting up GRUB_RESCUE: Adding Relax-and-Recover rescue system to the local GRUB 2 configuration.'
++ test unrestricted = ''
++ local grub_num=
+++ type -p grub2-probe
++ [[ -n '' ]]
++ test -r /boot/vmlinuz-4.15.0-99-generic
++ local initrd_file=/tmp/rear.tHhrnFJmZnPiDnI/tmp/initrd.cgz
++ test -r /tmp/rear.tHhrnFJmZnPiDnI/tmp/initrd.cgz
++ local boot_dir=/boot
++ local boot_kernel_name=rear-kernel
++ local boot_initrd_name=rear-initrd.cgz
++ local boot_kernel_file=/boot/rear-kernel
++ local boot_initrd_file=/boot/rear-initrd.cgz
++ local grub_config_dir=/boot/grub
+++ awk 'END { print $4 * 1024 }'
+++ df -Pkl /boot
++ local free_space=1699467264
+++ total_filesize /boot/rear-kernel /boot/rear-initrd.cgz
+++ stat --format %s /boot/rear-kernel /boot/rear-initrd.cgz
+++ awk 'BEGIN { t=0 } { t+=$1 } END { print t }'
++ local already_used_space=0
++ local available_space=1699467264
+++ total_filesize /boot/vmlinuz-4.15.0-99-generic /tmp/rear.tHhrnFJmZnPiDnI/tmp/initrd.cgz
+++ stat --format %s /boot/vmlinuz-4.15.0-99-generic /tmp/rear.tHhrnFJmZnPiDnI/tmp/initrd.cgz
+++ awk 'BEGIN { t=0 } { t+=$1 } END { print t }'
++ local required_space=3365772749
++ echo KERNEL_FILE is /boot/vmlinuz-4.15.0-99-generic , initrd_file is /tmp/rear.tHhrnFJmZnPiDnI/tmp/initrd.cgz , required_space is 3365772749
KERNEL_FILE is /boot/vmlinuz-4.15.0-99-generic , initrd_file is /tmp/rear.tHhrnFJmZnPiDnI/tmp/initrd.cgz , required_space is 3365772749
++ ls -l /boot/vmlinuz-4.15.0-99-generic /tmp/rear.tHhrnFJmZnPiDnI/tmp/initrd.cgz
-rw------- 1 root root    8380056 Apr 22 18:32 /boot/vmlinuz-4.15.0-99-generic
-rw-r--r-- 1 root root 3357392693 May  3 10:28 /tmp/rear.tHhrnFJmZnPiDnI/tmp/initrd.cgz
++ ((  available_space &lt; required_space  ))
++ required_MiB=3209
++ available_MiB=1620
++ Error 'Cannot setup GRUB_RESCUE: Not enough disk space in /boot for Relax-and-Recover rescue system. Required: 3209 MiB. Available: 1620 MiB.'
++ PrintError 'ERROR: Cannot setup GRUB_RESCUE: Not enough disk space in /boot for Relax-and-Recover rescue system. Required: 3209 MiB. Available: 1620 MiB.'
++ PrintError 'Some latest log messages since the last called script 940_grub2_rescue.sh:'
++ PrintError '  2020-05-03 10:28:37.584871463 Including output/default/940_grub2_rescue.sh
  2020-05-03 10:28:37.587565593 Entering debugscripts mode via '\''set -x'\''.
  2020-05-03 10:28:37.608123353 Setting up GRUB_RESCUE: Adding Relax-and-Recover rescue system to the local GRUB 2 configuration.
  KERNEL_FILE is /boot/vmlinuz-4.15.0-99-generic , initrd_file is /tmp/rear.tHhrnFJmZnPiDnI/tmp/initrd.cgz , required_space is 3365772749
  -rw------- 1 root root    8380056 Apr 22 18:32 /boot/vmlinuz-4.15.0-99-generic
  -rw-r--r-- 1 root root 3357392693 May  3 10:28 /tmp/rear.tHhrnFJmZnPiDnI/tmp/initrd.cgz'
++ Log 'ERROR: Cannot setup GRUB_RESCUE: Not enough disk space in /boot for Relax-and-Recover rescue system. Required: 3209 MiB. Available: 1620 MiB.'
++ echo '2020-05-03 10:28:37.857257834 ERROR: Cannot setup GRUB_RESCUE: Not enough disk space in /boot for Relax-and-Recover rescue system. Required: 3209 MiB. Available: 1620 MiB.'
2020-05-03 10:28:37.857257834 ERROR: Cannot setup GRUB_RESCUE: Not enough disk space in /boot for Relax-and-Recover rescue system. Required: 3209 MiB. Available: 1620 MiB.
++ LogToSyslog 'ERROR: Cannot setup GRUB_RESCUE: Not enough disk space in /boot for Relax-and-Recover rescue system. Required: 3209 MiB. Available: 1620 MiB.'
++ logger -t rear -i 'ERROR: Cannot setup GRUB_RESCUE: Not enough disk space in /boot for Relax-and-Recover rescue system. Required: 3209 MiB. Available: 1620 MiB.'
++ echo '===== Stack trace ====='
===== Stack trace =====
++ local c=0
++ caller 0
++ :
++ caller 1
++ :
++ caller 2
++ :
++ caller 3
++ :
++ caller 4
++ :
++ caller 5
++ awk ' { l[NR]=$3":"$1" "$2 }
                   END { for (i=NR; i&gt;0;) print "Trace "NR-i": "l[i--] }
                 '
Trace 0: /usr/sbin/rear:541 main
Trace 1: /usr/share/rear/lib/mkrescue-workflow.sh:22 WORKFLOW_mkrescue
Trace 2: /usr/share/rear/lib/framework-functions.sh:116 SourceStage
Trace 3: /usr/share/rear/lib/framework-functions.sh:56 Source
Trace 4: /usr/share/rear/output/default/940_grub2_rescue.sh:67 source
++ echo '=== End stack trace ==='
=== End stack trace ===
++ kill -USR1 2873
+++ EXIT_FAIL_MESSAGE=0
+++ echo 'Aborting due to an error, check /var/log/rear/rear-cem01vpbx.log for details'
+++ kill 2873
+++ DoExitTasks
+++ LogPrint 'Exiting rear mkrescue (PID 2873) and its descendant processes ...'
+++ Log 'Exiting rear mkrescue (PID 2873) and its descendant processes ...'
+++ echo '2020-05-03 10:28:37.869923183 Exiting rear mkrescue (PID 2873) and its descendant processes ...'
2020-05-03 10:28:37.869923183 Exiting rear mkrescue (PID 2873) and its descendant processes ...
+++ Print 'Exiting rear mkrescue (PID 2873) and its descendant processes ...'
+++ sleep 3
+++ log_descendants_pids
++++ pstree -Aplau 2873
+++ Log 'rear,2873 /usr/sbin/rear -D -d -v mkrescue
  `-rear,21442 /usr/sbin/rear -D -d -v mkrescue
      `-pstree,21443 -Aplau 2873'
+++ echo '2020-05-03 10:28:40.901532509 rear,2873 /usr/sbin/rear -D -d -v mkrescue
  `-rear,21442 /usr/sbin/rear -D -d -v mkrescue
      `-pstree,21443 -Aplau 2873'
2020-05-03 10:28:40.901532509 rear,2873 /usr/sbin/rear -D -d -v mkrescue
  `-rear,21442 /usr/sbin/rear -D -d -v mkrescue
      `-pstree,21443 -Aplau 2873
+++ terminate_descendants_from_grandchildren_to_children
+++ local remaining_columns=-40
+++ test -40 -ge 40
+++ remaining_columns=40
+++ local descendant_pid=
+++ local not_yet_terminated_pids=
++++ descendants_pids 2873
++++ local parent_pid=2873
++++ kill -0 2873
++++ local child_pid=
+++++ ps --ppid 2873 -o pid=
++++ for child_pid in $( ps --ppid $parent_pid -o pid= )
++++ kill -0 21446
++++ descendants_pids 21446
++++ local parent_pid=21446
++++ kill -0 21446
++++ local child_pid=
+++++ ps --ppid 21446 -o pid=
++++ for child_pid in $( ps --ppid $parent_pid -o pid= )
++++ kill -0 21449
++++ kill -0 21446
++++ echo 21446
++++ kill -0 2873
++++ echo 2873
+++ for descendant_pid in $( descendants_pids $MASTER_PID )
+++ test 2873 -eq 21446
+++ kill -0 21446
/usr/share/rear/lib/_input-output-functions.sh: line 146: kill: (21446) - No such process
+++ continue
+++ for descendant_pid in $( descendants_pids $MASTER_PID )
+++ test 2873 -eq 2873
+++ continue
+++ test ''
+++ return 0
+++ LogPrint 'Running exit tasks'
+++ Log 'Running exit tasks'
+++ echo '2020-05-03 10:28:41.005620263 Running exit tasks'
2020-05-03 10:28:41.005620263 Running exit tasks
+++ Print 'Running exit tasks'
+++ local exit_task=
+++ for exit_task in "${EXIT_TASKS[@]}"
+++ Debug 'Exit task '\''umount -f -v '\''/tmp/rear.tHhrnFJmZnPiDnI/outputfs'\'' &gt;&amp;2'\'''
+++ test 1
+++ Log 'Exit task '\''umount -f -v '\''/tmp/rear.tHhrnFJmZnPiDnI/outputfs'\'' &gt;&amp;2'\'''
+++ echo '2020-05-03 10:28:41.010045875 Exit task '\''umount -f -v '\''/tmp/rear.tHhrnFJmZnPiDnI/outputfs'\'' &gt;&amp;2'\'''
2020-05-03 10:28:41.010045875 Exit task 'umount -f -v '/tmp/rear.tHhrnFJmZnPiDnI/outputfs' &gt;&amp;2'
+++ eval 'umount -f -v '\''/tmp/rear.tHhrnFJmZnPiDnI/outputfs'\'' &gt;&amp;2'
++++ umount -f -v /tmp/rear.tHhrnFJmZnPiDnI/outputfs
/tmp/rear.tHhrnFJmZnPiDnI/outputfs: nfs4 mount point detected
/tmp/rear.tHhrnFJmZnPiDnI/outputfs: umounted
+++ for exit_task in "${EXIT_TASKS[@]}"
+++ Debug 'Exit task '\''rm -Rf -v /tmp/rear.tHhrnFJmZnPiDnI/outputfs &gt;&amp;2'\'''
+++ test 1
+++ Log 'Exit task '\''rm -Rf -v /tmp/rear.tHhrnFJmZnPiDnI/outputfs &gt;&amp;2'\'''
+++ echo '2020-05-03 10:28:41.116882538 Exit task '\''rm -Rf -v /tmp/rear.tHhrnFJmZnPiDnI/outputfs &gt;&amp;2'\'''
2020-05-03 10:28:41.116882538 Exit task 'rm -Rf -v /tmp/rear.tHhrnFJmZnPiDnI/outputfs &gt;&amp;2'
+++ eval 'rm -Rf -v /tmp/rear.tHhrnFJmZnPiDnI/outputfs &gt;&amp;2'
++++ rm -Rf -v /tmp/rear.tHhrnFJmZnPiDnI/outputfs
removed directory '/tmp/rear.tHhrnFJmZnPiDnI/outputfs'
+++ for exit_task in "${EXIT_TASKS[@]}"
+++ Debug 'Exit task '\''cleanup_build_area_and_end_program'\'''
+++ test 1
+++ Log 'Exit task '\''cleanup_build_area_and_end_program'\'''
+++ echo '2020-05-03 10:28:41.123462161 Exit task '\''cleanup_build_area_and_end_program'\'''
2020-05-03 10:28:41.123462161 Exit task 'cleanup_build_area_and_end_program'
+++ eval cleanup_build_area_and_end_program
++++ cleanup_build_area_and_end_program
++++ Log 'Finished in 278 seconds'
++++ echo '2020-05-03 10:28:41.126012408 Finished in 278 seconds'
2020-05-03 10:28:41.126012408 Finished in 278 seconds
++++ test 1
++++ LogPrint 'You should also rm -Rf /tmp/rear.tHhrnFJmZnPiDnI'
++++ Log 'You should also rm -Rf /tmp/rear.tHhrnFJmZnPiDnI'
++++ echo '2020-05-03 10:28:41.128469981 You should also rm -Rf /tmp/rear.tHhrnFJmZnPiDnI'
2020-05-03 10:28:41.128469981 You should also rm -Rf /tmp/rear.tHhrnFJmZnPiDnI
++++ Print 'You should also rm -Rf /tmp/rear.tHhrnFJmZnPiDnI'
++++ Log 'End of program reached'
++++ echo '2020-05-03 10:28:41.131120977 End of program reached'
2020-05-03 10:28:41.131120977 End of program reached
+++ for exit_task in "${EXIT_TASKS[@]}"
+++ Debug 'Exit task '\''(( EXIT_FAIL_MESSAGE )) &amp;&amp; echo '\''rear mkrescue failed, check /var/log/rear/rear-cem01vpbx.log for details'\'' 1&gt;&amp;8'\'''
+++ test 1
+++ Log 'Exit task '\''(( EXIT_FAIL_MESSAGE )) &amp;&amp; echo '\''rear mkrescue failed, check /var/log/rear/rear-cem01vpbx.log for details'\'' 1&gt;&amp;8'\'''
+++ echo '2020-05-03 10:28:41.133577984 Exit task '\''(( EXIT_FAIL_MESSAGE )) &amp;&amp; echo '\''rear mkrescue failed, check /var/log/rear/rear-cem01vpbx.log for details'\'' 1&gt;&amp;8'\'''
2020-05-03 10:28:41.133577984 Exit task '(( EXIT_FAIL_MESSAGE )) &amp;&amp; echo 'rear mkrescue failed, check /var/log/rear/rear-cem01vpbx.log for details' 1&gt;&amp;8'
+++ eval '(( EXIT_FAIL_MESSAGE )) &amp;&amp; echo '\''rear mkrescue failed, check /var/log/rear/rear-cem01vpbx.log for details'\'' 1&gt;&amp;8'
++++ ((  EXIT_FAIL_MESSAGE  ))
+++ for exit_task in "${EXIT_TASKS[@]}"
+++ Debug 'Exit task '\''exec 8&gt;&amp;-'\'''
+++ test 1
+++ Log 'Exit task '\''exec 8&gt;&amp;-'\'''
+++ echo '2020-05-03 10:28:41.135857064 Exit task '\''exec 8&gt;&amp;-'\'''
2020-05-03 10:28:41.135857064 Exit task 'exec 8&gt;&amp;-'
+++ eval 'exec 8&gt;&amp;-'
++++ exec
+++ for exit_task in "${EXIT_TASKS[@]}"
+++ Debug 'Exit task '\''exec 7&gt;&amp;-'\'''
+++ test 1
+++ Log 'Exit task '\''exec 7&gt;&amp;-'\'''
+++ echo '2020-05-03 10:28:41.138163363 Exit task '\''exec 7&gt;&amp;-'\'''
2020-05-03 10:28:41.138163363 Exit task 'exec 7&gt;&amp;-'
+++ eval 'exec 7&gt;&amp;-'
++++ exec
+++ for exit_task in "${EXIT_TASKS[@]}"
+++ Debug 'Exit task '\''exec 6&lt;&amp;-'\'''
+++ test 1
+++ Log 'Exit task '\''exec 6&lt;&amp;-'\'''
+++ echo '2020-05-03 10:28:41.140382447 Exit task '\''exec 6&lt;&amp;-'\'''
2020-05-03 10:28:41.140382447 Exit task 'exec 6&lt;&amp;-'
+++ eval 'exec 6&lt;&amp;-'
++++ exec
+++ for exit_task in "${EXIT_TASKS[@]}"
+++ Debug 'Exit task '\'''\'''
+++ test 1
+++ Log 'Exit task '\'''\'''
+++ echo '2020-05-03 10:28:41.142598446 Exit task '\'''\'''
2020-05-03 10:28:41.142598446 Exit task ''
+++ eval ''
</code></pre>
<p>From second system:</p>
<pre><code>Relax-and-Recover 2.5 / 2019-05-10

Relax-and-Recover comes with ABSOLUTELY NO WARRANTY; for details see
the GNU General Public License at: http://www.gnu.org/licenses/gpl.html

Host cem01vfw using Backup DUPLICITY and Output ISO
Build date: Sun, 03 May 2020 11:16:29 +0000
\n\n'
+++ get_template 'RESULT_m*ailbody.txt'
+++ [[ -e /etc/rear/templates/RESULT_m*ailbody.txt ]]
+++ echo /usr/share/rear/conf/templates/RESULT_mailbody.txt
+++ get_template 'RESULT_u*sage_ISO.txt'
+++ [[ -e /etc/rear/templates/RESULT_u*sage_ISO.txt ]]
+++ echo /usr/share/rear/conf/templates/RESULT_usage_ISO.txt
++ cat - /usr/share/rear/conf/templates/RESULT_mailbody.txt /usr/share/rear/conf/templates/RESULT_usage_ISO.txt
++ echo
++ for file in "${MAIL_FILES[@]}"
++ create_mime_part_binary /tmp/rear.TatryvPaWbvImmH/tmp/VERSION
++ echo --_---------_-28619478150619862
++ echo 'Content-Transfer-Encoding: base64'
+++ basename /tmp/rear.TatryvPaWbvImmH/tmp/VERSION
++ echo 'Content-Type: application/octet-stream; name="VERSION"'
+++ basename /tmp/rear.TatryvPaWbvImmH/tmp/VERSION
++ echo 'Content-Disposition: attachment; filename="VERSION"'
++ echo
++ perl -MMIME::Base64 -0777 -ne 'print encode_base64($_)'
++ StopIfError 'perl MIME::Base64 failed'
++ ((  0 != 0  ))
++ echo
++ for file in "${MAIL_FILES[@]}"
++ create_mime_part_binary /tmp/rear.TatryvPaWbvImmH/tmp/README
++ echo --_---------_-28619478150619862
++ echo 'Content-Transfer-Encoding: base64'
+++ basename /tmp/rear.TatryvPaWbvImmH/tmp/README
++ echo 'Content-Type: application/octet-stream; name="README"'
+++ basename /tmp/rear.TatryvPaWbvImmH/tmp/README
++ echo 'Content-Disposition: attachment; filename="README"'
++ echo
++ perl -MMIME::Base64 -0777 -ne 'print encode_base64($_)'
++ StopIfError 'perl MIME::Base64 failed'
++ ((  0 != 0  ))
++ echo
++ for file in "${MAIL_FILES[@]}"
++ create_mime_part_binary /tmp/rear.TatryvPaWbvImmH/tmp/rear-cem01vfw.log
++ echo --_---------_-28619478150619862
++ echo 'Content-Transfer-Encoding: base64'
+++ basename /tmp/rear.TatryvPaWbvImmH/tmp/rear-cem01vfw.log
++ echo 'Content-Type: application/octet-stream; name="rear-cem01vfw.log"'
+++ basename /tmp/rear.TatryvPaWbvImmH/tmp/rear-cem01vfw.log
++ echo 'Content-Disposition: attachment; filename="rear-cem01vfw.log"'
++ echo
++ perl -MMIME::Base64 -0777 -ne 'print encode_base64($_)'
++ StopIfError 'perl MIME::Base64 failed'
++ ((  0 != 0  ))
++ echo
++ create_mime_ending
++ echo --_---------_-28619478150619862--
++ echo
++ MAIL_SIZE=($(du -h $TMP_DIR/email.bin))
+++ du -h /tmp/rear.TatryvPaWbvImmH/tmp/email.bin
++ LogPrint 'Mailing resulting files (6.9M) to nhenderson@ceml.net'
++ Log 'Mailing resulting files (6.9M) to nhenderson@ceml.net'
++ echo '2020-05-03 11:24:37.633287208 Mailing resulting files (6.9M) to nhenderson@ceml.net'
2020-05-03 11:24:37.633287208 Mailing resulting files (6.9M) to nhenderson@ceml.net
++ Print 'Mailing resulting files (6.9M) to nhenderson@ceml.net'
++ /usr/sbin/sendmail -oi -t
++ LogPrintIfError 'WARNING ! Sending Email with '\''/usr/sbin/sendmail -oi' '-t'\'' failed.'
++ ((  0 != 0  ))
+ source_return_code=0
+ test 0 -eq 0
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ echo '2020-05-03 11:24:37.725049537 Leaving debugscripts mode (back to previous bash flags and options settings).'
2020-05-03 11:24:37.725049537 Leaving debugscripts mode (back to previous bash flags and options settings).
2020-05-03 11:24:37.733033343 Including output/default/970_remove_lock.sh
2020-05-03 11:24:37.734221869 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/output/default/970_remove_lock.sh
+++ url_scheme nfs://cem01nas2.cem.ceml.net/volume1/cem01fw_backups
+++ local url=nfs://cem01nas2.cem.ceml.net/volume1/cem01fw_backups
+++ local scheme=nfs
+++ grep -q :
+++ echo nfs
+++ echo nfs
++ local scheme=nfs
+++ url_path nfs://cem01nas2.cem.ceml.net/volume1/cem01fw_backups
+++ local url=nfs://cem01nas2.cem.ceml.net/volume1/cem01fw_backups
+++ local url_without_scheme=cem01nas2.cem.ceml.net/volume1/cem01fw_backups
+++ echo /volume1/cem01fw_backups
++ local path=/volume1/cem01fw_backups
+++ output_path nfs /volume1/cem01fw_backups
+++ local scheme=nfs
+++ local path=/volume1/cem01fw_backups
+++ case $scheme in
+++ path=/tmp/rear.TatryvPaWbvImmH/outputfs/cem01vfw
+++ echo /tmp/rear.TatryvPaWbvImmH/outputfs/cem01vfw
++ local opath=/tmp/rear.TatryvPaWbvImmH/outputfs/cem01vfw
++ '[' -z /tmp/rear.TatryvPaWbvImmH/outputfs/cem01vfw ']'
++ [[ nfs://cem01nas2.cem.ceml.net/volume1/cem01fw_backups != '' ]]
++ rm -f -v /tmp/rear.TatryvPaWbvImmH/outputfs/cem01vfw/.lockfile
removed '/tmp/rear.TatryvPaWbvImmH/outputfs/cem01vfw/.lockfile'
+ source_return_code=0
+ test 0 -eq 0
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ echo '2020-05-03 11:24:37.754337555 Leaving debugscripts mode (back to previous bash flags and options settings).'
2020-05-03 11:24:37.754337555 Leaving debugscripts mode (back to previous bash flags and options settings).
2020-05-03 11:24:37.758763862 Including output/default/980_umount_output_dir.sh
2020-05-03 11:24:37.759912696 Entering debugscripts mode via 'set -x'.
+ source /usr/share/rear/output/default/980_umount_output_dir.sh
++ [[ -n '' ]]
++ [[ -z nfs://cem01nas2.cem.ceml.net/volume1/cem01fw_backups ]]
++ umount_url nfs://cem01nas2.cem.ceml.net/volume1/cem01fw_backups /tmp/rear.TatryvPaWbvImmH/outputfs
++ local url=nfs://cem01nas2.cem.ceml.net/volume1/cem01fw_backups
++ local mountpoint=/tmp/rear.TatryvPaWbvImmH/outputfs
++ case $(url_scheme $url) in
+++ url_scheme nfs://cem01nas2.cem.ceml.net/volume1/cem01fw_backups
+++ local url=nfs://cem01nas2.cem.ceml.net/volume1/cem01fw_backups
+++ local scheme=nfs
+++ grep -q :
+++ echo nfs
+++ echo nfs
++ umount_mountpoint /tmp/rear.TatryvPaWbvImmH/outputfs
++ local mountpoint=/tmp/rear.TatryvPaWbvImmH/outputfs
++ Log 'Unmounting '\''/tmp/rear.TatryvPaWbvImmH/outputfs'\'''
++ echo '2020-05-03 11:24:37.770011972 Unmounting '\''/tmp/rear.TatryvPaWbvImmH/outputfs'\'''
2020-05-03 11:24:37.770011972 Unmounting '/tmp/rear.TatryvPaWbvImmH/outputfs'
++ umount -v /tmp/rear.TatryvPaWbvImmH/outputfs
/tmp/rear.TatryvPaWbvImmH/outputfs: nfs4 mount point detected
/tmp/rear.TatryvPaWbvImmH/outputfs: umounted
++ [[ 0 -eq 0 ]]
++ return 0
++ StopIfError 'Unmounting '\''/tmp/rear.TatryvPaWbvImmH/outputfs'\'' failed.'
++ ((  0 != 0  ))
++ RemoveExitTask 'umount -f -v '\''/tmp/rear.TatryvPaWbvImmH/outputfs'\'' &gt;&amp;2'
++ local removed= exit_tasks=
++ (( c=0  ))
++ (( c&lt;8  ))
++ test 'umount -f -v '\''/tmp/rear.TatryvPaWbvImmH/outputfs'\'' &gt;&amp;2' = 'umount -f -v '\''/tmp/rear.TatryvPaWbvImmH/outputfs'\'' &gt;&amp;2'
++ unset 'EXIT_TASKS[c]'
++ removed=yes
++ Debug 'Removed '\''umount -f -v '\''/tmp/rear.TatryvPaWbvImmH/outputfs'\'' &gt;&amp;2'\'' from the list of exit tasks'
++ test 1
++ Log 'Removed '\''umount -f -v '\''/tmp/rear.TatryvPaWbvImmH/outputfs'\'' &gt;&amp;2'\'' from the list of exit tasks'
++ echo '2020-05-03 11:24:37.902989674 Removed '\''umount -f -v '\''/tmp/rear.TatryvPaWbvImmH/outputfs'\'' &gt;&amp;2'\'' from the list of exit tasks'
2020-05-03 11:24:37.902989674 Removed 'umount -f -v '/tmp/rear.TatryvPaWbvImmH/outputfs' &gt;&amp;2' from the list of exit tasks
++ (( c++  ))
++ (( c&lt;7  ))
++ test 'rm -Rf -v /tmp/rear.TatryvPaWbvImmH/outputfs &gt;&amp;2' = 'umount -f -v '\''/tmp/rear.TatryvPaWbvImmH/outputfs'\'' &gt;&amp;2'
++ (( c++  ))
++ (( c&lt;7  ))
++ test cleanup_build_area_and_end_program = 'umount -f -v '\''/tmp/rear.TatryvPaWbvImmH/outputfs'\'' &gt;&amp;2'
++ (( c++  ))
++ (( c&lt;7  ))
++ test '(( EXIT_FAIL_MESSAGE )) &amp;&amp; echo '\''rear mkrescue failed, check /var/log/rear/rear-cem01vfw.log for details'\'' 1&gt;&amp;8' = 'umount -f -v '\''/tmp/rear.TatryvPaWbvImmH/outputfs'\'' &gt;&amp;2'
++ (( c++  ))
++ (( c&lt;7  ))
++ test 'exec 8&gt;&amp;-' = 'umount -f -v '\''/tmp/rear.TatryvPaWbvImmH/outputfs'\'' &gt;&amp;2'
++ (( c++  ))
++ (( c&lt;7  ))
++ test 'exec 7&gt;&amp;-' = 'umount -f -v '\''/tmp/rear.TatryvPaWbvImmH/outputfs'\'' &gt;&amp;2'
++ (( c++  ))
++ (( c&lt;7  ))
++ test 'exec 6&lt;&amp;-' = 'umount -f -v '\''/tmp/rear.TatryvPaWbvImmH/outputfs'\'' &gt;&amp;2'
++ (( c++  ))
++ (( c&lt;7  ))
++ test yes = yes
++ return 0
++ [[ -d /tmp/rear.TatryvPaWbvImmH/outputfs/cem01vfw ]]
++ [[ -d /tmp/rear.TatryvPaWbvImmH/outputfs/cem01vfw ]]
++ rmdir -v /tmp/rear.TatryvPaWbvImmH/outputfs
rmdir: removing directory, '/tmp/rear.TatryvPaWbvImmH/outputfs'
++ [[ 0 -eq 0 ]]
++ RemoveExitTask 'rm -Rf -v /tmp/rear.TatryvPaWbvImmH/outputfs &gt;&amp;2'
++ local removed= exit_tasks=
++ (( c=0  ))
++ (( c&lt;7  ))
++ test '' = 'rm -Rf -v /tmp/rear.TatryvPaWbvImmH/outputfs &gt;&amp;2'
++ (( c++  ))
++ (( c&lt;7  ))
++ test 'rm -Rf -v /tmp/rear.TatryvPaWbvImmH/outputfs &gt;&amp;2' = 'rm -Rf -v /tmp/rear.TatryvPaWbvImmH/outputfs &gt;&amp;2'
++ unset 'EXIT_TASKS[c]'
++ removed=yes
++ Debug 'Removed '\''rm -Rf -v /tmp/rear.TatryvPaWbvImmH/outputfs &gt;&amp;2'\'' from the list of exit tasks'
++ test 1
++ Log 'Removed '\''rm -Rf -v /tmp/rear.TatryvPaWbvImmH/outputfs &gt;&amp;2'\'' from the list of exit tasks'
++ echo '2020-05-03 11:24:37.907158985 Removed '\''rm -Rf -v /tmp/rear.TatryvPaWbvImmH/outputfs &gt;&amp;2'\'' from the list of exit tasks'
2020-05-03 11:24:37.907158985 Removed 'rm -Rf -v /tmp/rear.TatryvPaWbvImmH/outputfs &gt;&amp;2' from the list of exit tasks
++ (( c++  ))
++ (( c&lt;6  ))
++ test cleanup_build_area_and_end_program = 'rm -Rf -v /tmp/rear.TatryvPaWbvImmH/outputfs &gt;&amp;2'
++ (( c++  ))
++ (( c&lt;6  ))
++ test '(( EXIT_FAIL_MESSAGE )) &amp;&amp; echo '\''rear mkrescue failed, check /var/log/rear/rear-cem01vfw.log for details'\'' 1&gt;&amp;8' = 'rm -Rf -v /tmp/rear.TatryvPaWbvImmH/outputfs &gt;&amp;2'
++ (( c++  ))
++ (( c&lt;6  ))
++ test 'exec 8&gt;&amp;-' = 'rm -Rf -v /tmp/rear.TatryvPaWbvImmH/outputfs &gt;&amp;2'
++ (( c++  ))
++ (( c&lt;6  ))
++ test 'exec 7&gt;&amp;-' = 'rm -Rf -v /tmp/rear.TatryvPaWbvImmH/outputfs &gt;&amp;2'
++ (( c++  ))
++ (( c&lt;6  ))
++ test yes = yes
+ source_return_code=0
+ test 0 -eq 0
+ test 1
+ Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ test 1
+ Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
+ echo '2020-05-03 11:24:37.908721413 Leaving debugscripts mode (back to previous bash flags and options settings).'
2020-05-03 11:24:37.908721413 Leaving debugscripts mode (back to previous bash flags and options settings).
2020-05-03 11:24:37.910696769 Finished running 'output' stage in 8 seconds
2020-05-03 11:24:37.911920234 Finished running mkrescue workflow
+ LogPrint 'Exiting rear mkrescue (PID 8731) and its descendant processes ...'
+ Log 'Exiting rear mkrescue (PID 8731) and its descendant processes ...'
+ echo '2020-05-03 11:24:37.939623662 Exiting rear mkrescue (PID 8731) and its descendant processes ...'
2020-05-03 11:24:37.939623662 Exiting rear mkrescue (PID 8731) and its descendant processes ...
+ Print 'Exiting rear mkrescue (PID 8731) and its descendant processes ...'
+ sleep 3
+ log_descendants_pids
++ pstree -Aplau 8731
+ Log 'rear,8731 /usr/sbin/rear -D -d -v mkrescue
  `-rear,27552 /usr/sbin/rear -D -d -v mkrescue
      `-pstree,27553 -Aplau 8731'
+ echo '2020-05-03 11:24:40.973794289 rear,8731 /usr/sbin/rear -D -d -v mkrescue
  `-rear,27552 /usr/sbin/rear -D -d -v mkrescue
      `-pstree,27553 -Aplau 8731'
2020-05-03 11:24:40.973794289 rear,8731 /usr/sbin/rear -D -d -v mkrescue
  `-rear,27552 /usr/sbin/rear -D -d -v mkrescue
      `-pstree,27553 -Aplau 8731
+ terminate_descendants_from_grandchildren_to_children
+ local remaining_columns=-40
+ test -40 -ge 40
+ remaining_columns=40
+ local descendant_pid=
+ local not_yet_terminated_pids=
++ descendants_pids 8731
++ local parent_pid=8731
++ kill -0 8731
++ local child_pid=
+++ ps --ppid 8731 -o pid=
++ for child_pid in $( ps --ppid $parent_pid -o pid= )
++ kill -0 27556
++ descendants_pids 27556
++ local parent_pid=27556
++ kill -0 27556
++ local child_pid=
+++ ps --ppid 27556 -o pid=
++ for child_pid in $( ps --ppid $parent_pid -o pid= )
++ kill -0 27559
++ kill -0 27556
++ echo 27556
++ kill -0 8731
++ echo 8731
+ for descendant_pid in $( descendants_pids $MASTER_PID )
+ test 8731 -eq 27556
+ kill -0 27556
/usr/share/rear/lib/_input-output-functions.sh: line 146: kill: (27556) - No such process
+ continue
+ for descendant_pid in $( descendants_pids $MASTER_PID )
+ test 8731 -eq 8731
+ continue
+ test ''
+ return 0
+ LogPrint 'Running exit tasks'
+ Log 'Running exit tasks'
+ echo '2020-05-03 11:24:41.030693595 Running exit tasks'
2020-05-03 11:24:41.030693595 Running exit tasks
+ Print 'Running exit tasks'
+ local exit_task=
+ for exit_task in "${EXIT_TASKS[@]}"
+ Debug 'Exit task '\''cleanup_build_area_and_end_program'\'''
+ test 1
+ Log 'Exit task '\''cleanup_build_area_and_end_program'\'''
+ echo '2020-05-03 11:24:41.032947323 Exit task '\''cleanup_build_area_and_end_program'\'''
2020-05-03 11:24:41.032947323 Exit task 'cleanup_build_area_and_end_program'
+ eval cleanup_build_area_and_end_program
++ cleanup_build_area_and_end_program
++ Log 'Finished in 492 seconds'
++ echo '2020-05-03 11:24:41.034784605 Finished in 492 seconds'
2020-05-03 11:24:41.034784605 Finished in 492 seconds
++ test 1
++ LogPrint 'You should also rm -Rf /tmp/rear.TatryvPaWbvImmH'
++ Log 'You should also rm -Rf /tmp/rear.TatryvPaWbvImmH'
++ echo '2020-05-03 11:24:41.036531092 You should also rm -Rf /tmp/rear.TatryvPaWbvImmH'
2020-05-03 11:24:41.036531092 You should also rm -Rf /tmp/rear.TatryvPaWbvImmH
++ Print 'You should also rm -Rf /tmp/rear.TatryvPaWbvImmH'
++ Log 'End of program reached'
++ echo '2020-05-03 11:24:41.038368764 End of program reached'
2020-05-03 11:24:41.038368764 End of program reached
+ for exit_task in "${EXIT_TASKS[@]}"
+ Debug 'Exit task '\''(( EXIT_FAIL_MESSAGE )) &amp;&amp; echo '\''rear mkrescue failed, check /var/log/rear/rear-cem01vfw.log for details'\'' 1&gt;&amp;8'\'''
+ test 1
+ Log 'Exit task '\''(( EXIT_FAIL_MESSAGE )) &amp;&amp; echo '\''rear mkrescue failed, check /var/log/rear/rear-cem01vfw.log for details'\'' 1&gt;&amp;8'\'''
+ echo '2020-05-03 11:24:41.039948826 Exit task '\''(( EXIT_FAIL_MESSAGE )) &amp;&amp; echo '\''rear mkrescue failed, check /var/log/rear/rear-cem01vfw.log for details'\'' 1&gt;&amp;8'\'''
2020-05-03 11:24:41.039948826 Exit task '(( EXIT_FAIL_MESSAGE )) &amp;&amp; echo 'rear mkrescue failed, check /var/log/rear/rear-cem01vfw.log for details' 1&gt;&amp;8'
+ eval '(( EXIT_FAIL_MESSAGE )) &amp;&amp; echo '\''rear mkrescue failed, check /var/log/rear/rear-cem01vfw.log for details'\'' 1&gt;&amp;8'
++ ((  EXIT_FAIL_MESSAGE  ))
+ for exit_task in "${EXIT_TASKS[@]}"
+ Debug 'Exit task '\''exec 8&gt;&amp;-'\'''
+ test 1
+ Log 'Exit task '\''exec 8&gt;&amp;-'\'''
+ echo '2020-05-03 11:24:41.041553861 Exit task '\''exec 8&gt;&amp;-'\'''
2020-05-03 11:24:41.041553861 Exit task 'exec 8&gt;&amp;-'
+ eval 'exec 8&gt;&amp;-'
++ exec
+ for exit_task in "${EXIT_TASKS[@]}"
+ Debug 'Exit task '\''exec 7&gt;&amp;-'\'''
+ test 1
+ Log 'Exit task '\''exec 7&gt;&amp;-'\'''
+ echo '2020-05-03 11:24:41.043256177 Exit task '\''exec 7&gt;&amp;-'\'''
2020-05-03 11:24:41.043256177 Exit task 'exec 7&gt;&amp;-'
+ eval 'exec 7&gt;&amp;-'
++ exec
+ for exit_task in "${EXIT_TASKS[@]}"
+ Debug 'Exit task '\''exec 6&lt;&amp;-'\'''
+ test 1
+ Log 'Exit task '\''exec 6&lt;&amp;-'\'''
+ echo '2020-05-03 11:24:41.044928905 Exit task '\''exec 6&lt;&amp;-'\'''
2020-05-03 11:24:41.044928905 Exit task 'exec 6&lt;&amp;-'
+ eval 'exec 6&lt;&amp;-'
++ exec
+ for exit_task in "${EXIT_TASKS[@]}"
+ Debug 'Exit task '\'''\'''
+ test 1
+ Log 'Exit task '\'''\'''
+ echo '2020-05-03 11:24:41.046553253 Exit task '\'''\'''
2020-05-03 11:24:41.046553253 Exit task ''
+ eval ''
</code></pre>
<h4 id="jsmeix_commented_at_2020-05-07_0827"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2386#issuecomment-625109346">2020-05-07 08:27</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-05-07_0827" title="Permanent link">&para;</a></h4>
<p>For me with <code>BACKUP=NETFS</code> and <code>OUTPUT=ISO</code><br />
on openSUSE Leap 15.1 I get an ISO that is 326M<br />
where my ReaR initrd is 317M and my kernel is 7M<br />
the rest is basically the bootloader of the ISO.</p>
<p>ReaR's initrd contains the whole ReaR recovery system<br />
(the ReaR recovery system runs in a ramdisk)<br />
so ReaR's initrd is bigger than a normal initrd.<br />
See the section<br />
"How disaster recovery with ReaR basically works" in<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<p>This is the amount of the contents of my ReaR recovery system:</p>
<pre><code># du -hs /tmp/rear.CQLPT6iipW0tDyf/rootfs/
918M    /tmp/rear.CQLPT6iipW0tDyf/rootfs/
</code></pre>
<p>When you do not run rear in debug mode you need to explicitly<br />
set <code>KEEP_BUILD_DIR="yes"</code> to keep the ReaR recovery system content,<br />
see the <code>KEEP_BUILD_DIR</code> description in
usr/share/rear/conf/default.conf<br />
<a href="https://github.com/rear/rear/blob/master/usr/share/rear/conf/default.conf#L142">https://github.com/rear/rear/blob/master/usr/share/rear/conf/default.conf#L142</a></p>
<p>In your 3GB case something makes your ReaR recovery system huge.<br />
To find out what that "something" is you need to to inspect<br />
your ReaR recovery system contents in your particular<br />
<code>$TMPDIR/rear.XXXXXXXXXXXXXXX/rootfs/</code><br />
directory.</p>
<p>To be able to call the restore tool during "rear recover"<br />
the restore tool and all what it needs to run<br />
(libraries, config files, whatever else)<br />
must be included in the ReaR recovery system<br />
where "rear recover" is run, see the section<br />
"Relax-and-Recover versus backup and restore" in<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<p>With <code>BACKUP=NETFS</code> the backup and restore tool is <code>tar</code>.<br />
When you use a third-party backup tool like <code>BACKUP=DUPLICITY</code><br />
what it needs to run could be much more than what <code>tar</code> needs<br />
so with third-party backup tools the size of the ReaR recovery system<br />
could be more compared to what <code>BACKUP=NETFS</code> with <code>tar</code> needs.<br />
so 347M for a ReaR recovery system with <code>BACKUP=DUPLICITY</code><br />
looks reasonable.</p>
<p>But 3GB for the ReaR recovery system is far too much<br />
so something pulls in huge stuff in your other case<br />
and you need to find out what that is in your particular case.</p>
<h4 id="jsmeix_commented_at_2020-06-02_0926"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2386#issuecomment-637414654">2020-06-02 09:26</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-06-02_0926" title="Permanent link">&para;</a></h4>
<p>Because "no news is good news" I assume the root cause was found<br />
that made the ReaR recovery system so big in this particular case<br />
so the issue can be closed.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2020-05-03.2386.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
