<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#3426 Issue closed: ISO fails to boot on EFI without notice with 4 GiB RAM (works with 6 GiB) on SLES15-SP6 - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#3426 Issue closed: ISO fails to boot on EFI without notice with 4 GiB RAM (works with 6 GiB) on SLES15-SP6";
        var mkdocs_page_input_path = "issues/2025-03-14.3426.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_rsync.html">Internal Backup with rsync to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rsync.html">Internal Backup using BACKUP=RSYNC method</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/restic.html">External Backup using restic</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#3426 Issue closed: ISO fails to boot on EFI without notice with 4 GiB RAM (works with 6 GiB) on SLES15-SP6</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="3426_issue_closed_iso_fails_to_boot_on_efi_without_notice_with_4_gib_ram_works_with_6_gib_on_sles15-sp6"><a href="https://github.com/rear/rear/issues/3426">#3426 Issue</a> <code>closed</code>: ISO fails to boot on EFI without notice with 4 GiB RAM (works with 6 GiB) on SLES15-SP6<a class="headerlink" href="#3426_issue_closed_iso_fails_to_boot_on_efi_without_notice_with_4_gib_ram_works_with_6_gib_on_sles15-sp6" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>fixed / solved / done</code></p>
<h4 id="thomas-merz_opened_issue_at_2025-03-14_0905"><img src="https://avatars.githubusercontent.com/u/22958542?u=ef394073fa448d2d48bf182c654698f7c94cc714&v=4" width="50"><a href="https://github.com/thomas-merz">thomas-merz</a> opened issue at <a href="https://github.com/rear/rear/issues/3426">2025-03-14 09:05</a>:<a class="headerlink" href="#thomas-merz_opened_issue_at_2025-03-14_0905" title="Permanent link">&para;</a></h4>
<h3 id="rear_version">ReaR version<a class="headerlink" href="#rear_version" title="Permanent link">&para;</a></h3>
<p>Relax-and-Recover 2.7 / 2022-07-13</p>
<h3 id="describe_the_rear_bug_in_detail">Describe the ReaR bug in detail<a class="headerlink" href="#describe_the_rear_bug_in_detail" title="Permanent link">&para;</a></h3>
<p>On SLES15 SP6 the EFI-boot-ISO won't boot on my EFI-boot VM on VMware
(and also not on KVM/QEMU). Is this still a bug in later versions or has
this been fixed in a later version?</p>
<p>The general info on
<a href="https://documentation.suse.com/sle-ha/15-SP6/html/SLE-HA-all/cha-ha-rear.html#ex-ha-rear-config-UEFI">https://documentation.suse.com/sle-ha/15-SP6/html/SLE-HA-all/cha-ha-rear.html#ex-ha-rear-config-UEFI</a>
DOESN'T help in my particular case.</p>
<p>My local.conf:</p>
<pre><code>OUTPUT=ISO
BACKUP=CDM
OUTPUT_URL=file:///rear/iso
OUTPUT_PREFIX="hostname.example.com"
export TMPDIR="/tmp"
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib64/systemd/

USING_UEFI_BOOTLOADER=1
ISO_MKISOFS_BIN="/usr/bin/xorrisofs"

TIMESYNC=NTP
NETFS_KEEP_OLD_BACKUP_COPY=N
EXCLUDE_VG=()
ONLY_INCLUDE_VG=()
WAIT_SECS=120
SKIP_CFG2HTML=Y
USE_CFG2HTML=N
</code></pre>
<p>And no site.conf at all.</p>
<h3 id="platform">Platform<a class="headerlink" href="#platform" title="Permanent link">&para;</a></h3>
<p>Linux x64</p>
<h3 id="os_version">OS version<a class="headerlink" href="#os_version" title="Permanent link">&para;</a></h3>
<p>SUSE Linux Enterprise Server 15 SP6</p>
<h3 id="backup">Backup<a class="headerlink" href="#backup" title="Permanent link">&para;</a></h3>
<p>CDM</p>
<h3 id="storage_layout">Storage layout<a class="headerlink" href="#storage_layout" title="Permanent link">&para;</a></h3>
<pre><code>$ lsblk -ipo NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,LABEL,SIZE,MOUNTPOINT
NAME                                       KNAME      PKNAME    TRAN   TYPE FSTYPE      LABEL      SIZE MOUNTPOINT
/dev/sda                                   /dev/sda                    disk                        120G
|-/dev/sda1                                /dev/sda1  /dev/sda         part vfat                   512M /boot/efi
|-/dev/sda2                                /dev/sda2  /dev/sda         part ext3                   512M /boot
`-/dev/sda3                                /dev/sda3  /dev/sda         part LVM2_member            119G
  |-/dev/mapper/systemvg-root_lv           /dev/dm-0  /dev/sda3        lvm  xfs                     15G /
  |-/dev/mapper/systemvg-usr_lv            /dev/dm-1  /dev/sda3        lvm  xfs                     15G /usr
  |-/dev/mapper/systemvg-swap_lv           /dev/dm-2  /dev/sda3        lvm  swap                    16G [SWAP]
  |-/dev/mapper/systemvg-opt_lv            /dev/dm-3  /dev/sda3        lvm  xfs                      5G /opt
  |-/dev/mapper/systemvg-tmp_lv            /dev/dm-6  /dev/sda3        lvm  xfs                     10G /tmp
  |-/dev/mapper/systemvg-var_lv            /dev/dm-8  /dev/sda3        lvm  xfs                     10G /var
  |-/dev/mapper/systemvg-varlog_lv         /dev/dm-10 /dev/sda3        lvm  xfs                     10G /var/log
  |-/dev/mapper/systemvg-varlogaudit_lv    /dev/dm-12 /dev/sda3        lvm  xfs                     10G /var/log/audit
  |-/dev/mapper/systemvg-vartmp_lv         /dev/dm-15 /dev/sda3        lvm  xfs                     10G /var/tmp
  `-/dev/mapper/systemvg-home_lv           /dev/dm-16 /dev/sda3        lvm  xfs                     15G /home
/dev/sdb                                   /dev/sdb                    disk                        200G
`-/dev/sdb1                                /dev/sdb1  /dev/sdb         part LVM2_member            200G
  |-/dev/mapper/binvg-saphome_lv           /dev/dm-9  /dev/sdb1        lvm  xfs                      2G /home/sap
  |-/dev/mapper/binvg-uc4home_lv           /dev/dm-11 /dev/sdb1        lvm  xfs                      2G /home/uc4
  |-/dev/mapper/binvg-usrsap_lv            /dev/dm-13 /dev/sdb1        lvm  xfs                     50G /usr/sap
  `-/dev/mapper/binvg-sapinst_lv           /dev/dm-14 /dev/sdb1        lvm  xfs                    115G /sapinst
/dev/sdc                                   /dev/sdc                    disk                        100G
`-/dev/sdc1                                /dev/sdc1  /dev/sdc         part LVM2_member            100G
  `-/dev/mapper/hanadatavg-hanadata_lv     /dev/dm-4  /dev/sdc1        lvm  xfs                    100G /hana/data
/dev/sdd                                   /dev/sdd                    disk                        100G
`-/dev/sdd1                                /dev/sdd1  /dev/sdd         part LVM2_member            100G
  `-/dev/mapper/hanasharedvg-hanashared_lv /dev/dm-7  /dev/sdd1        lvm  xfs                    100G /hana/shared
/dev/sde                                   /dev/sde                    disk                         50G
`-/dev/sde1                                /dev/sde1  /dev/sde         part LVM2_member             50G
  `-/dev/mapper/hanalogvg-hanalog_lv       /dev/dm-5  /dev/sde1        lvm  xfs                     50G /hana/log
</code></pre>
<h3 id="what_steps_will_reproduce_the_bug">What steps will reproduce the bug?<a class="headerlink" href="#what_steps_will_reproduce_the_bug" title="Permanent link">&para;</a></h3>
<p><em>No response</em></p>
<h3 id="workaround_if_any">Workaround, if any<a class="headerlink" href="#workaround_if_any" title="Permanent link">&para;</a></h3>
<p>Boot ISO with BIOS instead of EFI.</p>
<h3 id="additional_information">Additional information<a class="headerlink" href="#additional_information" title="Permanent link">&para;</a></h3>
<p><em>No response</em></p>
<h4 id="thomas-merz_commented_at_2025-03-14_0907"><img src="https://avatars.githubusercontent.com/u/22958542?u=ef394073fa448d2d48bf182c654698f7c94cc714&v=4" width="50"><a href="https://github.com/thomas-merz">thomas-merz</a> commented at <a href="https://github.com/rear/rear/issues/3426#issuecomment-2724070259">2025-03-14 09:07</a>:<a class="headerlink" href="#thomas-merz_commented_at_2025-03-14_0907" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Does the UEFI firmware load the ReaR recovery system bootloader?</p>
</blockquote>
<p>No</p>
<blockquote>
<p>Does the ReaR recovery system bootloader show something?</p>
</blockquote>
<p>Nothing at all</p>
<blockquote>
<p>Does the ReaR recovery system bootloader load kernel and initrd?</p>
</blockquote>
<p>No</p>
<blockquote>
<p>Does the kernel start up?</p>
</blockquote>
<p>No</p>
<blockquote>
<p>Does the ReaR recovery system start up?</p>
</blockquote>
<p>No</p>
<h4 id="thomas-merz_commented_at_2025-03-14_0910"><img src="https://avatars.githubusercontent.com/u/22958542?u=ef394073fa448d2d48bf182c654698f7c94cc714&v=4" width="50"><a href="https://github.com/thomas-merz">thomas-merz</a> commented at <a href="https://github.com/rear/rear/issues/3426#issuecomment-2724084877">2025-03-14 09:10</a>:<a class="headerlink" href="#thomas-merz_commented_at_2025-03-14_0910" title="Permanent link">&para;</a></h4>
<p><code>rear -D mkrescue</code></p>
<pre><code>ü¶é  root@sap-testdt8-02.lxdev:~# rear -D mkrescue
Relax-and-Recover 2.7 / 2022-07-13
Running rear mkrescue (PID 263619 date 2025-03-14 10:06:17)
Command line options: /usr/sbin/rear -D mkrescue
Using log file: /var/log/rear/rear-sap-testdt8-02.log
Using build area: /var/tmp/rear.qOl2ebmVsgizNoL
Running 'init' stage ======================
Running workflow mkrescue on the normal/original system
Running 'prep' stage ======================
Found EFI system partition /dev/sda1 on /boot/efi type vfat
Using UEFI Boot Loader for Linux (USING_UEFI_BOOTLOADER=1)
Using '/usr/bin/xorrisofs' to create ISO filesystem images
Using autodetected kernel '/boot/vmlinuz-6.4.0-150600.23.38-default' as kernel in the recovery system
Running 'layout/save' stage ======================
Creating disk layout
Overwriting existing disk layout file /var/lib/rear/layout/disklayout.conf
Disabling excluded components in /var/lib/rear/layout/disklayout.conf
Using sysconfig bootloader 'grub2-efi' for 'rear recover'
Verifying that the entries in /var/lib/rear/layout/disklayout.conf are correct
Created disk layout (check the results in /var/lib/rear/layout/disklayout.conf)
Running 'rescue' stage ======================
Creating recovery system root filesystem skeleton layout
Handling network interface 'eth0'
eth0 is a physical device
Handled network interface 'eth0'
Included current keyboard mapping (via 'dumpkeys -f')
Included default US keyboard mapping /usr/share/kbd/keymaps/i386/qwerty/defkeymap.map.gz
Included other keyboard mappings in /usr/share/kbd/keymaps
To log into the recovery system via ssh set up /root/.ssh/authorized_keys or specify SSH_ROOT_PASSWORD
Trying to find what to use as UEFI bootloader...
Trying to find a 'well known file' to be used as UEFI bootloader...
Using '/boot/efi/EFI/sles/grubx64.efi' as UEFI bootloader file
Copying logfile /var/log/rear/rear-sap-testdt8-02.log into initramfs as '/tmp/rear-sap-testdt8-02-partial-2025-03-14T10:06:29+01:00.log'
Running 'build' stage ======================
Copying files and directories
Copying binaries and libraries
Copying all kernel modules in /lib/modules/6.4.0-150600.23.38-default (MODULES contains 'all_modules')
Copying all files in /lib*/firmware/
Skip copying broken symlink '/etc/mtab' target '/proc/280360/mounts' on /proc/ /sys/ /dev/ or /run/
Skip copying broken symlink '/etc/resolv.conf' target '/run/netconfig/resolv.conf' on /proc/ /sys/ /dev/ or /run/
Testing that the recovery system in /var/tmp/rear.qOl2ebmVsgizNoL/rootfs contains a usable system
Testing each binary with 'ldd' and look for 'not found' libraries within the recovery system
Testing that the existing programs in the PROGS array can be found as executable command within the recovery system
Testing that each program in the REQUIRED_PROGS array can be found as executable command within the recovery system
Running 'pack' stage ======================
Creating recovery/rescue system initramfs/initrd initrd.cgz with gzip default compression
Created initrd.cgz with gzip default compression (835144846 bytes) in 40 seconds
Running 'output' stage ======================
Configuring GRUB2 kernel /isolinux/kernel
Configuring GRUB2 initrd /isolinux/initrd.cgz
Configuring GRUB2 root device as 'set root=cd0'
GRUB2 modules to load: ext2 fat part_gpt part_msdos
Making ISO image
Wrote ISO image: /var/lib/rear/output/rear-sap-testdt8-02.iso (922M)
Copying resulting files to file location
Saving /var/log/rear/rear-sap-testdt8-02.log as rear-sap-testdt8-02.log to file location
Copying result files '/var/lib/rear/output/rear-sap-testdt8-02.iso /var/tmp/rear.qOl2ebmVsgizNoL/tmp/VERSION /var/tmp/rear.qOl2ebmVsgizNoL/tmp/README /var/tmp/rear.qOl2ebmVsgizNoL/tmp/rear-sap-testdt8-02.log' to /rear/iso/sap-testdt8-02.lxdev.ka.de.dm-drogeriemarkt.com at file location
Exiting rear mkrescue (PID 263619) and its descendant processes ...
Running exit tasks
Caution - there is something mounted within the build area
  /var/tmp/rear.qOl2ebmVsgizNoL/tmp/isofs/boot/efiboot.img on /var/tmp/rear.qOl2ebmVsgizNoL/tmp/efi_virt type vfat (rw,relatime,fmask=0077,dmask=0077,codepage=437,iocharset=iso8859-1,shortname=mixed,errors=remount-ro)
You must manually umount that before you may remove the build area
To remove the build area you may use (with caution): rm -Rf --one-file-system /var/tmp/rear.qOl2ebmVsgizNoL
ü¶é  root@sap-testdt8-02.lxdev:~#
</code></pre>
<h4 id="thomas-merz_commented_at_2025-03-14_911"><img src="https://avatars.githubusercontent.com/u/22958542?u=ef394073fa448d2d48bf182c654698f7c94cc714&v=4" width="50"><a href="https://github.com/thomas-merz">thomas-merz</a> commented at <a href="https://github.com/rear/rear/issues/3426#issuecomment-2724085300">2025-03-14 09:10</a>:<a class="headerlink" href="#thomas-merz_commented_at_2025-03-14_911" title="Permanent link">&para;</a></h4>
<p><code>isoinfo -l -i *iso</code> shows something that really looks like EFI instead
of another ISO on a BIOS-boot VM that doesn't show EFI at all:</p>
<pre><code># isoinfo -l -i *iso
Setting input-charset to 'UTF-8' from locale.

Directory listing of /
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     20 02] .
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     20 02] ..
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     22 02] BOOT
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     24 02] EFI
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     30 02] ISOLINUX

Directory listing of /BOOT/
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     22 02] .
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     20 02] ..
-r-xr-xr-x   1    0    0  100663296 Mar 14 2025 [     45 00] EFIBOOT.IMG;1
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     23 02] GRUB

Directory listing of /EFI/
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     24 02] .
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     20 02] ..
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     25 02] BOOT

Directory listing of /ISOLINUX/
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     30 02] .
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     20 02] ..
-r-xr-xr-x   1    0    0       2048 Mar 14 2025 [     44 00] BOOT.CAT;1
-r-xr-xr-x   1    0    0      19784 Mar 14 2025 [  56221 00] CHAIN.C32;1
-r-xr-xr-x   1    0    0     278552 Mar 14 2025 [  56231 00] HDT.C32;1
-r-xr-xr-x   1    0    0  835144846 Mar 14 2025 [  56368 00] INITRD.CGZ;1
-r-xr-xr-x   1    0    0      24576 Mar 14 2025 [  49197 00] ISOLINUX.BIN;1
-r-xr-xr-x   1    0    0       2026 Mar 14 2025 [ 464154 00] ISOLINUX.CFG;1
-r-xr-xr-x   1    0    0   14179680 Feb  6 2025 [ 464155 00] KERNEL.;1
-r-xr-xr-x   1    0    0      54388 Mar 14 2025 [ 471079 00] MENU.C32;1
-r-xr-xr-x   1    0    0        276 Mar 14 2025 [ 471106 00] MESSAGE.;1
-r-xr-xr-x   1    0    0    1484872 Mar 14 2025 [ 471107 00] PCI.IDS;1
-r-xr-xr-x   1    0    0        239 Mar 14 2025 [ 471833 00] POWEROFF.COM;1
-r-xr-xr-x   1    0    0        962 Mar 14 2025 [ 471834 00] REAR.HELP;1
-r-xr-xr-x   1    0    0        812 Mar 14 2025 [ 471835 00] REBOOT.C32;1
-r-xr-xr-x   1    0    0     151740 Mar 14 2025 [ 471836 00] VESAMENU.C32;1

Directory listing of /BOOT/GRUB/
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     23 02] .
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     22 02] ..
-r-xr-xr-x   1    0    0       1178 Mar 14 2025 [  49209 00] GRUB.CFG;1

Directory listing of /EFI/BOOT/
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     25 02] .
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     24 02] ..
-r-xr-xr-x   1    0    0    8884224 Mar 14 2025 [  49210 00] BOOTX64.EFI;1
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     26 02] FONTS
-r-xr-xr-x   1    0    0       1178 Mar 14 2025 [  54273 00] GRUB.CFG;1
dr-xr-xr-x   1    0    0       6144 Mar 14 2025 [     27 02] LOCALE

Directory listing of /EFI/BOOT/FONTS/
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     26 02] .
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     25 02] ..
-r-xr-xr-x   1    0    0    1484762 Mar 14 2025 [  53548 00] UNICODE.PF2;1

Directory listing of /EFI/BOOT/LOCALE/
dr-xr-xr-x   1    0    0       6144 Mar 14 2025 [     27 02] .
dr-xr-xr-x   1    0    0       2048 Mar 14 2025 [     25 02] ..
-r-xr-xr-x   1    0    0     118891 Mar 14 2025 [  54274 00] AST.MO;1
-r-xr-xr-x   1    0    0     119530 Mar 14 2025 [  54333 00] CA.MO;1
-r-xr-xr-x   1    0    0     111312 Mar 14 2025 [  54392 00] DA.MO;1
-r-xr-xr-x   1    0    0     140494 Mar 14 2025 [  54447 00] DE.MO;1
-r-xr-xr-x   1    0    0     140501 Mar 14 2025 [  54516 00] DE_CH.MO;1
-r-xr-xr-x   1    0    0     129109 Mar 14 2025 [  54585 00] EN_QUOT.MO;1
-r-xr-xr-x   1    0    0      42309 Mar 14 2025 [  54649 00] EO.MO;1
-r-xr-xr-x   1    0    0     121864 Mar 14 2025 [  54670 00] ES.MO;1
-r-xr-xr-x   1    0    0     122523 Mar 14 2025 [  54730 00] FI.MO;1
-r-xr-xr-x   1    0    0     147167 Mar 14 2025 [  54790 00] FR.MO;1
-r-xr-xr-x   1    0    0      96338 Mar 14 2025 [  54862 00] GL.MO;1
-r-xr-xr-x   1    0    0      83723 Mar 14 2025 [  54910 00] HE.MO;1
-r-xr-xr-x   1    0    0     120574 Mar 14 2025 [  54951 00] HR.MO;1
-r-xr-xr-x   1    0    0     127448 Mar 14 2025 [  55010 00] HU.MO;1
-r-xr-xr-x   1    0    0      27734 Mar 14 2025 [  55073 00] ID.MO;1
-r-xr-xr-x   1    0    0     116556 Mar 14 2025 [  55087 00] IT.MO;1
-r-xr-xr-x   1    0    0      43864 Mar 14 2025 [  55144 00] JA.MO;1
-r-xr-xr-x   1    0    0     145765 Mar 14 2025 [  55166 00] KO.MO;1
-r-xr-xr-x   1    0    0      94480 Mar 14 2025 [  55238 00] LT.MO;1
-r-xr-xr-x   1    0    0     118683 Mar 14 2025 [  55285 00] NB.MO;1
-r-xr-xr-x   1    0    0     118723 Mar 14 2025 [  55343 00] NL.MO;1
-r-xr-xr-x   1    0    0      57713 Mar 14 2025 [  55401 00] PA.MO;1
-r-xr-xr-x   1    0    0     139470 Mar 14 2025 [  55430 00] PL.MO;1
-r-xr-xr-x   1    0    0     122075 Mar 14 2025 [  55499 00] PT.MO;1
-r-xr-xr-x   1    0    0      81011 Mar 14 2025 [  55559 00] PT_BR.MO;1
-r-xr-xr-x   1    0    0     147701 Mar 14 2025 [  55599 00] RO.MO;1
-r-xr-xr-x   1    0    0     158221 Mar 14 2025 [  55672 00] RU.MO;1
-r-xr-xr-x   1    0    0      87662 Mar 14 2025 [  55750 00] SL.MO;1
-r-xr-xr-x   1    0    0     177796 Mar 14 2025 [  55793 00] SR.MO;1
-r-xr-xr-x   1    0    0     118670 Mar 14 2025 [  55880 00] SV.MO;1
-r-xr-xr-x   1    0    0      77340 Mar 14 2025 [  55938 00] TR.MO;1
-r-xr-xr-x   1    0    0     186344 Mar 14 2025 [  55976 00] UK.MO;1
-r-xr-xr-x   1    0    0     151654 Mar 14 2025 [  56067 00] VI.MO;1
-r-xr-xr-x   1    0    0     129531 Mar 14 2025 [  56142 00] ZH_CN.MO;1
-r-xr-xr-x   1    0    0      29133 Mar 14 2025 [  56206 00] ZH_TW.MO;1
</code></pre>
<h4 id="jsmeix_commented_at_2025-03-14_1333"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3426#issuecomment-2724728694">2025-03-14 13:33</a>:<a class="headerlink" href="#jsmeix_commented_at_2025-03-14_1333" title="Permanent link">&para;</a></h4>
<p>On my KVM/QEMU VM<br />
with OVMF "TianoCore" UEFI firmware without Secure Boot<br />
(i.e. Secure Boot disabled in the UEFI firmware menu)<br />
with SLES15-SP6 and its default btrfs structure<br />
with ReaR 2.7:</p>
<pre><code># git clone https://github.com/rear/rear.git

# mv rear rear.github.rear-2.7

# cd rear.github.rear-2.7

# git checkout -f -b rear-2.7 rear-2.7
Switched to a new branch 'rear-2.7'

# cat etc/rear/local.conf
OUTPUT=ISO
BACKUP=NETFS
BACKUP_OPTIONS="nfsvers=3,nolock"
BACKUP_URL=nfs://192.168.178.66/nfs
REQUIRED_PROGS+=( snapper chattr lsattr )
COPY_AS_IS+=( /usr/lib/snapper/installation-helper /etc/snapper/config-templates/default )
POST_RECOVERY_SCRIPT=( 'if snapper --no-dbus -r $TARGET_FS_ROOT get-config | grep -q "^QGROUP.*[0-9]/[0-9]" ; then snapper --no-dbus -r $TARGET_FS_ROOT set-config QGROUP= ; snapper --no-dbus -r $TARGET_FS_ROOT setup-quota &amp;&amp; echo snapper setup-quota done || echo snapper setup-quota failed ; else echo snapper setup-quota not used ; fi' )
SSH_ROOT_PASSWORD="rear"
USE_DHCLIENT="yes"
FIRMWARE_FILES=( 'no' )
MODULES=( 'loaded_modules' )
#USE_SERIAL_CONSOLE="no" # enable to avoid kernel console issues
PROGRESS_MODE="plain"
PROGRESS_WAIT_SECONDS="5"

# usr/sbin/rear -D mkrescue
Relax-and-Recover 2.7 / Git
...
Running 'prep' stage ======================
Found EFI system partition /dev/vda1 on /boot/efi type vfat
Using UEFI Boot Loader for Linux (USING_UEFI_BOOTLOADER=1)
Using '/usr/bin/xorrisofs' to create ISO filesystem images
.
.
.
Running 'rescue' stage ======================
...
Trying to find what to use as UEFI bootloader...
Trying to find a 'well known file' to be used as UEFI bootloader...
Using '/boot/efi/EFI/sles/grubx64.efi' as UEFI bootloader file
.
.
.
Running 'output' stage ======================
Configuring GRUB2 kernel /isolinux/kernel
Configuring GRUB2 initrd /isolinux/initrd.cgz
Configuring GRUB2 root device as 'set root=cd0'
GRUB2 modules to load: btrfs fat part_gpt part_msdos
Making ISO image
Wrote ISO image: /root/rear.github.rear-2.7/var/lib/rear/output/rear-localhost.iso (198M)
...
Exiting rear mkrescue (PID 29535) and its descendant processes ...

# ls -lh var/lib/rear/output/
total 198M
-rw------- 1 root root 198M Mar 14 13:31 rear-localhost.iso

# mkdir /tmp/iso

# mount -t iso9660 -o loop var/lib/rear/output/rear-localhost.iso /tmp/iso
mount: /tmp/iso: WARNING: source write-protected, mounted read-only.

# find /tmp/iso -ls | tr -s ' ' | cut -d ' ' -f4,8,12
drwx------ 2048 /tmp/iso
drwx------ 2048 /tmp/iso/boot
-rw------- 100663296 /tmp/iso/boot/efiboot.img
drwxr-xr-x 2048 /tmp/iso/boot/grub
-rw------- 1248 /tmp/iso/boot/grub/grub.cfg
drwx------ 2048 /tmp/iso/EFI
drwxr-xr-x 2048 /tmp/iso/EFI/BOOT
-rwx------ 9068544 /tmp/iso/EFI/BOOT/BOOTX64.efi
drwx------ 2048 /tmp/iso/EFI/BOOT/fonts
-rw------- 1484762 /tmp/iso/EFI/BOOT/fonts/unicode.pf2
-rw------- 1248 /tmp/iso/EFI/BOOT/grub.cfg
drwx------ 6144 /tmp/iso/EFI/BOOT/locale
-rw------- 118891 /tmp/iso/EFI/BOOT/locale/ast.mo
...
-rw------- 29133 /tmp/iso/EFI/BOOT/locale/zh_TW.mo
drwx------ 2048 /tmp/iso/isolinux
-r-------- 2048 /tmp/iso/isolinux/boot.cat
-rw------- 19784 /tmp/iso/isolinux/chain.c32
-rw------- 278552 /tmp/iso/isolinux/hdt.c32
-rw------- 75375223 /tmp/iso/isolinux/initrd.cgz
-rw------- 24576 /tmp/iso/isolinux/isolinux.bin
-rw------- 2130 /tmp/iso/isolinux/isolinux.cfg
-rw-r--r-- 14191584 /tmp/iso/isolinux/kernel
-rw------- 54388 /tmp/iso/isolinux/menu.c32
-rw------- 266 /tmp/iso/isolinux/message
-rw------- 1431735 /tmp/iso/isolinux/pci.ids
-rw------- 239 /tmp/iso/isolinux/poweroff.com
-rw------- 962 /tmp/iso/isolinux/rear.help
-rw------- 812 /tmp/iso/isolinux/reboot.c32
-rw------- 151740 /tmp/iso/isolinux/vesamenu.c32
</code></pre>
<p>So as far as I see at first glance<br />
all looks same for me as it is on your system.</p>
<p>When I boot another KVM/QEMU VM<br />
with OVMF "TianoCore" UEFI firmware without Secure Boot<br />
(i.e. Secure Boot disabled in the UEFI firmware menu)<br />
from that ISO<br />
the UEFI firmware loads the ReaR recovery system bootloader<br />
and the ReaR recovery system bootloader shows its boot menue<br />
with in particular those two choices</p>
<pre><code>Relax-and-Recover (BIOS or UEFI without Secure Boot)
Relax-and-Recover (UEFI and Secure Boot)
</code></pre>
<p>where I select the first entry and then<br />
the ReaR recovery system bootloader loads kernel and initrd<br />
but there I get now (I see this for the first time):</p>
<p><img alt="Image" src="https://github.com/user-attachments/assets/135c78c3-7525-471b-bf45-9e1afb31a2c3" /></p>
<p>This seems to be only a meaningless warning<br />
because it continues automatically after about 10 seconds.</p>
<p>But then I get a black screen for about 30 seconds<br />
i.e. I do not see the usual kernel startup messages<br />
which is the known issue with kernel console setting<br />
see <a href="https://github.com/rear/rear/issues/2843">https://github.com/rear/rear/issues/2843</a><br />
and <a href="https://github.com/rear/rear/pull/2961">https://github.com/rear/rear/pull/2961</a><br />
which is fixed since ReaR 2.8<br />
which one can avoid in ReaR 2.7 in etc/rear/local.conf with</p>
<pre><code>USE_SERIAL_CONSOLE="no"
</code></pre>
<p>cf. my etc/rear/local.conf in<br />
<a href="https://github.com/rear/rear/issues/3084#issuecomment-1835773844">https://github.com/rear/rear/issues/3084#issuecomment-1835773844</a></p>
<p>But this is also no really severe problem because<br />
after those about 30 seconds of black screen<br />
the usual initial ReaR recovery system screen shows up<br />
where I can log in as 'root' as usual.</p>
<p>By the way:</p>
<p>As always with UEFI things do not "just work".<br />
I had to tinker with the Secure Boot settings<br />
in the OVMF "TianoCore" UEFI firmware setup menu<br />
because by default Secure Boot is enabled<br />
in the OVMF "TianoCore" UEFI firmware<br />
and then (when the EFI binary in the ISO image<br />
which is to be booted by the UEFI firmware<br />
is not sufficiently prepared for Secure Boot)<br />
the UEFI firmware - as always - does of course<br />
not show any helpful info but "just fails"<br />
with some UEFI firmware internal gibberish<br />
where non-UEFI experts cannot make sense of.</p>
<p>So it is crucial that Secure Boot is disabled<br />
in the UEFI firmware when the ISO image is made<br />
for UEFI booting without Secure Boot.</p>
<h4 id="jsmeix_commented_at_2025-03-14_1358"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3426#issuecomment-2724789359">2025-03-14 13:58</a>:<a class="headerlink" href="#jsmeix_commented_at_2025-03-14_1358" title="Permanent link">&para;</a></h4>
<p>@thomas-merz</p>
<p>another blind shot into the dark because you use</p>
<pre><code>BACKUP=CDM
</code></pre>
<p>and now I see that you get</p>
<pre><code>Created initrd.cgz with gzip default compression (835144846 bytes) in 40 seconds
...
Wrote ISO image: /var/lib/rear/output/rear-sap-testdt8-02.iso (922M)
</code></pre>
<p>I vaguely remember certain ISO size limits<br />
and/or initrd size limits also on x86_64<br />
(on POWER rather small initrd size limits are known)<br />
where booting "just somehow fails" with<br />
a too big ISO and/or a too big initrd.</p>
<p>So to verify whether or not your ISO size and/or initrd size<br />
could be the cause of your booting failure, try as a test<br />
if booting the ReaR recovery system works for you with</p>
<pre><code>BACKUP=NETFS
</code></pre>
<p>cf. what ISO size I have</p>
<pre><code>Wrote ISO image: /root/rear.github.rear-2.7/var/lib/rear/output/rear-localhost.iso (198M)
...
-rw------- 75375223 /tmp/iso/isolinux/initrd.cgz
</code></pre>
<p>i.e. I have only about 72MiB compressed initrd size<br />
in contrast to you with about 796MiB compressed initrd size.</p>
<p>I guess the 'BACKUP=CDM' stuff that gets included<br />
in the ReaR recovery system is rather (too?) big.</p>
<h4 id="jsmeix_commented_at_2025-03-14_1412"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3426#issuecomment-2724824704">2025-03-14 14:12</a>:<a class="headerlink" href="#jsmeix_commented_at_2025-03-14_1412" title="Permanent link">&para;</a></h4>
<p>FYI</p>
<p>Regarding the known initrd size limits on POWER<br />
see <a href="https://github.com/rear/rear/issues/3189">https://github.com/rear/rear/issues/3189</a><br />
and <a href="https://github.com/rear/rear/pull/3233">https://github.com/rear/rear/pull/3233</a></p>
<p>Regarding rather obscure initrd size limits on x86<br />
see <a href="https://github.com/rear/rear/issues/3324">https://github.com/rear/rear/issues/3324</a><br />
therein in particular<br />
<a href="https://github.com/rear/rear/issues/3324#issuecomment-2421673731">https://github.com/rear/rear/issues/3324#issuecomment-2421673731</a><br />
where some 462M size limit for the initrd on x86_64 is mentioned<br />
and see<br />
<a href="https://github.com/rear/rear/issues/2681#issuecomment-928937450">https://github.com/rear/rear/issues/2681#issuecomment-928937450</a><br />
where GRUB had failed with a "rather large initrd, around 300-500MB".</p>
<h4 id="jsmeix_commented_at_2025-03-14_1427"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3426#issuecomment-2724876701">2025-03-14 14:27</a>:<a class="headerlink" href="#jsmeix_commented_at_2025-03-14_1427" title="Permanent link">&para;</a></h4>
<p>Generic things which make the ReaR recovery system big<br />
(so ReaR's initrd which contains the ReaR recovery system gets big)<br />
are firmware files and kernel modules.</p>
<p>On VMs usually no firmware files are needed and<br />
only the loaded kernel modules are needed<br />
in the ReaR recovery system so</p>
<pre><code>FIRMWARE_FILES=( 'no' )
MODULES=( 'loaded_modules' )
</code></pre>
<p>help generically to reduce the size of the ReaR recovery system.</p>
<p>If you need firmware files for your particular VM<br />
you can include only what you actually need,<br />
see the FIRMWARE_FILES description in default.conf<br />
but also see<br />
<a href="https://github.com/rear/rear/issues/2681#issuecomment-930879162">https://github.com/rear/rear/issues/2681#issuecomment-930879162</a><br />
why it is not easy to know or to find out what<br />
firmware files get used on one's own hardware.</p>
<p>In general see also<br />
<a href="https://github.com/rear/rear/issues/3270">https://github.com/rear/rear/issues/3270</a></p>
<h4 id="jsmeix_commented_at_2025-03-14_1452"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3426#issuecomment-2724941815">2025-03-14 14:52</a>:<a class="headerlink" href="#jsmeix_commented_at_2025-03-14_1452" title="Permanent link">&para;</a></h4>
<p>In its current state this issue is not a bug because<br />
a bug is when the code does not do what it is meant to do<br />
see <a href="https://github.com/rear/rear/labels">https://github.com/rear/rear/labels</a></p>
<p>In its current state this issue is a support question<br />
i.e. how to setup ReaR with BACKUP=CDM and OUTPUT=ISO<br />
to make the ReaR recovery system ISO image<br />
bootable with UEFI firmware.</p>
<p>Later - as things go on - this issue may evolve<br />
into whatever appropriate other type(s).</p>
<h4 id="thomas-merz_commented_at_2025-03-17_1051"><img src="https://avatars.githubusercontent.com/u/22958542?u=ef394073fa448d2d48bf182c654698f7c94cc714&v=4" width="50"><a href="https://github.com/thomas-merz">thomas-merz</a> commented at <a href="https://github.com/rear/rear/issues/3426#issuecomment-2729052604">2025-03-17 10:51</a>:<a class="headerlink" href="#thomas-merz_commented_at_2025-03-17_1051" title="Permanent link">&para;</a></h4>
<blockquote>
<pre><code>BACKUP=CDM
</code></pre>
</blockquote>
<p>‚Ä¶</p>
<blockquote>
<p>I guess the 'BACKUP=CDM' stuff that gets included in the ReaR recovery
system is rather (too?) big.</p>
</blockquote>
<p>That sounds‚Ä¶ "weird" because I can boot exactly this "too big ISO" with
BIOS-boot - but not with EFI-boot. And I really could imagine that EFI
breaks some limits that BIOS had?!<br />
But I tested it nevertheless and I got a slightly smaller ISO image:</p>
<pre><code>Creating recovery/rescue system initramfs/initrd initrd.cgz with gzip default compression
Created initrd.cgz with gzip default compression (735192996 bytes) in 31 seconds
GRUB2 modules to load: ext2 fat part_gpt part_msdos
Making ISO image
Wrote ISO image: /var/lib/rear/output/rear-sap-testdt8-02.iso (827M)
</code></pre>
<p>This ISO also can't be booted with EFI.</p>
<h4 id="thomas-merz_commented_at_2025-03-17_1057"><img src="https://avatars.githubusercontent.com/u/22958542?u=ef394073fa448d2d48bf182c654698f7c94cc714&v=4" width="50"><a href="https://github.com/thomas-merz">thomas-merz</a> commented at <a href="https://github.com/rear/rear/issues/3426#issuecomment-2729067095">2025-03-17 10:57</a>:<a class="headerlink" href="#thomas-merz_commented_at_2025-03-17_1057" title="Permanent link">&para;</a></h4>
<blockquote>
<p>In its current state this issue is not a bug because a bug is when the
code does not do what it is meant to do see
<a href="https://github.com/rear/rear/labels">https://github.com/rear/rear/labels</a></p>
<p>In its current state this issue is a support question i.e. how to
setup ReaR with BACKUP=CDM and OUTPUT=ISO to make the ReaR recovery
system ISO image bootable with UEFI firmware.</p>
</blockquote>
<p>I don't think so that "the code does do what it is meant to do". Because
it should create a bootable ISO also with EFI when it already
automatically identifies a system as "EFI" and using
<code>Using UEFI Boot Loader for Linux (USING_UEFI_BOOTLOADER=1)</code> without
being set anything like this in any conf in /etc/rear. @roseswe what do
you think? Are we more popely as the pope? ü§∑‚Äç‚ôÇ</p>
<h4 id="jsmeix_commented_at_2025-03-17_1644"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3426#issuecomment-2730200259">2025-03-17 16:44</a>:<a class="headerlink" href="#jsmeix_commented_at_2025-03-17_1644" title="Permanent link">&para;</a></h4>
<p>The above mentioned<br />
<a href="https://github.com/rear/rear/issues/2681">https://github.com/rear/rear/issues/2681</a><br />
is further described in<br />
<a href="https://github.com/rear/rear/issues/3186">https://github.com/rear/rear/issues/3186</a><br />
i.e. certain GRUB versions seem to have issues<br />
with loading bigger initrds on UEFI which apparently<br />
also depends on UEFI firmware manufacturer and version.</p>
<p>@thomas-merz<br />
because I am not at all a sufficient booting expert<br />
to properly analyze and debug such issues, I recommend<br />
that you also (i.e. in addition to this issue here)<br />
open an official SUSE internal support case so that<br />
the booting experts at SUSE could have a closer look.</p>
<p>If you have a SUSE product/extension<br />
where SUSE officially supports ReaR,<br />
I recommend that you file in any case<br />
an official support request at SUSE<br />
via your official support contact at SUSE<br />
to get official support from SUSE in addition<br />
to the voluntary support here at ReaR upstream<br />
(i.e. German "viel hilft viel" / English "more is better").<br />
If you do that please provide an URL to this issue<br />
in your SUSE support request.</p>
<h4 id="thomas-merz_commented_at_2025-03-18_0910"><img src="https://avatars.githubusercontent.com/u/22958542?u=ef394073fa448d2d48bf182c654698f7c94cc714&v=4" width="50"><a href="https://github.com/thomas-merz">thomas-merz</a> commented at <a href="https://github.com/rear/rear/issues/3426#issuecomment-2732228869">2025-03-18 09:10</a>:<a class="headerlink" href="#thomas-merz_commented_at_2025-03-18_0910" title="Permanent link">&para;</a></h4>
<p>I asked via SUSE ticket 01573307 if they can officially help here with
the right experts for this with a link to this GH issue.</p>
<h4 id="thomas-merz_commented_at_2025-03-25_1159"><img src="https://avatars.githubusercontent.com/u/22958542?u=ef394073fa448d2d48bf182c654698f7c94cc714&v=4" width="50"><a href="https://github.com/thomas-merz">thomas-merz</a> commented at <a href="https://github.com/rear/rear/issues/3426#issuecomment-2751024882">2025-03-25 11:59</a>:<a class="headerlink" href="#thomas-merz_commented_at_2025-03-25_1159" title="Permanent link">&para;</a></h4>
<p><code>rear-2.8-3.x86_64.rpm</code> also doesn't produce a bootable ISO at all.<br />
<code>rear-2.9-2.x86_64.rpm</code> produces a bootable but "not working at all"
ISO:</p>
<blockquote>
<p>Loading kernel /isolinux/kernel ...<br />
error: ../../grub-core/loader/i386/efi/linux.c:248:invalid magic
number.<br />
Loading initial randisk /isolinux/initrd.cgz ...<br />
error: ../../grub-core/loader/i386/efi/linux.c:168:you need to load
the kernel first.</p>
</blockquote>
<p>SUSE support / developers are on it.</p>
<h4 id="thomas-merz_commented_at_2025-05-05_0941"><img src="https://avatars.githubusercontent.com/u/22958542?u=ef394073fa448d2d48bf182c654698f7c94cc714&v=4" width="50"><a href="https://github.com/thomas-merz">thomas-merz</a> commented at <a href="https://github.com/rear/rear/issues/3426#issuecomment-2850459709">2025-05-05 09:41</a>:<a class="headerlink" href="#thomas-merz_commented_at_2025-05-05_0941" title="Permanent link">&para;</a></h4>
<p>Provided solution from SUSE-Enterprise-Priority-Support:</p>
<p>Adding more RAM (6 instead of 4 GByte) to my rear-testing-VM solved the
problem that UEFI-ISO didn't boot (without any notice).</p>
<h4 id="jsmeix_commented_at_2025-05-05_1347"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3426#issuecomment-2851071445">2025-05-05 13:47</a>:<a class="headerlink" href="#jsmeix_commented_at_2025-05-05_1347" title="Permanent link">&para;</a></h4>
<p>What is still not clear is WHY 6 GiB RAM are needed,<br />
i.e. what it actually is that needs so much RAM.</p>
<p>For me with BACKUP=NETFS 2 GiB RAM were always sufficient.<br />
So with BACKUP=CDM 4 GiB could be expected to be sufficient<br />
(if at all BACKUP=CDM versus BACKUP=NETFS is the crucial difference).</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2025-03-14.3426.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
