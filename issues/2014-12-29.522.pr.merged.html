<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#522 PR merged: DRLM integration with ReaR - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#522 PR merged: DRLM integration with ReaR";
        var mkdocs_page_input_path = "issues/2014-12-29.522.pr.merged.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#522 PR merged: DRLM integration with ReaR</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="522_pr_merged_drlm_integration_with_rear"><a href="https://github.com/rear/rear/pull/522">#522 PR</a> <code>merged</code>: DRLM integration with ReaR<a class="headerlink" href="#522_pr_merged_drlm_integration_with_rear" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code></p>
<h4 id="didacog_opened_issue_at_2014-12-29_1557"><img src="https://avatars.githubusercontent.com/u/5380209?u=163f1571e6b9c9c7df94e2c6ca152b0a7406b52d&v=4" width="50"><a href="https://github.com/didacog">didacog</a> opened issue at <a href="https://github.com/rear/rear/pull/522">2014-12-29 15:57</a>:<a class="headerlink" href="#didacog_opened_issue_at_2014-12-29_1557" title="Permanent link">&para;</a></h4>
<h1 id="drlm_disaster_recovery_linux_manager_integration_with_rear">DRLM (Disaster Recovery Linux Manager) integration with ReaR<a class="headerlink" href="#drlm_disaster_recovery_linux_manager_integration_with_rear" title="Permanent link">&para;</a></h1>
<p>These are the required configurations in order to configure ReaR to work
properly with DRLM:</p>
<h1 id="rear_client_required_configurations_for_drlm">ReaR client required configurations for DRLM:<a class="headerlink" href="#rear_client_required_configurations_for_drlm" title="Permanent link">&para;</a></h1>
<ul>
<li>Create DRLM user on the client side:</li>
</ul>
<p>useradd -d /home/drlm -c "DRLM User" -m -s /bin/bash drlm<br />
passwd drlm</p>
<p>**NOTE: password will be blocked, the connection is only allowed using
ssh keys.</p>
<ul>
<li>Disable password aging for drlm user:</li>
</ul>
<p>chage -I -1 -m 0 -M 99999 -E -1 drlm</p>
<ul>
<li>Copy ssh key from DRLM Server to the new client (login as root on
    DRLM server):</li>
</ul>
<p>ssh-copy-id drlm@client_name</p>
<h1 id="sudo_drlm_user_configuration">SUDO DRLM user configuration:<a class="headerlink" href="#sudo_drlm_user_configuration" title="Permanent link">&para;</a></h1>
<ul>
<li>On the client side (if not present):</li>
</ul>
<p>mkdir /etc/sudoers.d<br />
chmod 750 /etc/sudoers.d<br />
echo "#includedir /etc/sudoers.d" &gt;&gt; /etc/sudoers</p>
<ul>
<li>Create SUDOERS DRLM user rules (in old SUDO versions you may need to
    configure DRLM rule directly in /etc/sudoers):</li>
</ul>
<p>vi /etc/sudoers.d/drlm</p>
<pre><code>     Cmnd_Alias DRLM = /usr/sbin/rear -dDv mkrescue, \ 
 /usr/sbin/rear -dDv mkbackup, \ 
 /usr/sbin/rear -d mkrescue, \ 
 /usr/sbin/rear -d mkbackup, \ 
     /usr/sbin/rear -D mkrescue, \ 
     /usr/sbin/rear -D mkbackup, \ 
     /usr/sbin/rear -v mkrescue, \ 
     /usr/sbin/rear -v mkbackup, \ 
     /usr/sbin/rear mkrescue, \ 
     /usr/sbin/rear mkbackup, \ 
 /usr/sbin/rear dump

     drlm    ALL=(root)      NOPASSWD: DRLM
</code></pre>
<p>chmod 440 /etc/sudoers.d/drlm</p>
<ul>
<li>
<p>Disable password login:</p>
<p>passwd -l drlm</p>
</li>
</ul>
<h1 id="drlm_required_etcrearsiteconf_settings">DRLM Required /etc/rear/site.conf settings:<a class="headerlink" href="#drlm_required_etcrearsiteconf_settings" title="Permanent link">&para;</a></h1>
<p>DRLM_MANAGED=y</p>
<ul>
<li>(is set to (n) by default on /usr/share/rear/conf/default.conf)</li>
</ul>
<h4 id="schlomo_commented_at_2014-12-29_1641"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-68273361">2014-12-29 16:41</a>:<a class="headerlink" href="#schlomo_commented_at_2014-12-29_1641" title="Permanent link">&para;</a></h4>
<p>Very nice indeed. Thanks a lot for participating in ReaR!</p>
<p>Why not simply modify OUTPUT_PREFIX instead of adding DLRM_NAME to
81_create_pxelinux_cfg.sh? At a quick glance it seems like DLRM_NAME
would be added twice: Once in OUTPUT_URL and another time in
81_create_pxelinux_cfg.sh</p>
<p>Also, OUTPUT_PREFIX is used in several other places as well but you
don't patch all of them, too.</p>
<p>Are there other patches following that use the DLRM_* variables? If
not, then you could probably achieve the same without patching ReaR
itself but by using those variables in the local.conf or site.conf to
avoid writing the same thing several times.</p>
<p>Also, we love all variables to default to a sane value. If the intended
use case of DLRM_NAME is actually HOSTNAME, then it should be set to
that by default. Or simply use OUTPUT_PREFIX which is set to HOSTNAME
by default already.</p>
<p>What would be the use case of setting another DRLM_NAME?</p>
<h4 id="didacog_commented_at_2014-12-29_2334"><img src="https://avatars.githubusercontent.com/u/5380209?u=163f1571e6b9c9c7df94e2c6ca152b0a7406b52d&v=4" width="50"><a href="https://github.com/didacog">didacog</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-68315503">2014-12-29 23:34</a>:<a class="headerlink" href="#didacog_commented_at_2014-12-29_2334" title="Permanent link">&para;</a></h4>
<p>In DRLM, a NFS share is a mounted DR image only exported to a defined
DRLM client.<br />
Every image is mounted and exported from /DRLM/STORE/[DRLM_NAME]</p>
<p>In this DR image we are storing the rescue image under PXE folder and
backup under BKP folder.<br />
This is why we need OUTPUT_PREFIX=PXE and NETFS_PREFIX=BKP in order to
ReaR can create those directories on the NFS share.</p>
<p>/DRLM/STORE is the tftproot where are the pxelinux.cfg directory and
pxelinux.0 image, and every DRLM client has it's own mountpoint.</p>
<p>This is the reason why we need $DRLM_NAME/$OUTPUT_PREFIX in
81_create_pxelinux_cfg.sh in order to give the correct path to kernel
and initrd.</p>
<p>We set DRLM_NAME because maybe the user will define DRLM clients by
it's own name ex: rear01, rear02,... instead of the real hostname of the
server. This is one of the reasons for differentiate the HOSTNAME and
DRLM_NAME.</p>
<p>DRLM_NAME can be usually the same that HOSTNAME but is not a DRLM
requirement.</p>
<h4 id="schlomo_commented_at_2014-12-30_0928"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-68341595">2014-12-30 09:28</a>:<a class="headerlink" href="#schlomo_commented_at_2014-12-30_0928" title="Permanent link">&para;</a></h4>
<p>I see. Why not simply modify the OUTPUT_PREFIX and NETFS_PREFIX
accordingly?</p>
<p>I would strongly suggest to drop the DRLM_NAME variable altogether and
prevent the users from shooting themselves in the foot by using
different names for host and application. This is a setup for failure.
And where would such a mapping be maintained? That is why I think that
you and your users would be better off to avoid that extra level of
complexity and keep things simple.</p>
<p>In general my opinion on supporting DRLM would be to create a new BACKUP
and OUTPUT method called DRLM that modifies the other ReaR variables to
suit DRLM. And then simply have a DRLM_SERVER variable that points to
the DRLM server.</p>
<p>That way a user would only say:</p>
<pre><code>BACKUP=DRLM
OUTPUT=DRLM
DRLM_SERVER=fooserver.domain.tld
</code></pre>
<p>and be done. Seems much more user friendly and less error prone to me.</p>
<p>If the way how the DRLM server expects the data changes then you simply
update those BACKUP and OUTPUT modules in ReaR and the user does not
change his configuration.</p>
<p>Another thing: What is the purpose of the DRLM_MANAGED variable? It is
not used in ReaR.</p>
<h4 id="schlomo_commented_at_2015-01-04_1839"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-68643417">2015-01-04 18:39</a>:<a class="headerlink" href="#schlomo_commented_at_2015-01-04_1839" title="Permanent link">&para;</a></h4>
<p>I got another idea how to better integrate your changes with the general
ReaR concept:</p>
<p>Add code that would use the DRLM_SERVER variable to activate DRLM mode
and modify OUTPUT_PREFIX and other variables. If DRLM_SERVER is not
set, then nothing happens. That way the user has to configure only one
thing (DRLM_SERVER) to activate <em>and</em> configure DRLM support.</p>
<p>Doing that will make you much more compatible with how ReaR works
internally and will make sure that future development on other parts of
ReaR will not need to know about DRLM.</p>
<p>The other thing is, I am still not happy with the concept of a
DRLM_NAME variable and giving the user the option to name the client
differently. Do you have right now a requirement for this? If not then I
would kindly ask you to postpone this part till the need actually
arises. If you have a concrete requirement I would love to learn more
about it. (Maybe instead of setting it manually better have some code
that queries the DRLM_SERVER with the hostname, MAC address etc. to
find out what the DRLM_NAME should be.)</p>
<p>What do you think?</p>
<h4 id="gdha_commented_at_2015-01-25_1546"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-71378005">2015-01-25 15:46</a>:<a class="headerlink" href="#gdha_commented_at_2015-01-25_1546" title="Permanent link">&para;</a></h4>
<p>@didacog End of January is the target to accept new pull requests as
need a week or two to validate the next rear release-1.17. So, you have
still one week to prepare your next pull request.</p>
<h4 id="schlomo_commented_at_2015-01-28_1435"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-71843803">2015-01-28 14:35</a>:<a class="headerlink" href="#schlomo_commented_at_2015-01-28_1435" title="Permanent link">&para;</a></h4>
<p>@didacog please notify me when you update the pull request.</p>
<h4 id="didacog_commented_at_2015-01-28_2359"><img src="https://avatars.githubusercontent.com/u/5380209?u=163f1571e6b9c9c7df94e2c6ca152b0a7406b52d&v=4" width="50"><a href="https://github.com/didacog">didacog</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-71942972">2015-01-28 23:59</a>:<a class="headerlink" href="#didacog_commented_at_2015-01-28_2359" title="Permanent link">&para;</a></h4>
<p>@schlomo @gdha,<br />
I've updated the pull request with last changes.</p>
<p>Please let me know if any modifications are needed.</p>
<h4 id="schlomo_commented_at_2015-01-29_0812"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-71985531">2015-01-29 08:12</a>:<a class="headerlink" href="#schlomo_commented_at_2015-01-29_0812" title="Permanent link">&para;</a></h4>
<p>Hello @didacog,</p>
<p>this looks already very good. Small stuff:</p>
<ul>
<li>Can you please update your branch to reduce the amount of white
    space changes and keep our indentation.</li>
<li>Can you please use [[ ]] instead of [ ].</li>
<li>Checking for all your DRLM_* variables should happen in a single
    [[ ]] block (see <code>help [[</code>) and the variables <strong>must</strong> be
    protected with <code>"</code> quotes, otherwise.</li>
<li>Please change the comment for the OUTPUT_PREFIX_PXE to something
    like "The remote file system layout for OUTPUT=PXE can be modified
    to accomodate different TFTP server layouts".</li>
</ul>
<p>Some questions:</p>
<ul>
<li>Are you sure about using HTTPS without certificate verification? You
    basically throw away all the benefits of actually using HTTPS and
    could use plain HTTP instead. If you want to protect the password
    "on the wire" then you can also use <code>curl --digest</code> (See man page).
    Better yet, dynamically issue a token on the DRLM server which is
    used as a one-time-password. Since ReaR can only be used when
    triggered from the DRLM server the DRLM server already knows that it
    plans to run ReaR on a given machine and can issue such a token and
    authorize the token to retrieve the ReaR configuration for that
    specific ReaR run. The token could also be the key in a database
    under which the ReaR config for this run is stored. And so on, lots
    of cool things you can do with that. You can then use the client
    name as user and the token as password. Or encode both client name
    and token into an "access key". Since you pass the username <em>and</em>
    password via command line to ReaR you could equally well pass such a
    one time token. That would actually prevent the admins from using
    ReaR without DRLM much more efficiently than a static
    username/password protection which will for example be visible in
    the sudo logs or also in the ReaR logs.</li>
<li>Using POST to retrieve information is somewhat unusual and not
    REST-like (See Wikipedia or for example
    <a href="http://code.tutsplus.com/tutorials/a-beginners-guide-to-http-and-rest--net-16340">http://code.tutsplus.com/tutorials/a-beginners-guide-to-http-and-rest--net-16340</a>
    for a short intro about how the HTTP verbs are usually used).
    Information retrieval is usually done with GET to indicate that the
    state on the server does not change through this action and because
    repeated calls to the same URL yield the same result.</li>
</ul>
<p>However, since those are really your areas and of no concern to ReaR in
general these topics will not prevent this merge.</p>
<p>Regards,<br />
Schlomo</p>
<h4 id="didacog_commented_at_2015-01-29_0850"><img src="https://avatars.githubusercontent.com/u/5380209?u=163f1571e6b9c9c7df94e2c6ca152b0a7406b52d&v=4" width="50"><a href="https://github.com/didacog">didacog</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-71989553">2015-01-29 08:50</a>:<a class="headerlink" href="#didacog_commented_at_2015-01-29_0850" title="Permanent link">&para;</a></h4>
<p>Hello @schlomo,</p>
<p>We'll take a look to your suggestions and update the pull request. :)</p>
<p>Regards,<br />
Didac</p>
<h4 id="didacog_commented_at_2015-01-29_1542"><img src="https://avatars.githubusercontent.com/u/5380209?u=163f1571e6b9c9c7df94e2c6ca152b0a7406b52d&v=4" width="50"><a href="https://github.com/didacog">didacog</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-72046106">2015-01-29 15:42</a>:<a class="headerlink" href="#didacog_commented_at_2015-01-29_1542" title="Permanent link">&para;</a></h4>
<p>Hello @schlomo,</p>
<p>Regarding to questions made:</p>
<p>HTTPS is not only to protect the password, also the configuration
information that is sent. filesystems excluded/included, VGs, ...</p>
<p>Another option could be to initialize an empty variable like
"DRLM_SSL_KEY=" in default.conf and distribute the key, and its path
in the site.conf like DRLM_MANAGED. Using "curl --cert $ DRLM_SSL_KEY
-u user: pass ... URL" instead of (-k)</p>
<p>Referring to send by POST method, we aren't working in REST-like mode
because there isn't any app behind.<br />
We have CGI's written in bash that allow us to interact via HTTP between
rear and DRLM by standard protocol.</p>
<p>Now all we serve is a REAR configuration file, but we will use this
model for other tasks, such as sending rear log output to drlm, list
available backups on DRLM from ReaR, ...<br />
with POST method, we can maintain the same standard way for any HTTP
request between rear and DRLM, download a configuration or a list of
backups or send logs or file ...</p>
<p>DRLM like ReaR, is written completely in BASH and if we don't find
limitations impossible to remedy with bash and standard OS
tools/protocols, we intend to continue to maintain bash as the only
programming language.</p>
<p>I'll correct code indention, spacing,... today evening! ;)</p>
<p>Regards,<br />
Didac</p>
<h4 id="schlomo_commented_at_2015-01-29_1706"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-72062778">2015-01-29 17:06</a>:<a class="headerlink" href="#schlomo_commented_at_2015-01-29_1706" title="Permanent link">&para;</a></h4>
<p>Hi @didacog,</p>
<p>as I said - your HTTP protocol is your responsability. IMHO using Bash
is no reason for not doing REST-like properly...</p>
<p>Looking forward to your next update.</p>
<p>Regards,<br />
Schlomo</p>
<h4 id="didacog_commented_at_2015-01-30_0224"><img src="https://avatars.githubusercontent.com/u/5380209?u=163f1571e6b9c9c7df94e2c6ca152b0a7406b52d&v=4" width="50"><a href="https://github.com/didacog">didacog</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-72143627">2015-01-30 02:24</a>:<a class="headerlink" href="#didacog_commented_at_2015-01-30_0224" title="Permanent link">&para;</a></h4>
<p>Hi @schlomo I've updated the pull request.</p>
<p>Thanks for your suggestions, have made possible much better integration
than our initial approach.</p>
<p>Kind Regards,<br />
Didac</p>
<h4 id="schlomo_commented_at_2015-01-30_0833"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-72169395">2015-01-30 08:33</a>:<a class="headerlink" href="#schlomo_commented_at_2015-01-30_0833" title="Permanent link">&para;</a></h4>
<p>@didacog Please check if this still works for you. I added a check for
curl (how did this work for you during recovery if curl was not part of
the rescue system???).</p>
<p>Thanks a lot for contributing to the ReaR ecosystem, your
<a href="http://www.drlm.org">http://www.drlm.org</a> website looks very nice!</p>
<p>@gdha I added DRLM to the release notes but I am not sure if it is in
the right place.</p>
<h4 id="didacog_commented_at_2015-01-30_1328"><img src="https://avatars.githubusercontent.com/u/5380209?u=163f1571e6b9c9c7df94e2c6ca152b0a7406b52d&v=4" width="50"><a href="https://github.com/didacog">didacog</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-72200256">2015-01-30 13:28</a>:<a class="headerlink" href="#didacog_commented_at_2015-01-30_1328" title="Permanent link">&para;</a></h4>
<p>@schlomo @gdha<br />
Many thanks to you! sincerely appreciate your support.</p>
<p>I added curl to REQUIRED_PROGS array by hand in default.conf for the
tests and I completely forgot to take it in mind for the code in pull
request. :_(</p>
<p>Many thanks for adding it in the code! :)</p>
<p>I may need to recover some sleep from last weeks... :P</p>
<p>Kind Regards,<br />
Didac</p>
<h4 id="schlomo_commented_at_2015-01-30_1335"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-72201036">2015-01-30 13:35</a>:<a class="headerlink" href="#schlomo_commented_at_2015-01-30_1335" title="Permanent link">&para;</a></h4>
<p>We don't want to require curl for everybody. Since REQUIRED_PROGS is
checked in prep/default/95_check_missing_programs.sh we cannot use
that in the DRLM case because in prep/default/01_*.sh you already
<strong>need</strong> curl to download further configuration. That is why I added a
dedicated check to the code. Adding it to PROGS should then make sure
that it will be also there in the rescue system.</p>
<h4 id="gdha_commented_at_2015-01-30_1349"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-72202718">2015-01-30 13:49</a>:<a class="headerlink" href="#gdha_commented_at_2015-01-30_1349" title="Permanent link">&para;</a></h4>
<p>Indeed Schlomo is right:<br />
./usr/share/rear/prep/default/01_set_drlm_env.sh:PROGS=(
"${PROGS[@]}" curl<br />
)</p>
<p>On Fri, Jan 30, 2015 at 2:35 PM, Schlomo Schapiro
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
wrote:</p>
<blockquote>
<p>We don't want to require curl for everybody. Since REQUIRED_PROGS
is<br />
checked in prep/default/95_check_missing_programs.sh we cannot use
that in<br />
the DRLM case because in prep/default/01__.sh you already *need_
curl to<br />
download further configuration. That is why I added a dedicated check
to<br />
the code. Adding it to PROGS should then make sure that it will be
also<br />
there in the rescue system.</p>
<p>—<br />
Reply to this email directly or view it on GitHub<br />
<a href="https://github.com/rear/rear/pull/522#issuecomment-72201036">https://github.com/rear/rear/pull/522#issuecomment-72201036</a>.</p>
</blockquote>
<h4 id="didacog_commented_at_2015-01-30_1408"><img src="https://avatars.githubusercontent.com/u/5380209?u=163f1571e6b9c9c7df94e2c6ca152b0a7406b52d&v=4" width="50"><a href="https://github.com/didacog">didacog</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-72206091">2015-01-30 14:08</a>:<a class="headerlink" href="#didacog_commented_at_2015-01-30_1408" title="Permanent link">&para;</a></h4>
<p>Yes yes, understood. I added it there, just for my local tests and
forgot to see where to put it on a correct site. On tests I only wanted
that it works on recovery in a fast way, and I forgot. :P</p>
<h4 id="schlomo_commented_at_2015-01-30_1445"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-72211284">2015-01-30 14:45</a>:<a class="headerlink" href="#schlomo_commented_at_2015-01-30_1445" title="Permanent link">&para;</a></h4>
<p>No worries. Thats why we work together.</p>
<p>Another question: Is the DRLM code on GitHub the "latest" and matches
the<br />
code now in ReaR? I ask because the last DRLM release is 1.0 and from<br />
October and you mentioned that the HTTPS feature is more recent. I
wanted<br />
to take a look at the server side of DRLM.</p>
<p>On 30 January 2015 at 15:08, Didac Oliveira <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
wrote:</p>
<blockquote>
<p>Yes yes, understood. I added it there, just for my local tests and
forgot<br />
to see where to put it on a correct site. On tests I only wanted that
it<br />
works on recovery in a fast way, and I forgot. :P</p>
<p>—<br />
Reply to this email directly or view it on GitHub<br />
<a href="https://github.com/rear/rear/pull/522#issuecomment-72206091">https://github.com/rear/rear/pull/522#issuecomment-72206091</a>.</p>
</blockquote>
<h4 id="didacog_commented_at_2015-01-30_1450"><img src="https://avatars.githubusercontent.com/u/5380209?u=163f1571e6b9c9c7df94e2c6ca152b0a7406b52d&v=4" width="50"><a href="https://github.com/didacog">didacog</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-72212123">2015-01-30 14:50</a>:<a class="headerlink" href="#didacog_commented_at_2015-01-30_1450" title="Permanent link">&para;</a></h4>
<p>To all ReaR team,</p>
<p>On behalf of all DRLM team members, Thank you! for all your support and
suggestions.</p>
<p>Have made it possible that our integration with rear finally looks
pretty well and far better than our first proposal :P</p>
<p>Last month was crazy for us, in the middle of various projects on our
customers, preparing DRLM website, the documentation, our wishes about
integrating with rear 1.17, without sleeping a lot... and finally we got
it! we are very glad! :)</p>
<p>Regarding this issue we'll postpone our work on DRLM 2.0 until we
release 1.1 version with the new HTTP service well handled from drlm. We
expect to have it during February.</p>
<p>As schlomo has seen, DRLM website is online at
<a href="http://drlm.org">http://drlm.org</a> and our initial Docs at
<a href="http://docs.drlm.org">http://docs.drlm.org</a>.</p>
<p>We hope you liked our presentation video.. :D</p>
<p>Kind Regards<br />
DRLM Team</p>
<h4 id="didacog_commented_at_2015-01-30_1456"><img src="https://avatars.githubusercontent.com/u/5380209?u=163f1571e6b9c9c7df94e2c6ca152b0a7406b52d&v=4" width="50"><a href="https://github.com/didacog">didacog</a> commented at <a href="https://github.com/rear/rear/pull/522#issuecomment-72213006">2015-01-30 14:56</a>:<a class="headerlink" href="#didacog_commented_at_2015-01-30_1456" title="Permanent link">&para;</a></h4>
<p>@schlomo we'll update ASAP our docs in order to have proper howto of
manual config of the HTTP service until DRLM 1.1 release on February.</p>
<p>Regards,<br />
Didac</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2014-12-29.522.pr.merged.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
