<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#1766 Issue closed: ERROR: Partition mpath230 is numbered '''230'''. More than 128 partitions is not supported. - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#1766 Issue closed: ERROR: Partition mpath230 is numbered \u0027\u0027\u0027230\u0027\u0027\u0027. More than 128 partitions is not supported.";
        var mkdocs_page_input_path = "issues/2018-04-03.1766.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li class="breadcrumb-item active">#1766 Issue closed: ERROR: Partition mpath230 is numbered '''230'''. More than 128 partitions is not supported.</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1766_issue_closed_error_partition_mpath230_is_numbered_230_more_than_128_partitions_is_not_supported"><a href="https://github.com/rear/rear/issues/1766">#1766 Issue</a> <code>closed</code>: ERROR: Partition mpath230 is numbered '''230'''. More than 128 partitions is not supported.<a class="headerlink" href="#1766_issue_closed_error_partition_mpath230_is_numbered_230_more_than_128_partitions_is_not_supported" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>bug</code>, <code>no-issue-activity</code></p>
<h4 id="badarmontassar_opened_issue_at_2018-04-03_1708"><img src="https://avatars.githubusercontent.com/u/30972941?v=4" width="50"><a href="https://github.com/badarmontassar">badarmontassar</a> opened issue at <a href="https://github.com/rear/rear/issues/1766">2018-04-03 17:08</a>:<a class="headerlink" href="#badarmontassar_opened_issue_at_2018-04-03_1708" title="Permanent link">&para;</a></h4>
<p>Hello,</p>
<p>I'm unable to backup my rhel 5 server with rear ..</p>
<p>here is the error message :</p>
<pre>
Trace 0: /usr/sbin/rear:504 main
Trace 1: /usr/share/rear/lib/mkrescue-workflow.sh:14 WORKFLOW_mkrescue
Trace 2: /usr/share/rear/lib/framework-functions.sh:85 SourceStage
Trace 3: /usr/share/rear/lib/framework-functions.sh:45 Source
Trace 4: /usr/share/rear/layout/save/GNU/Linux/280_multipath_layout.sh:24 source
Trace 5: /usr/share/rear/layout/save/GNU/Linux/200_partition_layout.sh:59 extract_partitions
Trace 6: /usr/share/rear/lib/layout-functions.sh:332 get_partition_number
Trace 7: /usr/share/rear/lib/_input-output-functions.sh:132 StopIfError
+++ echo 'Message: Partition mpath230 is numbered '\''230'\''. More than 128 partitions is not supported.'
Message: Partition mpath230 is numbered '230'. More than 128 partitions is not supported
</pre>

<p>Here is the log with debug mode :</p>
<pre>
277063 ++ partition_name=/dev/mapper/mpath230
277064 ++ partition_name=mapper/mpath230
277065 ++ partition_name=mpath230
277066 +++ get_partition_number mpath230
277067 +++ local partition=mpath230
277068 ++++ echo mpath230
277069 ++++ grep -o -E '[0-9]+$'
277070 +++ local number=230
277071 +++ '[' 230 -gt 0 ']'
277072 +++ StopIfError 'Partition number '\''230'\'' of partition mpath230 is not a valid number.'
277073 +++ ((  0 != 0  ))
277074 +++ ((  230 <= 128  ))
277075 +++ StopIfError 'Partition mpath230 is numbered '\''230'\''. More than 128 partitions is not supported.'
277076 +++ ((  1 != 0  ))
277077 +++ Error 'Partition mpath230 is numbered '\''230'\''. More than 128 partitions is not supported.'
277078 +++ VERBOSE=1
277079 +++ LogPrint 'ERROR: Partition mpath230 is numbered '\''230'\''. More than 128 partitions is not supported.'
277080 +++ Log 'ERROR: Partition mpath230 is numbered '\''230'\''. More than 128 partitions is not supported.'
</pre>

<p>The disk /dev/mapper/mpath230 don't have any partition !!!<br />
Any help please ??</p>
<p>Rear version : Relax-and-Recover 2.00 / Git<br />
Rhel version : 2.6.18-410.el5</p>
<p>Thanks in advance !</p>
<h4 id="jsmeix_commented_at_2018-04-04_0816"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-378519043">2018-04-04 08:16</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-04-04_0816" title="Permanent link">&para;</a></h4>
<p>Usually the "More than 128 partitions is not supported" errror message<br />
and the place where that errors out has a root cause that is at some<br />
earlier place with a differnt reason so that you need to inspect your<br />
whole debug log to find out where things start to go wrong that
finally<br />
leads to that "More than 128 partitions is not supported" errror exit.</p>
<p>Relax-and-Recover 2.00 is relatively old.</p>
<p>Try out if a more current version works better for you, cf.<br />
<a href="http://relax-and-recover.org/download/">http://relax-and-recover.org/download/</a></p>
<p>I would also recommend to try out our current<br />
ReaR upstream GitHub master code as follows:</p>
<p>Basically "git clone" it into a separated directory and then<br />
configure and run ReaR from within that directory like:</p>
<pre>
# git clone https://github.com/rear/rear.git

# mv rear rear.github.master

# cd rear.github.master

# vi etc/rear/local.conf

# usr/sbin/rear -D mkbackup
</pre>

<p>Note the relative paths "etc/rear/" and "usr/sbin/".</p>
<p>I recommend to try out our current ReaR upstream GitHub master code<br />
because that is the only place where we fix bugs - i.e. bugs in older<br />
ReaR versions are not fixed by us (i.e. by ReaR upstream).<br />
Bugs in older ReaR versions that got fixed in current ReaR upstream<br />
GitHub master code might be fixed (if the fix can be backported)<br />
by the Linux distributor wherefrom you got your older ReaR version.</p>
<h4 id="badarmontassar_commented_at_2018-04-04_1307"><img src="https://avatars.githubusercontent.com/u/30972941?v=4" width="50"><a href="https://github.com/badarmontassar">badarmontassar</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-378593308">2018-04-04 13:07</a>:<a class="headerlink" href="#badarmontassar_commented_at_2018-04-04_1307" title="Permanent link">&para;</a></h4>
<p>I found the root cause,<br />
Rear is considering the device /dev/mapper/mpath230 as a partition of
/dev/mapper/mpath23 device !!</p>
<p>I fix it with the following workaround :</p>
<p>In the function
/usr/share/rear/layout/save/GNU/Linux/200_partition_layout.sh, I
change the line :</p>
<pre>
for path in ${device}p[0-9]* ${device}[0-9] ${device}-part* ${device}_part*; do
</pre>

<p>by</p>
<pre>
for path in ${device}p[0-9]* ${device}-part* ${device}_part*; do
</pre>

<h4 id="jsmeix_commented_at_2018-04-04_1321"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-378597354">2018-04-04 13:21</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-04-04_1321" title="Permanent link">&para;</a></h4>
<p>Wow - that helps us a lot!</p>
<p>I.e. your workaround is to remove <code>${device}[0-9]</code>.</p>
<p>According to<br />
<code>git log -p --follow usr/share/rear/layout/save/GNU/Linux/200_partition_layout.sh</code><br />
the <code>${device}[0-9]</code> was added by this commit<br />
<a href="https://github.com/rear/rear/commit/2be0a1410d930422c92622e9a44de79069904506">https://github.com/rear/rear/commit/2be0a1410d930422c92622e9a44de79069904506</a><br />
which belongs to<br />
<a href="https://github.com/rear/rear/pull/875">https://github.com/rear/rear/pull/875</a></p>
<p>@schabrolles<br />
therefore I assign this issue to you.</p>
<p>It seems your change breaks things on RHEL 5.</p>
<h4 id="jsmeix_commented_at_2018-04-04_1325"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-378598695">2018-04-04 13:25</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-04-04_1325" title="Permanent link">&para;</a></h4>
<p>@badarmontassar<br />
FYI:<br />
It seems the multipath related device naming is a horrible mess<br />
where each Linux distribution and each distribution version<br />
does it different so that what works here breaks there, cf.<br />
<a href="https://github.com/rear/rear/pull/1765">https://github.com/rear/rear/pull/1765</a></p>
<h4 id="jsmeix_commented_at_2018-04-04_1337"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-378602550">2018-04-04 13:37</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-04-04_1337" title="Permanent link">&para;</a></h4>
<p>@schabrolles<br />
on a first glance it seems only a trailing '*' in <code>${device}[0-9]</code> is
missing<br />
(i.e. as in the other bash globbing patterns in that line)<br />
to make it also match things like /dev/mapper/mpath230<br />
because without a trailing '*' in <code>${device}[0-9]</code> I get</p>
<pre>
 ( shopt -s nullglob extglob ; device="/tmp/foo" ; touch ${device}p1234 ; touch ${device}1234 ; touch ${device}-part1234 ; touch ${device}_part1234 ; for path in ${device}p[0-9]* ${device}[0-9] ${device}-part* ${device}_part*; do echo $path ; done )
/tmp/foop1234
/tmp/foo-part1234
/tmp/foo_part1234
</pre>

<p>i.e. <code>/tmp/foo1234</code> is missing<br />
versus with a trailing '*' in <code>${device}[0-9]*</code> I get</p>
<pre>
( shopt -s nullglob extglob ; device="/tmp/foo" ; touch ${device}p1234 ; touch ${device}1234 ; touch ${device}-part1234 ; touch ${device}_part1234 ; for path in ${device}p[0-9]* ${device}[0-9]* ${device}-part* ${device}_part*; do echo $path ; done )
/tmp/foop1234
/tmp/foo1234
/tmp/foo-part1234
/tmp/foo_part1234
</pre>

<h4 id="jsmeix_commented_at_2018-04-04_1423"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-378617725">2018-04-04 14:23</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-04-04_1423" title="Permanent link">&para;</a></h4>
<p>@badarmontassar<br />
a question (I am not a RHEL user - in particular not a RHEL 5 user):<br />
Do you really have a device node named <code>/dev/mapper/mpath230</code><br />
or is it actually something like <code>/dev/mapper/mpatha230</code> or
<code>/dev/mapper/mpathb230</code><br />
(i.e. with a letter <code>a</code> or <code>b</code> after <code>mpath</code> and before the number)?</p>
<h4 id="badarmontassar_commented_at_2018-04-04_1433"><img src="https://avatars.githubusercontent.com/u/30972941?v=4" width="50"><a href="https://github.com/badarmontassar">badarmontassar</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-378621356">2018-04-04 14:33</a>:<a class="headerlink" href="#badarmontassar_commented_at_2018-04-04_1433" title="Permanent link">&para;</a></h4>
<p>@jsmeix : yes i have a device /dev/mapper/mpath230</p>
<pre>
# ls -lrt /dev/mapper/mpath230
brw-rw---- 1 root disk 253, 147 Nov 11 13:40 /dev/mapper/mpath230
</pre>

<h4 id="jsmeix_commented_at_2018-04-05_1328"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-378935739">2018-04-05 13:28</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-04-05_1328" title="Permanent link">&para;</a></h4>
<p>@badarmontassar<br />
I am not at all a multipath user so that my above<br />
<a href="https://github.com/rear/rear/issues/1766#issuecomment-378602550">https://github.com/rear/rear/issues/1766#issuecomment-378602550</a><br />
is only a blind guess - nevertheless if you like you may try out<br />
and report here if it also works for you when you have in<br />
usr/share/rear/layout/save/GNU/Linux/200_partition_layout.sh<br />
that line as follows:</p>
<pre>
for path in ${device}p[0-9]* ${device}[0-9]* ${device}-part* ${device}_part*; do
</pre>

<p>i.e. using <code>${device}[0-9]*</code> with a trailing <code>*</code> as in the other<br />
bash globbing patterns in that line.</p>
<h4 id="badarmontassar_commented_at_2018-04-05_1401"><img src="https://avatars.githubusercontent.com/u/30972941?v=4" width="50"><a href="https://github.com/badarmontassar">badarmontassar</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-378946795">2018-04-05 14:01</a>:<a class="headerlink" href="#badarmontassar_commented_at_2018-04-05_1401" title="Permanent link">&para;</a></h4>
<p>@jsmeix,<br />
It will not work, I get the problem when rear is looking for mpath23
device partitions with the for loop,<br />
If i add ${device}p[0-9]* , the device mpath230 will be in the list
of mpath23 device partitions.</p>
<pre>
# device="/tmp/mpath23"; touch ${device}p230 ; touch ${device}0; touch ${device}-part230
#  for path in ${device}p[0-9]* ${device}[0-9]* ${device}-part* ; do echo $path ; done
/tmp/mpath23p230
/tmp/mpath230
/tmp/mpath23-part230
</pre>

<h4 id="jsmeix_commented_at_2018-04-05_1409"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-378949224">2018-04-05 14:09</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-04-05_1409" title="Permanent link">&para;</a></h4>
<p>O.k. I will leave this issue to @schabrolles<br />
because he knows at least 100 times more about multipath than I do.</p>
<h4 id="schabrolles_commented_at_2018-04-07_1813"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-379488705">2018-04-07 18:13</a>:<a class="headerlink" href="#schabrolles_commented_at_2018-04-07_1813" title="Permanent link">&para;</a></h4>
<p>@jsmeix<br />
I think I find a better way to get the multipath partition device
name... (at least on rhel7). I need more time and testing to check if it
works for other distro and version.</p>
<p>@badarmontassar,<br />
I don't have a rhel5 , so it is a bit difficult for me to validate if it
will work for you.</p>
<p>Could you please send me the output of the following commands:</p>
<pre><code>[root@rear-rhel-142 /]# ls -l /dev/mapper/
total 0
lrwxrwxrwx 1 root root       7 Apr  7 19:58 3600507680c82004cf8000000000000d8 -&gt; ../dm-0
lrwxrwxrwx 1 root root       7 Apr  7 18:47 3600507680c82004cf8000000000000d8p1 -&gt; ../dm-1
lrwxrwxrwx 1 root root       7 Apr  7 18:47 3600507680c82004cf8000000000000d8p2 -&gt; ../dm-2
lrwxrwxrwx 1 root root       7 Apr  7 18:47 3600507680c82004cf8000000000000d8p3 -&gt; ../dm-3
crw------- 1 root root 10, 236 Apr  7 18:37 control
lrwxrwxrwx 1 root root       7 Apr  7 18:47 rhel_rhel73-root -&gt; ../dm-4
lrwxrwxrwx 1 root root       7 Apr  7 18:47 rhel_rhel73-swap -&gt; ../dm-5
</code></pre>
<p>On my system, <code>/dev/dm-0</code> is a real disk with partitions</p>
<pre><code>[root@rear-rhel-142 /]# ls -l /sys/block/dm-0/holders
total 0
lrwxrwxrwx 1 root root 0 Apr  7 18:47 dm-1 -&gt; ../../dm-1
lrwxrwxrwx 1 root root 0 Apr  7 18:47 dm-2 -&gt; ../../dm-2
lrwxrwxrwx 1 root root 0 Apr  7 18:47 dm-3 -&gt; ../../dm-3
</code></pre>
<p><code>ls -l /sys/block/dm-0/holders</code> lists the devices that are partition of
the current device <code>dm-0</code>.</p>
<p>I would need you to do the ame on your rhel5 with a multipath device
that have partitions (if you have some.)</p>
<h4 id="badarmontassar_commented_at_2018-04-12_0658"><img src="https://avatars.githubusercontent.com/u/30972941?v=4" width="50"><a href="https://github.com/badarmontassar">badarmontassar</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-380698926">2018-04-12 06:58</a>:<a class="headerlink" href="#badarmontassar_commented_at_2018-04-12_0658" title="Permanent link">&para;</a></h4>
<p>[<br />
<a href="https://github.com/rear/rear/files/1901664/multipath.txt">multipath.txt</a><br />
](url)<br />
@schabrolles<br />
You find attached the output of needed command.<br />
Sorry I don't have a multipath device with partitions.</p>
<h4 id="schabrolles_commented_at_2018-04-12_0845"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-380726144">2018-04-12 08:45</a>:<a class="headerlink" href="#schabrolles_commented_at_2018-04-12_0845" title="Permanent link">&para;</a></h4>
<p>@badarmontassar</p>
<p>If you have <code>sosreport</code>command, could you please run it and send me the
tar file. It will gather some information from your system. I will then
being able to have a look at it to see if there is diffenrence between
your rhel5 and the rhel6 or 7 I use.</p>
<ul>
<li>I typically need to understand how rhel5 is managing multi path
    device (it seems that it does not use dm device but create directly
    /dev/mapper/mpathXXX as block device.)</li>
<li>I need to have a full view of your /sys filesystem .... I could be
    able to check how the information about block device are stored by
    your rhel5.</li>
</ul>
<h4 id="schabrolles_commented_at_2018-04-16_0821"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-381518715">2018-04-16 08:21</a>:<a class="headerlink" href="#schabrolles_commented_at_2018-04-16_0821" title="Permanent link">&para;</a></h4>
<p>@badarmontassar,</p>
<p>If you can't send me <code>sosreport</code> outpout, could you please tell me if a
a directory named <code>holders</code> exists in <code>/sys/block/mapthX</code> or in
<code>/sys/block/dm-X</code></p>
<p>thanks</p>
<h4 id="badarmontassar_commented_at_2018-04-18_1037"><img src="https://avatars.githubusercontent.com/u/30972941?v=4" width="50"><a href="https://github.com/badarmontassar">badarmontassar</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-382343409">2018-04-18 10:37</a>:<a class="headerlink" href="#badarmontassar_commented_at_2018-04-18_1037" title="Permanent link">&para;</a></h4>
<p>@schabrolles : sorry for the delay<br />
sorry, I can't send you an sosreport. Below the output of needed
commands :</p>
<p><a href="https://github.com/rear/rear/files/1923570/dm.txt">dm.txt</a></p>
<pre><code># ls -ltr /sys/block/mpath*
ls: /sys/block/mpath*: No such file or directory
</code></pre>
<p>Regards,</p>
<h4 id="schabrolles_commented_at_2018-04-19_1121"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-382699667">2018-04-19 11:21</a>:<a class="headerlink" href="#schabrolles_commented_at_2018-04-19_1121" title="Permanent link">&para;</a></h4>
<p>Ok, I can see you also have <code>holders</code> directory on your
<code>/sys/block/dm-X</code> tree.</p>
<p>Could you try this version and tell me if it solves your issue.</p>
<pre><code>git clone https://github.com/schabrolles/rear -b issue_1766
cd rear
make install
</code></pre>
<p>if yes, I will propose it to the team via Pull request.</p>
<h4 id="badarmontassar_commented_at_2018-04-25_1428"><img src="https://avatars.githubusercontent.com/u/30972941?v=4" width="50"><a href="https://github.com/badarmontassar">badarmontassar</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-384306901">2018-04-25 14:28</a>:<a class="headerlink" href="#badarmontassar_commented_at_2018-04-25_1428" title="Permanent link">&para;</a></h4>
<p>@schabrolles : with the new version i got another issue with a logical
volume</p>
<pre><code>Relax-and-Recover 2.00 / Git
...
Using backup archive 'backup.tar.gz'
Creating disk layout
ERROR: Partition number '00' of partition treflArchVG-treflArchLV00 is not a valid number.
... 
# ls -ltr /dev/mapper/
brw-rw---- 1 root disk 253,  11 Nov 11 13:40 mpath20
brw-rw---- 1 root disk 253,  12 Nov 11 13:40 mpath22
brw-rw---- 1 root disk 253,  13 Nov 11 13:40 mpath21
brw-rw---- 1 root disk 253,  14 Nov 11 13:40 mpath23
brw-rw---- 1 root disk 253,  16 Nov 11 13:40 mpath25
brw-rw---- 1 root disk 253,  15 Nov 11 13:40 mpath24
brw-rw---- 1 root disk 253,  17 Nov 11 13:40 mpath26
brw-rw---- 1 root disk 253,  18 Nov 11 13:40 mpath27
brw-rw---- 1 root disk 253,  19 Nov 11 13:40 mpath28
brw-rw---- 1 root disk 253,  20 Nov 11 13:40 mpath29
brw-rw---- 1 root disk 253,  21 Nov 11 13:40 mpath0
brw-rw---- 1 root disk 253,  22 Nov 11 13:40 mpath2
brw-rw---- 1 root disk 253,  23 Nov 11 13:40 mpath1
brw-rw---- 1 root disk 253,  24 Nov 11 13:40 mpath3
brw-rw---- 1 root disk 253,  25 Nov 11 13:40 mpath4
brw-rw---- 1 root disk 253,  26 Nov 11 13:40 mpath177
brw-rw---- 1 root disk 253,  27 Nov 11 13:40 mpath5
brw-rw---- 1 root disk 253,  28 Nov 11 13:40 mpath6
brw-rw---- 1 root disk 253,  29 Nov 11 13:40 mpath7
brw-rw---- 1 root disk 253,  30 Nov 11 13:40 mpath8
brw-rw---- 1 root disk 253,  31 Nov 11 13:40 mpath9
brw-rw---- 1 root disk 253,  32 Nov 11 13:40 mpath10
brw-rw---- 1 root disk 253,  33 Nov 11 13:40 mpath11
brw-rw---- 1 root disk 253,  34 Nov 11 13:40 mpath14
brw-rw---- 1 root disk 253,  35 Nov 11 13:40 mpath16
brw-rw---- 1 root disk 253,  36 Nov 11 13:40 mpath17
brw-rw---- 1 root disk 253,  37 Nov 11 13:40 mpath18
brw-rw---- 1 root disk 253,  38 Nov 11 13:40 mpath31
brw-rw---- 1 root disk 253,  39 Nov 11 13:40 mpath32
brw-rw---- 1 root disk 253,  40 Nov 11 13:40 mpath178
brw-rw---- 1 root disk 253,  41 Nov 11 13:40 mpath33
brw-rw---- 1 root disk 253,  42 Nov 11 13:40 mpath34
brw-rw---- 1 root disk 253,  43 Nov 11 13:40 mpath35
brw-rw---- 1 root disk 253,  44 Nov 11 13:40 mpath36
brw-rw---- 1 root disk 253,  45 Nov 11 13:40 mpath37
brw-rw---- 1 root disk 253,  46 Nov 11 13:40 mpath38
brw-rw---- 1 root disk 253,  47 Nov 11 13:40 mpath39
brw-rw---- 1 root disk 253,  48 Nov 11 13:40 mpath40
brw-rw---- 1 root disk 253,  49 Nov 11 13:40 mpath41
brw-rw---- 1 root disk 253,  50 Nov 11 13:40 mpath42
brw-rw---- 1 root disk 253,  51 Nov 11 13:40 mpath43
brw-rw---- 1 root disk 253,  52 Nov 11 13:40 mpath44
brw-rw---- 1 root disk 253,  53 Nov 11 13:40 mpath45
brw-rw---- 1 root disk 253,  54 Nov 11 13:40 mpath179
brw-rw---- 1 root disk 253,  55 Nov 11 13:40 mpath46
brw-rw---- 1 root disk 253,  56 Nov 11 13:40 mpath47
brw-rw---- 1 root disk 253,  57 Nov 11 13:40 mpath48
brw-rw---- 1 root disk 253,  58 Nov 11 13:40 mpath49
brw-rw---- 1 root disk 253,  59 Nov 11 13:40 mpath50
brw-rw---- 1 root disk 253,  60 Nov 11 13:40 mpath51
brw-rw---- 1 root disk 253,  61 Nov 11 13:40 mpath52
brw-rw---- 1 root disk 253,  62 Nov 11 13:40 mpath53
brw-rw---- 1 root disk 253,  63 Nov 11 13:40 mpath54
brw-rw---- 1 root disk 253,  64 Nov 11 13:40 mpath143
brw-rw---- 1 root disk 253,  65 Nov 11 13:40 mpath144
brw-rw---- 1 root disk 253,  66 Nov 11 13:40 mpath145
brw-rw---- 1 root disk 253,  67 Nov 11 13:40 mpath146
brw-rw---- 1 root disk 253,  68 Nov 11 13:40 mpath180
brw-rw---- 1 root disk 253,  69 Nov 11 13:40 mpath147
brw-rw---- 1 root disk 253,  70 Nov 11 13:40 mpath148
brw-rw---- 1 root disk 253,  71 Nov 11 13:40 mpath149
brw-rw---- 1 root disk 253,  72 Nov 11 13:40 mpath150
brw-rw---- 1 root disk 253,  73 Nov 11 13:40 mpath151
brw-rw---- 1 root disk 253,  74 Nov 11 13:40 mpath152
brw-rw---- 1 root disk 253,  75 Nov 11 13:40 mpath153
brw-rw---- 1 root disk 253,  76 Nov 11 13:40 mpath154
brw-rw---- 1 root disk 253,  77 Nov 11 13:40 mpath155
brw-rw---- 1 root disk 253,  78 Nov 11 13:40 mpath156
brw-rw---- 1 root disk 253,  79 Nov 11 13:40 mpath157
brw-rw---- 1 root disk 253,  81 Nov 11 13:40 mpath159
brw-rw---- 1 root disk 253,  80 Nov 11 13:40 mpath158
brw-rw---- 1 root disk 253,  82 Nov 11 13:40 mpath181
brw-rw---- 1 root disk 253,  83 Nov 11 13:40 mpath160
brw-rw---- 1 root disk 253,  84 Nov 11 13:40 mpath161
brw-rw---- 1 root disk 253,  85 Nov 11 13:40 mpath162
brw-rw---- 1 root disk 253,  86 Nov 11 13:40 mpath163
brw-rw---- 1 root disk 253,  87 Nov 11 13:40 mpath164
brw-rw---- 1 root disk 253,  88 Nov 11 13:40 mpath165
brw-rw---- 1 root disk 253,  89 Nov 11 13:40 mpath166
brw-rw---- 1 root disk 253,  90 Nov 11 13:40 mpath167
brw-rw---- 1 root disk 253,  91 Nov 11 13:40 mpath168
brw-rw---- 1 root disk 253,  92 Nov 11 13:40 mpath169
brw-rw---- 1 root disk 253,  93 Nov 11 13:40 mpath170
brw-rw---- 1 root disk 253,  94 Nov 11 13:40 mpath171
brw-rw---- 1 root disk 253,  95 Nov 11 13:40 mpath172
brw-rw---- 1 root disk 253,  96 Nov 11 13:40 mpath182
brw-rw---- 1 root disk 253,  97 Nov 11 13:40 mpath176
brw-rw---- 1 root disk 253,  98 Nov 11 13:40 mpath173
brw-rw---- 1 root disk 253,  99 Nov 11 13:40 mpath174
brw-rw---- 1 root disk 253, 100 Nov 11 13:40 mpath175
brw-rw---- 1 root disk 253, 101 Nov 11 13:40 mpath187
brw-rw---- 1 root disk 253, 102 Nov 11 13:40 mpath188
brw-rw---- 1 root disk 253, 103 Nov 11 13:40 mpath189
brw-rw---- 1 root disk 253, 104 Nov 11 13:40 mpath190
brw-rw---- 1 root disk 253, 105 Nov 11 13:40 mpath191
brw-rw---- 1 root disk 253, 106 Nov 11 13:40 mpath192
brw-rw---- 1 root disk 253, 107 Nov 11 13:40 mpath193
brw-rw---- 1 root disk 253, 108 Nov 11 13:40 mpath194
brw-rw---- 1 root disk 253, 109 Nov 11 13:40 mpath195
brw-rw---- 1 root disk 253, 110 Nov 11 13:40 mpath183
brw-rw---- 1 root disk 253, 111 Nov 11 13:40 mpath196
brw-rw---- 1 root disk 253, 112 Nov 11 13:40 mpath197
brw-rw---- 1 root disk 253, 113 Nov 11 13:40 mpath198
brw-rw---- 1 root disk 253, 114 Nov 11 13:40 mpath199
brw-rw---- 1 root disk 253, 115 Nov 11 13:40 mpath200
brw-rw---- 1 root disk 253, 116 Nov 11 13:40 mpath201
brw-rw---- 1 root disk 253, 117 Nov 11 13:40 mpath202
brw-rw---- 1 root disk 253, 118 Nov 11 13:40 mpath203
brw-rw---- 1 root disk 253, 119 Nov 11 13:40 mpath204
brw-rw---- 1 root disk 253, 120 Nov 11 13:40 mpath205
brw-rw---- 1 root disk 253, 121 Nov 11 13:40 mpath206
brw-rw---- 1 root disk 253, 122 Nov 11 13:40 mpath207
brw-rw---- 1 root disk 253, 123 Nov 11 13:40 mpath208
brw-rw---- 1 root disk 253, 124 Nov 11 13:40 mpath184
brw-rw---- 1 root disk 253, 125 Nov 11 13:40 mpath209
brw-rw---- 1 root disk 253, 126 Nov 11 13:40 mpath210
brw-rw---- 1 root disk 253, 127 Nov 11 13:40 mpath211
brw-rw---- 1 root disk 253, 128 Nov 11 13:40 mpath212
brw-rw---- 1 root disk 253, 129 Nov 11 13:40 mpath213
brw-rw---- 1 root disk 253, 130 Nov 11 13:40 mpath214
brw-rw---- 1 root disk 253, 131 Nov 11 13:40 mpath215
brw-rw---- 1 root disk 253, 132 Nov 11 13:40 mpath216
brw-rw---- 1 root disk 253, 133 Nov 11 13:40 mpath217
brw-rw---- 1 root disk 253, 134 Nov 11 13:40 mpath218
brw-rw---- 1 root disk 253, 135 Nov 11 13:40 mpath219
brw-rw---- 1 root disk 253, 136 Nov 11 13:40 mpath220
brw-rw---- 1 root disk 253, 137 Nov 11 13:40 mpath185
brw-rw---- 1 root disk 253, 138 Nov 11 13:40 mpath221
brw-rw---- 1 root disk 253, 139 Nov 11 13:40 mpath222
brw-rw---- 1 root disk 253, 140 Nov 11 13:40 mpath223
brw-rw---- 1 root disk 253, 141 Nov 11 13:40 mpath224
brw-rw---- 1 root disk 253, 142 Nov 11 13:40 mpath225
brw-rw---- 1 root disk 253, 143 Nov 11 13:40 mpath226
brw-rw---- 1 root disk 253, 144 Nov 11 13:40 mpath227
brw-rw---- 1 root disk 253, 145 Nov 11 13:40 mpath228
brw-rw---- 1 root disk 253, 146 Nov 11 13:40 mpath229
brw-rw---- 1 root disk 253, 147 Nov 11 13:40 mpath230
brw-rw---- 1 root disk 253, 148 Nov 11 13:40 mpath231
brw-rw---- 1 root disk 253, 149 Nov 11 13:40 mpath232
brw-rw---- 1 root disk 253, 150 Nov 11 13:40 mpath233
brw-rw---- 1 root disk 253, 151 Nov 11 13:40 mpath243
brw-rw---- 1 root disk 253, 152 Nov 11 13:40 mpath186
brw-rw---- 1 root disk 253, 153 Nov 11 13:40 mpath234
brw-rw---- 1 root disk 253, 154 Nov 11 13:40 mpath244
brw-rw---- 1 root disk 253, 155 Nov 11 13:40 mpath235
brw-rw---- 1 root disk 253, 156 Nov 11 13:40 mpath236
brw-rw---- 1 root disk 253, 157 Nov 11 13:40 mpath237
brw-rw---- 1 root disk 253, 158 Nov 11 13:40 mpath238
brw-rw---- 1 root disk 253, 159 Nov 11 13:40 mpath239
brw-rw---- 1 root disk 253, 160 Nov 11 13:40 mpath240
brw-rw---- 1 root disk 253, 161 Nov 11 13:40 mpath241
brw-rw---- 1 root disk 253, 162 Nov 11 13:40 mpath242
brw-rw---- 1 root disk 253, 163 Nov 11 13:40 mpath12
brw-rw---- 1 root disk 253, 165 Nov 11 13:40 mpath15
brw-rw---- 1 root disk 253, 166 Nov 11 13:40 mpath19
...
...
brw-rw---- 1 root disk 253, 171 Nov 11 13:40 treflArchVG-treflArchLV00
...
crw------- 1 root root  10,  60 Nov 11 14:40 control
brw-rw---- 1 root disk 253, 164 Mar 16 12:55 mpath13
</code></pre>
<h4 id="schabrolles_commented_at_2018-04-25_1444"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-384313211">2018-04-25 14:44</a>:<a class="headerlink" href="#schabrolles_commented_at_2018-04-25_1444" title="Permanent link">&para;</a></h4>
<p>@badarmontassar <code>Relax-and-Recover 2.00 / Git</code> looks strange... should
be 2.3<br />
You should remove the old rear version before installing the new one...
(remove everything under /usr/share/rear and /var/lib/rear)</p>
<h4 id="badarmontassar_commented_at_2018-04-25_1524"><img src="https://avatars.githubusercontent.com/u/30972941?v=4" width="50"><a href="https://github.com/badarmontassar">badarmontassar</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-384327478">2018-04-25 15:24</a>:<a class="headerlink" href="#badarmontassar_commented_at_2018-04-25_1524" title="Permanent link">&para;</a></h4>
<p>@schabrolles<br />
Is possible to get the new version in an rpm format ?</p>
<h4 id="schabrolles_commented_at_2018-04-25_1528"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-384328904">2018-04-25 15:28</a>:<a class="headerlink" href="#schabrolles_commented_at_2018-04-25_1528" title="Permanent link">&para;</a></h4>
<p>What is your architecture ? x86_64 ?</p>
<h4 id="badarmontassar_commented_at_2018-04-25_1546"><img src="https://avatars.githubusercontent.com/u/30972941?v=4" width="50"><a href="https://github.com/badarmontassar">badarmontassar</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-384335431">2018-04-25 15:46</a>:<a class="headerlink" href="#badarmontassar_commented_at_2018-04-25_1546" title="Permanent link">&para;</a></h4>
<pre><code># uname -a
Linux 2.6.18-410.el5 #1 SMP Fri Apr 8 05:48:52 EDT 2016 x86_64 x86_64 x86_64 GNU/Linux
</code></pre>
<h4 id="schabrolles_commented_at_2018-04-25_1554"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-384338069">2018-04-25 15:54</a>:<a class="headerlink" href="#schabrolles_commented_at_2018-04-25_1554" title="Permanent link">&para;</a></h4>
<p>Here it is<br />
<a href="https://github.com/rear/rear/files/1947819/rear-2.3-1.git.2941.c635fd9d.issue1766.fc27.x86_64.zip">rear-2.3-1.git.2941.c635fd9d.issue1766.fc27.x86_64.zip</a></p>
<h4 id="badarmontassar_commented_at_2018-05-03_1338"><img src="https://avatars.githubusercontent.com/u/30972941?v=4" width="50"><a href="https://github.com/badarmontassar">badarmontassar</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-386298306">2018-05-03 13:38</a>:<a class="headerlink" href="#badarmontassar_commented_at_2018-05-03_1338" title="Permanent link">&para;</a></h4>
<p>I couldn't install the rpm due a dependency with the package genisoimage
which is not available on rhel5.<br />
In rear 2.0 for rhel 5 has a dependency with mkisofs not genisoimage.<br />
Could you please send me an rpm for rhel5 ?</p>
<h4 id="jsmeix_commented_at_2018-05-03_1406"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-386307330">2018-05-03 14:06</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-05-03_1406" title="Permanent link">&para;</a></h4>
<p>@badarmontassar<br />
what is your problem with using our current ReaR upstream<br />
GitHub master code directly as I described in<br />
<a href="https://github.com/rear/rear/issues/1766#issuecomment-378519043">https://github.com/rear/rear/issues/1766#issuecomment-378519043</a></p>
<p>I mean let us make specific RPMs for your specific system somewhat
exceeds<br />
what we usually do as free (often voluntary) support by ReaR upstream.<br />
This support here by ReaR upstream is not any kind of official support<br />
for your particular Linux distribution or any kind of enterprise suport
for<br />
business customers that you could usually get directly from your
particular<br />
vendor of you particular enterprise Linux distribution.<br />
This support here by ReaR upstream is basically meant as a cooperation<br />
between ReaR users and the ReaR upstream authors where the primary<br />
intent is to further develop ReaR but not to provide professional
support.<br />
Regarding professional support you may also have a look at<br />
<a href="http://relax-and-recover.org/support/">http://relax-and-recover.org/support/</a></p>
<h4 id="schabrolles_commented_at_2018-05-03_1506"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-386328102">2018-05-03 15:06</a>:<a class="headerlink" href="#schabrolles_commented_at_2018-05-03_1506" title="Permanent link">&para;</a></h4>
<p>@badarmontassar,<br />
Unfortunately, I don't have any rhel5 to build your rpm.<br />
As @jsmeix suggest, you can use the git master branch to get the code.<br />
if you prefer using rpm, here is the procedure to build the rpm from the
source code.</p>
<pre><code>git clone https://github.com/schabrolles/rear -b issue_1766
cd rear
make rpm
</code></pre>
<p>the rpm created should be in <code>dists</code> directory.</p>
<h4 id="badarmontassar_commented_at_2018-05-03_1521"><img src="https://avatars.githubusercontent.com/u/30972941?v=4" width="50"><a href="https://github.com/badarmontassar">badarmontassar</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-386333185">2018-05-03 15:21</a>:<a class="headerlink" href="#badarmontassar_commented_at_2018-05-03_1521" title="Permanent link">&para;</a></h4>
<p>@schabrolles<br />
A small question : the code on the master branch is valid for any
version for rhel ?<br />
Thanks in advance !</p>
<h4 id="schabrolles_commented_at_2018-05-03_1542"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-386340110">2018-05-03 15:42</a>:<a class="headerlink" href="#schabrolles_commented_at_2018-05-03_1542" title="Permanent link">&para;</a></h4>
<p>@badarmontassar,</p>
<p>The patch I propose is only located in my private github repo
<a href="https://github.com/schabrolles/rear">https://github.com/schabrolles/rear</a>
because I cannot verify if it works on rhel5. If you can test it and
confirm it works I will push it in the official rear repo.</p>
<p>I can't confirm if it will work for rhel 5.</p>
<h4 id="schabrolles_commented_at_2018-05-09_1447"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-387764413">2018-05-09 14:47</a>:<a class="headerlink" href="#schabrolles_commented_at_2018-05-09_1447" title="Permanent link">&para;</a></h4>
<p>@badarmontassar<br />
Just a quick question. Did you use <strong>Storix Software</strong> on this server
before switching to rear?</p>
<h4 id="badarmontassar_commented_at_2018-05-09_1451"><img src="https://avatars.githubusercontent.com/u/30972941?v=4" width="50"><a href="https://github.com/badarmontassar">badarmontassar</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-387765639">2018-05-09 14:51</a>:<a class="headerlink" href="#badarmontassar_commented_at_2018-05-09_1451" title="Permanent link">&para;</a></h4>
<p>@schabrolles<br />
No, i didn't use Storix Software.</p>
<h4 id="gdha_commented_at_2018-05-30_0814"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-393071673">2018-05-30 08:14</a>:<a class="headerlink" href="#gdha_commented_at_2018-05-30_0814" title="Permanent link">&para;</a></h4>
<p>@badarmontassar @schabrolles How far are we with testing this PR of
Sebastien? Do you still want this in ReaR 2.4 or can it wait for 2.5?</p>
<h4 id="schabrolles_commented_at_2018-05-30_0847"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-393081491">2018-05-30 08:47</a>:<a class="headerlink" href="#schabrolles_commented_at_2018-05-30_0847" title="Permanent link">&para;</a></h4>
<p>@gdha it is more an issue here than a PR. All the PR related to this
issue are already merged into master brnach because they solved other
issues.<br />
The main problem here is how a RHEL5 is managing and create multipath
devices. : create a real /dev/mpath#devicenumber#part_number.<br />
Because of that it is difficult to know if /dev/mpath231 is a device or
the first partition of device /dev/mpath23 ...</p>
<p>As I don't have a rhel5, it will be hard to quickly find a solution for
that issue. (postpone to 2.5)</p>
<h4 id="gdha_commented_at_2019-03-27_1734"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-477270751">2019-03-27 17:34</a>:<a class="headerlink" href="#gdha_commented_at_2019-03-27_1734" title="Permanent link">&para;</a></h4>
<p>@schabrolles what shall we do with this issue? Close it for now?</p>
<h4 id="gdha_commented_at_2019-04-17_1011"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-484023145">2019-04-17 10:11</a>:<a class="headerlink" href="#gdha_commented_at_2019-04-17_1011" title="Permanent link">&para;</a></h4>
<p>@schabrolles Are we OK to post-pone this issue to rear-2.6?</p>
<h4 id="schabrolles_commented_at_2019-04-17_1210"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-484056587">2019-04-17 12:10</a>:<a class="headerlink" href="#schabrolles_commented_at_2019-04-17_1210" title="Permanent link">&para;</a></h4>
<p>@gdha,<br />
I'm Ok as I don't have time to look at it... it is also a problem
related to rhel5 (there is no problem with rhel6 and above).</p>
<h4 id="gdha_commented_at_2019-04-17_1319"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-484086353">2019-04-17 13:19</a>:<a class="headerlink" href="#gdha_commented_at_2019-04-17_1319" title="Permanent link">&para;</a></h4>
<p>moved the milestone from 2.5 to 2.6</p>
<h4 id="jsmeix_commented_at_2019-04-23_1257"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-485791331">2019-04-23 12:57</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-04-23_1257" title="Permanent link">&para;</a></h4>
<p>@schabrolles<br />
only FYI an offhanded idea that there might be a general problem with
the<br />
extract_partitions() function in
layout/save/GNU/Linux/200_partition_layout.sh</p>
<p>We had a similar kind of issue<br />
<a href="https://github.com/rear/rear/issues/2087">https://github.com/rear/rear/issues/2087</a><br />
where the extract_partitions() function failed to determine<br />
partitions correctly, see in particular my conclusion in<br />
<a href="https://github.com/rear/rear/issues/2087#issuecomment-477551079">https://github.com/rear/rear/issues/2087#issuecomment-477551079</a></p>
<p>My basic idea is to let <code>lsblk</code> determine what <code>TYPE</code> a block device
is<br />
instead of our current block device name pattern matching attempts,
cf.<br />
<a href="https://github.com/rear/rear/issues/2087#issuecomment-480173977">https://github.com/rear/rear/issues/2087#issuecomment-480173977</a></p>
<p>According to the initial description<br />
<a href="https://github.com/rear/rear/issues/1766#issue-310921361">https://github.com/rear/rear/issues/1766#issue-310921361</a></p>
<pre><code>... +++ get_partition_number mpath230

The disk /dev/mapper/mpath230 don't have any partition
</code></pre>
<p>also in this case here the extract_partitions() function wrongly<br />
recognized the <code>disk</code> type block device /dev/mapper/mpath230<br />
as if it was a <code>part</code> type block device.</p>
<p>@badarmontassar<br />
to see whether or not the <code>lsblk</code> output could also be used in your
case<br />
I would like that you provide us with the full output of a command like</p>
<pre><code>lsblk -ipo NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,SIZE,MOUNTPOINT
</code></pre>
<p>Because you have RHEL 5 which is rather old, its 'lsblk' command<br />
may not support all those columns that I specified above so that<br />
you may have to use a bit different <code>lsblk</code> command, e.g. call<br />
<code>lsblk --help</code> to see the available options and columns.</p>
<p>I do not run RHEL but on my SLES11 system that is also rather old<br />
<code>lsblk --help</code> shows neither
<code>PKNAME  internal parent kernel device name</code><br />
nor <code>TYPE  device type</code> so that on SLES11 the <code>lsblk</code> output is
useless<br />
to determine what <code>TYPE</code> a block device is.</p>
<p>Perhaps on RHEL 5 the <code>lsblk</code> output can be used<br />
to determine what <code>TYPE</code> a block device is?</p>
<h4 id="schabrolles_commented_at_2019-04-23_1529"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-485853729">2019-04-23 15:29</a>:<a class="headerlink" href="#schabrolles_commented_at_2019-04-23_1529" title="Permanent link">&para;</a></h4>
<p>@jsmeix<br />
I really like <code>lsblk</code> ... It can realy be useful to use it for rear...<br />
My only problem is that it is not included in the older distro like
rhel5.</p>
<p>Here is an extract from redhat website:
<a href="https://access.redhat.com/solutions/2063833">https://access.redhat.com/solutions/2063833</a></p>
<pre><code>The lsblk command is provided by the util-linux package which is not available on RHEL 5 through the Red Hat repositories.
</code></pre>
<h4 id="jsmeix_commented_at_2019-04-24_1018"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-486163585">2019-04-24 10:18</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-04-24_1018" title="Permanent link">&para;</a></h4>
<p>So using <code>lsblk</code> to determine what <code>TYPE</code> a block device is<br />
is for ReaR 3.0 via
<a href="https://github.com/rear/rear/issues/1390">https://github.com/rear/rear/issues/1390</a><br />
where we can drop support for too old Linux distributions.</p>
<p>For this specific issue here the user's system-specific workaround<br />
<a href="https://github.com/rear/rear/issues/1766#issuecomment-378593308">https://github.com/rear/rear/issues/1766#issuecomment-378593308</a><br />
is probably the most reasonable way in current ReaR because<br />
ReaR is meant to be adapted or extended by the admin<br />
to make things work for specific cases.</p>
<p>By the way:<br />
This is the ultimate reason why ReaR is written entirely in the<br />
native language for system administration: as bash scripts, cf.<br />
"Disaster recovery with Relax-and-Recover (ReaR)" in<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<h4 id="jsmeix_commented_at_2019-04-26_0952"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-487000205">2019-04-26 09:52</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-04-26_0952" title="Permanent link">&para;</a></h4>
<p>Only as a side note FYI how <code>lsblk</code> could be useful in another case
see<br />
<a href="https://github.com/rear/rear/issues/2036#issuecomment-463170130">https://github.com/rear/rear/issues/2036#issuecomment-463170130</a><br />
where <code>lsblk</code> reports that <code>TYPE</code> is <code>crypt</code> for encrypted block
devices<br />
(at least for block devices that are encrypted with eCryptfs).</p>
<h4 id="gdha_commented_at_2020-05-27_0759"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-634496205">2020-05-27 07:59</a>:<a class="headerlink" href="#gdha_commented_at_2020-05-27_0759" title="Permanent link">&para;</a></h4>
<p>@schabrolles is RHEL 5 still supported by RedHat?</p>
<h4 id="schabrolles_commented_at_2020-05-27_1158"><img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50"><a href="https://github.com/schabrolles">schabrolles</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-634611644">2020-05-27 11:58</a>:<a class="headerlink" href="#schabrolles_commented_at_2020-05-27_1158" title="Permanent link">&para;</a></h4>
<p>@gdha I would say no ... but
<a href="https://access.redhat.com/support/policy/updates/errata">https://access.redhat.com/support/policy/updates/errata</a>
says it will be definitely END of extended support by the end of the
year.</p>
<table>
<thead>
<tr class="header">
<th>Version</th>
<th>General Availability</th>
<th>End of Full Support</th>
<th>End of Maintenance Support 1</th>
<th>End of Maintenance Support or Maintenance Support 2 (Product retirement)</th>
<th>End of Extended Life-cycle Support</th>
<th>End of Extended Life Phase</th>
<th>LastMinorRelease</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>4</td>
<td>February 14, 2005</td>
<td>March 31, 2009</td>
<td>February 16, 2011</td>
<td>February 29, 2012</td>
<td>March 31, 2017</td>
<td>Ongoing</td>
<td>4.9</td>
</tr>
<tr class="even">
<td>5</td>
<td>March 15, 2007</td>
<td>January 8, 2013</td>
<td>January 31, 2014</td>
<td>March 31, 2017</td>
<td>November 30, 2020</td>
<td>Ongoing</td>
<td>5.11</td>
</tr>
<tr class="odd">
<td>6</td>
<td>November 10, 2010</td>
<td>May 10, 2016</td>
<td>May 10, 2017</td>
<td>November 30, 2020</td>
<td>June 30, 2024</td>
<td>Ongoing</td>
<td>6.10</td>
</tr>
<tr class="even">
<td>7</td>
<td>June 10, 2014</td>
<td>August 6, 2019</td>
<td>August 6, 2020</td>
<td>June 30, 2024</td>
<td>TBD</td>
<td>Ongoing</td>
<td>7.9</td>
</tr>
<tr class="odd">
<td>7 (ARM)</td>
<td>November 13, 2017</td>
<td>November 30, 2020</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>Ongoing</td>
<td>7.6</td>
</tr>
<tr class="even">
<td>7 (POWER9)</td>
<td>November 13, 2017</td>
<td>May 31, 2021</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>Ongoing</td>
<td>7.6</td>
</tr>
<tr class="odd">
<td>7 (System z (Structure A))</td>
<td>April 10, 2018</td>
<td>May 31, 2021</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>Ongoing</td>
<td>7.6</td>
</tr>
</tbody>
</table>

<h4 id="gdha_commented_at_2020-05-27_1207"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-634615852">2020-05-27 12:07</a>:<a class="headerlink" href="#gdha_commented_at_2020-05-27_1207" title="Permanent link">&para;</a></h4>
<p>@schabrolles Thank you for the quick response.<br />
@jsmeix Wouldn't it be better to remove RHEL 5 from ReaR support matrix
for version 2.6?</p>
<h4 id="jsmeix_commented_at_2020-05-27_1336"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-634666102">2020-05-27 13:36</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-05-27_1336" title="Permanent link">&para;</a></h4>
<p>Yes, better remove old and no longer well tested distributions<br />
from our list of official supported Linux based operating systems.</p>
<p>Via<br />
<a href="https://github.com/rear/rear.github.com/commit/f191b3feb2134557bdfa0d746fbdf82b5c494c74">https://github.com/rear/rear.github.com/commit/f191b3feb2134557bdfa0d746fbdf82b5c494c74</a><br />
I adapted the "Supported and Unsupported Operating Systems"<br />
and "Supported and Unsupported Architectures" for ReaR 2.6<br />
in the "Release Notes for Relax-and-Recover version 2.6".</p>
<p>By the way:<br />
I think RHEL 8 must be added there?</p>
<h4 id="gdha_commented_at_2020-05-27_1340"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-634668172">2020-05-27 13:40</a>:<a class="headerlink" href="#gdha_commented_at_2020-05-27_1340" title="Permanent link">&para;</a></h4>
<p>@jsmeix indeed RHEL 8 and CentOS 8 should be added. Thanks for the
remark - good catch</p>
<h4 id="jsmeix_commented_at_2020-05-27_1347"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-634673012">2020-05-27 13:47</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-05-27_1347" title="Permanent link">&para;</a></h4>
<p>Via<br />
<a href="https://github.com/rear/rear.github.com/commit/2749468fb6c12e94d1bf83e68e8fbef58a228989">https://github.com/rear/rear.github.com/commit/2749468fb6c12e94d1bf83e68e8fbef58a228989</a><br />
I added RHEL 8 and CentOS 8 as supported operating systems.</p>
<p>What about newest Fedora 30 31 32 ... according to<br />
<a href="https://en.wikipedia.org/wiki/Fedora_(operating_system)#History">https://en.wikipedia.org/wiki/Fedora_(operating_system)#History</a></p>
<p>And what about other newest distributions like ScientificLinux,<br />
Debian, Ubuntu, whatnot...?</p>
<h4 id="gdha_commented_at_2020-05-27_1355"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-634678081">2020-05-27 13:55</a>:<a class="headerlink" href="#gdha_commented_at_2020-05-27_1355" title="Permanent link">&para;</a></h4>
<p>@jsmeix perhaps we should not use this issue for further discussions on
what is supported or not, but better use issue #2368 instead.</p>
<h4 id="gdha_commented_at_2020-05-28_1419"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-635379076">2020-05-28 14:19</a>:<a class="headerlink" href="#gdha_commented_at_2020-05-28_1419" title="Permanent link">&para;</a></h4>
<p>Removing the milestone from the issue report.</p>
<h4 id="github-actions_commented_at_2020-07-28_0133"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/issues/1766#issuecomment-664724339">2020-07-28 01:33</a>:<a class="headerlink" href="#github-actions_commented_at_2020-07-28_0133" title="Permanent link">&para;</a></h4>
<p>Stale issue message</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2023 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2018-04-03.1766.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
