<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#3283 Issue closed: Improve output on missing libraries for systemd core lib - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#3283 Issue closed: Improve output on missing libraries for systemd core lib";
        var mkdocs_page_input_path = "issues/2024-07-18.3283.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#3283 Issue closed: Improve output on missing libraries for systemd core lib</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="3283_issue_closed_improve_output_on_missing_libraries_for_systemd_core_lib"><a href="https://github.com/rear/rear/issues/3283">#3283 Issue</a> <code>closed</code>: Improve output on missing libraries for systemd core lib<a class="headerlink" href="#3283_issue_closed_improve_output_on_missing_libraries_for_systemd_core_lib" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>fixed / solved / done</code></p>
<h4 id="schlomo_opened_issue_at_2024-07-18_1601"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> opened issue at <a href="https://github.com/rear/rear/issues/3283">2024-07-18 16:01</a>:<a class="headerlink" href="#schlomo_opened_issue_at_2024-07-18_1601" title="Permanent link">&para;</a></h4>
<p>on <code>master</code> we now have</p>
<pre><code>Testing that the recovery system in /var/tmp/rear.AHBCO3wxs3FdARC/rootfs contains a usable system
/usr/lib/x86_64-linux-gnu/systemd/libsystemd-core-255.so requires libraries where 'ldd' shows 'not found'
/usr/lib/x86_64-linux-gnu/systemd/libsystemd-core-255.so requires libsystemd-shared-255.so which was not found by 'ldd' but exists as /var/tmp/rear.AHBCO3wxs3FdARC/rootfs/usr/lib/x86_64-linux-gnu/systemd/libsystemd-shared-255.so
</code></pre>
<p>thanks to #3250 and I'd like to suggest a small improvement on it:</p>
<ol>
<li>strip the ReaR build including <code>.../rootfs</code> from the found library</li>
<li>show these lines only in the log and not on the console, because
    this info is not actionable and we decided to assume that all is
    well if the missing lib is found somewhere.</li>
</ol>
<h4 id="jsmeix_commented_at_2024-09-03_1510"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3283#issuecomment-2326776603">2024-09-03 15:10</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-09-03_1510" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/rear/rear/pull/3308">https://github.com/rear/rear/pull/3308</a><br />
intends to improve the first part</p>
<pre><code>strip the ReaR build including .../rootfs from the found library
</code></pre>
<h4 id="jsmeix_commented_at_2024-09-03_1518"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3283#issuecomment-2326795885">2024-09-03 15:18</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-09-03_1518" title="Permanent link">&para;</a></h4>
<p>Regarding the second part:</p>
<pre><code>show these lines only in the log and not on the console ...
</code></pre>
<p>I agree but - at least as I currently see - it is<br />
not straightforward to implement it because the message</p>
<pre><code>... requires libraries where 'ldd' shows 'not found'
</code></pre>
<p>is already output when there is any binary<br />
where 'ldd' shows 'not found'.</p>
<p>Only later we may find out that the file<br />
where 'ldd' had shown 'not found'<br />
actually exists within the recovery system.</p>
<p>Therefore the subsequent message</p>
<pre><code>... exists as ...
</code></pre>
<p>is shown to the user to tell him that<br />
the file where 'ldd' had shown 'not found'<br />
actually exists within the recovery system<br />
so things should be OK with this file<br />
BUT<br />
one cannot rely on that things are actually OK<br />
with this file so the user should better<br />
double check things<br />
SO<br />
this message is (somewhat) actionable<br />
at least to a certain degree.</p>
<h4 id="jsmeix_commented_at_2024-09-04_0742"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3283#issuecomment-2328145368">2024-09-04 07:42</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-09-04_0742" title="Permanent link">&para;</a></h4>
<p>More regarding the second part:</p>
<p>We cannot silently rely on the assumption<br />
that all is well if the missing thing is found somewhere.</p>
<p>See<br />
<a href="https://github.com/rear/rear/pull/3308#issuecomment-2328139914">https://github.com/rear/rear/pull/3308#issuecomment-2328139914</a></p>
<h4 id="schlomo_commented_at_2024-09-04_0847"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/3283#issuecomment-2328276184">2024-09-04 08:47</a>:<a class="headerlink" href="#schlomo_commented_at_2024-09-04_0847" title="Permanent link">&para;</a></h4>
<blockquote>
<p>We cannot silently rely on the assumption that all is well if the
missing thing is found somewhere.</p>
</blockquote>
<p>Totally agree, which is why I want to be able to white-list specific
things to be nevertheless OK, for example this systemd core library. Or
also the many special libs that some backup software references where we
know that they don't exist or exist somewhere as part of the backup
software tree.</p>
<p>That way we can slowly reduce the amount of false positives.</p>
<h4 id="jsmeix_commented_at_2024-09-05_1318"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3283#issuecomment-2331663411">2024-09-05 13:18</a>:<a class="headerlink" href="#jsmeix_commented_at_2024-09-05_1318" title="Permanent link">&para;</a></h4>
<p>I think with
<a href="https://github.com/rear/rear/pull/3308">https://github.com/rear/rear/pull/3308</a>
merged<br />
this issue is solved because the first part</p>
<pre><code>strip the ReaR build including .../rootfs from the found library
</code></pre>
<p>is implemented by
<a href="https://github.com/rear/rear/pull/3308">https://github.com/rear/rear/pull/3308</a><br />
and the second part</p>
<pre><code>show these lines only in the log and not on the console
</code></pre>
<p>cannot be done because we cannot silently rely on the assumption<br />
that all is well if the missing thing is found somewhere<br />
so we need to show these lines on the user's terminal<br />
to have him informed (in verbose mode).</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2024-07-18.3283.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
