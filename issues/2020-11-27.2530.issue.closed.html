<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2530 Issue closed: How to create full-backup bootable ISO file using Relax-and-Recover app? - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2530 Issue closed: How to create full-backup bootable ISO file using Relax-and-Recover app?";
        var mkdocs_page_input_path = "issues/2020-11-27.2530.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#2530 Issue closed: How to create full-backup bootable ISO file using Relax-and-Recover app?</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2530_issue_closed_how_to_create_full-backup_bootable_iso_file_using_relax-and-recover_app"><a href="https://github.com/rear/rear/issues/2530">#2530 Issue</a> <code>closed</code>: How to create full-backup bootable ISO file using Relax-and-Recover app?<a class="headerlink" href="#2530_issue_closed_how_to_create_full-backup_bootable_iso_file_using_relax-and-recover_app" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>documentation</code>, <code>support / question</code>, <code>no-issue-activity</code></p>
<h4 id="seyyedkhandon_opened_issue_at_2020-11-27_0752"><img src="https://avatars.githubusercontent.com/u/59599950?u=a0800c746d15848491e7a550abc90466d1ac802f&v=4" width="50"><a href="https://github.com/SeyyedKhandon">SeyyedKhandon</a> opened issue at <a href="https://github.com/rear/rear/issues/2530">2020-11-27 07:52</a>:<a class="headerlink" href="#seyyedkhandon_opened_issue_at_2020-11-27_0752" title="Permanent link">&para;</a></h4>
<p>I've recently faced a problem in which I need to make a bootable ISO
from my current local centos with all its configs and installed apps, so
that I can write it on a USB flash drive and install it on some other
machines.</p>
<p>I've searched about this, and tried some of them untill I finally found
<code>Relax-and-Recover</code> (i.e. rear) app which seems to work the way I
want.<br />
The problem however is that, I couldn't make a <em>single</em> <code>ISO</code> and it
instead generates a 250MB ISO and 1.7GB tar.gz file next to it.<br />
My current config is as follows:</p>
<pre><code>OUTPUT=ISO
BACKUP=NETFS
BACKUP_URL=iso:///run/media/user/myusb
OUTPUT_URL=file:///run/media/user/myusb/bck
ISO_DIR=file:///run/media/user/myusb/iso
</code></pre>
<p>What I want is just 1 bootable ISO which contains the whole backup that
can be bootable on USB stick and be installed on other machines.<br />
How should I do this?</p>
<h4 id="jsmeix_commented_at_2020-11-27_0915"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2530#issuecomment-734731740">2020-11-27 09:15</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-11-27_0915" title="Permanent link">&para;</a></h4>
<p>Because you wrote <code>bootable on USB stick</code><br />
I wonder why you don't use the <code>OUTPUT=USB</code> method, cf.<br />
<a href="http://relax-and-recover.org/documentation/getting-started">http://relax-and-recover.org/documentation/getting-started</a></p>
<p>In any case regardless what method you prefer to use<br />
you must thoroughly test and validate on replacement hardware<br />
that "rear recover" actually works for you as you need it,<br />
see the section "Inappropriate expectations" at<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<p>Regarding <code>OUTPUT=ISO</code> with <code>BACKUP_URL="iso:///..."</code>:</p>
<p>One single ISO with the backup included in that ISO works for me with</p>
<pre><code>OUTPUT=ISO
OUTPUT_URL=null
BACKUP=NETFS
BACKUP_URL="iso:///backup"
</code></pre>
<p>and also with</p>
<pre><code>OUTPUT=ISO
OUTPUT_URL=file:///other
BACKUP=NETFS
BACKUP_URL="iso:///backup"
</code></pre>
<p>In both cases I get the ISO with the <code>backup/backup.tar.gz</code> included<br />
stored locally at <code>var/lib/rear/output/rear-linux-h9wr.iso</code><br />
(<code>linux-h9wr</code> is the hostname of my test system):</p>
<pre><code># mount var/lib/rear/output/rear-linux-h9wr.iso /mnt

# find /mnt -ls
     1856      2 drwxr-xr-x   4  root     root         2048 Nov 27 09:35 /mnt
     2048      2 drwxr-x---   2  root     root         2048 Nov 27 09:35 /mnt/backup
     2054    881 -rw-r--r--   1  root     root       901807 Nov 27 09:35 /mnt/backup/backup.log
     2059 1176235 -rw-r--r--   1  root     root     1204463990 Nov 27 09:35 /mnt/backup/backup.tar.gz
     1920       4 drwx------   2  root     root           4096 Nov 27 09:35 /mnt/isolinux
     1926       2 -r--r--r--   1  root     root           2048 Nov 27 09:35 /mnt/isolinux/boot.cat
     1931      20 -rw-------   1  root     root          19784 Nov 27 09:35 /mnt/isolinux/chain.c32
     1935     273 -rw-------   1  root     root         278556 Nov 27 09:35 /mnt/isolinux/hdt.c32
     1939   67130 -rw-------   1  root     root       68740932 Nov 27 09:35 /mnt/isolinux/initrd.cgz
     1943      24 -rw-------   1  root     root          24576 Nov 27 09:35 /mnt/isolinux/isolinux.bin
     1947       3 -rw-------   1  root     root           2064 Nov 27 09:35 /mnt/isolinux/isolinux.cfg
     1952    7169 -rw-r--r--   1  root     root        7340112 Nov 24 09:44 /mnt/isolinux/kernel
     1956      54 -rw-------   1  root     root          54388 Nov 27 09:35 /mnt/isolinux/menu.c32
     1960       1 -rw-------   1  root     root            267 Nov 27 09:35 /mnt/isolinux/message
     1964    1183 -rw-------   1  root     root        1210611 Nov 27 09:35 /mnt/isolinux/pci.ids
     1968       1 -rw-------   1  root     root            239 Nov 27 09:35 /mnt/isolinux/poweroff.com
     1972       1 -rw-------   1  root     root            961 Nov 27 09:35 /mnt/isolinux/rear.help
     1977       1 -rw-------   1  root     root            812 Nov 27 09:35 /mnt/isolinux/reboot.c32
     1984     149 -rw-------   1  root     root         151740 Nov 27 09:35 /mnt/isolinux/vesamenu.c32
</code></pre>
<p>In the latter case with <code>OUTPUT_URL=file:///other</code> that one must be<br />
a separatedly mounted thing so I do <code># mount /dev/sda6 /other</code> in my
case<br />
so I get the ISO from <code>var/lib/rear/output/rear-linux-h9wr.iso</code><br />
also copied there at <code>/other/linux-h9wr/rear-linux-h9wr.iso</code><br />
i.e. I have the ISO now two times on my local disk.</p>
<p>In the former case with <code>OUTPUT_URL=null</code> I get the ISO only<br />
stored locally at <code>var/lib/rear/output/rear-linux-h9wr.iso</code><br />
but not duplicated as a copy somewhere else.</p>
<p>With</p>
<pre><code>OUTPUT=ISO
ISO_DIR=/other/myISOdir
OUTPUT_URL=null
BACKUP=NETFS
BACKUP_URL="iso:///backup"
</code></pre>
<p>I get the ISO only<br />
stored locally at <code>/other/myISOdir/rear-linux-h9wr.iso</code><br />
but not duplicated as a copy somewhere else.</p>
<p>CAUTION WITH BIG FILES IN THE ISO</p>
<p>There is a limit of the ISO 9660 file system that is 2GiB or 4GiB
according to<br />
<a href="https://en.wikipedia.org/wiki/ISO_9660#The_2/4_GiB_file_size_limit">https://en.wikipedia.org/wiki/ISO_9660#The_2/4_GiB_file_size_limit</a></p>
<p>Under normal circumstances files greater or equal 2GiB should not appear
in the ISO.<br />
An exception is when the backup is included in the ISO with
BACKUP_URL=iso://<br />
where the backup archive file (e.g. backup.tar.gz) could be greater or
equal 2GiB.<br />
When there is a 2GiB file size limit a backup.tar.gz that is greater
than 2GiB<br />
will get corrupted in the ISO so backup restore via "rear recover" would
fail<br />
which is a dead end because the backup in the ISO got corrupted.</p>
<p>"man mkisofs"<br />
(at least on my SLES12-SP5 for /usr/bin/mkisofs from the
cdrkit-cdrtools-compat RPM)<br />
reads (excerpts):</p>
<pre><code>-allow-limited-size
  ... files larger than 2GiB ... cannot be represented in ISO9660 level 1 or 2
</code></pre>
<p>Wich indicates in practice that limit is 2GiB (and not 4GiB).</p>
<p>Usually 'mkisofs' is called with '-udf -allow-limited-size'<br />
cf. usr/share/rear/prep/ISO/GNU/Linux/320_verify_mkisofs.sh<br />
but only if the '--help' output of ISO_MKISOFS_BIN shows
'-allow-limited-size'<br />
so there are cases where ISO 9660 level 1 or 2 is used that has a 2GiB
file size limit.<br />
For example when 'ebiso' is used there is a 2GiB file size limit<br />
but also other tools that are specified by ISO_MKISOFS_BIN could have
that limit.</p>
<p>Accordingly to be on the safe side pay special attention when there are
files<br />
to be included in the ISO that are greater or equal 2GiB.</p>
<p>When your ISO making tool has a 2GiB file size limit<br />
but your backup.tar.gz is greater or equal 2GiB<br />
your "too big" backup it will get included in the ISO<br />
but it gets corrupted there so your backup is lost.</p>
<p>See also<br />
<a href="https://github.com/rear/rear/pull/2525">https://github.com/rear/rear/pull/2525</a></p>
<h4 id="seyyedkhandon_commented_at_2020-11-27_1033"><img src="https://avatars.githubusercontent.com/u/59599950?u=a0800c746d15848491e7a550abc90466d1ac802f&v=4" width="50"><a href="https://github.com/SeyyedKhandon">SeyyedKhandon</a> commented at <a href="https://github.com/rear/rear/issues/2530#issuecomment-734766526">2020-11-27 10:33</a>:<a class="headerlink" href="#seyyedkhandon_commented_at_2020-11-27_1033" title="Permanent link">&para;</a></h4>
<p>@jsmeix Thank you very much, it did create a 2.7g iso. I tried to
install it and everything went well in manual installing, but in
automatic installation it will face with <code>access denied</code> error.<br />
And the second problem which is i'm worried about is, the <code>OS Configs</code>
like privacy etc. has been lost, how can i keep them?</p>
<h4 id="jsmeix_commented_at_2020-11-27_1111"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2530#issuecomment-734782503">2020-11-27 11:11</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-11-27_1111" title="Permanent link">&para;</a></h4>
<p>@jsmeix<br />
the crucial thing is not the size of the whole ISO<br />
but the size of the files inside the ISO.</p>
<p>Currently I cannot comment on the automatic mode<br />
because I almost never use it (long ago I had tested it once).</p>
<p>What do you mean with
<code>the OS Configs like privacy etc. has been lost</code>?<br />
Could you explain in more detail what exact <code>OS configs</code> you mean<br />
and where they have been lost (i.e. where you would expect them to
be).<br />
The ReaR recovery system (basically kernel and initrd in your ISO)<br />
is a totally different thing than your original system so if you
expect<br />
the ReaR recovery system would have same <code>OS configs</code><br />
as your original system it is not true. The basic config<br />
of the ReaR recovery system is in usr/share/rear/skel/<br />
plus some generated things during "rear mkrescue".</p>
<h4 id="gdha_commented_at_2020-11-27_1151"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/2530#issuecomment-734798061">2020-11-27 11:51</a>:<a class="headerlink" href="#gdha_commented_at_2020-11-27_1151" title="Permanent link">&para;</a></h4>
<p>@jsmeix nice description - would like to add it to our ReaR User Guide
in a separate section with plenty of examples
(<a href="https://relax-and-recover.org/rear-user-guide/">https://relax-and-recover.org/rear-user-guide/</a>)</p>
<h4 id="jsmeix_commented_at_2020-11-27_1202"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2530#issuecomment-734802208">2020-11-27 12:02</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-11-27_1202" title="Permanent link">&para;</a></h4>
<p>@gdha<br />
many thanks in advance for enhancing our ReaR User Guide!<br />
Please also have a look at my comments in the code in<br />
<a href="https://github.com/rear/rear/pull/2525/files">https://github.com/rear/rear/pull/2525/files</a></p>
<h4 id="seyyedkhandon_commented_at_2020-11-27_1227"><img src="https://avatars.githubusercontent.com/u/59599950?u=a0800c746d15848491e7a550abc90466d1ac802f&v=4" width="50"><a href="https://github.com/SeyyedKhandon">SeyyedKhandon</a> commented at <a href="https://github.com/rear/rear/issues/2530#issuecomment-734811987">2020-11-27 12:27</a>:<a class="headerlink" href="#seyyedkhandon_commented_at_2020-11-27_1227" title="Permanent link">&para;</a></h4>
<p>@jsmeix <code>os configs</code> I was wrong, and i did a double check, and it was
the same as the original one.<br />
Can I select the "usb" as destination for the generated iso? with this
config?</p>
<pre><code>OUTPUT=ISO
OUTPUT_URL="file:///run/media/swall/USB"
BACKUP=NETFS
BACKUP_URL="iso:///backup"
</code></pre>
<p>What I did:</p>
<pre><code># mkdir /other
# umount /dev/sdb1
# mount /dev/sdb1 /other
</code></pre>
<p>then used below, and it did worked for me:</p>
<pre><code>OUTPUT=ISO
OUTPUT_URL=file:///other
BACKUP=NETFS
BACKUP_URL="iso:///backup"
</code></pre>
<p>And as you told, I tested the only one copy version of iso( only into
the usb) as below and it did worked:</p>
<pre><code>OUTPUT=ISO
ISO_DIR=/other
OUTPUT_URL=null
BACKUP=NETFS
BACKUP_URL="iso:///backup"
</code></pre>
<p>Thank you @jsmeix</p>
<h4 id="seyyedkhandon_commented_at_2020-11-27_1333"><img src="https://avatars.githubusercontent.com/u/59599950?u=a0800c746d15848491e7a550abc90466d1ac802f&v=4" width="50"><a href="https://github.com/SeyyedKhandon">SeyyedKhandon</a> commented at <a href="https://github.com/rear/rear/issues/2530#issuecomment-734837339">2020-11-27 13:33</a>:<a class="headerlink" href="#seyyedkhandon_commented_at_2020-11-27_1333" title="Permanent link">&para;</a></h4>
<p>Is there any way for 100gb iso? or should we use another config for
rear?</p>
<h4 id="jsmeix_commented_at_2020-11-27_1346"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2530#issuecomment-734843049">2020-11-27 13:46</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-11-27_1346" title="Permanent link">&para;</a></h4>
<p>@SeyyedKhandon</p>
<p>I don't have much personal experience with huge ISOs.<br />
Personally I use basically always</p>
<pre><code>OUTPUT=ISO
BACKUP=NETFS
BACKUP_URL=nfs://your.NFS.server.IP/path/to/your/rear/backup
</code></pre>
<p>as in the usr/share/rear/conf/examples/SLE*-example.conf files<br />
i.e. with a small rear-hostname.iso and separated backup.tar.gz<br />
on a NFS server.</p>
<p>In general regarding <code>BACKUP_URL=iso</code>:</p>
<p>This includes the whole backup (which can be several GiB up to some
TiB)<br />
into the ISO image and that calls for various troubles in general.</p>
<p>So my first and foremost question would be:</p>
<p>Why is it a must that a user has his whole backup inside the ISO?</p>
<p>That is not normal (I know nobody who does it nowadays)<br />
and it does not make sense under normal circumstances.<br />
In exceptional cases it may make sense so it is possible<br />
but the admin has to know what it means when doing it.</p>
<p>Normal usage of ReaR keeps the backup separated from<br />
the ReaR recovery system (in this case the ISO).</p>
<p>Having the whole backup inside the ISO has generic drawbacks:</p>
<p>To boot the ReaR recovery system on replacement hardware<br />
means to boot from a huge ISO which may not always work.</p>
<p>The backup is no longer separatedly accessible<br />
(e.g. to restore a few files directly from the backup)<br />
but somewhat buried into the ISO<br />
(ok. one can just mount the ISO if needed).</p>
<p>Also see usr/share/rear/conf/default.conf about<br />
ISO_MAX_SIZE and its additional specific drawbacks.</p>
<p>Some more info FYI:</p>
<p>Regarding "Creating bootable USB from ReaR ISO" see also<br />
<a href="https://github.com/rear/rear/issues/2210">https://github.com/rear/rear/issues/2210</a></p>
<p>If you need a UEFI bootable thingy, see<br />
<a href="https://github.com/rear/rear/issues/2394#issuecomment-627226008">https://github.com/rear/rear/issues/2394#issuecomment-627226008</a><br />
why isohybrid cannot be used to make a "normal"<br />
non-UEFI-bootable ISO image UEFI bootable.</p>
<p>To get a UEFI bootable thingy you could<br />
alternatively use <code>OUTPUT=RAWDISK</code>, cf.<br />
<a href="https://github.com/rear/rear/issues/2500">https://github.com/rear/rear/issues/2500</a><br />
therein starting at<br />
<a href="https://github.com/rear/rear/issues/2500#issuecomment-724280432">https://github.com/rear/rear/issues/2500#issuecomment-724280432</a><br />
and subsequent comments.</p>
<p>But I am not a <code>OUTPUT=RAWDISK</code> user so currently I cannot tell<br />
if it is possible to get the backup.tar.gz included in the RAWDISK
image<br />
so that you could get an "all-in-one" UEFI bootable RAWDISK image<br />
that contains the ReaR recovery system plus the backup.tar.gz.</p>
<p>@OliverO2<br />
is our <code>OUTPUT=RAWDISK</code> developer<br />
so probably he could help here (as far as his time permits).</p>
<h4 id="seyyedkhandon_commented_at_2020-11-27_1411"><img src="https://avatars.githubusercontent.com/u/59599950?u=a0800c746d15848491e7a550abc90466d1ac802f&v=4" width="50"><a href="https://github.com/SeyyedKhandon">SeyyedKhandon</a> commented at <a href="https://github.com/rear/rear/issues/2530#issuecomment-734853573">2020-11-27 14:11</a>:<a class="headerlink" href="#seyyedkhandon_commented_at_2020-11-27_1411" title="Permanent link">&para;</a></h4>
<p>I really just want to backup the whole os, I'm not sure how should I
recover from that if there will be <code>.iso</code>, <code>.tar.gz</code> separated from each
other.<br />
Let's say we have a os and want to backit up on a local external hdd,
how can i do it, and restore it(lets say we want the normal method which
just will create a 250mb iso and a .img file with huge 50gb size), how
should we do that?</p>
<h4 id="jsmeix_commented_at_2020-11-27_1436"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2530#issuecomment-734864154">2020-11-27 14:36</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-11-27_1436" title="Permanent link">&para;</a></h4>
<p>In my case with</p>
<pre><code>OUTPUT=ISO
BACKUP=NETFS
BACKUP_URL=nfs://your.NFS.server.IP/path/to/your/rear/backup
</code></pre>
<p>with a small <code>rear-hostname.iso</code> and separated <code>backup.tar.gz</code> on a NFS
server<br />
I boot the <code>rear-hostname.iso</code> (that contains the ReaR recovery
system)<br />
on my replacement hardware (my "hardware" are KVM/QEMU virtual
machines)<br />
log in as root into the booted ReaR recovery system and only run
<code>rear recover</code><br />
to recreate my original system on my replacement hardware<br />
(I did that hundreds of times for testing various things).</p>
<p>The ReaR recovery system is specific for the original system<br />
where it had been made with <code>rear mkbackup</code> or <code>rear mkrescue</code>.</p>
<p>With the ReaR recovery system in <code>rear-hostname.iso</code><br />
separated from the backup in <code>backup.tar.gz</code><br />
one can create an updated ReaR recovery system separatedly<br />
with <code>rear mkrescue</code> (only new <code>rear-hostname.iso</code> on the NFS server)<br />
or one can create an updated backup separatedly<br />
with <code>rear mkbackuponly</code> (only new <code>backup.tar.gz</code> on the NFS server)<br />
depending on what is needed to update<br />
e.g. update the backup each day but update the ReaR recovery system<br />
only when needed via <code>rear checklayout || rear mkrescue</code><br />
Regarding updating the backup see the section<br />
"Relax-and-Recover versus backup and restore" at<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<p>The ReaR recovery system contains the needed info to get the right
<code>backup.tar.gz</code><br />
from the NFS server because the recovery system contains
/etc/rear/local.conf with</p>
<pre><code>BACKUP=NETFS
BACKUP_URL=nfs://your.NFS.server.IP/path/to/your/rear/backup
</code></pre>
<p>so it mounts that specific NFS share and restores the backup directly
from there<br />
(i.e. no need to move the backup around in a ISO or on a medium).</p>
<p>As far as I know</p>
<pre><code>OUTPUT=ISO
BACKUP=NETFS
BACKUP_URL=nfs://your.NFS.server.IP/path/to/your/rear/backup
</code></pre>
<p>is the normal method that is used by most SUSE Linux Enterprise
customers<br />
who use Relax-and-Recover as their disaster recovery framework.</p>
<p>For now I would most recommend the section<br />
"First steps with Relax-and-Recover"<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery#First_steps_with_Relax-and-Recover">https://en.opensuse.org/SDB:Disaster_Recovery#First_steps_with_Relax-and-Recover</a></p>
<p>In general I would recommend to read through the whole long<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a><br />
article and pick out what is of particular interest for you.<br />
Perhaps some "relaxing leisure time reading" over the weekend?<br />
For certain meaning of "relaxing leisure time" ;-)</p>
<p>Now it's weekend - at least for me :-)<br />
I wish you a relaxed and recovering weekend!</p>
<h4 id="github-actions_commented_at_2021-01-27_0212"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/issues/2530#issuecomment-767963006">2021-01-27 02:12</a>:<a class="headerlink" href="#github-actions_commented_at_2021-01-27_0212" title="Permanent link">&para;</a></h4>
<p>Stale issue message</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2023 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2020-11-27.2530.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
