<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2206 Issue closed: Error on recovery if REQUIRED_PROGS specified with absolute path - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2206 Issue closed: Error on recovery if REQUIRED_PROGS specified with absolute path";
        var mkdocs_page_input_path = "issues/2019-08-11.2206.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#2206 Issue closed: Error on recovery if REQUIRED_PROGS specified with absolute path</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2206_issue_closed_error_on_recovery_if_required_progs_specified_with_absolute_path"><a href="https://github.com/rear/rear/issues/2206">#2206 Issue</a> <code>closed</code>: Error on recovery if REQUIRED_PROGS specified with absolute path<a class="headerlink" href="#2206_issue_closed_error_on_recovery_if_required_progs_specified_with_absolute_path" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>bug</code>, <code>fixed / solved / done</code></p>
<h4 id="adatum_opened_issue_at_2019-08-11_2319"><img src="https://avatars.githubusercontent.com/u/9773655?v=4" width="50"><a href="https://github.com/adatum">adatum</a> opened issue at <a href="https://github.com/rear/rear/issues/2206">2019-08-11 23:19</a>:<a class="headerlink" href="#adatum_opened_issue_at_2019-08-11_2319" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>ReaR version ("/usr/sbin/rear -V"): 2.4</p>
</li>
<li>
<p>OS version ("cat /etc/rear/os.conf" or "lsb_release -a" or "cat
    /etc/os-release"): Fedora 30</p>
</li>
<li>
<p>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
    /etc/rear/local.conf"):<br />
<code>REQUIRED_PROGS=( "${REQUIRED_PROGS[@]}" /home/test/Downloads/borg-linux64 )</code></p>
</li>
<li>
<p>System architecture (x86 compatible or PPC64/PPC64LE or what exact
    ARM device): x86_64</p>
</li>
<li>
<p>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or
    ELILO or Petitboot): UEFI</p>
</li>
<li>
<p>Description of the issue (ideally so that others can reproduce it):</p>
</li>
</ul>
<blockquote>
<p>ERROR: Cannot find required programs:
/home/test/Downloads/borg-linux64</p>
</blockquote>
<p>Upon recovery, ReaR gives an error and aborts when a required program is
specified with an absolute path, which naturally may not exist in the
recovery media.</p>
<p>The program, <code>borg-linux64</code> is nevertheless present in the recovery
media, though located in <code>/bin</code> as it should.</p>
<ul>
<li>
<p>Workaround, if any:</p>
</li>
<li>
<p>Comment out the <code>REQUIRED_PROGS</code> line in <code>/etc/rear/local.conf</code> in
    the recovery environment before running <code>rear recover</code>.</p>
</li>
<li>Use <code>PROGS</code> instead of <code>REQUIRED_PROGS</code>.</li>
</ul>
<h4 id="jsmeix_commented_at_2019-08-12_1301"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2206#issuecomment-520415367">2019-08-12 13:01</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-08-12_1301" title="Permanent link">&para;</a></h4>
<p>@adatum<br />
as far as I know PROGS and REQUIRED_PROGS are only meant<br />
to be used with plain program names, cf.
usr/share/rear/conf/default.conf<br />
<a href="https://github.com/rear/rear/blob/master/usr/share/rear/conf/default.conf">https://github.com/rear/rear/blob/master/usr/share/rear/conf/default.conf</a><br />
and all this way specified programs end up in /bin/ in the ReaR recovery
system.</p>
<p>If you need to copy arbitrary files into the ReaR recovery system<br />
use COPY_AS_IS.</p>
<p>I think how those variables are meant to be used could be better
explained<br />
in default.conf.</p>
<h4 id="adatum_commented_at_2019-08-12_1753"><img src="https://avatars.githubusercontent.com/u/9773655?v=4" width="50"><a href="https://github.com/adatum">adatum</a> commented at <a href="https://github.com/rear/rear/issues/2206#issuecomment-520527663">2019-08-12 17:53</a>:<a class="headerlink" href="#adatum_commented_at_2019-08-12_1753" title="Permanent link">&para;</a></h4>
<p>I agree those variables could be explained better, as I struggled to
tell the difference between COPY_AS_IS and PROGS. Does COPY_AS_IS
put executables in /bin/ ?</p>
<p>I got the impression COPY_AS_IS is for copying libraries, though it's
also unclear to me where they would end up being copied to in the rescue
media, i.e. is the path preserved?</p>
<p>The
<a href="https://github.com/rear/rear/blob/master/doc/user-guide/04-scenarios.adoc">documentation</a>
mentions that it is highly recommended to include the borg standalone
executable, but it does not mention how to do this and which variable in
default.conf to use. Ideally, it should be placed in /bin/ in the rescue
media.</p>
<h4 id="gozora_commented_at_2019-08-12_1801"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/2206#issuecomment-520530920">2019-08-12 18:01</a>:<a class="headerlink" href="#gozora_commented_at_2019-08-12_1801" title="Permanent link">&para;</a></h4>
<blockquote>
<p>The documentation mentions that it is highly recommended to include
the borg standalone executable, but it does not mention how to do this
and which variable in default.conf to use. Ideally, it should be
placed in /bin/ in the rescue media.</p>
</blockquote>
<p>Just click <a href="https://borgbackup.readthedocs.io/en/stable/installation.html#standalone-binary">Install Borg backup
link</a>
in the mentioned documentation.</p>
<p>Excerpt:</p>
<pre><code>sudo cp borg-linux64 /usr/local/bin/borg
sudo chown root:root /usr/local/bin/borg
sudo chmod 755 /usr/local/bin/borg
</code></pre>
<p>and you are done, no need to include anything ...</p>
<p>V.</p>
<h4 id="adatum_commented_at_2019-08-12_1805"><img src="https://avatars.githubusercontent.com/u/9773655?v=4" width="50"><a href="https://github.com/adatum">adatum</a> commented at <a href="https://github.com/rear/rear/issues/2206#issuecomment-520532422">2019-08-12 18:05</a>:<a class="headerlink" href="#adatum_commented_at_2019-08-12_1805" title="Permanent link">&para;</a></h4>
<p>@gozora I suppose that is an option, but that means using the standalone
binary on the system. I would rather use the system package so that it
gets automatically updated. The binary is just for including in ReaR
rescue media without dealing with dependencies.</p>
<h4 id="jsmeix_commented_at_2020-05-14_0855"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2206#issuecomment-628495379">2020-05-14 08:55</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-05-14_0855" title="Permanent link">&para;</a></h4>
<p>I think
<a href="https://github.com/rear/rear/pull/2397">https://github.com/rear/rear/pull/2397</a>
should fix this issue.</p>
<h4 id="jsmeix_commented_at_2020-05-14_1020"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2206#issuecomment-628540347">2020-05-14 10:20</a>:<a class="headerlink" href="#jsmeix_commented_at_2020-05-14_1020" title="Permanent link">&para;</a></h4>
<p>With
<a href="https://github.com/rear/rear/pull/2397">https://github.com/rear/rear/pull/2397</a>
merged<br />
this issue as described in its initial comment should be fixed.</p>
<p>But note<br />
<a href="https://github.com/rear/rear/pull/2397#issuecomment-628535963">https://github.com/rear/rear/pull/2397#issuecomment-628535963</a><br />
that reads (excerpts):</p>
<pre><code>REQUIRED_PROGS+=( /home/johannes/mypartprobe )
...
inside the recovery system
one cannot call /home/johannes/mypartprobe
because inside the recovery system one would have
to call plain mypartprobe or /bin/mypartprobe
</code></pre>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2019-08-11.2206.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
