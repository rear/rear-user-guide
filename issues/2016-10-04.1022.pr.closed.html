<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#1022 PR closed: Notification feature rhbz #1377547 - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#1022 PR closed: Notification feature rhbz #1377547";
        var mkdocs_page_input_path = "issues/2016-10-04.1022.pr.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_rsync.html">Internal Backup with rsync to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rsync.html">External Backup using BACKUP=RSYNC method</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/restic.html">External Backup using restic</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/duplicity.html">External Backup using duplicity</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#1022 PR closed: Notification feature rhbz #1377547</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1022_pr_closed_notification_feature_rhbz_1377547"><a href="https://github.com/rear/rear/pull/1022">#1022 PR</a> <code>closed</code>: Notification feature rhbz #1377547<a class="headerlink" href="#1022_pr_closed_notification_feature_rhbz_1377547" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>fixed / solved / done</code></p>
<h4 id="phracek_opened_issue_at_2016-10-04_0840"><img src="https://avatars.githubusercontent.com/u/3416672?u=8867c1fd5f4ffa568d781775ab6110624b2dccd4&v=4" width="50"><a href="https://github.com/phracek">phracek</a> opened issue at <a href="https://github.com/rear/rear/pull/1022">2016-10-04 08:40</a>:<a class="headerlink" href="#phracek_opened_issue_at_2016-10-04_0840" title="Permanent link">&para;</a></h4>
<p>Signed-off-by: Petr Hracek <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#112;&#104;&#114;&#97;&#99;&#101;&#107;&#64;&#114;&#101;&#100;&#104;&#97;&#116;&#46;&#99;&#111;&#109;">&#112;&#104;&#114;&#97;&#99;&#101;&#107;&#64;&#114;&#101;&#100;&#104;&#97;&#116;&#46;&#99;&#111;&#109;</a></p>
<p>reference rhbz
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=1377547">https://bugzilla.redhat.com/show_bug.cgi?id=1377547</a></p>
<h4 id="jsmeix_commented_at_2016-10-04_0859"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/1022#issuecomment-251332992">2016-10-04 08:59</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-10-04_0859" title="Permanent link">&para;</a></h4>
<p><a href="https://bugzilla.redhat.com/show_bug.cgi?id=1377547">https://bugzilla.redhat.com/show_bug.cgi?id=1377547</a><br />
tells me:</p>
<pre>
You are not authorized to access bug #1377547.
To see this bug, you must first log in to an account
with the appropriate permissions. 
</pre>

<h4 id="jsmeix_commented_at_2016-10-04_0906"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/1022#issuecomment-251334653">2016-10-04 09:06</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-10-04_0906" title="Permanent link">&para;</a></h4>
<p>Relax-and-Recover is free software.<br />
We need freely accessibly information.</p>
<h4 id="phracek_commented_at_2016-10-18_1415"><img src="https://avatars.githubusercontent.com/u/3416672?u=8867c1fd5f4ffa568d781775ab6110624b2dccd4&v=4" width="50"><a href="https://github.com/phracek">phracek</a> commented at <a href="https://github.com/rear/rear/pull/1022#issuecomment-254520721">2016-10-18 14:15</a>:<a class="headerlink" href="#phracek_commented_at_2016-10-18_1415" title="Permanent link">&para;</a></h4>
<p>Here is the text:</p>
<p>Description of problem:<br />
Once backup is completed (rear mkbackup), customer would like to log
message that "backup complete" with a timestamp and location of the
backup so the result can be inserted into a database.</p>
<p>Version-Release number of selected component (if applicable):<br />
rear-1.17.2-1.el7.noarch</p>
<p>How reproducible:<br />
Always</p>
<p>Steps to Reproduce:<br />
Currently there is no provision to log message after successful backup
completion.</p>
<p>Actual results:<br />
Currently there is no provision to log message after successful backup
completion.</p>
<p>Expected results:<br />
Have some kind of provision to log message after successful backup
completion only.</p>
<p>Additional info:<br />
As a temporary hack, I modified /usr/sbin/rear bash script itself to log
such message.</p>
<pre><code># Check for and run the requested workflow
if has_binary WORKFLOW_$WORKFLOW; then
        Log "Running $WORKFLOW workflow"
        WORKFLOW_$WORKFLOW "${ARGS[@]}"
        Log "Finished running $WORKFLOW workflow $BACKUP_URL"
        LogPrint "Finished running $WORKFLOW workflow $BACKUP_URL `date` " &lt;&lt;&lt;&lt;&lt;&lt; Added this line to print any messages and access variables 
else
        VERBOSE=1
        LogPrint "ERROR: The specified command '$WORKFLOW' does not exist !"
        EXIT_CODE=1
fi
</code></pre>
<p>I have not completely tested above but looks possible to get
notification from here.</p>
<h4 id="gozora_commented_at_2016-10-18_1445"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/pull/1022#issuecomment-254530633">2016-10-18 14:45</a>:<a class="headerlink" href="#gozora_commented_at_2016-10-18_1445" title="Permanent link">&para;</a></h4>
<p>Hello, not sure if I've understood all aspects of your problem, but
wouldn't be enough to modify command like:<br />
<code>rear mkbackup &amp;&amp; echo "$(date) $(hostname): Backup finished." || echo "$(date) $(hostname): Backup failed."</code><br />
?</p>
<h4 id="gdha_commented_at_2016-10-18_1600"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/pull/1022#issuecomment-254554580">2016-10-18 16:00</a>:<a class="headerlink" href="#gdha_commented_at_2016-10-18_1600" title="Permanent link">&para;</a></h4>
<p>@phracek And, rear does write a message in:</p>
<pre><code>[root@client vagrant]# grep rear /var/log/messages 
Oct 18 06:01:25 localhost yum[10520]: Installed: rear-1.18-177.git201609201246.el7.x86_64
Oct 18 10:38:45 localhost rear[8005]: DONE: rc=0
</code></pre>
<p>after each run (as you see). Your proposal only writes a message in the
rear log itself.</p>
<h4 id="jsmeix_commented_at_2016-10-19_0823"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/1022#issuecomment-254746850">2016-10-19 08:23</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-10-19_0823" title="Permanent link">&para;</a></h4>
<p>In its current form I cannot accept it, see<br />
<a href="https://github.com/rear/rear/issues/1023#issuecomment-251369333">https://github.com/rear/rear/issues/1023#issuecomment-251369333</a></p>
<p>If the customer request is actually valid in general<br />
it needs to be implemented in a generally working way,<br />
in particular the kind of final reporting message must be<br />
configurable via a variable that is described in default.conf<br />
and by default it must be empty to behave backward compatible.</p>
<p>If the customer request is actually valid in general<br />
I am thinking about an array variable that lists those<br />
variables that will be printed as final reporting message<br />
e.g. in /etc/rear/local.conf something like</p>
<pre>
FINAL_REPORT_VARIABLES=( WORKFLOW BACKUP_URL )
</pre>

<p>and in /usr/sbin/rear at the end something like</p>
<pre>
if test $FINAL_REPORT_VARIABLES ; then
    LogPrint "Final report:"
    for v in ${FINAL_REPORT_VARIABLES[@]} ; do
        LogPrint "$v : ${!v}"
    done
fi
</pre>

<p>But currently I am wondering if the customer request is actually valid<br />
because when /usr/sbin/rear only prints some variable values<br />
it means basically nothing at all whether or not the reported stuff<br />
was actually successful.<br />
It only means that /usr/sbin/rear somehow reached the end<br />
and prints some variable values.<br />
Is this really what the customer wants?<br />
Or does the customer want to know if it was actually successful?</p>
<p>FYI why it means basically nothing<br />
when /usr/sbin/rear reached its end,<br />
cf. "Try to care about possible errors"<br />
<a href="https://github.com/rear/rear/wiki/Coding-Style">https://github.com/rear/rear/wiki/Coding-Style</a></p>
<h4 id="gigawatts_commented_at_2016-10-20_1647"><img src="https://avatars.githubusercontent.com/u/1954516?v=4" width="50"><a href="https://github.com/gigawatts">gigawatts</a> commented at <a href="https://github.com/rear/rear/pull/1022#issuecomment-255162154">2016-10-20 16:47</a>:<a class="headerlink" href="#gigawatts_commented_at_2016-10-20_1647" title="Permanent link">&para;</a></h4>
<p>Please reference
<a href="https://github.com/rear/rear/issues/991">https://github.com/rear/rear/issues/991</a>
for my initial issue, that will help explain a lot of what I am trying
to do here.</p>
<p>What I am proposing, instead of hijacking the umount command like I have
in the past (which worked great up to and including rear v1.15) is to
add a new variable we can define in local.conf or site.conf that gets
executed at the very end of the backup, so that I can use internal rear
variables such as:</p>
<p>"$NETFS_URL/${NETFS_PREFIX}/${BACKUP_PROG_ARCHIVE}${BACKUP_PROG_SUFFIX}${BACKUP_PROG_COMPRESS_SUFFIX}"</p>
<p>In my case, I am interested in a string with the timestamp and the above
final location of the backup tar so that I can insert them into a
database. Let me know if any of that needs more explaining.</p>
<p>Thank you.</p>
<h4 id="jsmeix_commented_at_2016-10-21_0824"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/1022#issuecomment-255323450">2016-10-21 08:24</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-10-21_0824" title="Permanent link">&para;</a></h4>
<p>@gigawatts<br />
are you the above mentioned Red Hat customer?<br />
If yes, I appreciate it very much to have now a direct<br />
communication with the original requester.</p>
<p>A side note:<br />
Indirect communication via intermediate people<br />
who cannot fully understand the original request<br />
is just another instance of RFC 1925 (6a):</p>
<pre>
It is always possible to add another level of indirection.
</pre>

<p>which - from my personal experience - is one of the main<br />
root causes in more than 90% of issues. Another main<br />
root cause in more than 90% of issues is RFC 1925 (5):</p>
<pre>
It is always possible to aglutenate multiple separate
problems into a single complex interdependent solution.
</pre>

<p>which I call "Keep Separated Items Separated" ('KSIS').<br />
Accordingly 81% of the issues have both as root causes.</p>
<p>Back to the actual topic:</p>
<p>In general regarding a "variable we can define in local.conf<br />
or site.conf that gets executed at the very end of the backup"<br />
see in current rear master code or in rear 1.19 release<br />
conf/default.conf</p>
<pre>
POST_BACKUP_SCRIPT=
</pre>

<p>I tested on my SLES12-SP2 system<br />
with that in local.conf (excerpts):</p>
<pre>
OUTPUT=ISO
BACKUP=NETFS
BACKUP_OPTIONS="nfsvers=3,nolock"
BACKUP_URL=nfs://10.160.4.244/nfs
...
POST_BACKUP_SCRIPT=( 'echo "NETFS_URL: $NETFS_URL" ; echo "NETFS_PREFIX: $NETFS_PREFIX" ; echo "BACKUP_PROG_ARCHIVE: $BACKUP_PROG_ARCHIVE" ; echo "BACKUP_PROG_SUFFIX: $BACKUP_PROG_SUFFIX" ; echo "BACKUP_PROG_COMPRESS_SUFFIX: $BACKUP_PROG_COMPRESS_SUFFIX"' )
</pre>

<p>I got:</p>
<pre>
# /usr/sbin/rear -d -D mkbackup
Relax-and-Recover 1.19 / Git
Using log file: /root/rear/var/log/rear/rear-g136.log
...
Archived 1221 MiB in 136 seconds [avg 9198 KiB/sec]
NETFS_URL: 
NETFS_PREFIX: g136
BACKUP_PROG_ARCHIVE: backup
BACKUP_PROG_SUFFIX: .tar
BACKUP_PROG_COMPRESS_SUFFIX: .gz
</pre>

<p>In my case NETFS_URL is not shown because<br />
it is nowhere used during "rear mkbackup"<br />
except in my POST_BACKUP_SCRIPT.</p>
<p>Note that NETFS_URL is outdated according to<br />
doc/rear-release-notes.txt:</p>
<pre>
Replaced NETFS_URL and ISO_URL by BACKUP_URL
and OUTPUT_URL. However, old references will still be
recognized and used.
</pre>

<p>cf. prep/default/02_translate_url.sh<br />
and verify/default/02_translate_url.sh</p>
<pre>
if [[ "$NETFS_URL" ]] ; then
    Log "Using NETFS_URL is deprecated. Use BACKUP_URL instead."
    BACKUP_URL=$NETFS_URL
fi
</pre>

<p>When I use BACKUP_URL in my POST_BACKUP_SCRIPT<br />
I get its value.</p>
<p>Bottom line:<br />
POST_BACKUP_SCRIPT should do what you need.</p>
<p>I regard this issue as a "support" question<br />
that is "fixed" hereby.</p>
<h4 id="gigawatts_commented_at_2016-10-21_1704"><img src="https://avatars.githubusercontent.com/u/1954516?v=4" width="50"><a href="https://github.com/gigawatts">gigawatts</a> commented at <a href="https://github.com/rear/rear/pull/1022#issuecomment-255426536">2016-10-21 17:04</a>:<a class="headerlink" href="#gigawatts_commented_at_2016-10-21_1704" title="Permanent link">&para;</a></h4>
<p>Yes, I am said customer. Originally I was trying to solve an issue with
NETFS_UMOUNTCMD not working as expected (still an open issue), but
realized that a better solution to my problem was a post script. It
sounds like that new POST_BACKUP_SCRIPT var is exactly what I was
looking for!</p>
<p>I'll have a look at v1.19 and see if that works for my needs. Thank you.</p>
<h4 id="schlomo_commented_at_2016-10-22_1744"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/1022#issuecomment-255542794">2016-10-22 17:44</a>:<a class="headerlink" href="#schlomo_commented_at_2016-10-22_1744" title="Permanent link">&para;</a></h4>
<p>@gigawatts what prevents your from adding your custom code in a script
in <code>/usr/share/rear/backup/default/99_custom_code.sh</code> or something
similar? Use <code>rear -s mkbackup</code> to see all the scripts in all the stages
that are run.</p>
<p>FYI, adding scripts to the ReaR structure is the recommended way of
extending ReaR with new or custom functionality.</p>
<h4 id="jsmeix_commented_at_2016-10-24_0818"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/1022#issuecomment-255676605">2016-10-24 08:18</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-10-24_0818" title="Permanent link">&para;</a></h4>
<p>@schlomo<br />
by the way regarding adding user scripts<br />
like .../99_my_script.sh or .../01_my_other_script.sh:</p>
<p>I noticed several .../01_... and .../99_... scripts<br />
in the current ReaR master code.</p>
<p>I wonder if we should re-number them so that the<br />
numbers 01 and 99 are never used by ReaR so that<br />
those numbers are always reserved for user scripts?</p>
<p>The current ReaR 01_ and 99_ scripts:</p>
<pre>
backup/default/01_pre_backup_script.sh
backup/default/99_post_backup_script.sh
build/default/99_update_os_conf.sh
finalize/NBU/default/99_copy_bplogrestorelog.sh
finalize/default/01_prepare_checks.sh
init/default/01_set_drlm_env.sh
layout/prepare/default/01_prepare_files.sh
output/default/01_set_umask.sh
rescue/GNU/Linux/99_sysreqs.sh
rescue/default/01_merge_skeletons.sh
restore/default/99_move_away_restored_files.sh
setup/default/01_pre_recovery_script.sh
wrapup/default/99_copy_logfile.sh
</pre>

<h4 id="schlomo_commented_at_2016-10-25_2154"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/pull/1022#issuecomment-256187465">2016-10-25 21:54</a>:<a class="headerlink" href="#schlomo_commented_at_2016-10-25_2154" title="Permanent link">&para;</a></h4>
<p>That might be a good idea. Thanks for seeing that.</p>
<p>On 24 October 2016 at 10:18, Johannes Meixner
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a><br />
wrote:</p>
<blockquote>
<p>@schlomo <a href="https://github.com/schlomo">https://github.com/schlomo</a><br />
by the way regarding adding user scripts<br />
like .../99_my_script.sh or .../01_my_other_script.sh:</p>
<p>I noticed several .../01_... and .../99_... scripts<br />
in the current ReaR master code.</p>
<p>I wonder if we should re-number them so that the<br />
numbers 01 and 99 are never used by ReaR so that<br />
those numbers are always reserved for user scripts?</p>
<p>The current ReaR 01_ and 99_ scripts:</p>
<p>backup/default/01_pre_backup_script.sh<br />
backup/default/99_post_backup_script.sh<br />
build/default/99_update_os_conf.sh<br />
finalize/NBU/default/99_copy_bplogrestorelog.sh<br />
finalize/default/01_prepare_checks.sh<br />
init/default/01_set_drlm_env.sh<br />
layout/prepare/default/01_prepare_files.sh<br />
output/default/01_set_umask.sh<br />
rescue/GNU/Linux/99_sysreqs.sh<br />
rescue/default/01_merge_skeletons.sh<br />
restore/default/99_move_away_restored_files.sh<br />
setup/default/01_pre_recovery_script.sh<br />
wrapup/default/99_copy_logfile.sh</p>
<p>â€”<br />
You are receiving this because you were mentioned.<br />
Reply to this email directly, view it on GitHub<br />
<a href="https://github.com/rear/rear/pull/1022#issuecomment-255676605">https://github.com/rear/rear/pull/1022#issuecomment-255676605</a>,
or mute<br />
the thread<br />
<a href="https://github.com/notifications/unsubscribe-auth/AAGMCJmaq2AVqAK2mk033xih9ZHytOSXks5q3Gm4gaJpZM4KNbNb">https://github.com/notifications/unsubscribe-auth/AAGMCJmaq2AVqAK2mk033xih9ZHytOSXks5q3Gm4gaJpZM4KNbNb</a><br />
.</p>
</blockquote>
<h4 id="jsmeix_commented_at_2016-10-26_1306"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/1022#issuecomment-256340978">2016-10-26 13:06</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-10-26_1306" title="Permanent link">&para;</a></h4>
<p>I cannot do a re-numbering with reasonable effort, see<br />
<a href="https://github.com/rear/rear/pull/1051#issuecomment-256338122">https://github.com/rear/rear/pull/1051#issuecomment-256338122</a></p>
<h4 id="jsmeix_commented_at_2016-10-27_1741"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/1022#issuecomment-256717458">2016-10-27 17:41</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-10-27_1741" title="Permanent link">&para;</a></h4>
<p>FYI:</p>
<p>The re-numbering is done now via<br />
<a href="https://github.com/rear/rear/pull/1053">https://github.com/rear/rear/pull/1053</a></p>
<p>Since I merged
<a href="https://github.com/rear/rear/pull/1053">https://github.com/rear/rear/pull/1053</a><br />
basically ALL scripts got a changed name<br />
from NM_name.sh to NM0_name.sh<br />
(except 00_name.sh that is now 005_name.sh)</p>
<p>This means you must update your working copy<br />
to the current master state otherwise I assume<br />
you will get big conflicts with further pull requests.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2026 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2016-10-04.1022.pr.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
