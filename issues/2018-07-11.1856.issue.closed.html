<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#1856 Issue closed: Fedora rear.spec: Remove needless use of %defattr - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#1856 Issue closed: Fedora rear.spec: Remove needless use of %defattr";
        var mkdocs_page_input_path = "issues/2018-07-11.1856.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#1856 Issue closed: Fedora rear.spec: Remove needless use of %defattr</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1856_issue_closed_fedora_rearspec_remove_needless_use_of_defattr"><a href="https://github.com/rear/rear/issues/1856">#1856 Issue</a> <code>closed</code>: Fedora rear.spec: Remove needless use of %defattr<a class="headerlink" href="#1856_issue_closed_fedora_rearspec_remove_needless_use_of_defattr" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>cleanup</code>, <code>not ReaR / invalid</code></p>
<h4 id="gdha_opened_issue_at_2018-07-11_0857"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> opened issue at <a href="https://github.com/rear/rear/issues/1856">2018-07-11 08:57</a>:<a class="headerlink" href="#gdha_opened_issue_at_2018-07-11_0857" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>ReaR version ("/usr/sbin/rear -V"): 2.4 and higher</p>
</li>
<li>
<p>OS version ("cat /etc/rear/os.conf" or "lsb_release -a" or "cat
    /etc/os-release"): fedora</p>
</li>
<li>
<p>Brief description of the issue: the <code>rear.spec</code> requires a minor
    cleanup according Fedora packager tibbs</p>
</li>
<li>
<p>Work-around, if any:
    <a href="https://src.fedoraproject.org/rpms/rear/c/d6fb8b91aa508e044a22eaeae787f5e7364e5118?branch=master">https://src.fedoraproject.org/rpms/rear/c/d6fb8b91aa508e044a22eaeae787f5e7364e5118?branch=master</a></p>
</li>
</ul>
<!-- -->

<pre><code>diff --git a/rear.spec b/rear.spec
index 5d9bdcb..1a67f3d 100644
--- a/rear.spec
+++ b/rear.spec
@@ -145,7 +145,6 @@ echo "30 1 * * * root /usr/sbin/rear checklayout || /usr/sbin/rear mkrescue" &gt;re
 %{__rm} -rf %{buildroot}

 %files
-%defattr(-, root, root, 0755)
 %doc MAINTAINERS COPYING README.adoc doc/*.txt
 %doc %{_mandir}/man8/rear.8*
 %config(noreplace) %{_sysconfdir}/cron.d/rear
</code></pre>
<p>Action: check the Fedora Packaging Guide what they have to say about it:
<a href="https://fedoraproject.org/wiki/Packaging:Guidelines#File_Permissions">https://fedoraproject.org/wiki/Packaging:Guidelines#File_Permissions</a></p>
<h4 id="gdha_commented_at_2018-07-11_0902"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1856#issuecomment-404097691">2018-07-11 09:02</a>:<a class="headerlink" href="#gdha_commented_at_2018-07-11_0902" title="Permanent link">&para;</a></h4>
<p>From the File Permissions section<br />
<a href="https://fedoraproject.org/wiki/Packaging:Guidelines#File_Permissions">https://fedoraproject.org/wiki/Packaging:Guidelines#File_Permissions</a></p>
<pre>
The default file mode is 0644 or 0755. Directories should be mode 0755.
Most well behaved build scripts and rpm will use these defaults.
If the directory needs to be group writable, it SHOULD also have
the setgid bit set so that files written there are owned by that group.
These directories SHOULD have mode 2775.

The %defattr directive in the %files list SHOULD ONLY be used
when setting a non-default value, or to reset to the default value
after having set a non-default value. 
</pre>

<h4 id="gdha_commented_at_2018-07-11_0903"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1856#issuecomment-404098187">2018-07-11 09:03</a>:<a class="headerlink" href="#gdha_commented_at_2018-07-11_0903" title="Permanent link">&para;</a></h4>
<p>@jsmeix The above statement is probably for RHEL based systems. The
question is now does this also applies to SLES based systems?</p>
<h4 id="jsmeix_commented_at_2018-07-11_0934"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1856#issuecomment-404107305">2018-07-11 09:34</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-07-11_0934" title="Permanent link">&para;</a></h4>
<p>See my
<a href="https://github.com/rear/rear/issues/1855#issuecomment-404100990">https://github.com/rear/rear/issues/1855#issuecomment-404100990</a></p>
<p>I think our ReaR upstream <code>rear.spec</code> is o.k. as long as our ReaR
upstream RPMs<br />
get built o.k. by the openSUSE build service for the various Linux
distributions.</p>
<p>FYI:<br />
My own <code>rear.spec</code> at<br />
<a href="https://build.opensuse.org/package/view_file/Archiving/rear/rear.spec?expand=1">https://build.opensuse.org/package/view_file/Archiving/rear/rear.spec?expand=1</a><br />
has</p>
<pre>
%defattr(-,root,root,-)
</pre>

<h4 id="jsmeix_commented_at_2018-07-11_1020"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1856#issuecomment-404120081">2018-07-11 10:20</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-07-11_1020" title="Permanent link">&para;</a></h4>
<p>As far as I see the "openSUSE:Specfile guidelines"<br />
<a href="https://en.opensuse.org/openSUSE:Specfile_guidelines">https://en.opensuse.org/openSUSE:Specfile_guidelines</a><br />
require that</p>
<pre>
Every %files section must include a %defattr(...) line.
</pre>

<p>see<br />
<a href="https://en.opensuse.org/openSUSE:Specfile_guidelines#Permissions">https://en.opensuse.org/openSUSE:Specfile_guidelines#Permissions</a></p>
<pre>
Permissions on files must be set properly.
Executables should be set with executable permissions, for example.
Every %files section must include a %defattr(...) line.
Here is a good default:

%files
%defattr(-,root,root)

Unless you have a very good reason to deviate from that,
you should use %defattr(-,root,root) for all %files sections
in your package.
You can use %defattr(-,root,root,0755) to fix permission issues
with directories. E.g. when an umask was too tight while unpacking. 
</pre>

<h4 id="jsmeix_commented_at_2018-07-11_1029"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1856#issuecomment-404122085">2018-07-11 10:29</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-07-11_1029" title="Permanent link">&para;</a></h4>
<p>I think this issue is not a ReaR upstream issue, cf.<br />
<a href="https://github.com/rear/rear/issues/1855#issuecomment-404100990">https://github.com/rear/rear/issues/1855#issuecomment-404100990</a></p>
<h4 id="jsmeix_commented_at_2018-07-16_1148"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1856#issuecomment-405222106">2018-07-16 11:48</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-07-16_1148" title="Permanent link">&para;</a></h4>
<p>@gdha<br />
provided you agree that this issue is not a ReaR upstream issue,<br />
can we close it or do you need it to be open for some time?</p>
<h4 id="gdha_commented_at_2018-07-17_0837"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1856#issuecomment-405505127">2018-07-17 08:37</a>:<a class="headerlink" href="#gdha_commented_at_2018-07-17_0837" title="Permanent link">&para;</a></h4>
<p>@jsmeix As OBS requires it I agree that we must keep it. We can close
this task.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2018-07-11.1856.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
