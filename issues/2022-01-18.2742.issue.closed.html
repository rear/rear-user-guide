<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2742 Issue closed: Backup failed due to Error in testing Recovery system in /tmp/.... (Fedora Rawhide) - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2742 Issue closed: Backup failed due to Error in testing Recovery system in /tmp/.... (Fedora Rawhide)";
        var mkdocs_page_input_path = "issues/2022-01-18.2742.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li class="breadcrumb-item active">#2742 Issue closed: Backup failed due to Error in testing Recovery system in /tmp/.... (Fedora Rawhide)</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2742_issue_closed_backup_failed_due_to_error_in_testing_recovery_system_in_tmp_fedora_rawhide"><a href="https://github.com/rear/rear/issues/2742">#2742 Issue</a> <code>closed</code>: Backup failed due to Error in testing Recovery system in /tmp/.... (Fedora Rawhide)<a class="headerlink" href="#2742_issue_closed_backup_failed_due_to_error_in_testing_recovery_system_in_tmp_fedora_rawhide" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>not ReaR / invalid</code></p>
<h4 id="greasymonkee_opened_issue_at_2022-01-18_0821"><img src="https://avatars.githubusercontent.com/u/13631259?v=4" width="50"><a href="https://github.com/GreasyMonkee">GreasyMonkee</a> opened issue at <a href="https://github.com/rear/rear/issues/2742">2022-01-18 08:21</a>:<a class="headerlink" href="#greasymonkee_opened_issue_at_2022-01-18_0821" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/rear/rear/files/7887157/rear-servnet.log">rear-servnet.log</a></p>
<h4 id="relax-and-recover_rear_issue_template">Relax-and-Recover (ReaR) Issue Template<a class="headerlink" href="#relax-and-recover_rear_issue_template" title="Permanent link">&para;</a></h4>
<p>Fill in the following items before submitting a new issue<br />
(quick response is not guaranteed with free support):</p>
<ul>
<li>
<p>ReaR version ("/usr/sbin/rear -V"): Relax-and-Recover 2.6 /
    2020-06-17</p>
</li>
<li>
<p>OS version ("cat /etc/os-release" or "lsb_release -a" or "cat
    /etc/rear/os.conf"): Fedora release 36 (Rawhide)</p>
</li>
<li>
<p>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
    /etc/rear/local.conf"): see attached file, rear.txt</p>
</li>
<li>
<p>Hardware vendor/product (PC or PowerNV BareMetal or ARM) or VM (KVM
    guest or PowerVM LPAR): HPE DL380P</p>
</li>
<li>
<p>System architecture (x86 compatible or PPC64/PPC64LE or what exact
    ARM device): x86 compatible</p>
</li>
<li>
<p>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or
    ELILO or Petitboot): BIOS, GRUB</p>
</li>
<li>
<p>Storage (local disk or SSD) and/or SAN (FC or iSCSI or FCoE) and/or
    multipath (DM or NVMe): USB drive</p>
</li>
<li>
<p>Storage layout ("lsblk -ipo
    NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,LABEL,SIZE,MOUNTPOINT"): see
    attached file, lsblk.txt</p>
</li>
<li>
<p>Description of the issue (ideally so that others can reproduce it):
    run /usr/sbin/rear -v mkbackup</p>
</li>
<li>
<p>Workaround, if any: None known</p>
</li>
<li>
<p>Attachments, as applicable ("rear -D mkbackup" debug log files):<br />
<a href="https://github.com/rear/rear/files/7887202/rear-servnet.log">rear-servnet.log</a><br />
<a href="https://github.com/rear/rear/files/7887337/rear.txt">rear.txt</a><br />
<a href="https://github.com/rear/rear/files/7887338/lsblk.txt">lsblk.txt</a></p>
</li>
</ul>
<p>To paste verbatim text like command output or file content,<br />
include it between a leading and a closing line of three backticks like</p>
<pre><code>```
problem has occurred after weekly upgrade, using "dnf upgrade", with multiple packages updated, including latest Rawhide Kernel.

No changes in config file were done, same external USB device as used for the previous week's backup.
```
</code></pre>
<h4 id="jsmeix_commented_at_2022-01-18_1041"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2742#issuecomment-1015285337">2022-01-18 10:41</a>:<a class="headerlink" href="#jsmeix_commented_at_2022-01-18_1041" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/rear/rear/files/7887202/rear-servnet.log">https://github.com/rear/rear/files/7887202/rear-servnet.log</a><br />
contains</p>
<pre><code>++ chroot /tmp/rear.72nSC6tc1CdkreF/rootfs /bin/bash -c true
chroot: failed to run command '/bin/bash': No such file or directory
...
BUG in /usr/share/rear/build/default/990_verify_rootfs.sh line 48:
ReaR recovery system in '/tmp/rear.72nSC6tc1CdkreF/rootfs' is broken: 'bash -c true' failed
...
Some latest log messages since the last called script 990_verify_rootfs.sh:
  2022-01-18 08:24:50.904093409 Including build/default/990_verify_rootfs.sh
  2022-01-18 08:24:50.907783481 Entering debugscript mode via ''set -x''.
  2022-01-18 08:24:50.918613967 Testing that the recovery system in /tmp/rear.72nSC6tc1CdkreF/rootfs contains a usable system
  chroot: failed to run command '/bin/bash': No such file or directory
</code></pre>
<p>so this looks as if there is no '/bin/bash' in the recovery system.</p>
<p><a href="https://github.com/rear/rear/files/7887202/rear-servnet.log">https://github.com/rear/rear/files/7887202/rear-servnet.log</a><br />
also contains</p>
<pre><code>2022-01-18 08:24:33.759201567 RequiredSharedObjects: Skipping 'ldd' for '/bin/bash' (owner 'apache' not in TRUSTED_FILE_OWNERS)
</code></pre>
<p>which looks rather wrong that 'apache' is owner of '/bin/bash'<br />
so this looks as if something may have gone rather wrong on the original
system?</p>
<p>@GreasyMonkee<br />
to inspect what your ReaR recovery system actually contains,<br />
see the description about "KEEP_BUILD_DIR"<br />
in usr/share/rear/conf/default.conf that is currently online at<br />
<a href="https://github.com/rear/rear/blob/master/usr/share/rear/conf/default.conf#L163">https://github.com/rear/rear/blob/master/usr/share/rear/conf/default.conf#L163</a></p>
<p>I.e. inspect what your recovery system in
/tmp/rear.72nSC6tc1CdkreF/rootfs<br />
actually contains in your case and test things therein via<br />
<code>chroot /tmp/rear.72nSC6tc1CdkreF/rootfs</code></p>
<h4 id="greasymonkee_commented_at_2022-01-18_1135"><img src="https://avatars.githubusercontent.com/u/13631259?v=4" width="50"><a href="https://github.com/GreasyMonkee">GreasyMonkee</a> commented at <a href="https://github.com/rear/rear/issues/2742#issuecomment-1015326867">2022-01-18 11:35</a>:<a class="headerlink" href="#greasymonkee_commented_at_2022-01-18_1135" title="Permanent link">&para;</a></h4>
<p>@jsmeix</p>
<p>Thanks, that explains it - I will need to roll back to the last
backed-up version to recover the original system.</p>
<p>Cheers.</p>
<h4 id="jsmeix_commented_at_2022-01-18_1239"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2742#issuecomment-1015371803">2022-01-18 12:39</a>:<a class="headerlink" href="#jsmeix_commented_at_2022-01-18_1239" title="Permanent link">&para;</a></h4>
<p>@GreasyMonkee<br />
I am not a Fedora / Red Hat user so what I wrote<br />
are only assumptions from what I noticed in your ReaR log file.<br />
Perhaps your original system is not totally broken<br />
and could be somehow fixed without a roll back.</p>
<p>Because this issue does not look like a bug in ReaR I close it.<br />
Nevertheless further comments can be added here as needed.</p>
<h4 id="greasymonkee_commented_at_2022-01-18_1715"><img src="https://avatars.githubusercontent.com/u/13631259?v=4" width="50"><a href="https://github.com/GreasyMonkee">GreasyMonkee</a> commented at <a href="https://github.com/rear/rear/issues/2742#issuecomment-1015634317">2022-01-18 17:15</a>:<a class="headerlink" href="#greasymonkee_commented_at_2022-01-18_1715" title="Permanent link">&para;</a></h4>
<p>Understood, I have reloaded from the backup, problem solved and have
done a<br />
further successful backup.</p>
<p>Many thanks for your quick and helpful response.</p>
<p>Cheers<br />
Garth.</p>
<p>On Tue, 18 Jan 2022, 13:39 Johannes Meixner, ***@***.***&gt;<br />
wrote:</p>
<blockquote>
<p>@GreasyMonkee
<a href="https://github.com/GreasyMonkee">https://github.com/GreasyMonkee</a><br />
I am not a Fedora / Red Hat user so what I wrote<br />
are only assumptions from what I noticed in your ReaR log file.<br />
Perhaps your original system is not totally broken<br />
and could be somehow fixed without a roll back.</p>
<p>Because this issue does not look like a bug in ReaR I close it.<br />
Nevertheless further comments can be added here as needed.</p>
<p>—<br />
Reply to this email directly, view it on GitHub<br />
<a href="https://github.com/rear/rear/issues/2742#issuecomment-1015371803">https://github.com/rear/rear/issues/2742#issuecomment-1015371803</a>,
or<br />
unsubscribe<br />
<a href="https://github.com/notifications/unsubscribe-auth/ADH76G5GKKK2OEFQ5OVL3KLUWVNQFANCNFSM5MGQA6TQ">https://github.com/notifications/unsubscribe-auth/ADH76G5GKKK2OEFQ5OVL3KLUWVNQFANCNFSM5MGQA6TQ</a><br />
.<br />
Triage notifications on the go with GitHub Mobile for iOS<br />
<a href="https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&amp;mt=8&amp;pt=524675">https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&amp;mt=8&amp;pt=524675</a><br />
or Android<br />
<a href="https://play.google.com/store/apps/details?id=com.github.android&amp;referrer=utm_campaign%3Dnotification-email%26utm_medium%3Demail%26utm_source%3Dgithub">https://play.google.com/store/apps/details?id=com.github.android&amp;referrer=utm_campaign%3Dnotification-email%26utm_medium%3Demail%26utm_source%3Dgithub</a>.</p>
<p>You are receiving this because you were mentioned.Message ID:<br />
***@***.***&gt;</p>
</blockquote>
<h4 id="jsmeix_commented_at_2022-01-19_1104"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2742#issuecomment-1016339161">2022-01-19 11:04</a>:<a class="headerlink" href="#jsmeix_commented_at_2022-01-19_1104" title="Permanent link">&para;</a></h4>
<p>@GreasyMonkee<br />
thank you for your feedback that it had worked for you.</p>
<p>I appreciate explicit positive feedback because it makes clear the
issue<br />
is actually solved (instead of only assuming "no news is good news").</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2023 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2022-01-18.2742.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
