<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#314 Issue closed: Log 'ERROR: BUG BUG BUG! Function get_version could not detect parted version - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#314 Issue closed: Log \u0027ERROR: BUG BUG BUG! Function get_version could not detect parted version";
        var mkdocs_page_input_path = "issues/2013-10-16.314.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#314 Issue closed: Log 'ERROR: BUG BUG BUG! Function get_version could not detect parted version</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="314_issue_closed_log_error_bug_bug_bug_function_get_version_could_not_detect_parted_version"><a href="https://github.com/rear/rear/issues/314">#314 Issue</a> <code>closed</code>: Log 'ERROR: BUG BUG BUG! Function get_version could not detect parted version<a class="headerlink" href="#314_issue_closed_log_error_bug_bug_bug_function_get_version_could_not_detect_parted_version" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code></p>
<h4 id="sirtow_opened_issue_at_2013-10-16_1905"><img src="https://avatars.githubusercontent.com/u/5099104?v=4" width="50"><a href="https://github.com/sirtow">sirtow</a> opened issue at <a href="https://github.com/rear/rear/issues/314">2013-10-16 19:05</a>:<a class="headerlink" href="#sirtow_opened_issue_at_2013-10-16_1905" title="Permanent link">&para;</a></h4>
<p>Hi, i'm just starting with rear .cloned from git and run usr/sbin/rear
-vD mkrescue<br />
As result i got the following :</p>
<pre><code>++ FEATURE_PARTED_OLDNAMING=
+++ get_version parted -v
+++ parted -v
+++ sed -rn 's/^[^0-9\.]*([0-9]+\.[-0-9a-z\.]+).*$/\1/p'
+++ head -1
++ parted_version=
++ [[ -n '' ]]
++ BugIfError 'Function get_version could not detect parted version.'
++ ((  1 != 0  ))
++ BugError 'Function get_version could not detect parted version.'
++ '[' Function get_version could not detect parted version. -eq Function get_version could not detect parted version. ']'
++ EXIT_CODE=1
++ Error 'BUG BUG BUG! ' 'Function get_version could not detect parted version.' '
=== Issue report ===
Please report this unexpected issue at: https://github.com/rear/rear/issues
Also include the relevant bits from /opt/rear/var/log/rear/rear-pluto.log
</code></pre>
<p>I have parted :</p>
<pre><code>rear # parted -v
parted (GNU parted) 1.9.0
Copyright (C) 2009 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Written by &lt;http://parted.alioth.debian.org/cgi-bin/trac.cgi/browser/AUTHORS&gt;.
</code></pre>
<p>seems that current regexp</p>
<pre><code>parted -v | sed -rn 's/^[^0-9\.]*([0-9]+\.[-0-9a-z\.]+).*$/\1/p'
</code></pre>
<p>cannot extract my parted version. Greatly appreciate your advice.</p>
<h4 id="gdha_commented_at_2013-10-17_1410"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/314#issuecomment-26508749">2013-10-17 14:10</a>:<a class="headerlink" href="#gdha_commented_at_2013-10-17_1410" title="Permanent link">&para;</a></h4>
<p>Just tried it out:</p>
<pre><code>$ cat /tmp/xx
parted (GNU parted) 1.9.0
Copyright (C) 2009 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Written by &lt;http://parted.alioth.debian.org/cgi-bin/trac.cgi/browser/AUTHORS&gt;.

$ cat /tmp/xx | sed -rn 's/^[^0-9\.]*([0-9]+\.[-0-9a-z\.]+).*$/\1/p'
1.9.0
</code></pre>
<p>Can you show the output it generates on your server?</p>
<h4 id="sirtow_commented_at_2013-10-17_1606"><img src="https://avatars.githubusercontent.com/u/5099104?v=4" width="50"><a href="https://github.com/sirtow">sirtow</a> commented at <a href="https://github.com/rear/rear/issues/314#issuecomment-26522058">2013-10-17 16:06</a>:<a class="headerlink" href="#sirtow_commented_at_2013-10-17_1606" title="Permanent link">&para;</a></h4>
<p>How did you generate your /tmp/xx? Anyway i run the following :</p>
<pre><code>pluto rear # parted -v &gt; /tmp/xx
pluto rear # cat /tmp/xx | sed -rn 's/^[^0-9\.]*([0-9]+\.[-0-9a-z\.]+).*$/\1/p'
pluto rear #
</code></pre>
<p>and my sed (just in case ) :</p>
<pre><code>pluto rear # sed --version
GNU sed version 4.2.1
</code></pre>
<p>also noticed that my /tmp/xx (generated by parted -v &gt; /tmp/xx) have
some escape seq :</p>
<pre><code>^[[?1034hparted (GNU parted) 1.9.0
Copyright (C) 2009 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Written by &lt;http://parted.alioth.debian.org/cgi-bin/trac.cgi/browser/AUTHORS&gt;.
</code></pre>
<h4 id="sirtow_commented_at_2013-10-17_1609"><img src="https://avatars.githubusercontent.com/u/5099104?v=4" width="50"><a href="https://github.com/sirtow">sirtow</a> commented at <a href="https://github.com/rear/rear/issues/314#issuecomment-26522383">2013-10-17 16:09</a>:<a class="headerlink" href="#sirtow_commented_at_2013-10-17_1609" title="Permanent link">&para;</a></h4>
<p>It seems related to<br />
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=304181">https://bugzilla.redhat.com/show_bug.cgi?id=304181</a><br />
and<br />
<a href="http://www.incenp.org/notes/2012/python-term-smm-fix.html">http://www.incenp.org/notes/2012/python-term-smm-fix.html</a></p>
<h4 id="gdha_commented_at_2013-10-18_1110"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/314#issuecomment-26587728">2013-10-18 11:10</a>:<a class="headerlink" href="#gdha_commented_at_2013-10-18_1110" title="Permanent link">&para;</a></h4>
<p>Interesting links - thanks. Did you try it out already?</p>
<pre><code>TERM=dumb parted -v &gt; /tmp/xx
od -a /tmp/xx
</code></pre>
<h4 id="sirtow_commented_at_2013-10-18_1405"><img src="https://avatars.githubusercontent.com/u/5099104?v=4" width="50"><a href="https://github.com/sirtow">sirtow</a> commented at <a href="https://github.com/rear/rear/issues/314#issuecomment-26598020">2013-10-18 14:05</a>:<a class="headerlink" href="#sirtow_commented_at_2013-10-18_1405" title="Permanent link">&para;</a></h4>
<p>I'm still trying to figure out the root cause. Changing the terminal
string did help. I was able to run rear but of course it broke my
terminal (putty).<br />
So the problem remains :)</p>
<h4 id="gdha_commented_at_2013-10-18_1442"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/314#issuecomment-26601075">2013-10-18 14:42</a>:<a class="headerlink" href="#gdha_commented_at_2013-10-18_1442" title="Permanent link">&para;</a></h4>
<p>And, if you do like this?</p>
<pre><code># export TERM=vt100
# parted -v
GNU Parted 1.8.1
# TERM=dumb parted -v &gt; /tmp/xx
# od -a /tmp/xx
0000000   G   N   U  sp   P   a   r   t   e   d  sp   1   .   8   .   1
0000020  nl
0000021
# echo $TERM
vt100
</code></pre>
<h4 id="sirtow_commented_at_2013-10-18_1506"><img src="https://avatars.githubusercontent.com/u/5099104?v=4" width="50"><a href="https://github.com/sirtow">sirtow</a> commented at <a href="https://github.com/rear/rear/issues/314#issuecomment-26603120">2013-10-18 15:06</a>:<a class="headerlink" href="#sirtow_commented_at_2013-10-18_1506" title="Permanent link">&para;</a></h4>
<p>Here it is. Seems ok</p>
<pre><code>pluto rear # echo $TERM
xterm
pluto rear # TERM=dumb  parted -v | od -a
0000000   p   a   r   t   e   d  sp   (   G   N   U  sp   p   a   r   t
0000020   e   d   )  sp   1   .   9   .   0  nl   C   o   p   y   r   i
0000040   g   h   t  sp   (   C   )  sp   2   0   0   9  sp   F   r   e
0000060   e  sp   S   o   f   t   w   a   r   e  sp   F   o   u   n   d
0000100   a   t   i   o   n   ,  sp   I   n   c   .  nl   L   i   c   e
0000120   n   s   e  sp   G   P   L   v   3   +   :  sp   G   N   U  sp
0000140   G   P   L  sp   v   e   r   s   i   o   n  sp   3  sp   o   r
0000160  sp   l   a   t   e   r  sp   &lt;   h   t   t   p   :   /   /   g
0000200   n   u   .   o   r   g   /   l   i   c   e   n   s   e   s   /
0000220   g   p   l   .   h   t   m   l   &gt;   .  nl   T   h   i   s  sp
0000240   i   s  sp   f   r   e   e  sp   s   o   f   t   w   a   r   e
0000260   :  sp   y   o   u  sp   a   r   e  sp   f   r   e   e  sp   t
0000300   o  sp   c   h   a   n   g   e  sp   a   n   d  sp   r   e   d
0000320   i   s   t   r   i   b   u   t   e  sp   i   t   .  nl   T   h
0000340   e   r   e  sp   i   s  sp   N   O  sp   W   A   R   R   A   N
0000360   T   Y   ,  sp   t   o  sp   t   h   e  sp   e   x   t   e   n
0000400   t  sp   p   e   r   m   i   t   t   e   d  sp   b   y  sp   l
0000420   a   w   .  nl  nl   W   r   i   t   t   e   n  sp   b   y  sp
0000440   &lt;   h   t   t   p   :   /   /   p   a   r   t   e   d   .   a
0000460   l   i   o   t   h   .   d   e   b   i   a   n   .   o   r   g
0000500   /   c   g   i   -   b   i   n   /   t   r   a   c   .   c   g
0000520   i   /   b   r   o   w   s   e   r   /   A   U   T   H   O   R
0000540   S   &gt;   .  nl
0000544
pluto rear # echo $TERM
xterm
</code></pre>
<h4 id="gdha_commented_at_2013-10-25_1312"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/314#issuecomment-27090736">2013-10-25 13:12</a>:<a class="headerlink" href="#gdha_commented_at_2013-10-25_1312" title="Permanent link">&para;</a></h4>
<p>@sirtow could you try the latest snapshot version?<br />
URL:
<a href="http://download.opensuse.org/repositories/Archiving:/Backup:/Rear:/Snapshot/">http://download.opensuse.org/repositories/Archiving:/Backup:/Rear:/Snapshot/</a></p>
<h4 id="sirtow_commented_at_2013-10-25_1449"><img src="https://avatars.githubusercontent.com/u/5099104?v=4" width="50"><a href="https://github.com/sirtow">sirtow</a> commented at <a href="https://github.com/rear/rear/issues/314#issuecomment-27098438">2013-10-25 14:49</a>:<a class="headerlink" href="#sirtow_commented_at_2013-10-25_1449" title="Permanent link">&para;</a></h4>
<p>Just did git pull and it seems working.<br />
Big thanks for the support!!!!</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2013-10-16.314.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
