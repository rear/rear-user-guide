<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#596 Issue closed: Cannot boot recovery iso on Debian 8: Failed to load ldlinux.c32 - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#596 Issue closed: Cannot boot recovery iso on Debian 8: Failed to load ldlinux.c32";
        var mkdocs_page_input_path = "issues/2015-06-09.596.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#596 Issue closed: Cannot boot recovery iso on Debian 8: Failed to load ldlinux.c32</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="596_issue_closed_cannot_boot_recovery_iso_on_debian_8_failed_to_load_ldlinuxc32"><a href="https://github.com/rear/rear/issues/596">#596 Issue</a> <code>closed</code>: Cannot boot recovery iso on Debian 8: Failed to load ldlinux.c32<a class="headerlink" href="#596_issue_closed_cannot_boot_recovery_iso_on_debian_8_failed_to_load_ldlinuxc32" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>bug</code>, <code>waiting for info</code></p>
<h4 id="rpasche_opened_issue_at_2015-06-09_1255"><img src="https://avatars.githubusercontent.com/u/12664472?u=7d93437b713d9a1a67b448b34f2c0a6576a0930e&v=4" width="50"><a href="https://github.com/rpasche">rpasche</a> opened issue at <a href="https://github.com/rear/rear/issues/596">2015-06-09 12:55</a>:<a class="headerlink" href="#rpasche_opened_issue_at_2015-06-09_1255" title="Permanent link">&para;</a></h4>
<p>Hi,</p>
<p>Debian wheezy used syslinux &lt; 5 but Debian Jessie uses syslinux &gt;
5, so you need to load additional modules (ldlinux.c32) when using
"isolinux.bin".<br />
Also, in Jessie, "isolinux.bin" is no longer included in "syslinux" or
"syslinux-common", but now in extra package "isolinux". And, the path
for the file is "/usr/lib/ISOLINUX", thus, SYSLINUX_DIR will be
"/usr/lib/ISOLINUX" not finding needed modules. But also, the needed
module "ldlinux.c32" is NOT in /usr/lib/syslinux but in
/usr/lib/syslinux/modules/bios.</p>
<p>Creating a symlink within "/usr/lib/ISOLINUX" fixes this problem</p>
<p>root@jessie-test1:/usr/lib/ISOLINUX# ls -l<br />
total 48<br />
-rw-r--r-- 1 root root 432 Jan 7 07:53 isohdpfx.bin<br />
-rw-r--r-- 1 root root 432 Jan 7 07:53 isohdppx.bin<br />
-rw-r--r-- 1 root root 40960 Jan 7 07:53 isolinux.bin<br />
lrwxrwxrwx 1 root root 42 Jun 8 15:31 ldlinux.c32 -&gt;
/usr/lib/syslinux/modules/bios/ldlinux.c32<br />
root@jessie-test1:/usr/lib/ISOLINUX#</p>
<p>But furthermore, the file "ldlinux.c32" is a "requirement", not an
option, so "rear" should exit with an error, so this "missing" is
recognized.</p>
<p><a href="http://www.syslinux.org/wiki/index.php/Library_modules">http://www.syslinux.org/wiki/index.php/Library_modules</a></p>
<h4 id="gdha_commented_at_2015-06-09_1318"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/596#issuecomment-110354162">2015-06-09 13:18</a>:<a class="headerlink" href="#gdha_commented_at_2015-06-09_1318" title="Permanent link">&para;</a></h4>
<p>See also #584 - the new paths are in the meantime known. However, the
<code>ldlinux.c32</code> requirement is new for me.</p>
<h4 id="rpasche_commented_at_2015-06-09_1331"><img src="https://avatars.githubusercontent.com/u/12664472?u=7d93437b713d9a1a67b448b34f2c0a6576a0930e&v=4" width="50"><a href="https://github.com/rpasche">rpasche</a> commented at <a href="https://github.com/rear/rear/issues/596#issuecomment-110358374">2015-06-09 13:31</a>:<a class="headerlink" href="#rpasche_commented_at_2015-06-09_1331" title="Permanent link">&para;</a></h4>
<p>Was also new to me. Found the bug yesterday, when I tested rear on
Debian 8</p>
<h4 id="abbbi_commented_at_2015-06-10_1230"><img src="https://avatars.githubusercontent.com/u/3919561?u=473291dd3dbd58fd0af45714935992a3d416aa6e&v=4" width="50"><a href="https://github.com/abbbi">abbbi</a> commented at <a href="https://github.com/rear/rear/issues/596#issuecomment-110731392">2015-06-10 12:30</a>:<a class="headerlink" href="#abbbi_commented_at_2015-06-10_1230" title="Permanent link">&para;</a></h4>
<p>hi,<br />
as a workaround in order to get it working with a proper menu you also
have to symlink:</p>
<p>'chain.c32','hdt.c32','ldlinux.c32','libutil.c32','menu.c32'</p>
<p>was it able to setup the networking in your case? It seems like it
doesnt load the kernel<br />
module for the network card (e1000 in my case).</p>
<p>The cause of hte Problem seems to be that on debian jessie there is no
persistent<br />
networking configuration file in /etc/udev/rules.d anymore, as such
55-migrate-network-service.sh fails</p>
<h4 id="abbbi_commented_at_2015-06-10_1334"><img src="https://avatars.githubusercontent.com/u/3919561?u=473291dd3dbd58fd0af45714935992a3d416aa6e&v=4" width="50"><a href="https://github.com/abbbi">abbbi</a> commented at <a href="https://github.com/rear/rear/issues/596#issuecomment-110754210">2015-06-10 13:34</a>:<a class="headerlink" href="#abbbi_commented_at_2015-06-10_1334" title="Permanent link">&para;</a></h4>
<p>hi again,</p>
<p>i just tried recovering a jessie system with default installation (just
using the entire first disk), it seems to have troubles recreating the
extended partition, the original system looks like:</p>
<pre><code>Disk /dev/sda: 10 GiB, 10737418240 bytes, 20971520 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x1dcbae11

Device     Boot    Start      End  Sectors  Size Id Type
/dev/sda1  *        2048 20013055 20011008  9,6G 83 Linux
/dev/sda2       20015102 20969471   954370  466M  5 Extended
/dev/sda5       20015104 20969471   954368  466M 82 Linux swap / Solaris
</code></pre>
<p>during recovery:</p>
<pre><code>+++ echo '2015-06-10 15:30:04 Creating partitions for disk /dev/sdb (msdos)'
2015-06-10 15:30:04 Creating partitions for disk /dev/sdb (msdos)
+++ Print 'Creating partitions for disk /dev/sdb (msdos)'
+++ test 1
+++ echo -e 'Creating partitions for disk /dev/sdb (msdos)'
+++ my_udevsettle
+++ has_binary udevadm
+++ for bin in '$@'
+++ type udevadm
+++ return 0
+++ udevadm settle
+++ parted -s /dev/sdb mklabel msdos
+++ my_udevsettle
+++ has_binary udevadm
+++ for bin in '$@'
+++ type udevadm
+++ return 0
+++ udevadm settle
+++ my_udevsettle
+++ has_binary udevadm
+++ for bin in '$@'
+++ type udevadm
+++ return 0
+++ udevadm settle
+++ parted -s /dev/sdb mkpart '"primary"' 2097152B 2149580798B
+++ my_udevsettle
+++ has_binary udevadm
+++ for bin in '$@'
+++ type udevadm
+++ return 0
+++ udevadm settle
+++ my_udevsettle
+++ has_binary udevadm
+++ for bin in '$@'
+++ type udevadm
+++ return 0
+++ udevadm settle
+++ parted -s /dev/sdb set 1 boot on
+++ my_udevsettle
+++ has_binary udevadm
+++ for bin in '$@'
+++ type udevadm
+++ return 0
+++ udevadm settle
+++ my_udevsettle
+++ has_binary udevadm
+++ for bin in '$@'
+++ type udevadm
+++ return 0
+++ udevadm settle
+++ parted -s /dev/sdb mkpart '"extended"' 2147483647B 12884901887B
Error: You requested a partition from 2147MB to 12.9GB (sectors 4194303..25165823).
The closest location we can manage is 2150MB to 12.9GB (sectors 4198400..25165823).
</code></pre>
<p>dikslayout.conf:</p>
<pre>
disk /dev/sda 10737418240 msdos
part /dev/sda 10245636096 1048576 primary boot /dev/sda1
part /dev/sda 1024 10247732224 extended none /dev/sda2
part /dev/sda 488636416 10247733248 logical none /dev/sda5
# Filesystems (only ext2,ext3,ext4,vfat,xfs,reiserfs,btrfs are supported).
# Format: fs device mountpoint fstype [uuid=uuid] [label=label] [attributes]
fs /dev/sda1 / ext4 uuid=1e3af026-42c3-4ba1-b986-c9aad0e8c190 label= blocksize=4096 reserved_blocks=4% max_mounts=-1 check_interval=0d bytes_per_inode=16370 default_mount_options=user_xattr,acl options=rw,relatime,errors=remount-ro,data=ordered
swap /dev/sda5 uuid=f63b1615-530e-4e03-a139-3364af069448 label=
</pre>

<pre>
abi@cefix:~$ cat /tmp/disklayout.conf 
disk /dev/sda 10737418240 msdos
part /dev/sda 10245636096 1048576 primary boot /dev/sda1
part /dev/sda 1024 10247732224 extended none /dev/sda2
part /dev/sda 488636416 10247733248 logical none /dev/sda5
# Filesystems (only ext2,ext3,ext4,vfat,xfs,reiserfs,btrfs are supported).
# Format: fs device mountpoint fstype [uuid=uuid] [label=label] [attributes]
fs /dev/sda1 / ext4 uuid=1e3af026-42c3-4ba1-b986-c9aad0e8c190 label= blocksize=4096 reserved_blocks=4% max_mounts=-1 check_interval=0d bytes_per_inode=16370 default_mount_options=user_xattr,acl options=rw,relatime,errors=remount-ro,data=ordered
swap /dev/sda5 uuid=f63b1615-530e-4e03-a139-3364af069448 label=
</pre>

<h4 id="rpasche_commented_at_2015-06-10_1407"><img src="https://avatars.githubusercontent.com/u/12664472?u=7d93437b713d9a1a67b448b34f2c0a6576a0930e&v=4" width="50"><a href="https://github.com/rpasche">rpasche</a> commented at <a href="https://github.com/rear/rear/issues/596#issuecomment-110767337">2015-06-10 14:07</a>:<a class="headerlink" href="#rpasche_commented_at_2015-06-10_1407" title="Permanent link">&para;</a></h4>
<p>I will test my recovery again.</p>
<p>We use a lot of LVM, and I think, my testsystem has been recreated
properly (as far as I can remember). Also have to note, that this was a
VM, not a physical machine.</p>
<h4 id="rpasche_commented_at_2015-06-10_1428"><img src="https://avatars.githubusercontent.com/u/12664472?u=7d93437b713d9a1a67b448b34f2c0a6576a0930e&v=4" width="50"><a href="https://github.com/rpasche">rpasche</a> commented at <a href="https://github.com/rear/rear/issues/596#issuecomment-110774120">2015-06-10 14:28</a>:<a class="headerlink" href="#rpasche_commented_at_2015-06-10_1428" title="Permanent link">&para;</a></h4>
<p>OK. My recovery just worked. System is up and running fine. I would have
to dig deeper to verify, that everything is really ok. But for the first
sight, all good.<br />
<img alt="boot_menu" src="https://cloud.githubusercontent.com/assets/12664472/8084878/a956d1aa-0f8d-11e5-8c0a-d9694503314c.PNG" /><br />
<img alt="start_recover" src="https://cloud.githubusercontent.com/assets/12664472/8084882/ac600402-0f8d-11e5-9c98-9ebc4cbf8c56.PNG" /><br />
<img alt="finished_recovery" src="https://cloud.githubusercontent.com/assets/12664472/8084886/af07f07a-0f8d-11e5-853f-8c6e9bde97e5.PNG" /></p>
<h4 id="gdha_commented_at_2015-06-12_1916"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/596#issuecomment-111592832">2015-06-12 19:16</a>:<a class="headerlink" href="#gdha_commented_at_2015-06-12_1916" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/rear/rear/commit/635f5cb844c5208e495bcf2b6d8844551fc38632">https://github.com/rear/rear/commit/635f5cb844c5208e495bcf2b6d8844551fc38632</a>
should fix the ldlinux.c32 issue and the menu's are back.</p>
<h4 id="rpasche_commented_at_2015-06-12_2036"><img src="https://avatars.githubusercontent.com/u/12664472?u=7d93437b713d9a1a67b448b34f2c0a6576a0930e&v=4" width="50"><a href="https://github.com/rpasche">rpasche</a> commented at <a href="https://github.com/rear/rear/issues/596#issuecomment-111607182">2015-06-12 20:36</a>:<a class="headerlink" href="#rpasche_commented_at_2015-06-12_2036" title="Permanent link">&para;</a></h4>
<p>I will try it next time I'm in the office.</p>
<h4 id="rpasche_commented_at_2015-06-30_0946"><img src="https://avatars.githubusercontent.com/u/12664472?u=7d93437b713d9a1a67b448b34f2c0a6576a0930e&v=4" width="50"><a href="https://github.com/rpasche">rpasche</a> commented at <a href="https://github.com/rear/rear/issues/596#issuecomment-117098675">2015-06-30 09:46</a>:<a class="headerlink" href="#rpasche_commented_at_2015-06-30_0946" title="Permanent link">&para;</a></h4>
<p>Sorry for the long delay. For now, I can confirm, that the recovery boot
menu is loaded correctly. But now, I have a strange problem with my test
VM, that is loading some drivers, which are not needed. One of them is
"drbd", that caused my recovery test to fail, because the disklayout has
changed (drbd is loaded first and therefore shoes /dev/sda as a 8 MB
disk.</p>
<p>I have to investigate, why the hell the VM is loaded this driver. No
clue</p>
<p>I also tried to blacklist the driver but had no luck yet.</p>
<h4 id="gdha_commented_at_2015-06-30_1022"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/596#issuecomment-117115355">2015-06-30 10:22</a>:<a class="headerlink" href="#gdha_commented_at_2015-06-30_1022" title="Permanent link">&para;</a></h4>
<p>@rpasche Ok thank you for the confirmation - I would rather close this
issue - and if your new problem is persistent (?) I would prefer that
you open a new issue.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2015-06-09.596.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
