<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>2017 09 21.1508.issue.closed - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "2017 09 21.1508.issue.closed";
        var mkdocs_page_input_path = "issues/2017-09-21.1508.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/rust.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', '366986045', 'auto');
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li>2017 09 21.1508.issue.closed</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1508_issue_closed_netfs_backup_with_local_path_fails"><a href="https://github.com/rear/rear/issues/1508">#1508 Issue</a> <code>closed</code>: NETFS Backup with local path fails<a class="headerlink" href="#1508_issue_closed_netfs_backup_with_local_path_fails" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>won't fix / can't fix / obsolete</code></p>
<h4 id="noelzen_opened_issue_at_2017-09-21_0904"><img src="https://avatars.githubusercontent.com/u/7421223?v=4" width="50"><a href="https://github.com/NoelzeN">NoelzeN</a> opened issue at <a href="https://github.com/rear/rear/issues/1508">2017-09-21 09:04</a>:<a class="headerlink" href="#noelzen_opened_issue_at_2017-09-21_0904" title="Permanent link">&para;</a></h4>
<p>Hi,<br />
I try to do a local backup with rear which I then want to copy to
another location with rsync (Together with other files that's why I
don't want to use a remote storage in rear directly).<br />
However the backup fails with the following error:</p>
<blockquote>
<p>ERROR: URL 'file:///var/backup/fullbackup/actualbackup' has the backup
directory '/var/backup/fullbackup/actualbackup' in the '/' filesystem
which is forbidden.</p>
</blockquote>
<p>I've seen some reports about that but all got closed and seem to get
resolved, however for some reason it is not working for me. Below please
see my local.conf:</p>
<pre><code>OUTPUT=ISO
OUTPUT_URL=file:///var/backup/fullbackup
BACKUP=NETFS
BACKUP_URL=file:///var/backup/fullbackup/actualbackup
BACKUP_PROG_EXCLUDE=( "${BACKUP_PROG_EXCLUDE[@]}" '/var/backup/fullbackup' '/proc' '/tmp' )
</code></pre>
<p>I compiled an rpm from the latest github code and installed it so I
should have the most recent rear version:</p>
<pre><code># rpm -qa | grep rear
rear-2.2-1.git.2502.d8550a0.master.el7.centos.x86_64
</code></pre>
<p>Would be great if you could let me know whether it should work with the
most recent version (Which seems to be the case from what I read in the
other Bug reports about this) and I'm simply stupid or whether there
might still be some bug in the code.</p>
<p>Running rear in debug mode I get this (last 300 lines of logfile):<br />
<a href="https://pastebin.com/517CnpTc">https://pastebin.com/517CnpTc</a></p>
<h4 id="dcz01_commented_at_2017-09-21_0914"><img src="https://avatars.githubusercontent.com/u/20817288?v=4" width="50"><a href="https://github.com/dcz01">dcz01</a> commented at <a href="https://github.com/rear/rear/issues/1508#issuecomment-331099951">2017-09-21 09:14</a>:<a class="headerlink" href="#dcz01_commented_at_2017-09-21_0914" title="Permanent link">&para;</a></h4>
<p>Hi NoelzeN,<br />
this error is normal because it is not intended to backup a system on
the same machine.<br />
In this case you would have nothing to restore when the machine dies or
the hhds/raid fail.</p>
<h4 id="noelzen_commented_at_2017-09-21_0917"><img src="https://avatars.githubusercontent.com/u/7421223?v=4" width="50"><a href="https://github.com/NoelzeN">NoelzeN</a> commented at <a href="https://github.com/rear/rear/issues/1508#issuecomment-331100542">2017-09-21 09:17</a>:<a class="headerlink" href="#noelzen_commented_at_2017-09-21_0917" title="Permanent link">&para;</a></h4>
<p>Thanks, that makes sense, though I copy the files directly after the
backup via rsync, just together with some other backup files like sql
dumps. So there is no way to force this? Maybe this should be a warning
instead of an error?</p>
<h4 id="gdha_commented_at_2017-09-21_0926"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1508#issuecomment-331102752">2017-09-21 09:26</a>:<a class="headerlink" href="#gdha_commented_at_2017-09-21_0926" title="Permanent link">&para;</a></h4>
<p>@NoelzeN why not using <code>BACKUP=rsync</code> method directly?</p>
<h4 id="noelzen_commented_at_2017-09-21_0930"><img src="https://avatars.githubusercontent.com/u/7421223?v=4" width="50"><a href="https://github.com/NoelzeN">NoelzeN</a> commented at <a href="https://github.com/rear/rear/issues/1508#issuecomment-331103814">2017-09-21 09:30</a>:<a class="headerlink" href="#noelzen_commented_at_2017-09-21_0930" title="Permanent link">&para;</a></h4>
<p>@gdha good question :) maybe I should do that. Though it'd still be
interesting whether this could be put as a warning instead of an error
(Like bad idea, but there might be some reason why you're doing this so
if you can take the risk, go ahead)</p>
<h4 id="jsmeix_commented_at_2017-09-22_1030"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1508#issuecomment-331411785">2017-09-22 10:30</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-09-22_1030" title="Permanent link">&para;</a></h4>
<p>@NoelzeN<br />
in general ReaR code is meant that the user can adapt<br />
and enhace it as he needs it for his particular use case<br />
so that for your particular use case you could change in<br />
usr/share/rear/prep/NETFS/default/400_automatic_exclude_recreate.sh<br />
that 'Error' into what you like e.g. a 'LogPrint' or alternatively<br />
when you use ReaR GitHub master code into 'LogPrintError'<br />
(cf. usr/share/rear/lib/_input-output-functions.sh).</p>
<p>Because that 'Error' exit is intentionally there to force the user<br />
to do something in this case we won't change it into a message.</p>
<p>FYI:<br />
In general we like to avoid warnings as much as possible, cf.<br />
<a href="http://blog.schlomo.schapiro.org/2015/04/warning-is-waste-of-my-time.html">http://blog.schlomo.schapiro.org/2015/04/warning-is-waste-of-my-time.html</a></p>
<p>I think the issue is sufficiently answered so that I close it<br />
but one can still add comments (even when it is closed).</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2022 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2017-09-21.1508.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
