<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#506 Issue closed: cannot recover, ERROR mount command AND INIT: cannot execute “/sbin/mingetty” - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#506 Issue closed: cannot recover, ERROR mount command AND INIT: cannot execute \u201c/sbin/mingetty\u201d";
        var mkdocs_page_input_path = "issues/2014-11-11.506.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#506 Issue closed: cannot recover, ERROR mount command AND INIT: cannot execute “/sbin/mingetty”</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="506_issue_closed_cannot_recover_error_mount_command_and_init_cannot_execute_sbinmingetty"><a href="https://github.com/rear/rear/issues/506">#506 Issue</a> <code>closed</code>: cannot recover, ERROR mount command AND INIT: cannot execute “/sbin/mingetty”<a class="headerlink" href="#506_issue_closed_cannot_recover_error_mount_command_and_init_cannot_execute_sbinmingetty" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code></p>
<h4 id="nelteren_opened_issue_at_2014-11-11_2047"><img src="https://avatars.githubusercontent.com/u/9682585?v=4" width="50"><a href="https://github.com/nelteren">nelteren</a> opened issue at <a href="https://github.com/rear/rear/issues/506">2014-11-11 20:47</a>:<a class="headerlink" href="#nelteren_opened_issue_at_2014-11-11_2047" title="Permanent link">&para;</a></h4>
<p>Daily I made a backup with rear of all our linux host. Works fine and I
can recover all hosts, except one.</p>
<p>I made a lab configuration for testing the recovery, VMWare with a nfs
server for storing the backups</p>
<p>I get the error:<br />
I mount the ISO and start automatic recovery<br />
ERROR mount command ‘ mount –v –t nfs –o rw, notime
xxx.xxx.xxx.xxx/rear/dest failed<br />
Check rear-s03.log for details</p>
<p>But on other host with rear recovery I can mount this path with no
problems</p>
<p>Furthermore I cannot go to option 2. Go to Relax and Reccover shell.
There I get errors,<br />
INIT: cannot execute “/sbin/mingetty”<br />
INIT: ID “t3” respawning too fast: disabled for 5 minutes</p>
<p>Local.conf<br />
OUTPUT=ISO<br />
BACKUP=NETFS<br />
BACKUP_URL=nfs://xxx.xxx.xxx.xxx/rear/s03.net-products.nl/odd</p>
<p>(I have a destination for odd and even days)</p>
<p>os.conf<br />
OS_VENDOR='Debian'<br />
OS_VERSION='4.3.5-4'</p>
<p>Last part of rear.log<br />
2014-11-09 08:13:55 Copying kernel<br />
<code>/boot/vmlinuz-2.6.32-5-amd64' -&gt;</code>/tmp/rear.0FzkvZFgDgkUdbB/tmp/isofs/isolinux/kernel'<br />
<code>/tmp/rear.0FzkvZFgDgkUdbB/tmp/initrd.cgz' -&gt;</code>/tmp/rear.0FzkvZFgDgkUdbB/tmp/isofs/isolinux/initrd.cgz'<br />
2014-11-09 08:13:55 Including
output/ISO/Linux-i386/81_prepare_multiple_iso.sh<br />
2014-11-09 08:13:55 Including
output/ISO/Linux-i386/82_create_iso_image.sh<br />
2014-11-09 08:13:55 Starting '/usr/bin/genisoimage'<br />
2014-11-09 08:13:55 Making ISO image<br />
genisoimage 1.1.11 (Linux)<br />
Scanning .<br />
Scanning ./isolinux<br />
29 360<br />
30 1722 isolinux<br />
Cache hit for 'isolinux/.'<br />
Cache hit for 'isolinux/..'<br />
29 29 ./.<br />
29 29 (null)<br />
30 30 ./isolinux<br />
34 34 ./isolinux/TRANS.TBL<br />
47 56 ./isolinux/chain.c32<br />
57 191 ./isolinux/hdt.c32<br />
192 13722 ./isolinux/initrd.cgz<br />
35 46 ./isolinux/isolinux.bin<br />
13723 13724 ./isolinux/isolinux.cfg<br />
13725 14908 ./isolinux/kernel<br />
14909 14938 ./isolinux/menu.c32<br />
14939 14939 ./isolinux/message<br />
14940 14940 ./isolinux/poweroff.com<br />
14941 14941 ./isolinux/rear.help<br />
14942 14942 ./isolinux/reboot.c32<br />
Writing: Initial Padblock Start Block 0<br />
Done with: Initial Padblock Block(s) 16<br />
Writing: Primary Volume Descriptor Start Block 16<br />
Done with: Primary Volume Descriptor Block(s) 1<br />
Writing: Eltorito Volume Descriptor Start Block 17<br />
Size of boot image is 4 sectors -&gt; No emulation<br />
Done with: Eltorito Volume Descriptor Block(s) 1<br />
Writing: Joliet Volume Descriptor Start Block 18<br />
Done with: Joliet Volume Descriptor Block(s) 1<br />
Writing: End Volume Descriptor Start Block 19<br />
Done with: End Volume Descriptor Block(s) 1<br />
Writing: Version block Start Block 20<br />
Done with: Version block Block(s) 1<br />
Writing: Path table Start Block 21<br />
Done with: Path table Block(s) 4<br />
Writing: Joliet path table Start Block 25<br />
Done with: Joliet path table Block(s) 4<br />
Writing: Directory tree Start Block 29<br />
Done with: Directory tree Block(s) 2<br />
Writing: Joliet directory tree Start Block 31<br />
Done with: Joliet directory tree Block(s) 2<br />
Writing: Directory tree cleanup Start Block 33<br />
Done with: Directory tree cleanup Block(s) 0<br />
Writing: Extension record Start Block 33<br />
Done with: Extension record Block(s) 1<br />
Writing: The File(s) Start Block 34<br />
Total extents scheduled to be written = 15093<br />
33.18% done, estimate finish Sun Nov 9 08:13:55 2014<br />
66.26% done, estimate finish Sun Nov 9 08:13:55 2014<br />
Total translation table size: 2048<br />
Total rockridge attributes bytes: 1357<br />
Total directory bytes: 2408<br />
Path table size(bytes): 26<br />
Done with: The File(s) Block(s) 14909<br />
Writing: Ending Padblock Start Block 14943<br />
Done with: Ending Padblock Block(s) 150<br />
Max brk space used 0<br />
15093 extents written (29 MB)<br />
2014-11-09 08:13:55 Wrote ISO image: /var/lib/rear/output/rear-s03.iso
(30M)<br />
2014-11-09 08:13:55 Including
output/ISO/Linux-i386/85_check_for_errors.sh<br />
2014-11-09 08:13:55 Including output/default/94_grub_rescue.sh<br />
2014-11-09 08:13:55 Including
output/default/95_copy_result_files.sh<br />
2014-11-09 08:13:55 Copying resulting files to nfs location<br />
2014-11-09 08:13:55 Copying files '/var/lib/rear/output/rear-s03.iso' to
nfs location<br />
<code>/var/lib/rear/output/rear-s03.iso' -&gt;</code>/tmp/rear.0FzkvZFgDgkUdbB/outputfs/s03/rear-s03.iso'<br />
<code>/usr/share/rear/conf/templates/RESULT_usage_ISO.txt' -&gt;</code>/tmp/rear.0FzkvZFgDgkUdbB/outputfs/s03/README'</p>
<p>Tail of backup.log<br />
block 271975574: /var/local/mysqlbackups/<br />
block 271975575: /var/local/mysqlbackups/dumps.tar<br />
block 272439576: /var/list/<br />
block 272439577: /var/list/.qmail<br />
block 272439579: /lib64<br />
block 272439580: /var/log/rear/rear-s03.log<br />
Total bytes written: 139489249280 (130GiB, 12MiB/s)<br />
191785851+1 records in<br />
191785851+1 records out<br />
98194356154 bytes (98 GB) copied, 11508.5 s, 8.5 MB/s</p>
<p>I guess it is the ISO.<br />
What can I do?</p>
<h4 id="schlomo_commented_at_2014-11-11_2122"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/506#issuecomment-62623252">2014-11-11 21:22</a>:<a class="headerlink" href="#schlomo_commented_at_2014-11-11_2122" title="Permanent link">&para;</a></h4>
<p>Which ReaR version and which distro?</p>
<p>If you have several systems and only one cannot be restore - how is it
different from the others?</p>
<p>Was mingetty installed in the source system? Extract the initrd from the
ISO and check if mingetty is actuallly in it. chroot into the extracted
initrd to check if some libraries are missing.</p>
<p>Can you SSH into the recovery system (requires ssh keys in root
account)? If yes, check recovery log there for details about failed
mount.</p>
<p>Does the recovery system use same IP as source system or different? That
might be a reason for NFS mount failure.</p>
<p>In any case you have several issues (mount failure and mingetty
missing).</p>
<h4 id="nelteren_commented_at_2014-11-13_1440"><img src="https://avatars.githubusercontent.com/u/9682585?v=4" width="50"><a href="https://github.com/nelteren">nelteren</a> commented at <a href="https://github.com/rear/rear/issues/506#issuecomment-62899212">2014-11-13 14:40</a>:<a class="headerlink" href="#nelteren_commented_at_2014-11-13_1440" title="Permanent link">&para;</a></h4>
<p>Hi<br />
I use Relax-and-Recover 1.16 / Git<br />
All our linux host are debian, the problem host:<br />
Linux s03.net-products.nl 2.6.32-5-amd64 #1 SMP Sat May 5 01:12:59 UTC
2012 x86_64 GNU/Linux<br />
Mingetty not installed….</p>
<p>Working host<br />
Relax-and-Recover 1.15 / Git<br />
Linux ontwikkel 3.2.0-4-amd64 #1 SMP Debian 3.2.57-3 x86_64
GNU/Linux<br />
Mingetty installed</p>
<p>I installed mingetty on the problem host en make an new iso, and now I
can go to the shell.</p>
<p>But mounting is still a problem. Seems to be same problem as mentioned
on posted issue : Mounting of NFS share fails at the time of recovering
Ubuntu_12.04_x64 VM to physical system #463<br />
So I changed /usr/share/rear/lib/global-functions.sh and added nolock
and recreated the iso</p>
<h2 id="local_defaultoptionsrwnoatimenolock">&lt; local defaultoptions="rw,noatime,nolock"<a class="headerlink" href="#local_defaultoptionsrwnoatimenolock" title="Permanent link">&para;</a></h2>
<blockquote>
<pre><code>local defaultoptions="rw,noatime"
</code></pre>
</blockquote>
<p>Now I am restoring. Thanks!!!</p>
<p>And Yes, I recover to the same ip, we made a lab, with same
environment222</p>
<p>Met vriendelijke groet,</p>
<p>Nico van Elteren</p>
<p>Van: Schlomo Schapiro [mailto:<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a>]<br />
Verzonden: dinsdag 11 november 2014 22:23<br />
Aan: rear/rear<br />
CC: Nico v. Elteren<br />
Onderwerp: Re: [rear] cannot recover, ERROR mount command AND INIT:
cannot execute “/sbin/mingetty” (#506)</p>
<p>Which ReaR version and which distro?</p>
<p>If you have several systems and only one cannot be restore - how is it
different from the others?</p>
<p>Was mingetty installed in the source system? Extract the initrd from the
ISO and check if mingetty is actuallly in it. chroot into the extracted
initrd to check if some libraries are missing.</p>
<p>Can you SSH into the recovery system (requires ssh keys in root
account)? If yes, check recovery log there for details about failed
mount.</p>
<p>Does the recovery system use same IP as source system or different? That
might be a reason for NFS mount failure.</p>
<p>In any case you have several issues (mount failure and mingetty
missing).</p>
<p>—<br />
Reply to this email directly or view it on
GitHubhttps://github.com/rear/rear/issues/506#issuecomment-62623252.</p>
<h4 id="schlomo_commented_at_2014-11-13_1640"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/506#issuecomment-62922711">2014-11-13 16:40</a>:<a class="headerlink" href="#schlomo_commented_at_2014-11-13_1640" title="Permanent link">&para;</a></h4>
<p>use <code>BACKUP_OPTIONS="nolock"</code> in the <code>local.conf</code> file.</p>
<p>NFS lock requires rpc.statd IIRC. We have code that should deal with it
automatically:</p>
<pre><code>~/src/rear$ grep -r rpc.statd .
./usr/share/rear/conf/GNU/Linux.conf:rpc.statd
./usr/share/rear/verify/NETFS/default/08_start_required_daemons.sh:     if has_binary rpc.statd; then
./usr/share/rear/verify/NETFS/default/08_start_required_daemons.sh:             rpc.statd
./usr/share/rear/verify/NETFS/default/08_start_required_daemons.sh:             StopIfError "Could not start rpc.statd !"
</code></pre>
<p>You might want to investigate why this did not work in your case.</p>
<h4 id="nelteren_commented_at_2014-11-15_2021"><img src="https://avatars.githubusercontent.com/u/9682585?v=4" width="50"><a href="https://github.com/nelteren">nelteren</a> commented at <a href="https://github.com/rear/rear/issues/506#issuecomment-63189453">2014-11-15 20:21</a>:<a class="headerlink" href="#nelteren_commented_at_2014-11-15_2021" title="Permanent link">&para;</a></h4>
<p>mentioned problems are solved.<br />
thanks!</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2023 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2014-11-11.506.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
