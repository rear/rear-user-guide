<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#1973 Issue closed: ReaR 2.00 not working for SLES 12 SP3 on PowerVM LPAR with MPIO SAN device - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#1973 Issue closed: ReaR 2.00 not working for SLES 12 SP3 on PowerVM LPAR with MPIO SAN device";
        var mkdocs_page_input_path = "issues/2018-11-20.1973.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li class="breadcrumb-item active">#1973 Issue closed: ReaR 2.00 not working for SLES 12 SP3 on PowerVM LPAR with MPIO SAN device</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1973_issue_closed_rear_200_not_working_for_sles_12_sp3_on_powervm_lpar_with_mpio_san_device"><a href="https://github.com/rear/rear/issues/1973">#1973 Issue</a> <code>closed</code>: ReaR 2.00 not working for SLES 12 SP3 on PowerVM LPAR with MPIO SAN device<a class="headerlink" href="#1973_issue_closed_rear_200_not_working_for_sles_12_sp3_on_powervm_lpar_with_mpio_san_device" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>waiting for info</code>, <code>support / question</code>,
<code>no-issue-activity</code></p>
<h4 id="gsasidharan_opened_issue_at_2018-11-20_0914"><img src="https://avatars.githubusercontent.com/u/45191388?v=4" width="50"><a href="https://github.com/gsasidharan">gsasidharan</a> opened issue at <a href="https://github.com/rear/rear/issues/1973">2018-11-20 09:14</a>:<a class="headerlink" href="#gsasidharan_opened_issue_at_2018-11-20_0914" title="Permanent link">&para;</a></h4>
<h4 id="relax-and-recover_rear_issue_template">Relax-and-Recover (ReaR) Issue Template<a class="headerlink" href="#relax-and-recover_rear_issue_template" title="Permanent link">&para;</a></h4>
<p>Fill in the following items before submitting a new issue<br />
(quick response is not guaranteed with free support):</p>
<ul>
<li>
<p>ReaR version ("/usr/sbin/rear -V"): [root@rheltest ~]# rear -V<br />
    Relax-and-Recover 2.00 / Git</p>
</li>
<li>
<p>OS version ("cat /etc/rear/os.conf" or "lsb_release -a" or "cat
    /etc/os-release"): SUSE 12 SP3</p>
</li>
<li>
<p>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
    /etc/rear/local.conf"):</p>
</li>
<li>
<p>Hardware (PC or PowerNV BareMetal or ARM) or virtual machine (KVM
    guest or PoverVM LPAR): PowerVM LPAR</p>
</li>
<li>
<p>System architecture (x86 compatible or PPC64/PPC64LE or what exact
    ARM device):ppc64</p>
</li>
<li>
<p>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or
    ELILO or Petitboot):</p>
</li>
<li>
<p>Storage (lokal disk or SSD) and/or SAN (FC or iSCSI or FCoE) and/or
    multipath (DM or NVMe):MPIO SAN device</p>
</li>
<li>
<p>Description of the issue (ideally so that others can reproduce
    it):<br />
    when rear recovery is initiated exiting either with NFS issue or
    GRUB issues..<br />
    No code has been generated to recreate
    swap:/dev/mapper/20017380035360016-part2 (swap).<br />
    To recreate it manually add code to
    /var/lib/rear/layout/diskrestore.sh or abort.<br />
    Manually add code that recreates
    swap:/dev/mapper/20017380035360016-part2 (swap)</p>
</li>
<li>
<p>Workaround, if any: NO,failed multiple times</p>
</li>
<li>
<p>Attachments, as applicable ("rear -D mkrescue/mkbackup/recover"
    debug log files):</p>
</li>
</ul>
<pre>
RESCUE linux-yb9c:~ # rear recover
Relax-and-Recover 2.3 / 2017-12-20
Using log file: /var/log/rear/rear-linux-yb9c.log
Running workflow recover within the ReaR rescue/recovery system
Starting required daemons for NFS: RPC portmapper (portmap or rpcbind) and rpc.statd if available.
Started RPC portmapper 'rpcbind'.
RPC portmapper 'rpcbind' available.
Started rpc.statd.
RPC status rpc.statd available.
Starting rpc.idmapd failed.
Using backup archive '/tmp/rear.JG1gpxKHl4TeKTV/outputfs/linux-yb9c/backup.tar.gz'
Will do driver migration (recreating initramfs/initrd)
Calculating backup archive size
Backup archive size is 40K      /tmp/rear.JG1gpxKHl4TeKTV/outputfs/linux-yb9c/backup.tar.gz (compressed)
Comparing disks
Disk configuration looks identical
Proceed with recovery (yes) otherwise manual disk layout configuration is enforced
(default 'yes' timeout 30 seconds)
yes
User confirmed to proceed with recovery
No code has been generated to recreate swap:/dev/mapper/20017380035360016-part2 (swap).
    To recreate it manually add code to /var/lib/rear/layout/diskrestore.sh or abort.
Manually add code that recreates swap:/dev/mapper/20017380035360016-part2 (swap)
1) View /var/lib/rear/layout/diskrestore.sh
2) Edit /var/lib/rear/layout/diskrestore.sh
3) Go to Relax-and-Recover shell
4) Continue 'rear recover'
5) Abort 'rear recover'
(default '4' timeout 300 seconds)
4
Start system layout restoration.
Disk layout created.
ERROR: No filesystem mounted on '/mnt/local'. Stopping.
Aborting due to an error, check /var/log/rear/rear-linux-yb9c.log for details
Terminated
</pre>

<h4 id="jsmeix_commented_at_2018-11-20_1033"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1973#issuecomment-440224746">2018-11-20 10:33</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-11-20_1033" title="Permanent link">&para;</a></h4>
<p>See<br />
<a href="https://github.com/rear/rear/blob/master/.github/ISSUE_TEMPLATE.md">https://github.com/rear/rear/blob/master/.github/ISSUE_TEMPLATE.md</a><br />
what info is missing here and in general see<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<p>On a first glance</p>
<pre>
Backup archive size is 40K ...
</pre>

<p>does not look promising...</p>
<h4 id="jsmeix_commented_at_2018-11-20_1037"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1973#issuecomment-440225797">2018-11-20 10:37</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-11-20_1037" title="Permanent link">&para;</a></h4>
<p>@schabrolles<br />
because it happens on PowerVM LPAR with MPIO SAN device<br />
perhaps you might be able to guess what happened here<br />
(even without details).</p>
<h4 id="jsmeix_commented_at_2018-11-20_1043"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1973#issuecomment-440227457">2018-11-20 10:43</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-11-20_1043" title="Permanent link">&para;</a></h4>
<p>@gsasidharan<br />
you use Relax-and-Recover 2.00 which is a bit old, from January 2017,
cf.<br />
<a href="http://relax-and-recover.org/documentation/release-notes-2-4">http://relax-and-recover.org/documentation/release-notes-2-4</a></p>
<p>Try out if a more current version works better for you, cf.<br />
<a href="http://relax-and-recover.org/download/">http://relax-and-recover.org/download/</a></p>
<p>See<br />
<a href="http://relax-and-recover.org/documentation/release-notes-2-4">http://relax-and-recover.org/documentation/release-notes-2-4</a><br />
what has changed from ReaR 2.0 to the current ReaR 2.4.<br />
There are some possibly backward incompatible changes.</p>
<p>I would also recommend to try out our current<br />
ReaR upstream GitHub master code as follows:</p>
<p>Basically "git clone" our current ReaR upstream GitHub master code<br />
into a separated directory and then configure and run ReaR<br />
from within that directory like:</p>
<pre>
# git clone https://github.com/rear/rear.git

# mv rear rear.github.master

# cd rear.github.master

# vi etc/rear/local.conf

# usr/sbin/rear -D mkbackup
</pre>

<p>Note the relative paths "etc/rear/" and "usr/sbin/".</p>
<p>I recommend to try out our current ReaR upstream GitHub master code<br />
because that is the only place where we fix bugs - i.e. bugs in older<br />
ReaR versions are not fixed by us (i.e. by ReaR upstream).</p>
<p>If the issue also happens with current ReaR upstream GitHub master
code<br />
please provide us complete ReaR debug log files of both<br />
"rear -D mkbackup" and then "rear -D recover"<br />
plus your 'var/lib/rear/layout/disklayout.conf' file<br />
so that we can have a look how it behaves in your particular
environment<br />
cf. "Debugging issues with Relax-and-Recover" at<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<p>If it works with the current ReaR 2.4 or our current ReaR upstream
GitHub<br />
master code we would really appreciate an explicit positive feedback.</p>
<p>For SUSE Linux Enterprise there should be official "rear23a" RPM
packages<br />
that contain ReaR upstream version 2.4 plus some later ReaR upstream
commits,<br />
see the section "rear / rear116 / rear1172a / rear118a / rear23a" in<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<h4 id="gsasidharan_commented_at_2018-11-20_1127"><img src="https://avatars.githubusercontent.com/u/45191388?v=4" width="50"><a href="https://github.com/gsasidharan">gsasidharan</a> commented at <a href="https://github.com/rear/rear/issues/1973#issuecomment-440240405">2018-11-20 11:27</a>:<a class="headerlink" href="#gsasidharan_commented_at_2018-11-20_1127" title="Permanent link">&para;</a></h4>
<p>Thanks for your quick response...<br />
already tried version 2.4 and got failures for SUSE.<br />
RHEL worked perfectly fine.<br />
will retry with below steps and confirm the status.<br />
thanksSasi.G<br />
Sent from my Samsung Galaxy smartphone.</p>
<h4 id="jsmeix_commented_at_2018-11-20_1154"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1973#issuecomment-440247218">2018-11-20 11:54</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-11-20_1154" title="Permanent link">&para;</a></h4>
<p>When things fail for SLES but work for RHEL my blind guess is<br />
that you use SLES with its default btrfs structure which requires<br />
special settings in your /etc/rear/local.conf for btrfs.</p>
<p>When you use SLES with its default btrfs structure<br />
use a well matching *.btrfs-example.conf file from<br />
/usr/share/rear/conf/examples/ as a starting point,<br />
cf. the ones in our current ReaR upstream master code<br />
<a href="https://github.com/rear/rear/tree/master/usr/share/rear/conf/examples">https://github.com/rear/rear/tree/master/usr/share/rear/conf/examples</a><br />
and read<br />
<a href="https://github.com/rear/rear/issues/1368#issuecomment-302410707">https://github.com/rear/rear/issues/1368#issuecomment-302410707</a><br />
because for SLE12 there are several different<br />
incompatible btrfs default setups where each one<br />
has its own specific *.btrfs-example.conf file.</p>
<h4 id="schlomo_commented_at_2018-11-20_1211"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/1973#issuecomment-440251776">2018-11-20 12:11</a>:<a class="headerlink" href="#schlomo_commented_at_2018-11-20_1211" title="Permanent link">&para;</a></h4>
<p>@jsmeix looking at those examples I wonder why we don't include the
snapper and other tools by default? Wouldn't that make ReaR work on all
SLES versions without "special" configuration?</p>
<h4 id="jsmeix_commented_at_2018-11-20_1236"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1973#issuecomment-440258471">2018-11-20 12:36</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-11-20_1236" title="Permanent link">&para;</a></h4>
<p>@schlomo<br />
as far as I see SLES12 with its several different incompatible default
btrfs structures<br />
will always require an experienced admin who knows what specific kind
of<br />
SLES12 btrfs structure there actually is on his particular system<br />
so that he can specify the right things in his etc/rear/local.conf<br />
that match his particular kind of SLES12 btrfs structure.</p>
<p>Of course in theory with unreasonable effort it might be even possible<br />
to let ReaR autodetermine what specific kind of SLES12 btrfs structure<br />
there actually is on a particular system but at least I won't implement
that<br />
unless I am forced by SUSE who is convinced by one or more customers<br />
who pay us for all those efforts ;-)</p>
<p>I think in practice it is more reasonable to leave it as it is now<br />
in particular because at least for now it seems things have reasonably<br />
stabilized since SLE12-SP2 because I am not aware of any new different<br />
incompatible default btrfs structures after SLE12-SP2.</p>
<p>SLE12-SP2-btrfs-example.conf also works on SLE12-SP3 and SLE12-SP4<br />
and it should also work on SLE15 (at least it worked for me for my
tests).</p>
<h4 id="schlomo_commented_at_2018-11-20_1246"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/1973#issuecomment-440260990">2018-11-20 12:46</a>:<a class="headerlink" href="#schlomo_commented_at_2018-11-20_1246" title="Permanent link">&para;</a></h4>
<p>AFAIKT the only really relevant parts of that example configuration are
the <code>REQUIRED_PROGS</code>, <code>COPY_AS_IS</code> and <code>POST_RECOVERY_SCRIPT</code> variables.
The <code>BACKUP_PROG_INCLUDES</code> seems extremely specific as it mentions
MariaDB.</p>
<p>As it took me 3 times going over that example before I noticed those
relevant variables I can imagine that our users also will struggle with
that. Therefore I suggest to merge the <code>REQUIRED_PROGS</code> and <code>COPY_AS_IS</code>
fragments into the SLES specific configuration and to convert the
<code>POST_RECOVERY_SCRIPT</code> to a SLES specific script that checks if the
system is recent enough to need that treatment.</p>
<p>Wrong? Why? I'd like to know specifically.</p>
<p>@gsasidharan sorry for highjacking your issue with this general
discussion.</p>
<h4 id="gsasidharan_commented_at_2018-11-20_1313"><img src="https://avatars.githubusercontent.com/u/45191388?v=4" width="50"><a href="https://github.com/gsasidharan">gsasidharan</a> commented at <a href="https://github.com/rear/rear/issues/1973#issuecomment-440268693">2018-11-20 13:13</a>:<a class="headerlink" href="#gsasidharan_commented_at_2018-11-20_1313" title="Permanent link">&para;</a></h4>
<p>Team..<br />
pls share if you have the SLES12-SP3-PPC64.CONF file...<br />
able to use rear 2.4 now and beleive the conf file is my issue now.<br />
i use the default partitioning for filesystems .<br />
my os version is SLES 12-SP3 for Power platform.<br />
ThanksSasi.G<br />
Sent from my Samsung Galaxy smartphone.</p>
<h4 id="jsmeix_commented_at_2018-11-20_1400"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1973#issuecomment-440283058">2018-11-20 14:00</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-11-20_1400" title="Permanent link">&para;</a></h4>
<p>@gsasidharan<br />
I do not understand what you mean with<br />
<code>pls share if you have the SLES12-SP3-PPC64.CONF file</code></p>
<p>There is no SLES12-SP3-PPC64.CONF file in our ReaR upstream files,<br />
e.g. what I get right now in a new git clone:</p>
<pre>
# git clone https://github.com/rear/rear.git

# mv rear rear.github.master

# cd /root/rear.github.master

# find . | grep -i SLE
./usr/share/rear/conf/examples/SLE11-SLE12-SAP-HANA-UEFI-example.conf
./usr/share/rear/conf/examples/SLE12-SP2-btrfs-example.conf
./usr/share/rear/conf/examples/SLE11-ext3-example.conf
./usr/share/rear/conf/examples/SLE12-btrfs-example.conf
./usr/share/rear/conf/examples/SLE12-SP1-btrfs-example.conf
</pre>

<p>but I do not run SLES 12-SP3 on POWER platform.</p>
<h4 id="gsasidharan_commented_at_2018-11-20_1531"><img src="https://avatars.githubusercontent.com/u/45191388?v=4" width="50"><a href="https://github.com/gsasidharan">gsasidharan</a> commented at <a href="https://github.com/rear/rear/issues/1973#issuecomment-440314651">2018-11-20 15:31</a>:<a class="headerlink" href="#gsasidharan_commented_at_2018-11-20_1531" title="Permanent link">&para;</a></h4>
<p>Hi John,<br />
for Sap Hana purposes we are using SLES V12SP3 in power platform.<br />
this is not available below samples given.<br />
Will try below suitable one and revert back.<br />
thanksSasi.G<br />
Sent from my Samsung Galaxy smartphone.</p>
<h4 id="jsmeix_commented_at_2018-11-21_1110"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1973#issuecomment-440626359">2018-11-21 11:10</a>:<a class="headerlink" href="#jsmeix_commented_at_2018-11-21_1110" title="Permanent link">&para;</a></h4>
<p>@gsasidharan<br />
in general regarding SAP HANA with SLES 12 SP3 on IBM Power<br />
you may also have a look at
<a href="https://github.com/rear/rear/issues/1925">https://github.com/rear/rear/issues/1925</a><br />
perhaps something therein could be also of interest for you.</p>
<h4 id="hejharald_commented_at_2019-02-04_1256"><img src="https://avatars.githubusercontent.com/u/47322033?v=4" width="50"><a href="https://github.com/hejharald">hejharald</a> commented at <a href="https://github.com/rear/rear/issues/1973#issuecomment-460240291">2019-02-04 12:56</a>:<a class="headerlink" href="#hejharald_commented_at_2019-02-04_1256" title="Permanent link">&para;</a></h4>
<p>I installed rear 2.4 on my Power E880, running SLES 12.3, and it allmost
restored flawless.<br />
at first, I had the same errors with the disk layout.</p>
<p>During recover I had to edit /var/lib/rear/layout/disklayout.conf,
exchanging all 'p1' with '-part1' and so on:</p>
<pre><code>:g/p1/s//-part1/g
:g/p2/s//-part2/g
:g/p3/s//-part3/g
</code></pre>
<p>here's my rear dump:</p>
<pre><code>Relax-and-Recover 2.4-git.3097.1e9aa97d.master.changed / 2018-08-31
Running rear dump (PID 124879)
Using log file: /var/log/rear/rear-dalbsrv.log.lockless
Dumping out configuration and system information
System definition:
                                    ARCH = Linux-ppc64le
                                      OS = GNU/Linux
                        OS_MASTER_VENDOR = SUSE
                       OS_MASTER_VERSION = 12
                   OS_MASTER_VENDOR_ARCH = SUSE/ppc64le
                OS_MASTER_VENDOR_VERSION = SUSE/12
           OS_MASTER_VENDOR_VERSION_ARCH = SUSE/12/ppc64le
                               OS_VENDOR = SUSE_LINUX
                              OS_VERSION = 12.3
                          OS_VENDOR_ARCH = SUSE_LINUX/ppc64le
                       OS_VENDOR_VERSION = SUSE_LINUX/12.3
                  OS_VENDOR_VERSION_ARCH = SUSE_LINUX/12.3/ppc64le
Configuration tree:
                      Linux-ppc64le.conf : OK
                          GNU/Linux.conf : OK
                               SUSE.conf : missing/empty
                       SUSE/ppc64le.conf : missing/empty
                            SUSE/12.conf : missing/empty
                    SUSE/12/ppc64le.conf : missing/empty
                         SUSE_LINUX.conf : OK
                 SUSE_LINUX/ppc64le.conf : missing/empty
                    SUSE_LINUX/12.3.conf : missing/empty
            SUSE_LINUX/12.3/ppc64le.conf : missing/empty
                               site.conf : missing/empty
                              local.conf : OK
Backup with NETFS
              NETFS_KEEP_OLD_BACKUP_COPY =
                            NETFS_PREFIX = dalbsrv
              NETFS_RESTORE_CAPABILITIES = No
                   BACKUP_DUPLICITY_NAME = rear-backup
                  BACKUP_INTEGRITY_CHECK =
                         BACKUP_MOUNTCMD =
                     BACKUP_ONLY_EXCLUDE = no
                     BACKUP_ONLY_INCLUDE = no
                          BACKUP_OPTIONS =
      BACKUP_RESTORE_MOVE_AWAY_DIRECTORY = /var/lib/rear/moved_away_after_backup_restore/
          BACKUP_RESTORE_MOVE_AWAY_FILES = /boot/grub/grubenv /boot/grub2/grubenv
                    BACKUP_RSYNC_OPTIONS = --sparse --archive --hard-links --numeric-ids --stats
                  BACKUP_SELINUX_DISABLE = 1
                             BACKUP_TYPE =
                        BACKUP_UMOUNTCMD =
                              BACKUP_URL = file:///usr/common/rear-backup
Backup program is 'tar':
                             BACKUP_PROG = tar
                     BACKUP_PROG_ARCHIVE = backup
            BACKUP_PROG_COMPRESS_OPTIONS = --gzip
             BACKUP_PROG_COMPRESS_SUFFIX = .gz
               BACKUP_PROG_CRYPT_ENABLED = 0
                   BACKUP_PROG_CRYPT_KEY =
               BACKUP_PROG_CRYPT_OPTIONS = /usr/bin/openssl des3 -salt -k
             BACKUP_PROG_DECRYPT_OPTIONS = /usr/bin/openssl des3 -d -k
                     BACKUP_PROG_EXCLUDE = /tmp/* /dev/shm/* /var/lib/rear/output/*
                     BACKUP_PROG_INCLUDE =
                     BACKUP_PROG_OPTIONS = --anchored
      BACKUP_PROG_OPTIONS_CREATE_ARCHIVE =
     BACKUP_PROG_OPTIONS_RESTORE_ARCHIVE =
                      BACKUP_PROG_SUFFIX = .tar
       BACKUP_PROG_WARN_PARTIAL_TRANSFER = 1
Output to ISO
                             ISO_DEFAULT = boothd
                                 ISO_DIR = /var/lib/rear/output
                               ISO_FILES =
                        ISO_ISOLINUX_BIN =
                            ISO_MAX_SIZE =
                         ISO_MKISOFS_BIN = /usr/bin/xorrisofs
                              ISO_PREFIX = rear-dalbsrv
                        ISO_RECOVER_MODE =
                               ISO_VOLID = RELAXRECOVER
                         OUTPUT_MOUNTCMD =
                          OUTPUT_OPTIONS =
                           OUTPUT_PREFIX = dalbsrv
                       OUTPUT_PREFIX_PXE =
                        OUTPUT_UMOUNTCMD =
                              OUTPUT_URL = file:///usr/common/rear-backup
                           RESULT_MAILTO =
</code></pre>
<h4 id="jsmeix_commented_at_2019-02-12_1245"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1973#issuecomment-462745564">2019-02-12 12:45</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-02-12_1245" title="Permanent link">&para;</a></h4>
<p>@hejharald<br />
your</p>
<pre><code>had to edit /var/lib/rear/layout/disklayout.conf,
exchanging all 'p1' with '-part1'
</code></pre>
<p>reminds me of things like<br />
<a href="https://github.com/rear/rear/issues/1796#issuecomment-386632589">https://github.com/rear/rear/issues/1796#issuecomment-386632589</a><br />
and the resulting<br />
<a href="https://github.com/rear/rear/pull/1802">https://github.com/rear/rear/pull/1802</a><br />
which is included in the ReaR 2.4 release<br />
so that this issue here could be a new kind of<br />
"multipath partition naming convention" issue.</p>
<p>For a detailed analysis we need</p>
<ul>
<li>your <code>var/lib/rear/layout/disklayout.conf</code> file</li>
<li>the ReaR log file with debug output of <code>rear -D mkrescue</code></li>
<li>the content of your <code>/etc/multipath.conf</code> file</li>
<li>the output of <code>ls -l /dev/mapper/</code></li>
</ul>
<p>See also<br />
<a href="https://github.com/rear/rear/issues/1796#issuecomment-386996844">https://github.com/rear/rear/issues/1796#issuecomment-386996844</a><br />
what the usual multipath partition naming in SLES12 should be<br />
and subsequent comments about <code>kpartx</code> and <code>storix</code> in particular<br />
<a href="https://github.com/rear/rear/issues/1796#issuecomment-387461461">https://github.com/rear/rear/issues/1796#issuecomment-387461461</a><br />
and storix' evil udev rule /etc/udev/rules.d/99-storixmpath.rules<br />
that changed multipath partition naming in unexpeced ways.</p>
<p>Perhaps in your case there is also something unexpected<br />
that changed the usual SLES12 multipath partition naming rules<br />
in unexpeced ways?</p>
<h4 id="github-actions_commented_at_2020-06-28_0133"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/issues/1973#issuecomment-650665324">2020-06-28 01:33</a>:<a class="headerlink" href="#github-actions_commented_at_2020-06-28_0133" title="Permanent link">&para;</a></h4>
<p>Stale issue message</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2023 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2018-11-20.1973.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
