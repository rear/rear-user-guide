<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2577 PR closed: Fix rsync --fake-super option on remote server - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2577 PR closed: Fix rsync --fake-super option on remote server";
        var mkdocs_page_input_path = "issues/2021-02-25.2577.pr.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#2577 PR closed: Fix rsync --fake-super option on remote server</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2577_pr_closed_fix_rsync_--fake-super_option_on_remote_server"><a href="https://github.com/rear/rear/pull/2577">#2577 PR</a> <code>closed</code>: Fix rsync --fake-super option on remote server<a class="headerlink" href="#2577_pr_closed_fix_rsync_--fake-super_option_on_remote_server" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>fixed / solved / done</code></p>
<h4 id="bwelterl_opened_issue_at_2021-02-25_1739"><img src="https://avatars.githubusercontent.com/u/32841830?v=4" width="50"><a href="https://github.com/bwelterl">bwelterl</a> opened issue at <a href="https://github.com/rear/rear/pull/2577">2021-02-25 17:39</a>:<a class="headerlink" href="#bwelterl_opened_issue_at_2021-02-25_1739" title="Permanent link">&para;</a></h4>
<p>With """, in the expected arg for rsync:<br />
<code>--rsync-path="""rsync_ --fake-super"""</code>, the arg will remove all """,
thus the --fake-super will not be executed on the remote server.<br />
And the ownerships will not be saved and restored.</p>
<p>A workaround is to add<br />
<code>BACKUP_RSYNC_OPTIONS=( "${BACKUP_RSYNC_OPTIONS[@]}" -M--fake-super )</code></p>
<p>in /etc/rear/local.conf</p>
<p>Thanks</p>
<h4 id="relax-and-recover_rear_pull_request_template">Relax-and-Recover (ReaR) Pull Request Template<a class="headerlink" href="#relax-and-recover_rear_pull_request_template" title="Permanent link">&para;</a></h4>
<p>Please fill in the following items before submitting a new pull request:</p>
<h5 id="pull_request_details">Pull Request Details:<a class="headerlink" href="#pull_request_details" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>Type: <strong>Bug Fix</strong></p>
</li>
<li>
<p>Impact: <strong>High</strong></p>
</li>
<li>
<p>Reference to related issue (URL):</p>
</li>
<li>
<p>How was this pull request tested?</p>
</li>
<li></li>
</ul>
<p>Backup/restore with rsync on RHEL8.2</p>
<ul>
<li>Brief description of the changes in this pull request:</li>
</ul>
<p>Only changed """ to "</p>
<h4 id="jsmeix_commented_at_2021-03-02_1046"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-788813775">2021-03-02 10:46</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-03-02_1046" title="Permanent link">&para;</a></h4>
<p>By the way<br />
in prep/RSYNC/default/150_check_rsync_protocol_version.sh</p>
<pre><code>if [ ${BACKUP_RSYNC_OPTIONS[@]/--fake-super/} != ${BACKUP_RSUNC_OPTIONS[@]} ]; then
</code></pre>
<p>that was added via<br />
<a href="https://github.com/rear/rear/commit/3548430302cef3a8445de970eb763da33d9f6e8e">https://github.com/rear/rear/commit/3548430302cef3a8445de970eb763da33d9f6e8e</a><br />
that condition would be always true because <code>${BACKUP_RSUNC_OPTIONS[@]}</code>
is empty<br />
because BACKUP_RSYNC_OPTIONS is not BACKUP_RSUNC_OPTIONS (typo!)
:-(<br />
but actually that condition is always false because its syntax is simply
plain wrong:</p>
<pre><code># unset BACKUP_RSYNC_OPTIONS

# BACKUP_RSYNC_OPTIONS=( foo bar )

# if [ ${BACKUP_RSYNC_OPTIONS[@]/--fake-super/} != ${BACKUP_RSUNC_OPTIONS[@]} ]; then echo Y ; fi
bash: [: bar: binary operator expected

# BACKUP_RSYNC_OPTIONS+=( '--rsync-path="rsync --fake-super"' )

# if [ ${BACKUP_RSYNC_OPTIONS[@]/--fake-super/} != ${BACKUP_RSUNC_OPTIONS[@]} ]; then echo Y ; fi
bash: [: too many arguments
</code></pre>
<p>What a shitty piece of shitty code shit - cf.<br />
<a href="https://motherfuckingwebsite.com/">https://motherfuckingwebsite.com/</a><br />
("Yes, this is f** satire ...")</p>
<p>I think</p>
<pre><code>if [ "${BACKUP_RSYNC_OPTIONS[*]/--fake-super/}" != "${BACKUP_RSYNC_OPTIONS[*]}" ];
</code></pre>
<p>could work.<br />
But I will have to have a closer look at that code.<br />
But only as time permits - no promises - in particular not for such
awful code :-(</p>
<h4 id="jsmeix_commented_at_2021-03-03_1259"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-789696867">2021-03-03 12:59</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-03-03_1259" title="Permanent link">&para;</a></h4>
<p>@gdha<br />
I am totally confused about the rsync implementation in ReaR.<br />
I never used ReaR with rsync.</p>
<p>I noticed we have two scripts<br />
usr/share/rear/backup/NETFS/default/500_make_backup.sh<br />
and<br />
usr/share/rear/backup/RSYNC/default/500_make_rsync_backup.sh<br />
which seem to do the same<br />
and I fail to understand how rsync is meant to work in ReaR.</p>
<p>Could you perhaps help me to understand how rsync is meant to work in
ReaR?</p>
<h4 id="gdha_commented_at_2021-03-03_1309"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-789702926">2021-03-03 13:09</a>:<a class="headerlink" href="#gdha_commented_at_2021-03-03_1309" title="Permanent link">&para;</a></h4>
<p>@jsmeix</p>
<ul>
<li>if <code>BACKUP=NETFS</code> and <code>BACKUP_PROG=rsync</code> then you will use
    <code>usr/share/rear/backup/NETFS/default/500_make_backup.sh</code> to make a
    backup archive with the rsync (over ssh only) executable</li>
<li>if <code>BACKUP=RSYNC</code> (then <code>BACKUP_PROG=rsync</code> is always defined) and
    then you will use
    <code>usr/share/rear/backup/RSYNC/default/500_make_rsync_backup.sh</code> (in
    this case you can use rsync over ssh or use the remote rsync daemon
    approach - see man page of rsync for the details)</li>
<li>I use most of the times the RSYNC backup method (as you can browse
    easily though your directories/files on the remote server)</li>
</ul>
<h4 id="jsmeix_commented_at_2021-03-18_1245"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-801895966">2021-03-18 12:45</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-03-18_1245" title="Permanent link">&para;</a></h4>
<p>I cannot reproduce it on SLES15 that has GNU bash, version 4.4.23</p>
<p>My etc/rear/local.conf</p>
<pre><code>OUTPUT=ISO
BACKUP=RSYNC
BACKUP_URL=rsync://root@192.168.122.1/nfs/rearRSYNC/
BACKUP_ONLY_INCLUDE="yes"
BACKUP_PROG_INCLUDE=( /home )
SSH_ROOT_PASSWORD='rear'
USE_DHCLIENT="yes"
PROGRESS_MODE="plain"
PROGRESS_WAIT_SECONDS="3"
FIRMWARE_FILES=( 'no' )
MODULES=( 'loaded_modules' )
</code></pre>
<p>In particular I use</p>
<pre><code>BACKUP_ONLY_INCLUDE="yes"
BACKUP_PROG_INCLUDE=( /home )
</code></pre>
<p>to get only a small backup for my test here.</p>
<p>With the unchanged current ReaR upstream master code</p>
<pre><code>BACKUP_RSYNC_OPTIONS+=( --rsync-path="""rsync --fake-super""" )
</code></pre>
<p>it "just works" for me and<br />
I get in my rear debug log file (excerpts)</p>
<pre><code>++ BACKUP_RSYNC_OPTIONS+=(--rsync-path="""rsync --fake-super""")
...
++ Log rsync --sparse --archive --hard-links --numeric-ids --stats '--rsync-path=rsync --fake-super' --relative --one-file-system --delete --exclude-from=/tmp/rear.2o92TKFmGHCniuX/tmp/backup-exclude.txt --delete-excluded /home root@192.168.122.1:/nfs/rearRSYNC//localhost/backup
++ echo '2021-03-18 13:23:17.931957271 rsync --sparse --archive --hard-links --numeric-ids --stats --rsync-path=rsync --fake-super --relative --one-file-system --delete --exclude-from=/tmp/rear.2o92TKFmGHCniuX/tmp/backup-exclude.txt --delete-excluded /home root@192.168.122.1:/nfs/rearRSYNC//localhost/backup'
2021-03-18 13:23:17.931957271 rsync --sparse --archive --hard-links --numeric-ids --stats --rsync-path=rsync --fake-super --relative --one-file-system --delete --exclude-from=/tmp/rear.2o92TKFmGHCniuX/tmp/backup-exclude.txt --delete-excluded /home root@192.168.122.1:/nfs/rearRSYNC//localhost/backup
+++ cat /tmp/rear.2o92TKFmGHCniuX/tmp/backup-include.txt
++ rsync --sparse --archive --hard-links --numeric-ids --stats '--rsync-path=rsync --fake-super' --relative --one-file-system --delete --exclude-from=/tmp/rear.2o92TKFmGHCniuX/tmp/backup-exclude.txt --delete-excluded /home root@192.168.122.1:/nfs/rearRSYNC//localhost/backup
++ echo 0
</code></pre>
<p>and on the terminal I get (excerpts)</p>
<pre><code># usr/sbin/rear -D mkbackup
...
Creating rsync archive on '192.168.122.1:/nfs/rearRSYNC/'
Running archive operation
OK
Number of deleted files: 0
Number of regular files transferred: 0
Total file size: 13,930 bytes
Total transferred file size: 0 bytes
Literal data: 0 bytes
Matched data: 0 bytes
File list size: 0
File list generation time: 0.001 seconds
File list transfer time: 0.000 seconds
Total bytes sent: 471
Total bytes received: 26

sent 471 bytes  received 26 bytes  331.33 bytes/sec
total size is 13,930  speedup is 28.03 in 6 seconds.
Exiting rear mkbackup (PID 17699) and its descendant processes ...
</code></pre>
<p>I did that "rear -D mkbackup" basically directly after a previous one<br />
so basicaly no few files got actually 'rsynced'.</p>
<p>@bwelterl<br />
I guess the root cause in your particular case is something rather
specific<br />
in your particular environment (perhaps something with bash in
RHEL8.2?)<br />
so I would recommend to report this issue to Red Hat so that they<br />
could have a look what the actual root cause is.</p>
<p>I don't like to experiment with this or that changes<br />
of the RSYNC code in ReaR that I never touched before<br />
unless we better understand what the actual root cause is<br />
so that we could fix things properly.</p>
<h4 id="bwelterl_commented_at_2021-03-18_1255"><img src="https://avatars.githubusercontent.com/u/32841830?v=4" width="50"><a href="https://github.com/bwelterl">bwelterl</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-801903899">2021-03-18 12:55</a>:<a class="headerlink" href="#bwelterl_commented_at_2021-03-18_1255" title="Permanent link">&para;</a></h4>
<p>Hello Johannes,</p>
<p>Thanks for the test. In fact, with
<code>--rsync-path="""rsync --fake-super"""</code><br />
there is not error, but you don't have the expected result that is<br />
to have ownerships and permissions added in xattr of remote files.<br />
You are using root as rsync user, please try with another user.</p>
<p>With <code>--rsync-path="""rsync --fake-super"""</code> the command become</p>
<pre><code>'--rsync-path=rsync --fake-super'
</code></pre>
<p>it should be</p>
<pre><code>--rsync-path="rsync --fake-super"
</code></pre>
<p>to have the expected result.</p>
<p>Thank you !</p>
<p>Benoit</p>
<h4 id="jsmeix_commented_at_2021-03-18_1256"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-801904488">2021-03-18 12:56</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-03-18_1256" title="Permanent link">&para;</a></h4>
<p>@pcahyna @rmetrich<br />
could you please have a look here (as time permits)?</p>
<p>It seems something behaves special (and fails) for @bwelterl with
RHEL8.2<br />
which I cannot reproduce - neither with SLES15 directly with ReaR<br />
nor with openSUSE Leap 15.2 on the command line.</p>
<h4 id="jsmeix_commented_at_2021-03-18_1257"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-801906090">2021-03-18 12:57</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-03-18_1257" title="Permanent link">&para;</a></h4>
<p>@bwelterl<br />
thank you for your prompt
<a href="https://github.com/rear/rear/pull/2577#issuecomment-801903899">https://github.com/rear/rear/pull/2577#issuecomment-801903899</a></p>
<p>I didn't see that while I wrote my
<a href="https://github.com/rear/rear/pull/2577#issuecomment-801904488">https://github.com/rear/rear/pull/2577#issuecomment-801904488</a></p>
<p>So I can reproduce the issue on my system which is good!</p>
<h4 id="jsmeix_commented_at_2021-03-18_1426"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-801972601">2021-03-18 14:26</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-03-18_1426" title="Permanent link">&para;</a></h4>
<p>At least for today I give up lost in quotation hell.</p>
<p>My failed cases:</p>
<p>(1)</p>
<pre><code>BACKUP_RSYNC_OPTIONS+=( --rsync-path="""rsync --fake-super""" )
</code></pre>
<p>results the rsync command option (with single quotes as shown here):</p>
<pre><code>rsync ... '--rsync-path=rsync --fake-super' ...
</code></pre>
<p>which doesn't result ownerships and permissions added in xattr of remote
files</p>
<p>(2)</p>
<pre><code>BACKUP_RSYNC_OPTIONS+=( '--rsync-path="rsync --fake-super"' )
</code></pre>
<p>results the rsync command option (with single quotes and double quotes
as shown here):</p>
<pre><code>rsync ... '--rsync-path="rsync --fake-super"' ...
</code></pre>
<p>which results an error like:</p>
<pre><code>bash: rsync --fake-super: command not found
rsync: connection unexpectedly closed (0 bytes received so far) [sender]
rsync error: error in rsync protocol data stream (code 12) at io.c(235) [sender=3.1.3]
</code></pre>
<p>(3)</p>
<pre><code>BACKUP_RSYNC_OPTIONS+=( --rsync-path=\"rsync --fake-super\" )
</code></pre>
<p>results the rsync command option (with single quotes and double quotes
as shown here):</p>
<pre><code>rsync ... '--rsync-path="rsync' '--fake-super"' ...
</code></pre>
<p>which results an error like:</p>
<pre><code>rsync: --fake-super": unknown option
rsync error: syntax or usage error (code 1) at main.c(1593) [client=3.1.3]
</code></pre>
<p>(4)</p>
<pre><code>BACKUP_RSYNC_OPTIONS+=( --rsync-path='rsync --fake-super' )
</code></pre>
<p>results the rsync command option (with single quotes as shown here):</p>
<pre><code>rsync ... '--rsync-path=rsync --fake-super' ...
</code></pre>
<p>i.e. same as case (1) above</p>
<p>(5)</p>
<pre><code>BACKUP_RSYNC_OPTIONS+=( --rsync-path=\'rsync --fake-super\' )
</code></pre>
<p>results the rsync command option (with single quotes as shown here):</p>
<pre><code>rsync ... '--rsync-path='\''rsync' '--fake-super'\''' ...
</code></pre>
<p>which results an error as in case (3) above like:</p>
<pre><code>rsync: --fake-super': unknown option
rsync error: syntax or usage error (code 1) at main.c(1593) [client=3.1.3]
</code></pre>
<h4 id="jsmeix_commented_at_2021-03-18_1434"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-801978870">2021-03-18 14:34</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-03-18_1434" title="Permanent link">&para;</a></h4>
<p>Tomorrow I will try (basically a blind desperate attempt) something like</p>
<pre><code>BACKUP_RSYNC_OPTIONS+=( $( echo '--rsync-path="rsync --fake-super"' ) )
</code></pre>
<p>in the hope that then bash might somehow do its quoting automatically
right...</p>
<h4 id="bwelterl_commented_at_2021-03-18_1626"><img src="https://avatars.githubusercontent.com/u/32841830?v=4" width="50"><a href="https://github.com/bwelterl">bwelterl</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-802071922">2021-03-18 16:26</a>:<a class="headerlink" href="#bwelterl_commented_at_2021-03-18_1626" title="Permanent link">&para;</a></h4>
<p>Thanks @jsmeix</p>
<p>But no luck: with</p>
<pre><code>BACKUP_RSYNC_OPTIONS+=( $( echo '--rsync-path="rsync --fake-super"' ) )
</code></pre>
<p>Same error:</p>
<pre><code>++ rsync --sparse --archive --hard-links --numeric-ids --stats '--rsync-path="rsync' '--fake-super"' --relative --one-file-system --delete --exclude-from=/tmp/rear.Yb9Ly9BUsdSOKsw/tmp/backup-exclude.txt --delete-excluded / /boot/efi /boot user1@192.168.122.220:/home/user1/rear//localhost/backup
rsync: --fake-super": unknown option
rsync error: syntax or usage error (code 1) at main.c(1578) [client=3.1.3]
</code></pre>
<p>I think the easiest way to enable this feature is to use:</p>
<pre><code>-M, --remote-option=OPTION  send OPTION to the remote side only
</code></pre>
<p>as it's included in recent rsync version</p>
<p>Thanks</p>
<h4 id="jsmeix_commented_at_2021-03-19_1354"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-802850450">2021-03-19 13:54</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-03-19_1354" title="Permanent link">&para;</a></h4>
<p>@bwelterl<br />
thank you for testing it.</p>
<p>Perhaps I have to give up and use the alternative option setting<br />
via something like</p>
<pre><code>BACKUP_RSYNC_OPTIONS+=( --rsync-path=rsync -M--fake-super )
</code></pre>
<p>But I like to understand and solve the generic issue that it seems<br />
somehow it is not possible to specify an option of the form</p>
<pre><code>--long-option="some words as value"
</code></pre>
<p>via a variable or via an array (element) to a command.</p>
<p>Next Monday I will experiment with the various ways<br />
how an array can get evaluated in bash i.e. things like</p>
<pre><code>COMMAND ${ARRAY_OF_OPTIONS[*]}

COMMAND ${ARRAY_OF_OPTIONS[@]}

COMMAND "${ARRAY_OF_OPTIONS[@]}"
</code></pre>
<p>Perhaps the root cause is not how the array is created<br />
but how the array is evaluated at the COMMAND call<br />
which is in this case here</p>
<pre><code>$BACKUP_PROG "${BACKUP_RSYNC_OPTIONS[@]}"
</code></pre>
<p>in usr/share/rear/backup/RSYNC/default/500_make_rsync_backup.sh<br />
<a href="https://github.com/rear/rear/blob/master/usr/share/rear/backup/RSYNC/default/500_make_rsync_backup.sh#L27">https://github.com/rear/rear/blob/master/usr/share/rear/backup/RSYNC/default/500_make_rsync_backup.sh#L27</a></p>
<h4 id="jsmeix_commented_at_2021-03-22_1405"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-804088557">2021-03-22 14:05</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-03-22_1405" title="Permanent link">&para;</a></h4>
<p>It seems I can get things working with</p>
<pre><code>eval $BACKUP_PROG "${BACKUP_RSYNC_OPTIONS[@]}" ...
</code></pre>
<p>in usr/share/rear/backup/RSYNC/default/500_make_rsync_backup.sh<br />
but currently I cannot foresee if that additional <code>eval</code> might have
unwanted side-effects.</p>
<p>In general I don't like <code>eval</code> because it makes things behave more
complicated,<br />
cf.
<a href="https://mywiki.wooledge.org/BashFAQ/048">https://mywiki.wooledge.org/BashFAQ/048</a><br />
and RFC 1925 items 6 and 6a (excerpts)</p>
<pre><code>(6) It is easier to move a problem around ... than it is to solve it.
(6a) It is always possible to add another level of indirection.
</code></pre>
<p>So I would prefer plain and simple</p>
<pre><code>BACKUP_RSYNC_OPTIONS+=( --rsync-path=rsync -M--fake-super )
</code></pre>
<p>provided <code>-M</code> is supported by sufficiently recent rsync i.e. by those
rsync versions<br />
that are included in the Linux distributions that are supported by
current ReaR, cf.<br />
<a href="https://github.com/rear/rear/blob/master/doc/rear-release-notes.txt#L2513">https://github.com/rear/rear/blob/master/doc/rear-release-notes.txt#L2513</a></p>
<pre><code>ReaR-2.6 is supported on the following Linux based operating systems:

  o Fedora 29, 30, 31, and 32
  o RHEL 6, 7, and 8
  o CentOS 6, 7, and 8
  o Scientific Linux 6 and 7
  o SLES 12 and 15
  o openSUSE Leap 15.x
  o Debian 8, and 9
  o Ubuntu 16, 17, and 18
</code></pre>
<h4 id="jsmeix_commented_at_2021-03-23_0955"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-804769050">2021-03-23 09:55</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-03-23_0955" title="Permanent link">&para;</a></h4>
<p>Regarding what rsync versions that are included in the Linux
distributions<br />
hat are supported by current ReaR support <code>-M</code> / <code>--remote-option</code>:</p>
<p><a href="https://serverfault.com/questions/119846/rsync-and-fake-super-how-to-preserve-attributes">https://serverfault.com/questions/119846/rsync-and-fake-super-how-to-preserve-attributes</a><br />
reads (excerpts)</p>
<pre><code>Note that at least as of rsync 3.1.2 (but probably already earlier versions)
there is a --remote-option parameter which might generally be preferable.
There is also the shortcut "-M" for it. So instead of
--rsync-path="rsync --fake-super"
one could also have written
-M--fake-super

I can confirm that --remote-option aka -M is also in rsync 3.1.1

--remote-option/-M is not available in rsync 3.0.9 on CentOS 7
</code></pre>
<p>But CentOS 6 and 7 are supported by current ReaR.</p>
<p>--remote-option/-M is not available in rsync-3.0.4 on SLES11<br />
and SLES11 is no longer supported since ReaR 2.6<br />
but SLES11 was supported up to ReaR 2.5 cf.<br />
<a href="https://github.com/rear/rear.github.com/blob/master/documentation/release-notes-2-5.md">https://github.com/rear/rear.github.com/blob/master/documentation/release-notes-2-5.md</a></p>
<p>--remote-option/-M is available in rsync 3.1.3 on SLES12 and SLES15</p>
<h4 id="jsmeix_commented_at_2021-03-23_0959"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-804772143">2021-03-23 09:59</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-03-23_0959" title="Permanent link">&para;</a></h4>
<p>@gdha @rmetrich @pcahyna<br />
I am at my wits' end here because I don't know how I could solve it
properly.<br />
Could you please (as time permits) have a look here and help to find a
solution together?</p>
<h4 id="gdha_commented_at_2021-04-06_1600"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-814237877">2021-04-06 16:00</a>:<a class="headerlink" href="#gdha_commented_at_2021-04-06_1600" title="Permanent link">&para;</a></h4>
<p>@jsmeix RHEL 7.6 and higher has rsync version 3.1.2. RHEL 6.x need to
check once I find a system with this version (becoming rare as not
supported anymore by RH).</p>
<h4 id="bwelterl_commented_at_2021-04-06_1719"><img src="https://avatars.githubusercontent.com/u/32841830?v=4" width="50"><a href="https://github.com/bwelterl">bwelterl</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-814292841">2021-04-06 17:19</a>:<a class="headerlink" href="#bwelterl_commented_at_2021-04-06_1719" title="Permanent link">&para;</a></h4>
<p>In RHEL 6, it's rsync-3.0.6-12.el6.x86_64 and the option -M remote is
not available.<br />
But I'm not sure we expect a fix in RHEL6 anyway...</p>
<h4 id="gdha_commented_at_2021-04-16_1008"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-821069990">2021-04-16 10:08</a>:<a class="headerlink" href="#gdha_commented_at_2021-04-16_1008" title="Permanent link">&para;</a></h4>
<p>@bwelterl @jsmeix Thanks - RHEL6/CentOS6 support will be dropped for
ReaR v2.7 anyhow so we are good to proceed with <code>-M--fake-super</code> IMHO</p>
<h4 id="jsmeix_commented_at_2021-04-16_1026"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-821079785">2021-04-16 10:26</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-04-16_1026" title="Permanent link">&para;</a></h4>
<p>@gdha @bwelterl<br />
I fully agree that proceeding with <code>-M--fake-super</code> and<br />
dropping official support for old distributions in upcoming ReaR 2.7<br />
is much better compared to not proceed and keep things as broken as is.</p>
<p>In particular users of old distributions should already have set up<br />
their disaster recovery procedures as they need it with current ReaR<br />
so users of old distributions should not need to upgrade to ReaR 2.7,<br />
cf. "Version upgrades with Relax-and-Recover" in<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<p>Even if users of old distributions need to upgrade to ReaR 2.7<br />
only those users who use BACKUP=RSYNC could be affected<br />
and then they could manually adapt the ReaR scripts as needed<br />
to make things work for their specific cases,<br />
cf. "Disaster recovery with Relax-and-Recover (ReaR)" in<br />
<a href="https://en.opensuse.org/SDB:Disaster_Recovery">https://en.opensuse.org/SDB:Disaster_Recovery</a></p>
<h4 id="pcahyna_commented_at_2021-05-12_1623"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-839916597">2021-05-12 16:23</a>:<a class="headerlink" href="#pcahyna_commented_at_2021-05-12_1623" title="Permanent link">&para;</a></h4>
<p>@jsmeix @bwelterl sorry for the delay. Looking at the issue now.</p>
<h4 id="pcahyna_commented_at_2021-05-13_1822"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-840743973">2021-05-13 18:22</a>:<a class="headerlink" href="#pcahyna_commented_at_2021-05-13_1822" title="Permanent link">&para;</a></h4>
<p>The issue can't be reproduced on 2.6, as I explained in
<a href="https://github.com/rear/rear/pull/2577#discussion_r631997526">https://github.com/rear/rear/pull/2577#discussion_r631997526</a>
. Please close.<br />
(Not that the rsync code is entirely correct: it does not restore
extended attributes: so before restore you have</p>
<pre><code>$ getfattr -d -m- /usr/bin/ping
getfattr: Removing leading '/' from absolute path names
# file: usr/bin/ping
security.capability=0sAAAAAgAwAAAAAAAAAAAAAAAAAAA=
security.selinux="system_u:object_r:ping_exec_t:s0"
</code></pre>
<p>while after restore just</p>
<pre><code>getfattr -d -m- /usr/bin/ping
getfattr: Removing leading '/' from absolute path names
# file: usr/bin/ping
security.selinux="system_u:object_r:ping_exec_t:s0"
</code></pre>
<p>so the system will be a bit broken in different ways. But that's a
separate issue. The problem reported here would be also easier to detect
if rsync errors during restore were reported, but that's a separate
issue as well, #2612 .)</p>
<p>Since the problem discussed here was how to recognize properly quoted
arguments from improperly quoted arguments, here is a trick I have been
using. In <code>ps</code> you will not see the difference between
<code>rsync --rsync-path=rsync --fake-super</code> and
<code>rsync "--rsync-path=rsync --fake-super"</code> (the quotes are not part of
the arguments themselves and they should not be, the shell removes
them), but you can determine it using procfs, where the individual ARGV
entries are separated by zeros. So:<br />
rear 2.6 (fixed) has this</p>
<pre><code># tr '\0' '\n' &lt; /proc/19605/cmdline
rsync
--sparse
--archive
--hard-links
--numeric-ids
--stats
--rsync-path=rsync --fake-super
--relative
--one-file-system
--delete
--exclude-from=/tmp/rear.fCuNUO7ZP85C4Tg/tmp/backup-exclude.txt
--delete-excluded
/
...
</code></pre>
<p>while 2.4 (buggy) has this:</p>
<pre><code># tr '\0' '\n' &lt; /proc/17970/cmdline
rsync
--sparse
--archive
--hard-links
--numeric-ids
--stats
--rsync-path=rsync
--fake-super
--relative
--one-file-system
--delete
--exclude-from=/tmp/rear.b2Dz5Dj4S9qNHf7/tmp/backup-exclude.txt
--delete-excluded
/
...
</code></pre>
<h4 id="pcahyna_commented_at_2021-05-14_1932"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-841458640">2021-05-14 19:32</a>:<a class="headerlink" href="#pcahyna_commented_at_2021-05-14_1932" title="Permanent link">&para;</a></h4>
<blockquote>
<p>At least for today I give up lost in quotation hell.</p>
<p>My failed cases:</p>
<p>(1)</p>
<pre><code>BACKUP_RSYNC_OPTIONS+=( --rsync-path="""rsync --fake-super""" )
</code></pre>
<p>results the rsync command option (with single quotes as shown here):</p>
<pre><code>rsync ... '--rsync-path=rsync --fake-super' ...
</code></pre>
<p>which doesn't result ownerships and permissions added in xattr of
remote files</p>
</blockquote>
<p>It works for me. How did you check? Does your target filesystem support
user extended attributes?</p>
<h4 id="pcahyna_commented_at_2021-05-15_1125"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-841643010">2021-05-15 11:25</a>:<a class="headerlink" href="#pcahyna_commented_at_2021-05-15_1125" title="Permanent link">&para;</a></h4>
<p>The only thing unclear is why was @jsmeix able to reproduce the problem
with (presumably) the current development version (was it really the
current version, or something older that is shipped with SLES15?), which
should have the problem fixed (and I was not able to reproduce it
anymore).</p>
<h4 id="jsmeix_commented_at_2021-05-17_1232"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-842286552">2021-05-17 12:32</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-05-17_1232" title="Permanent link">&para;</a></h4>
<p>@pcahyna<br />
thank you so much for your deep analysis<br />
and your comprehensive explanations<br />
that help so much to understand things!</p>
<p>My "doesn't result ownerships and permissions added in xattr of remote
files"<br />
is only from what @bwelterl told about
<code>'--rsync-path=rsync --fake-super'</code><br />
(as fas as I understood it - perhaps I misunderstood it).<br />
I did not verify if that was actually true or false.</p>
<p>Unfortunately it is too long ago so I don't remember what I exactly did
to "reproduce" it.<br />
Usually I use GitHub master code because that is the only place where we
fix things.<br />
I think I vaguely remember that with "I can reproduce" I had only meant
how the<br />
'rsync' command is shown by <code>set -x</code> in the 'rear -D mkrescue' debug log
file.<br />
So I guess my "I can reproduce" was false alarm because I failed to<br />
recognize properly quoted arguments from improperly quoted arguments<br />
that you described so well in your<br />
<a href="https://github.com/rear/rear/pull/2577#issuecomment-840743973">https://github.com/rear/rear/pull/2577#issuecomment-840743973</a></p>
<h4 id="jsmeix_commented_at_2021-05-17_1323"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-842320984">2021-05-17 13:23</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-05-17_1323" title="Permanent link">&para;</a></h4>
<p>Now <code>ARRAY+=( appended elements )</code> is documented as the only way in<br />
<a href="https://github.com/rear/rear/wiki/Coding-Style">https://github.com/rear/rear/wiki/Coding-Style</a></p>
<pre><code>Append to array only via ARRAY+=( appended elements )
because ARRAY=( "${ARRAY[@]}" appended elements ) is not fail-safe
</code></pre>
<h4 id="pcahyna_commented_at_2021-05-17_1359"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-842348727">2021-05-17 13:59</a>:<a class="headerlink" href="#pcahyna_commented_at_2021-05-17_1359" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Now <code>ARRAY+=( appended elements )</code> is documented as the only way in<br />
<a href="https://github.com/rear/rear/wiki/Coding-Style">https://github.com/rear/rear/wiki/Coding-Style</a></p>
<pre><code>Append to array only via ARRAY+=( appended elements )
because ARRAY=( "${ARRAY[@]}" appended elements ) is not fail-safe
</code></pre>
</blockquote>
<p>That's a misunderstanding. I believe that
<code>ARRAY=( "${ARRAY[@]}" appended elements )</code> should be fail-safe. But the
code that you have replaced with <code>+=</code> lacked the quotes, that was the
problem.<br />
<code>+=</code> is fail-safe in the sense of "trottelfest" (fool-safe) because it
can be hard to remember to use quotes consistently, while with <code>+=</code> the
intention is obvious and one doesn't have to worry about such nasty
details.</p>
<h4 id="pcahyna_commented_at_2021-05-17_1405"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-842353400">2021-05-17 14:05</a>:<a class="headerlink" href="#pcahyna_commented_at_2021-05-17_1405" title="Permanent link">&para;</a></h4>
<blockquote>
<p>My "doesn't result ownerships and permissions added in xattr of remote
files"<br />
is only from what @bwelterl told about
<code>'--rsync-path=rsync --fake-super'</code><br />
(as fas as I understood it - perhaps I misunderstood it).<br />
I did not verify if that was actually true or false.</p>
</blockquote>
<p>For the record, if you look at the backup created using --fake-super on
the backup server, it looks quite weird and you will quickly recognize
it. Even symlinks become normal files and the information that they are
intended to be symlinks is recorded in the extended attribute.</p>
<h4 id="jsmeix_commented_at_2021-05-17_1410"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2577#issuecomment-842357663">2021-05-17 14:10</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-05-17_1410" title="Permanent link">&para;</a></h4>
<p>On
<a href="https://github.com/rear/rear/wiki/Coding-Style">https://github.com/rear/rear/wiki/Coding-Style</a><br />
I reverted that <code>ARRAY+=( appended elements )</code> is the <em>only</em> way<br />
so now it is again only the recommended way.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2021-02-25.2577.pr.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
