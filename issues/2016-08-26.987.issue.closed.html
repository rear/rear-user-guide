<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#987 Issue closed: RFC: Implement a backup restore workflow that can work on its own. - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#987 Issue closed: RFC: Implement a backup restore workflow that can work on its own.";
        var mkdocs_page_input_path = "issues/2016-08-26.987.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#987 Issue closed: RFC: Implement a backup restore workflow that can work on its own.</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="987_issue_closed_rfc_implement_a_backup_restore_workflow_that_can_work_on_its_own"><a href="https://github.com/rear/rear/issues/987">#987 Issue</a> <code>closed</code>: RFC: Implement a backup restore workflow that can work on its own.<a class="headerlink" href="#987_issue_closed_rfc_implement_a_backup_restore_workflow_that_can_work_on_its_own" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>won't fix / can't fix / obsolete</code></p>
<h4 id="jsmeix_opened_issue_at_2016-08-26_1105"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> opened issue at <a href="https://github.com/rear/rear/issues/987">2016-08-26 11:05</a>:<a class="headerlink" href="#jsmeix_opened_issue_at_2016-08-26_1105" title="Permanent link">&para;</a></h4>
<p>Hereby I ask for comments whether or not it could make sense<br />
to have a new "rear restoreonly" workflow as counterpart<br />
of "rear mkbackuponly".</p>
<p>The following issue triggered this RFC:<br />
<a href="http://lists.relax-and-recover.org/pipermail/rear-users/2016-August/003414.html">http://lists.relax-and-recover.org/pipermail/rear-users/2016-August/003414.html</a><br />
It reads (excerpts):</p>
<pre>
> Is there a way to skip deleting the partitions?
> so just a way to then get REAR to copy the files back

... in the recovery system "rear recover" ... should
use the disk as is, only restore the backup and exit?

I.e. you ask for a counterpart of "rear mkbackuponly"
in the recovery system like "rear restoreonly"
</pre>

<p>The main use-cases that I have in mind for "restoreonly"<br />
is the main use-case for GRUB_RESCUE, see default.conf:</p>
<pre>
The main reason for the GRUB_RESCUE functionality is
to be quickly able to recover a system
from soft errors (like deleting all of /lib/) without
digging out the rear recovery boot medium.
</pre>

<p>After soft errors like deleting all of /lib/ there is no need<br />
to recreate partitioning and filesystems.</p>
<p>What is needed to recover from such soft errors is<br />
to get the tree of filesystems mounted at /mnt/local<br />
and then restore the backup therein.</p>
<p>After backup restore one needs probably additionally<br />
recreating the initrd and reinstalling the bootloader<br />
because after backup restore the kernel could have<br />
changed (replaced by an older kernel from the backup).</p>
<p>My personal interest is to try to clean up the currently<br />
single-big-and-fat "recover" workflow, see<br />
<a href="http://lists.relax-and-recover.org/pipermail/rear-users/2016-August/003418.html">http://lists.relax-and-recover.org/pipermail/rear-users/2016-August/003418.html</a><br />
(excerpts)</p>
<pre>
> ... by deactivating all entries
> in disklayout.conf one can skip successfully that during
> "rear recover" any partitions are deleted, created, and
> that any filesystems are created.

But what does not work is that when I only deactivate
the 'disk' and 'part' entries but keep the 'fs'
and 'swap' entries, then "rear recover" fails
...

Currently "rear recover" is not prepared to skip only
certain parts of partitioning and making filesystems.

... when I do partitioning plus creating filesystems
plus mounting alltogether at /mnt/local manually,
then "rear recover" proceeeds for me
... it restores the backup.

After backup restore it fails when installing the
bootloader (GRUB 2 in my case) so that
I also need to do this stuff manually
</pre>

<p>It seems there are currently some "obscure"<br />
interdependencies in the whole "recover" workflow<br />
so that it either works as a whole or not at all.</p>
<p>I would like to investigate why that is and<br />
if I could clean it up so that separated parts<br />
of the "recover" workflow can run separated.</p>
<p>A "restoreonly" workflow would be only a nice<br />
side-effect of such an overall clean-up.</p>
<h4 id="gdha_commented_at_2016-09-29_0926"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/987#issuecomment-250415937">2016-09-29 09:26</a>:<a class="headerlink" href="#gdha_commented_at_2016-09-29_0926" title="Permanent link">&para;</a></h4>
<p>@jsmeix is that not the purpose of <strong>real</strong> backup software? Rear should
be strong in <strong>DR</strong>, and leave the restore of missing files to the
backup software. IMHO - we shouldn't please everybody.</p>
<h4 id="schlomo_commented_at_2016-09-29_0941"><img src="https://avatars.githubusercontent.com/u/101384?v=4" width="50"><a href="https://github.com/schlomo">schlomo</a> commented at <a href="https://github.com/rear/rear/issues/987#issuecomment-250419268">2016-09-29 09:41</a>:<a class="headerlink" href="#schlomo_commented_at_2016-09-29_0941" title="Permanent link">&para;</a></h4>
<p>Patches are always welcome, especially if they help some users without<br />
harming anybody else.</p>
<p>I also would not spend core team time on that right now.</p>
<p>Am 29.09.2016 11:26 vorm. schrieb "gdha" <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;">&#110;&#111;&#116;&#105;&#102;&#105;&#99;&#97;&#116;&#105;&#111;&#110;&#115;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#46;&#99;&#111;&#109;</a>:</p>
<blockquote>
<p>@jsmeix <a href="https://github.com/jsmeix">https://github.com/jsmeix</a> is that
not the purpose of <em>real</em><br />
backup software? Rear should be strong in <em>DR</em>, and leave the restore
of<br />
missing files to the backup software. IMHO - we shouldn't please
everybody.</p>
<p>—<br />
You are receiving this because you are subscribed to this thread.<br />
Reply to this email directly, view it on GitHub<br />
<a href="https://github.com/rear/rear/issues/987#issuecomment-250415937">https://github.com/rear/rear/issues/987#issuecomment-250415937</a>,
or mute<br />
the thread<br />
<a href="https://github.com/notifications/unsubscribe-auth/AAGMCEWoNVgs2wCXlmLkhi2uo3Q_UlFjks5qu4RVgaJpZM4Jt-Sp">https://github.com/notifications/unsubscribe-auth/AAGMCEWoNVgs2wCXlmLkhi2uo3Q_UlFjks5qu4RVgaJpZM4Jt-Sp</a><br />
.</p>
</blockquote>
<h4 id="jsmeix_commented_at_2016-09-29_0954"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/987#issuecomment-250422083">2016-09-29 09:54</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-09-29_0954" title="Permanent link">&para;</a></h4>
<p>Many thanks for your feedback!<br />
This is certainly not a high-priority issue for me.<br />
As time permits I will have a look if it can be done<br />
with reasonable effort and without the risk to<br />
cause regressions elsewhere.</p>
<h4 id="jsmeix_commented_at_2016-11-25_1933"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/987#issuecomment-263014503">2016-11-25 19:33</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-11-25_1933" title="Permanent link">&para;</a></h4>
<p>It seems this one is the exact matching required counterpart<br />
if "Multiple Backup Methods" can be done as described in<br />
<a href="https://github.com/rear/rear/issues/1088#issuecomment-262981954">https://github.com/rear/rear/issues/1088#issuecomment-262981954</a><br />
and subsequent comments.</p>
<h4 id="jsmeix_commented_at_2016-11-30_1155"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/987#issuecomment-263856063">2016-11-30 11:55</a>:<a class="headerlink" href="#jsmeix_commented_at_2016-11-30_1155" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/rear/rear/pull/1091">https://github.com/rear/rear/pull/1091</a><br />
provides an initial version of a restoreonly workflow<br />
that implements only what its name tells (strictly speaking):<br />
Currently it only restores - nothing more, see<br />
<a href="https://github.com/rear/rear/pull/1091#issuecomment-263819775">https://github.com/rear/rear/pull/1091#issuecomment-263819775</a><br />
where I also describe why I think it could be rather complicated<br />
to get the tree of filesystems mounted at /mnt/local.</p>
<p>Therefore I will not implement a full-featured<br />
restoreonly workflow soon which means I change<br />
this issue milestone back to "Rear future".</p>
<h4 id="gdha_commented_at_2017-01-17_1244"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/987#issuecomment-273134998">2017-01-17 12:44</a>:<a class="headerlink" href="#gdha_commented_at_2017-01-17_1244" title="Permanent link">&para;</a></h4>
<p>@jsmeix was this not implemented already?</p>
<h4 id="jsmeix_commented_at_2017-01-17_1256"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/987#issuecomment-273142494">2017-01-17 12:56</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-17_1256" title="Permanent link">&para;</a></h4>
<p>A "restoreonly" workflow is implemented but<br />
that does not implement what is actually requested here,<br />
see my above comment<br />
<a href="https://github.com/rear/rear/issues/987#issuecomment-263856063">https://github.com/rear/rear/issues/987#issuecomment-263856063</a></p>
<p>To make it more clear what is actually requested here<br />
I change the subject of this issue from<br />
Have "rear restoreonly" as counterpart of "rear mkbackuponly"<br />
to<br />
Implement a backup restore workflow that can work on its own.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2016-08-26.987.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
