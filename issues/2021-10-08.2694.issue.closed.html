<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2694 Issue closed: ReaR v2.6 not generating ISO, no explicit ERROR in debug log sections. - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2694 Issue closed: ReaR v2.6 not generating ISO, no explicit ERROR in debug log sections.";
        var mkdocs_page_input_path = "issues/2021-10-08.2694.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#2694 Issue closed: ReaR v2.6 not generating ISO, no explicit ERROR in debug log sections.</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2694_issue_closed_rear_v26_not_generating_iso_no_explicit_error_in_debug_log_sections"><a href="https://github.com/rear/rear/issues/2694">#2694 Issue</a> <code>closed</code>: ReaR v2.6 not generating ISO, no explicit ERROR in debug log sections.<a class="headerlink" href="#2694_issue_closed_rear_v26_not_generating_iso_no_explicit_error_in_debug_log_sections" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>no-issue-activity</code></p>
<h4 id="cervantevo_opened_issue_at_2021-10-08_1911"><img src="https://avatars.githubusercontent.com/u/65373314?v=4" width="50"><a href="https://github.com/cervantevo">cervantevo</a> opened issue at <a href="https://github.com/rear/rear/issues/2694">2021-10-08 19:11</a>:<a class="headerlink" href="#cervantevo_opened_issue_at_2021-10-08_1911" title="Permanent link">&para;</a></h4>
<ul>
<li>ReaR version ("/usr/sbin/rear -V"):</li>
</ul>
<!-- -->

<pre><code>Relax-and-Recover 2.6
</code></pre>
<ul>
<li>OS version ("cat /etc/os-release" or "lsb_release -a" or "cat
    /etc/rear/os.conf"):</li>
</ul>
<!-- -->

<pre><code>LSB Version:    :core-4.1-amd64:core-4.1-noarch
Distributor ID: CentOS
Description:    CentOS Linux release 7.9.2009 (Core)
Release:        7.9.2009
Codename:       Core
</code></pre>
<ul>
<li>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
    /etc/rear/local.conf"):</li>
</ul>
<!-- -->

<pre><code>OUTPUT=ISO
BACKUP=CDM
BOOTLOADER="GRUB2-EFI"
REAL_MACHINE=x86_64
ARCH=Linux-x86_64
OS_MASTER_VENDOR="CentOS"
OS_MASTER_VERSION="7"
OS_MASTER_VENDOR_ARCH="CentOS/x86_64"
OS_MASTER_VENDOR_VERSION="CentOS/7"
OS_MASTER_VENDOR_VERSION_ARCH="CentOS/7/x86_64"
OS_VENDOR=CentOS
OS_VERSION=7.9.2009
OS_VENDOR_ARCH="CentOS/x86_64"
OS_VENDOR_VERSION="CentOS/7"
OS_VENDOR_VERSION_ARCH="CentOS/7/x86_64
export LD_LIBRARY_PATH="$LD_LIBRARY_PATH:/usr/lib64/bind9-export:/usr/lib64/eog:/usr/lib64/python3.6/site-packages:/usr/lib64/samba"
MODULES=( 'loaded_modules' )
TRUSTED_FILE_OWNERS=( 'root' 'bin' 'daemon' 'sync' 'shutdown' 'halt' 'operator' 'queen711' )
USE_DHCLIENT=no
COPY_AS_IS_CDM=( /etc/rubrik /usr/bin/rubrik /var/log/rubrik /etc/pki /usr/lib64/*)
COPY_AS_IS_EXCLUDE=(/var/log/lastlog)
KEEP_OLD_OUTPUT_COPY=yes
</code></pre>
<ul>
<li>Hardware vendor/product (PC or PowerNV BareMetal or ARM) or VM (KVM
    guest or PowerVM LPAR):</li>
</ul>
<!-- -->

<pre><code>VMWare 6.7 VM
</code></pre>
<ul>
<li>System architecture (x86 compatible or PPC64/PPC64LE or what exact
    ARM device):</li>
</ul>
<!-- -->

<pre><code>x86_64
</code></pre>
<ul>
<li>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or
    ELILO or Petitboot):</li>
</ul>
<!-- -->

<pre><code>UEFI
GRUB2
</code></pre>
<ul>
<li>
<p>Storage (local disk or SSD) and/or SAN (FC or iSCSI or FCoE) and/or
    multipath (DM or NVMe):<br />
<code>local disk</code></p>
</li>
<li>
<p>Storage layout ("lsblk -ipo
    NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,SIZE,MOUNTPOINT"):</p>
</li>
</ul>
<!-- -->

<pre><code>NAME                     KNAME     PKNAME    TRAN   TYPE FSTYPE       SIZE MOUNTPOINT
/dev/sda                 /dev/sda                   disk               20G
|-/dev/sda1              /dev/sda1 /dev/sda         part vfat         200M /boot/efi
|-/dev/sda2              /dev/sda2 /dev/sda         part ext4           1G /boot
`-/dev/sda3              /dev/sda3 /dev/sda         part LVM2_member 18.8G
  |-/dev/mapper/vg0-root /dev/dm-0 /dev/sda3        lvm  ext4        16.8G /
  `-/dev/mapper/vg0-swap /dev/dm-1 /dev/sda3        lvm  swap           2G [SWAP]
/dev/sr0                 /dev/sr0            sata   rom              1024M
</code></pre>
<ul>
<li>Description of the issue (ideally so that others can reproduce
    it):<br />
    Running the ~../rear -d -v -D mkrescue with this local.conf, is not
    generating an ISO image.<br />
    The output also is not capturing that the process is erroring.<br />
    In the debug log, it is self referencing to review the log for
    further details.<br />
    Not entirely sure if some, all, or none of the "returns 1" lines are
    where the focus should go.<br />
    I have tried to resolve some of the sections that have "returns 1"
    in the line,<br />
    but nothing seems to be resolving the true issue.<br />
    I would like assistance in understanding which section in the ISO
    generation is actually needing resolution.</li>
</ul>
<!-- -->

<pre><code>sudo rear/usr/sbin/rear -d -v -D mkrescue
Relax-and-Recover 2.6 / Git
Running rear mkrescue (PID 109330 date 2021-10-08 13:50:13)
Command line options: rear/usr/sbin/rear -d -v -D mkrescue
Using log file: /nfshome/queen711/rear/var/log/rear/rear-mjgtest-03-l30.log
Using build area: /var/tmp/rear.zbohpomQvQL5IBk
Running workflow mkrescue on the normal/original system
Found EFI system partition /dev/sda1 on /boot/efi type vfat
Using UEFI Boot Loader for Linux (USING_UEFI_BOOTLOADER=1)
Using '/bin/mkisofs' to create ISO filesystem images
Using autodetected kernel '/boot/vmlinuz-3.10.0-1160.el7.x86_64' as kernel in the recovery system
Creating disk layout
Overwriting existing disk layout file /nfshome/queen711/rear/var/lib/rear/layout/disklayout.conf
Disabling excluded components in /nfshome/queen711/rear/var/lib/rear/layout/disklayout.conf
Using specified bootloader 'GRUB2-EFI' for 'rear recover'
Verifying that the entries in /nfshome/queen711/rear/var/lib/rear/layout/disklayout.conf are correct
Created disk layout (check the results in /nfshome/queen711/rear/var/lib/rear/layout/disklayout.conf)
Creating recovery system root filesystem skeleton layout
Handling network interface 'ens192'
ens192 is a physical device
Handled network interface 'ens192'
Included current keyboard mapping (via 'dumpkeys -f')
Included default US keyboard mapping /lib/kbd/keymaps/legacy/i386/qwerty/defkeymap.map.gz
Included other keyboard mappings in /lib/kbd/keymaps
To log into the recovery system via ssh set up /root/.ssh/authorized_keys or specify SSH_ROOT_PASSWORD
Trying to find what to use as UEFI bootloader...
Trying to find a 'well known file' to be used as UEFI bootloader...
Using '/boot/efi/EFI/centos/grubx64.efi' as UEFI bootloader file
Copying logfile /nfshome/queen711/rear/var/log/rear/rear-mjgtest-03-l30.log into initramfs as '/tmp/rear-mjgtest-03-l30-partial-2021-10-08T13:50:31-0400.log'
Copying files and directories
Copying binaries and libraries
Copying only currently loaded kernel modules (MODULES contains 'loaded_modules') and those in MODULES_LOAD
Copying all files in /lib*/firmware/
Skip copying broken symlink '/etc/mtab' target '/proc/8210/mounts' on /proc/ /sys/ /dev/ or /run/
Testing that the recovery system in /var/tmp/rear.zbohpomQvQL5IBk/rootfs contains a usable system
Testing each binary with 'ldd' and look for 'not found' libraries within the recovery system
Testing that the existing programs in the PROGS array can be found as executable command within the recovery system
Testing that each program in the REQUIRED_PROGS array can be found as executable command within the recovery system
Creating recovery/rescue system initramfs/initrd initrd.cgz with gzip default compression
Created initrd.cgz with gzip default compression (411667214 bytes) in 50 seconds
Exiting rear mkrescue (PID 109330) and its descendant processes ...
Running exit tasks
To remove the build area use (with caution): rm -Rf --one-file-system /var/tmp/rear.zbohpomQvQL5IBk
</code></pre>
<p>TIA</p>
<ul>
<li>
<p>Workaround, if any:</p>
</li>
<li>
<p>Attachments, as applicable ("rear -D mkrescue/mkbackup/recover"
    debug log files):<br />
<a href="https://github.com/rear/rear/files/7313622/rear-mjgtest-03-l30.log">rear-mjgtest-03-l30.log</a></p>
</li>
</ul>
<h4 id="jsmeix_commented_at_2021-10-11_0728"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/2694#issuecomment-939762905">2021-10-11 07:28</a>:<a class="headerlink" href="#jsmeix_commented_at_2021-10-11_0728" title="Permanent link">&para;</a></h4>
<p>I am not a BACKUP=CDM user<br />
so I can neither really reproduce issues with BACKUP=CDM<br />
nor do I know how things should actually behave with BACKUP=CDM.</p>
<p>Perhaps the reason could be that you have<br />
neither OUTPUT_URL nor BACKUP_URL<br />
specified in your etc/rear/local.conf<br />
but<br />
<a href="https://github.com/rear/rear/blob/master/doc/user-guide/16-Rubrik-CDM.adoc">https://github.com/rear/rear/blob/master/doc/user-guide/16-Rubrik-CDM.adoc</a><br />
reads</p>
<pre><code>3. Edit /etc/rear/local.conf and enter:

OUTPUT=ISO
BACKUP=CDM
</code></pre>
<p>so perhaps BACKUP=CDM could work even without a OUTPUT_URL?</p>
<p>See also<br />
<a href="https://github.com/rear/rear/issues/2667#issuecomment-914368204">https://github.com/rear/rear/issues/2667#issuecomment-914368204</a></p>
<h4 id="cervantevo_commented_at_2021-10-18_2021"><img src="https://avatars.githubusercontent.com/u/65373314?v=4" width="50"><a href="https://github.com/cervantevo">cervantevo</a> commented at <a href="https://github.com/rear/rear/issues/2694#issuecomment-946135213">2021-10-18 20:21</a>:<a class="headerlink" href="#cervantevo_commented_at_2021-10-18_2021" title="Permanent link">&para;</a></h4>
<p>Thank you for that suggestion. I have added OUTPUT_URL=null as well as
USE_DHCLIENT="no". It did produce an ISO. We are currently testing the
restored ISO for any issues.</p>
<p>We are glad that an ISO was produced, but viewing the actual ReaR debug
log shows the process should have failed, or at least produced some
error output. The log still doesn't describe which part encountered
error. Am I reading too far into this?</p>
<p><a href="https://github.com/rear/rear/files/7368230/rear-mjgtest-03-l30.log">rear-mjgtest-03-l30.log</a></p>
<p>TIA</p>
<h4 id="github-actions_commented_at_2021-12-18_0222"><img src="https://avatars.githubusercontent.com/in/15368?v=4" width="50"><a href="https://github.com/apps/github-actions">github-actions</a> commented at <a href="https://github.com/rear/rear/issues/2694#issuecomment-997127096">2021-12-18 02:22</a>:<a class="headerlink" href="#github-actions_commented_at_2021-12-18_0222" title="Permanent link">&para;</a></h4>
<p>Stale issue message</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2021-10-08.2694.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
