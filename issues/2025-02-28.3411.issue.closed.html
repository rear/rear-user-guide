<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#3411 Issue closed: Enhance 300_map_disks.sh to also print the disk sizes - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#3411 Issue closed: Enhance 300_map_disks.sh to also print the disk sizes";
        var mkdocs_page_input_path = "issues/2025-02-28.3411.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#3411 Issue closed: Enhance 300_map_disks.sh to also print the disk sizes</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="3411_issue_closed_enhance_300_map_diskssh_to_also_print_the_disk_sizes"><a href="https://github.com/rear/rear/issues/3411">#3411 Issue</a> <code>closed</code>: Enhance 300_map_disks.sh to also print the disk sizes<a class="headerlink" href="#3411_issue_closed_enhance_300_map_diskssh_to_also_print_the_disk_sizes" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>fixed / solved / done</code></p>
<h4 id="gdha_opened_issue_at_2025-02-28_1011"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> opened issue at <a href="https://github.com/rear/rear/issues/3411">2025-02-28 10:11</a>:<a class="headerlink" href="#gdha_opened_issue_at_2025-02-28_1011" title="Permanent link">&para;</a></h4>
<h3 id="platform">Platform<a class="headerlink" href="#platform" title="Permanent link">&para;</a></h3>
<p>Linux x64</p>
<h3 id="is_your_feature_request_related_to_a_problem_please_describe">Is your feature request related to a problem? Please describe.<a class="headerlink" href="#is_your_feature_request_related_to_a_problem_please_describe" title="Permanent link">&para;</a></h3>
<p>When performing a DR on a system with lots of disks it may become
cumbersome to know which disk relates to the original disk, therefore,
it would be nice that in the rear logs also the disk size would be
listed. That makes life a bit easier to tag which disk is linked to what
(of the original ones).</p>
<pre><code>2025-02-28 09:05:07.217022299 Including layout/prepare/default/300_map_disks.sh
2025-02-28 09:05:07.411556781 Using /dev/sda (same name and same size 59055800320) for recreating /dev/sda
2025-02-28 09:05:07.421783784 Using /dev/sdb (same name and same size 107374182400) for recreating /dev/sdb
2025-02-28 09:05:07.431783600 Using /dev/sdc (same name and same size 429496729600) for recreating /dev/sdc
2025-02-28 09:05:07.441584014 Using /dev/sdd (same name and same size 21474836480) for recreating /dev/sdd
2025-02-28 09:05:07.483250556 Original disk /dev/sde does not exist (with same size) in the target system
2025-02-28 09:05:07.489534091 /dev/sda excluded from device mapping choices (is already used as mapping target)
2025-02-28 09:05:07.495736646 /dev/sdb excluded from device mapping choices (is already used as mapping target)
2025-02-28 09:05:07.501468133 /dev/sdc excluded from device mapping choices (is already used as mapping target)
2025-02-28 09:05:07.507184561 /dev/sdd excluded from device mapping choices (is already used as mapping target)
2025-02-28 09:05:07.509295222 sr0 excluded from device mapping choices (is a removable device)
2025-02-28 09:05:07.510573838 No device found where to /dev/sde could be mapped so that it will not be recreated
2025-02-28 09:05:07.515821124 Current disk mapping table (source =&gt; target):
  /dev/sda =&gt; /dev/sda
  /dev/sdb =&gt; /dev/sdb
  /dev/sdc =&gt; /dev/sdc
  /dev/sdd =&gt; /dev/sdd
2025-02-28 09:05:07.528597125 Currently unmapped disks and dependent devices will not be recreated
</code></pre>
<p><strong>PS</strong>: this script requires that library script
<code>usr/share/rear/lib/write-protect-functions.sh</code> is available as well
(could be important if back-ported to ReaR v2.6).</p>
<h3 id="describe_the_solution_youd_like">Describe the solution you'd like<a class="headerlink" href="#describe_the_solution_youd_like" title="Permanent link">&para;</a></h3>
<p>Will create a Pull Request #3412 . It has been tested out in a real DR
scenario already.</p>
<h3 id="describe_alternatives_youve_considered">Describe alternatives you've considered<a class="headerlink" href="#describe_alternatives_youve_considered" title="Permanent link">&para;</a></h3>
<p><em>No response</em></p>
<h3 id="additional_context">Additional context<a class="headerlink" href="#additional_context" title="Permanent link">&para;</a></h3>
<h4 id="gdha_commented_at_2025-03-03_1249"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/3411#issuecomment-2694297636">2025-03-03 12:49</a>:<a class="headerlink" href="#gdha_commented_at_2025-03-03_1249" title="Permanent link">&para;</a></h4>
<p>Reported at RedHat:
<a href="https://access.redhat.com/support/cases/#/case/04074004">https://access.redhat.com/support/cases/#/case/04074004</a></p>
<h4 id="gdha_commented_at_2025-03-06_0931"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/3411#issuecomment-2703294607">2025-03-06 09:31</a>:<a class="headerlink" href="#gdha_commented_at_2025-03-06_0931" title="Permanent link">&para;</a></h4>
<p>Output from a real test:</p>
<pre><code>2025-03-06 09:33:46.436564564 Including layout/prepare/default/300_map_disks.sh
2025-03-06 09:33:46.878464089 '/dev/sda' is not write-protected (empty WRITE_PROTECTED_IDS and WRITE_PROTECTED_FS_LABEL_PATTERNS)
2025-03-06 09:33:46.879697040 Using /dev/sda (same name and same size 48318382080) for recreating /dev/sda
2025-03-06 09:33:46.900153935 '/dev/sdc' is not write-protected (empty WRITE_PROTECTED_IDS and WRITE_PROTECTED_FS_LABEL_PATTERNS)
2025-03-06 09:33:46.901367358 Using /dev/sdc (same size 107374182400) for recreating /dev/sdb
2025-03-06 09:33:46.918038187 '/dev/sdb' is not write-protected (empty WRITE_PROTECTED_IDS and WRITE_PROTECTED_FS_LABEL_PATTERNS)
2025-03-06 09:33:46.919244270 Using /dev/sdb (same size 59055800320) for recreating /dev/sdc
2025-03-06 09:33:46.927996910 '/dev/sdd' is not write-protected (empty WRITE_PROTECTED_IDS and WRITE_PROTECTED_FS_LABEL_PATTERNS)
2025-03-06 09:33:46.929169678 Using /dev/sdd (same name and same size 1073741824000) for recreating /dev/sdd
2025-03-06 09:33:46.938232895 '/dev/sde' is not write-protected (empty WRITE_PROTECTED_IDS and WRITE_PROTECTED_FS_LABEL_PATTERNS)
2025-03-06 09:33:46.939421037 Using /dev/sde (same name and same size 10737418240) for recreating /dev/sde
2025-03-06 09:33:46.948316715 '/dev/sdf' is not write-protected (empty WRITE_PROTECTED_IDS and WRITE_PROTECTED_FS_LABEL_PATTERNS)
2025-03-06 09:33:46.949507778 Using /dev/sdf (same name and same size 10737418240) for recreating /dev/sdf
2025-03-06 09:33:46.958384475 '/dev/sdg' is not write-protected (empty WRITE_PROTECTED_IDS and WRITE_PROTECTED_FS_LABEL_PATTERNS)
2025-03-06 09:33:46.959665194 Using /dev/sdg (same name and same size 5368709120) for recreating /dev/sdg
2025-03-06 09:33:46.968393863 '/dev/sdh' is not write-protected (empty WRITE_PROTECTED_IDS and WRITE_PROTECTED_FS_LABEL_PATTERNS)
2025-03-06 09:33:46.969547443 Using /dev/sdh (same name and same size 17179869184) for recreating /dev/sdh
2025-03-06 09:33:46.978391071 '/dev/sdi' is not write-protected (empty WRITE_PROTECTED_IDS and WRITE_PROTECTED_FS_LABEL_PATTERNS)
2025-03-06 09:33:46.979623286 Using /dev/sdi (same name and same size 536870912000) for recreating /dev/sdi
2025-03-06 09:33:46.988530674 '/dev/sdj' is not write-protected (empty WRITE_PROTECTED_IDS and WRITE_PROTECTED_FS_LABEL_PATTERNS)
2025-03-06 09:33:46.989829899 Using /dev/sdj (same name and same size 536870912000) for recreating /dev/sdj
2025-03-06 09:33:47.051093979 '/dev/sdm' is not write-protected (empty WRITE_PROTECTED_IDS and WRITE_PROTECTED_FS_LABEL_PATTERNS)
2025-03-06 09:33:47.052446194 Using /dev/sdm (same size 536870912000) for recreating /dev/sdk
2025-03-06 09:33:47.120408375 '/dev/sdn' is not write-protected (empty WRITE_PROTECTED_IDS and WRITE_PROTECTED_FS_LABEL_PATTERNS)
2025-03-06 09:33:47.121646236 Using /dev/sdn (same size 536870912000) for recreating /dev/sdl
2025-03-06 09:33:47.187642130 '/dev/sdo' is not write-protected (empty WRITE_PROTECTED_IDS and WRITE_PROTECTED_FS_LABEL_PATTERNS)
2025-03-06 09:33:47.188937253 Using /dev/sdo (same size 590558003200) for recreating /dev/sdm
2025-03-06 09:33:47.258104393 '/dev/sdp' is not write-protected (empty WRITE_PROTECTED_IDS and WRITE_PROTECTED_FS_LABEL_PATTERNS)
2025-03-06 09:33:47.259410996 Using /dev/sdp (same size 16106127360) for recreating /dev/sdn
2025-03-06 09:33:47.310356341 '/dev/sdk' is not write-protected (empty WRITE_PROTECTED_IDS and WRITE_PROTECTED_FS_LABEL_PATTERNS)
2025-03-06 09:33:47.311618143 Using /dev/sdk (same size 21474836480) for recreating /dev/sdo
2025-03-06 09:33:47.367076708 '/dev/sdl' is not write-protected (empty WRITE_PROTECTED_IDS and WRITE_PROTECTED_FS_LABEL_PATTERNS)
2025-03-06 09:33:47.368263629 Using /dev/sdl (same size 5368709120) for recreating /dev/sdp
2025-03-06 09:33:47.397798155 Current disk mapping table (source =&gt; target):
  /dev/sda =&gt; /dev/sda
  /dev/sdb =&gt; /dev/sdc
  /dev/sdc =&gt; /dev/sdb
  /dev/sdd =&gt; /dev/sdd
  /dev/sde =&gt; /dev/sde
  /dev/sdf =&gt; /dev/sdf
  /dev/sdg =&gt; /dev/sdg
  /dev/sdh =&gt; /dev/sdh
  /dev/sdi =&gt; /dev/sdi
  /dev/sdj =&gt; /dev/sdj
  /dev/sdk =&gt; /dev/sdm
  /dev/sdl =&gt; /dev/sdn
  /dev/sdm =&gt; /dev/sdo
  /dev/sdn =&gt; /dev/sdp
  /dev/sdo =&gt; /dev/sdk
  /dev/sdp =&gt; /dev/sdl
</code></pre>
<p>Thanks to the mentioned sizes it was for me much easier to verify it
picked the right disk devices (with the corresponding size). Before it
was not that simple (more guessing).</p>
<h4 id="jsmeix_commented_at_2025-03-07_1229"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3411#issuecomment-2706331290">2025-03-07 12:29</a>:<a class="headerlink" href="#jsmeix_commented_at_2025-03-07_1229" title="Permanent link">&para;</a></h4>
<p>I dare to close it when it is "fixed/solved/done".</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2025-02-28.3411.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
