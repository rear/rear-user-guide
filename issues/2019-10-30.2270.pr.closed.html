<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#2270 PR closed: Fix for CentOS 7.7 and 8.0 where certain programs (e.g. dhclient) require additional libraries - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#2270 PR closed: Fix for CentOS 7.7 and 8.0 where certain programs (e.g. dhclient) require additional libraries";
        var mkdocs_page_input_path = "issues/2019-10-30.2270.pr.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li class="breadcrumb-item active">#2270 PR closed: Fix for CentOS 7.7 and 8.0 where certain programs (e.g. dhclient) require additional libraries</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2270_pr_closed_fix_for_centos_77_and_80_where_certain_programs_eg_dhclient_require_additional_libraries"><a href="https://github.com/rear/rear/pull/2270">#2270 PR</a> <code>closed</code>: Fix for CentOS 7.7 and 8.0 where certain programs (e.g. dhclient) require additional libraries<a class="headerlink" href="#2270_pr_closed_fix_for_centos_77_and_80_where_certain_programs_eg_dhclient_require_additional_libraries" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>enhancement</code>, <code>bug</code>, <code>documentation</code>,
<code>won't fix / can't fix / obsolete</code></p>
<h4 id="damanin_opened_issue_at_2019-10-30_0430"><img src="https://avatars.githubusercontent.com/u/37876601?u=832a55ad26fa192d411932dcf7a9f13187d79380&v=4" width="50"><a href="https://github.com/DamaniN">DamaniN</a> opened issue at <a href="https://github.com/rear/rear/pull/2270">2019-10-30 04:30</a>:<a class="headerlink" href="#damanin_opened_issue_at_2019-10-30_0430" title="Permanent link">&para;</a></h4>
<h5 id="pull_request_details">Pull Request Details:<a class="headerlink" href="#pull_request_details" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>Type: <strong>Enhancement</strong></p>
</li>
<li>
<p>Impact: <strong>Normal</strong></p>
</li>
<li>
<p>Reference to related issue (URL):</p>
</li>
</ul>
<p>#2266</p>
<ul>
<li>How was this pull request tested?</li>
</ul>
<p>Used <code>rear mkrescue</code> to successfully create an ISO both from the command
line and via CDM's fileset pre-scripts on CentOS 7.7 and 8.0.
Successfully booted the CentOS 7.7 ISO.</p>
<ul>
<li>Brief description of the changes in this pull request:</li>
</ul>
<p>Added <code>LD_LIBRARY_PATH</code> information to the CDM documentation.</p>
<h4 id="jsmeix_commented_at_2019-11-04_1243"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2270#issuecomment-549336774">2019-11-04 12:43</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-11-04_1243" title="Permanent link">&para;</a></h4>
<p>@rear/contributors<br />
I would like to have a review by another ReaR maintainer<br />
in particular the <code>export LD_LIBRARY_PATH="$LD_LIBRARY_PATH:..."</code> part.</p>
<p>I think this is not yet the right solution but only a workaround for
now<br />
because I guess in CentOS 7.7 and 8.0 this is done differently<br />
so a review from a CentOS 7.7 and 8.0 user would be much appreciated.</p>
<p>Basically in the ReaR recovery system things should be done same<br />
as on the original CentOS 7.7 and 8.0 systems.</p>
<p>So if on the original CentOS 7.7 and 8.0 systems things are done via</p>
<pre><code>export LD_LIBRARY_PATH="$LD_LIBRARY_PATH:...
</code></pre>
<p>the same should be automatically done in the ReaR recovery system<br />
and when on the original CentOS 7.7 and 8.0 systems things are done<br />
differently things should be done same in the ReaR recovery system.</p>
<h4 id="jsmeix_commented_at_2019-11-08_1355"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2270#issuecomment-551832257">2019-11-08 13:55</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-11-08_1355" title="Permanent link">&para;</a></h4>
<p>In general regarding a global <code>export LD_LIBRARY_PATH="..."</code>:</p>
<p>Setting a global LD_LIBRARY_PATH leads to unexpected side effects<br />
because libraries via LD_LIBRARY_PATH have precedence<br />
over the normal/default system libraries so that<br />
after <code>export LD_LIBRARY_PATH="..."</code> all programs<br />
are run with the special libraries in LD_LIBRARY_PATH<br />
and not with the normal/default system libraries.</p>
<p>In particular <code>export LD_LIBRARY_PATH="..."</code> in etc/rear/local.conf<br />
let all programs in all ReaR scripts run with the special libraries<br />
in LD_LIBRARY_PATH and not with the normal system libraries<br />
so that the programs could behave different when run "in ReaR"<br />
compared to when run directly on the system.</p>
<p>Cf.<br />
<a href="https://github.com/rear/rear/issues/1533#issuecomment-336622504">https://github.com/rear/rear/issues/1533#issuecomment-336622504</a></p>
<p><a href="https://github.com/rear/rear/pull/1562#issuecomment-342111737">https://github.com/rear/rear/pull/1562#issuecomment-342111737</a></p>
<p><a href="https://github.com/rear/rear/issues/1927#issuecomment-434224424">https://github.com/rear/rear/issues/1927#issuecomment-434224424</a></p>
<p><a href="https://github.com/rear/rear/issues/1907#issuecomment-434215448">https://github.com/rear/rear/issues/1907#issuecomment-434215448</a></p>
<p><a href="https://www.hpc.dtu.dk/?page_id=1180">https://www.hpc.dtu.dk/?page_id=1180</a></p>
<p>where the latter reads in particular (excerpts):</p>
<pre><code>LD_LIBRARY_PATH – or: How to get yourself into trouble!
...
LD_LIBRARY_PATH tells the dynamic link loader ...
where to search for the dynamic shared libraries
an application was linked against ...
and this list is then searched
before the compiled-in search path(s),
and the standard locations (typically /lib, /usr/lib, ...)
...
It is even getting worse, if this crutch is applied
globally into an user’s (or the system’s!) environment
...
Inconsistency:
This is the most common problem.
LD_LIBRARY_PATH forces an application
to load a shared library it wasn’t linked against,
and that is quite likely not compatible with
the original version.
This can either be very obvious,
i.e. the application crashes,
or it can lead to wrong results, if the
picked up library not quite does what the
original version would have done.
Especially the latter is sometimes hard to debug.
</code></pre>
<h4 id="damanin_commented_at_2019-11-15_2051"><img src="https://avatars.githubusercontent.com/u/37876601?u=832a55ad26fa192d411932dcf7a9f13187d79380&v=4" width="50"><a href="https://github.com/DamaniN">DamaniN</a> commented at <a href="https://github.com/rear/rear/pull/2270#issuecomment-554523486">2019-11-15 20:51</a>:<a class="headerlink" href="#damanin_commented_at_2019-11-15_2051" title="Permanent link">&para;</a></h4>
<p>@jsmeix, so what is a more appropriate way to resolve this issue? I
don't have much experience in how to tell ReaR where to look for
libraries if it cannot find them in the default paths.</p>
<h4 id="jsmeix_commented_at_2019-11-18_1121"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2270#issuecomment-554973123">2019-11-18 11:21</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-11-18_1121" title="Permanent link">&para;</a></h4>
<p>@DamaniN<br />
see
<a href="https://github.com/rear/rear/issues/2266#issuecomment-554971616">https://github.com/rear/rear/issues/2266#issuecomment-554971616</a></p>
<p>The real fix should be to properly<br />
replicate in the ReaR recovery system<br />
the config of the run-time linker (for /sbin/dhclient)<br />
from the config on the original CentOS system</p>
<h4 id="jsmeix_commented_at_2019-11-21_0930"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/pull/2270#issuecomment-556997533">2019-11-21 09:30</a>:<a class="headerlink" href="#jsmeix_commented_at_2019-11-21_0930" title="Permanent link">&para;</a></h4>
<p>@DamaniN<br />
I guess you closed this pull request because<br />
you are now trying to get this issue solved in a different way?</p>
<h4 id="damanin_commented_at_2019-11-22_0250"><img src="https://avatars.githubusercontent.com/u/37876601?u=832a55ad26fa192d411932dcf7a9f13187d79380&v=4" width="50"><a href="https://github.com/DamaniN">DamaniN</a> commented at <a href="https://github.com/rear/rear/pull/2270#issuecomment-557364522">2019-11-22 02:50</a>:<a class="headerlink" href="#damanin_commented_at_2019-11-22_0250" title="Permanent link">&para;</a></h4>
<p>That pull request had an extra commit from #2267 in it. I removed the
commit for this issue to allow it to close and merge. I haven't found a
better fix for this yet and will repost the original shortly.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2023 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2019-10-30.2270.pr.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
