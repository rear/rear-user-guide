<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#3090 Issue closed: AWS VM HVM: ISO boots but RAWDISK won't boot (stuck at "Probing EDD" with syslinux 4.X) - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#3090 Issue closed: AWS VM HVM: ISO boots but RAWDISK won\u0027t boot (stuck at \"Probing EDD\" with syslinux 4.X)";
        var mkdocs_page_input_path = "issues/2023-11-22.3090.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#3090 Issue closed: AWS VM HVM: ISO boots but RAWDISK won't boot (stuck at "Probing EDD" with syslinux 4.X)</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="3090_issue_closed_aws_vm_hvm_iso_boots_but_rawdisk_wont_boot_stuck_at_probing_edd_with_syslinux_4x"><a href="https://github.com/rear/rear/issues/3090">#3090 Issue</a> <code>closed</code>: AWS VM HVM: ISO boots but RAWDISK won't boot (stuck at "Probing EDD" with syslinux 4.X)<a class="headerlink" href="#3090_issue_closed_aws_vm_hvm_iso_boots_but_rawdisk_wont_boot_stuck_at_probing_edd_with_syslinux_4x" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>fixed / solved / done</code>,
<code>external tool</code>, <code>not ReaR / invalid</code>, <code>special hardware or VM</code></p>
<h4 id="ramzcode_opened_issue_at_2023-11-22_1405"><img src="https://avatars.githubusercontent.com/u/76745955?u=f5c61d1790c8abce888534760cd418243fbf82f5&v=4" width="50"><a href="https://github.com/ramzcode">ramzcode</a> opened issue at <a href="https://github.com/rear/rear/issues/3090">2023-11-22 14:05</a>:<a class="headerlink" href="#ramzcode_opened_issue_at_2023-11-22_1405" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>ReaR version :<br />
    2.4 and 2.7</p>
</li>
<li>
<p>If your ReaR version is not the current version, explain why you
    can't upgrade:</p>
</li>
<li>
<p>OS version :<br />
    Amazon Linux 2 and 2023</p>
</li>
<li>
<p>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
    /etc/rear/local.conf"):</p>
</li>
</ul>
<!-- -->

<pre><code>RAWDISK_IMAGE_NAME="NEW-TESTRAWV2"
OUTPUT=RAWDISK
KEEP_BUILD_DIR="yes"
BACKUP=NETFS
USE_DHCLIENT=yes
BOOTLOADER='GRUB2'
OUTPUT_URL=nfs://172.31.3.205/backup/linux
BACKUP_URL=nfs://172.31.3.205/backup/linux
</code></pre>
<ul>
<li>
<p>Hardware vendor/product (PC or PowerNV BareMetal or ARM) or VM (KVM
    guest or PowerVM LPAR):<br />
    AWS VM HVM</p>
</li>
<li>
<p>System architecture (x86 compatible or PPC64/PPC64LE or what exact
    ARM device):<br />
    x86_64</p>
</li>
<li>
<p>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or
    ELILO or Petitboot):<br />
    BIOS / GRUB</p>
</li>
<li>
<p>Model:<br />
    NVMe Device (nvme)</p>
</li>
</ul>
<!-- -->

<pre><code>Disk /dev/nvme0n1: 16.1GB
Sector size (logical/physical): 512B/512B
Partition Table: gpt
Disk Flags:
Number  Start   End     Size    File system  Name                 Flags
128     1049kB  2097kB  1049kB               BIOS Boot Partition  bios_grub
 1      2097kB  16.1GB  16.1GB  xfs          Linux
</code></pre>
<ul>
<li>
<p>Storage (local disk or SSD) and/or SAN (FC or iSCSI or FCoE) and/or
    multipath (DM or NVMe):<br />
    NVMe</p>
</li>
<li>
<p>Storage layout ("lsblk -ipo
    NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,LABEL,SIZE,MOUNTPOINT"):</p>
</li>
</ul>
<!-- -->

<pre><code>NAME               KNAME            PKNAME       TRAN   TYPE FSTYPE LABEL SIZE MOUNTPOINT
/dev/nvme0n1       /dev/nvme0n1                  nvme   disk               15G
|-/dev/nvme0n1p1   /dev/nvme0n1p1   /dev/nvme0n1 nvme   part xfs    /      15G /
`-/dev/nvme0n1p128 /dev/nvme0n1p128 /dev/nvme0n1 nvme   part                1M
</code></pre>
<ul>
<li>Description of the issue (ideally so that others can reproduce it):</li>
</ul>
<p>A ISO output boots,<br />
but when i use RAWDISK as an output it wont boot,<br />
stuck at the syslinux boot EDD line</p>
<ul>
<li>Workaround, if any: Not Sure</li>
</ul>
<h4 id="jsmeix_commented_at_2023-11-22_1622"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3090#issuecomment-1823085067">2023-11-22 16:22</a>:<a class="headerlink" href="#jsmeix_commented_at_2023-11-22_1622" title="Permanent link">&para;</a></h4>
<p>@ramzcode<br />
what exactly do you mean<br />
with "stuck at the syslinux boot EDD line" ?</p>
<p>If you don't see further (console) output after the line</p>
<pre><code>Probing EDD (edd=off to disable)... ok
</code></pre>
<p>see<br />
<a href="https://github.com/rear/rear/issues/2955#issuecomment-1465642166">https://github.com/rear/rear/issues/2955#issuecomment-1465642166</a></p>
<p>Check your ReaR recovery system kernel command line arguments<br />
and look for "console=..." settings.</p>
<p>E.g. for BIOS you can get the<br />
ReaR recovery system kernel command line arguments<br />
by selecting in the ReaR recovery system boot menue<br />
the topmost enty of the form "Recover HOSTNAME" and then<br />
pressing the [Tab] key which shows the kernel command line.</p>
<h4 id="ramzcode_commented_at_2023-11-22_1826"><img src="https://avatars.githubusercontent.com/u/76745955?u=f5c61d1790c8abce888534760cd418243fbf82f5&v=4" width="50"><a href="https://github.com/ramzcode">ramzcode</a> commented at <a href="https://github.com/rear/rear/issues/3090#issuecomment-1823269201">2023-11-22 18:26</a>:<a class="headerlink" href="#ramzcode_commented_at_2023-11-22_1826" title="Permanent link">&para;</a></h4>
<p>The problem was with the syslinux 4.X version, the bootloader did not
progress further. But after installing the latest version it did work.
Now the RAWDISK boots as expected, yet to test the recovery process
further</p>
<h4 id="ramzcode_commented_at_2023-11-24_1602"><img src="https://avatars.githubusercontent.com/u/76745955?u=f5c61d1790c8abce888534760cd418243fbf82f5&v=4" width="50"><a href="https://github.com/ramzcode">ramzcode</a> commented at <a href="https://github.com/rear/rear/issues/3090#issuecomment-1825859747">2023-11-24 16:02</a>:<a class="headerlink" href="#ramzcode_commented_at_2023-11-24_1602" title="Permanent link">&para;</a></h4>
<p>@jsmeix It looks like the ReaR missed the Bios partition to include in
the partion layout but it has info inside the parted file. Due to this
the target has not boot partition created and GRUB2 failed to install.</p>
<pre><code>Number  Start   End     Size    File system  Name                 Flags
128     1049kB  2097kB  1049kB               BIOS Boot Partition  bios_grub
 1      2097kB  16.1GB  16.1GB  xfs          Linux
</code></pre>
<p>Unfortunately it picked 1 partition and ignored 128 which is my BIOS
boot.</p>
<p>Any idea, is this expected or do am i missing anything ?</p>
<p>Please suggest</p>
<h4 id="jsmeix_commented_at_2023-11-27_1107"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3090#issuecomment-1827620478">2023-11-27 11:07</a>:<a class="headerlink" href="#jsmeix_commented_at_2023-11-27_1107" title="Permanent link">&para;</a></h4>
<p>I never had a system with a partition number 128<br />
and in particular I never tried ReaR with such a system<br />
so I cannot comment how such a system behaves in practice.</p>
<h4 id="ramzcode_commented_at_2023-11-27_1112"><img src="https://avatars.githubusercontent.com/u/76745955?u=f5c61d1790c8abce888534760cd418243fbf82f5&v=4" width="50"><a href="https://github.com/ramzcode">ramzcode</a> commented at <a href="https://github.com/rear/rear/issues/3090#issuecomment-1827627449">2023-11-27 11:12</a>:<a class="headerlink" href="#ramzcode_commented_at_2023-11-27_1112" title="Permanent link">&para;</a></h4>
<p>AWS EC2 Amazon Linux 2 has this behaviour, it boots into the rescue
environment now, but the problem is that particular partition of 128 is
BIOS kind and it is not recorded by the system or by the ReaR.</p>
<p>This makes the system not to boot and just enter into the grub prompt</p>
<h4 id="jsmeix_commented_at_2023-11-27_1128"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3090#issuecomment-1827650775">2023-11-27 11:28</a>:<a class="headerlink" href="#jsmeix_commented_at_2023-11-27_1128" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/rear/rear/issues/3093">https://github.com/rear/rear/issues/3093</a><br />
is the right issue since<br />
<a href="https://github.com/rear/rear/issues/3090#issuecomment-1825859747">https://github.com/rear/rear/issues/3090#issuecomment-1825859747</a></p>
<h4 id="jsmeix_commented_at_2023-11-28_0903"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/3090#issuecomment-1829380887">2023-11-28 09:03</a>:<a class="headerlink" href="#jsmeix_commented_at_2023-11-28_0903" title="Permanent link">&para;</a></h4>
<p>The initial issue here seems to be solved via<br />
<a href="https://github.com/rear/rear/issues/3090#issuecomment-1823269201">https://github.com/rear/rear/issues/3090#issuecomment-1823269201</a></p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2023-11-22.3090.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
