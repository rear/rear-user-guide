<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#508 Issue closed: fedora21beta diskrestore.sh udevcontrol not found - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#508 Issue closed: fedora21beta diskrestore.sh udevcontrol not found";
        var mkdocs_page_input_path = "issues/2014-11-12.508.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#508 Issue closed: fedora21beta diskrestore.sh udevcontrol not found</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="508_issue_closed_fedora21beta_diskrestoresh_udevcontrol_not_found"><a href="https://github.com/rear/rear/issues/508">#508 Issue</a> <code>closed</code>: fedora21beta diskrestore.sh udevcontrol not found<a class="headerlink" href="#508_issue_closed_fedora21beta_diskrestoresh_udevcontrol_not_found" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>bug</code>, <code>fixed / solved / done</code></p>
<h4 id="gdha_opened_issue_at_2014-11-12_1516"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> opened issue at <a href="https://github.com/rear/rear/issues/508">2014-11-12 15:16</a>:<a class="headerlink" href="#gdha_opened_issue_at_2014-11-12_1516" title="Permanent link">&para;</a></h4>
<p>During <code>rear recover</code> we hit an error:</p>
<pre><code>+++ type -p udevadm
+++ udevadm control --stop-exec-queue
+++ udevcontrol stop_exec_queue
/var/lib/rear/layout/diskrestore.sh: line 20: udevcontrol: command not found
</code></pre>
<p>For some reason:</p>
<pre><code>layout/prepare/GNU/Linux/10_include_partition_code.sh:type -p udevadm &gt;/dev/null &amp;&amp; udevadm control --stop-exec-queue || udevcontrol stop_exec_queue
</code></pre>
<p>is not interpreted as we hoped it would</p>
<h4 id="gdha_commented_at_2014-11-12_1517"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/508#issuecomment-62733573">2014-11-12 15:17</a>:<a class="headerlink" href="#gdha_commented_at_2014-11-12_1517" title="Permanent link">&para;</a></h4>
<p>related to issues #480 and #490</p>
<h4 id="tbsky_commented_at_2014-11-12_1700"><img src="https://avatars.githubusercontent.com/u/9283275?v=4" width="50"><a href="https://github.com/tbsky">tbsky</a> commented at <a href="https://github.com/rear/rear/issues/508#issuecomment-62752319">2014-11-12 17:00</a>:<a class="headerlink" href="#tbsky_commented_at_2014-11-12_1700" title="Permanent link">&para;</a></h4>
<p>hi:<br />
I just install fedora21 beta server 64bit version. and udevadm
control--stop-exec-queue return 0. so I think maybe the problem only
happens when restore? I will try to figure out what happened.<br />
also I think the error message is ugly and misleading. when I did the
patch, I tried to use minimal code to do it. I will try to improve it..</p>
<h4 id="tbsky_commented_at_2014-11-12_1733"><img src="https://avatars.githubusercontent.com/u/9283275?v=4" width="50"><a href="https://github.com/tbsky">tbsky</a> commented at <a href="https://github.com/rear/rear/issues/508#issuecomment-62758025">2014-11-12 17:33</a>:<a class="headerlink" href="#tbsky_commented_at_2014-11-12_1733" title="Permanent link">&para;</a></h4>
<p>hi:<br />
I try to do "rear recover" at another vm and "udevadm control
--stop-exec-queue" works fine and didn't complain. so my first restore
just fine. when I restore second time, I met some problem mentioned by
others (lvm wait for yes, strange I never met this problem with RHEL6),
but udevadm didn't return error code 2, it returns error code 0. maybe
the fedora 21 beta version we used are different? I install fedora21
beta by default (I don't choose anything, let installer decide
everything for me).</p>
<h4 id="tbsky_commented_at_2014-11-12_1752"><img src="https://avatars.githubusercontent.com/u/9283275?v=4" width="50"><a href="https://github.com/tbsky">tbsky</a> commented at <a href="https://github.com/rear/rear/issues/508#issuecomment-62760959">2014-11-12 17:52</a>:<a class="headerlink" href="#tbsky_commented_at_2014-11-12_1752" title="Permanent link">&para;</a></h4>
<p>hi:<br />
try to recover several times at original vm, and it seems fine. also I
found something interesting, at first I backup at VM-A and restore to
VM-B, VM-B has a larger hardisk then VM-A. when I do second time restore
to VM-B, I met the "lvm wait yes" problem and grub2 can not install
problem. (first time restore is fine).</p>
<p>if the backup and restore vm disk are the same size, I never got any
problem...</p>
<h4 id="gdha_commented_at_2014-11-18_1318"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/508#issuecomment-63469219">2014-11-18 13:18</a>:<a class="headerlink" href="#gdha_commented_at_2014-11-18_1318" title="Permanent link">&para;</a></h4>
<p>@tbsky lvm wait yes" problem is related to issue #493 (scroll down in
the issue). Should now be fixed in github... I think we are good to
close this on?</p>
<h4 id="tbsky_commented_at_2014-11-19_0506"><img src="https://avatars.githubusercontent.com/u/9283275?v=4" width="50"><a href="https://github.com/tbsky">tbsky</a> commented at <a href="https://github.com/rear/rear/issues/508#issuecomment-63592900">2014-11-19 05:06</a>:<a class="headerlink" href="#tbsky_commented_at_2014-11-19_0506" title="Permanent link">&para;</a></h4>
<p>hi gdha:</p>
<p>I just check out github and did find the fix of "lvcreate" command to
fix the "lvm wait yes" issue. I haven't try it, but it looks good.</p>
<p>also I find out the fix of "udevadm control --stop-exec-queue". but I
don't think it is a proper fix. as I said, the udev problem is not nly
related to mdadm only, it is related to many procedure of disk
operation. and the new fix only pause udev, but didn't unpause it (I
don't know if udevadm trigger/settle will unpause udev, maybe you have
try it so these commands will unpause udev?)</p>
<p>the puzzle for me is that I can not reproduce what you saw under fedora
21 beta. in my testing "udevadm control --stop-exec-queue" is working
fine under fedora 21 beta. could you tell me what iso/install method to
use so I can reproduce what you saw?</p>
<h4 id="gdha_commented_at_2014-12-05_1653"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/508#issuecomment-65818298">2014-12-05 16:53</a>:<a class="headerlink" href="#gdha_commented_at_2014-12-05_1653" title="Permanent link">&para;</a></h4>
<p>@tbsky I prefer to leave it as it as for 1.17 as it is impossible for me
to test all the distro's and versions mix. I also moved the milestone to
1.18</p>
<h4 id="tbsky_commented_at_2014-12-18_1554"><img src="https://avatars.githubusercontent.com/u/9283275?v=4" width="50"><a href="https://github.com/tbsky">tbsky</a> commented at <a href="https://github.com/rear/rear/issues/508#issuecomment-67506111">2014-12-18 15:54</a>:<a class="headerlink" href="#tbsky_commented_at_2014-12-18_1554" title="Permanent link">&para;</a></h4>
<p>@gdha I create a new pull request, hope it can make the situation
better..</p>
<h4 id="gdha_commented_at_2014-12-24_1245"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/508#issuecomment-68050170">2014-12-24 12:45</a>:<a class="headerlink" href="#gdha_commented_at_2014-12-24_1245" title="Permanent link">&para;</a></h4>
<p>@tbsky I can confirm it works well on Fedora21 now. Thanks for the hard
work and patience...</p>
<h4 id="gdha_commented_at_2015-02-16_1610"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/508#issuecomment-74531852">2015-02-16 16:10</a>:<a class="headerlink" href="#gdha_commented_at_2015-02-16_1610" title="Permanent link">&para;</a></h4>
<p>added to the release notes so we can close this issue</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2014-11-12.508.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
