<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#3026 Issue open: Rsync backup method with backup url on a Windows server - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#3026 Issue open: Rsync backup method with backup url on a Windows server";
        var mkdocs_page_input_path = "issues/2023-07-15.3026.issue.open.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#3026 Issue open: Rsync backup method with backup url on a Windows server</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="3026_issue_open_rsync_backup_method_with_backup_url_on_a_windows_server"><a href="https://github.com/rear/rear/issues/3026">#3026 Issue</a> <code>open</code>: Rsync backup method with backup url on a Windows server<a class="headerlink" href="#3026_issue_open_rsync_backup_method_with_backup_url_on_a_windows_server" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>old version</code></p>
<h4 id="milleld1_opened_issue_at_2023-07-15_2322"><img src="https://avatars.githubusercontent.com/u/132502509?v=4" width="50"><a href="https://github.com/milleld1">milleld1</a> opened issue at <a href="https://github.com/rear/rear/issues/3026">2023-07-15 23:22</a>:<a class="headerlink" href="#milleld1_opened_issue_at_2023-07-15_2322" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>ReaR version ("/usr/sbin/rear -V"): 2.4</p>
</li>
<li>
<p>If your ReaR version is not the current version, explain why you
    can't upgrade: The system has to use RHEL 7, and ReaR version 2.4 is
    the most recent version available for it.</p>
</li>
<li>
<p>OS version ("cat /etc/os-release" or "lsb_release -a" or "cat
    /etc/rear/os.conf"): RHEL 7.9</p>
</li>
<li>
<p>ReaR configuration files ("cat /etc/rear/site.conf" and/or "cat
    /etc/rear/local.conf"): see attached</p>
</li>
<li>
<p>Hardware vendor/product (PC or PowerNV BareMetal or ARM) or VM (KVM
    guest or PowerVM LPAR): Unknown</p>
</li>
<li>
<p>System architecture (x86 compatible or PPC64/PPC64LE or what exact
    ARM device): Unknown</p>
</li>
<li>
<p>Firmware (BIOS or UEFI or Open Firmware) and bootloader (GRUB or
    ELILO or Petitboot): Unknown</p>
</li>
<li>
<p>Storage (local disk or SSD) and/or SAN (FC or iSCSI or FCoE) and/or
    multipath (DM or NVMe): Unknown</p>
</li>
<li>
<p>Storage layout ("lsblk -ipo
    NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,LABEL,SIZE,MOUNTPOINT"): N/A</p>
</li>
<li>
<p>Description of the issue (ideally so that others can reproduce it):</p>
</li>
</ul>
<p><strong>Is there any known configuration to send backup files to a location on
a Windows server?</strong></p>
<p>I'm trying to send my backups via rsync to a location on another server
running Windows. Cygwin has been set up for a long time and has worked
normally. I have a nearly identical system using two linux servers
instead of a linux server and windows server where the rsync method
works perfectly. When I try to make a backup of the RHEL server onto
Windows, it looks like most or all of the data I expected to be sent
arrives safely, but I get a lot of errors in the rear log similar to
these:</p>
<pre><code>cp: cannot stat '/usr/share/microcode_ctl/ucode_with_caveats/intel/intel-ucode/06-86-04': No such file or directory
</code></pre>
<p>and</p>
<pre><code>rsync: [generator] recv_generator: mkdir "/backup/thehostname/backup/etc/systemd/system/dev-virtio\x2dports-org.qemu.guest_agent.0.device.wants" failed: No such file or directory (2)
rsync: [generator] stat "/backup/thehostname/backup/usr/share/terminfo/A/Apple_Terminal" failed: No such file or directory (2)
</code></pre>
<p>I notice that these directories contain backslashes and underscores.
Could there be some trouble with differences between Linux and Windows
naming requirements? <strong>If Cygwin isn't handling these gracefully on its
own, what can be done?</strong></p>
<p>and</p>
<pre><code>rsync: [receiver] mkstemp "/backup/thehostname/backup/opt/importantprogram/old/2017-01-12-235855/perl5.14.2/lib/5.14.2/Pod/Perldoc/.ModuleOne.pm" failed: No such file or directory (2)
rsync: [receiver] mkstemp "/backup/thehostname/backup/opt/importantprogram/old/2017-01-12-235855/perl5.14.2/lib/5.14.2/Pod/Perldoc/.ModuleTwo.pm" failed: No such file or directory (2)
</code></pre>
<p>My coworker notes that Cygwin doesn't have mkstemp, but uses a similar
one called mktemp. <strong>Is there a known solution for backing up files to a
Windows server?</strong></p>
<ul>
<li>Workaround, if any:</li>
</ul>
<p>My coworker created a symbolic link to make calling mkstemp call mktemp
instead. This worked in a manual test of rsync, but when rear runs, it
isn't using that link. The error messages remain, showing that
internally, rsync is calling mkstemp and this call is not changed to
mktemp.</p>
<ul>
<li>Attachments, as applicable<br />
<a href="https://github.com/rear/rear/files/12062993/local.txt">local.txt</a></li>
</ul>
<h4 id="pcahyna_commented_at_2023-07-17_1342"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/issues/3026#issuecomment-1638172946">2023-07-17 13:42</a>:<a class="headerlink" href="#pcahyna_commented_at_2023-07-17_1342" title="Permanent link">&para;</a></h4>
<p>I suggest that you test rsync alone (without ReaR) to back up your
filesystem first and only when you have that working, integrate it with
ReaR. Regarding Cygwin, I have no idea unfortunately.</p>
<h4 id="pcahyna_commented_at_2023-07-17_1346"><img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50"><a href="https://github.com/pcahyna">pcahyna</a> commented at <a href="https://github.com/rear/rear/issues/3026#issuecomment-1638181945">2023-07-17 13:46</a>:<a class="headerlink" href="#pcahyna_commented_at_2023-07-17_1346" title="Permanent link">&para;</a></h4>
<blockquote>
<p>My coworker created a symbolic link to make calling mkstemp call
mktemp instead.</p>
</blockquote>
<p>What does this mean? How do you make calling mkstemp call mktemp? (They
are C functions from libc.)</p>
<h4 id="milleld1_commented_at_2023-07-28_0012"><img src="https://avatars.githubusercontent.com/u/132502509?v=4" width="50"><a href="https://github.com/milleld1">milleld1</a> commented at <a href="https://github.com/rear/rear/issues/3026#issuecomment-1654786141">2023-07-28 00:12</a>:<a class="headerlink" href="#milleld1_commented_at_2023-07-28_0012" title="Permanent link">&para;</a></h4>
<p>Regarding mkstemp and mktemp,</p>
<p>we found manpages for these and saw they are very similar, and thought
they might be interchangable, and made a symbolic link so that whenever
mkstemp is called, mktemp is called instead. However, we were mistaken
in thinking that this would accomplish anything. mkstemp is a system
call, so setting this symlink did nothing of significance.</p>
<p>Regarding making rsync work alone,</p>
<p>It has been working until now, and it appears the reason it broke
recently is solely due to differences in file naming rules between LInux
and Windows. Until using ReAR we have never needed to use rsync with
directories or files that have valid names in one system and invalid in
the other.</p>
<p>We are exploring some different options. If I find something that works,
I will update and close.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2023-07-15.3026.issue.open.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
