<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#1159 Issue closed: On externally booted VM with empty MBR ReaR fails with "Unknown bootloader" BugError - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#1159 Issue closed: On externally booted VM with empty MBR ReaR fails with \"Unknown bootloader\" BugError";
        var mkdocs_page_input_path = "issues/2017-01-10.1159.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_rsync.html">Internal Backup with rsync to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rsync.html">External Backup using BACKUP=RSYNC method</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/restic.html">External Backup using restic</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/duplicity.html">External Backup using duplicity</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#1159 Issue closed: On externally booted VM with empty MBR ReaR fails with "Unknown bootloader" BugError</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1159_issue_closed_on_externally_booted_vm_with_empty_mbr_rear_fails_with_unknown_bootloader_bugerror"><a href="https://github.com/rear/rear/issues/1159">#1159 Issue</a> <code>closed</code>: On externally booted VM with empty MBR ReaR fails with "Unknown bootloader" BugError<a class="headerlink" href="#1159_issue_closed_on_externally_booted_vm_with_empty_mbr_rear_fails_with_unknown_bootloader_bugerror" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>waiting for info</code>, <code>support / question</code>,
<code>fixed / solved / done</code></p>
<h4 id="maximvolgin_opened_issue_at_2017-01-10_1225"><img src="https://avatars.githubusercontent.com/u/25030663?v=4" width="50"><a href="https://github.com/maximvolgin">maximvolgin</a> opened issue at <a href="https://github.com/rear/rear/issues/1159">2017-01-10 12:25</a>:<a class="headerlink" href="#maximvolgin_opened_issue_at_2017-01-10_1225" title="Permanent link">&para;</a></h4>
<p>Hi,</p>
<p>Not always but happens on some systems, for now I have it on
centos6/cloud Linux and on Debian 7.11. As far as I figured problem was
always but became fatal since 1.19. It cannot detect <strong>bootloader</strong> so
no <code>/var/lib/rear/recovery/bootloader</code> file than fail. Example:</p>
<pre><code>rear -d -D mkrescue
Relax-and-Recover 2.00 / Git
Using log file: /var/log/rear/rear-toronto2.log
Creating disk layout
ERROR: 
====================
BUG in /usr/share/rear/layout/save/default/450_check_bootloader_files.sh:
'Unknown bootloader () - ask for sponsoring to get this fixed'
--------------------
Please report this issue at https://github.com/rear/rear/issues
and include the relevant parts from /var/log/rear/rear-toronto2.log
preferably with full debug information via 'rear -d -D mkrescue'
====================
Aborting due to an error, check /var/log/rear/rear-toronto2.log for details
You should also rm -Rf /opt/bacula/bacula4hosts/rear/tmp/rear.EfqwRdTCr9dM8ss
Terminated
</code></pre>
<p>if I do<br />
<code>echo "GRUB" &gt; /var/lib/rear/recovery/bootloader</code></p>
<p>works well</p>
<pre><code>grub --version
grub (GNU GRUB 0.97)

lsb_release -a
LSB Version:    :base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch:graphics-4.0-amd64:graphics-4.0-noarch:printing-4.0-amd64:printing-4.0-noarch
Distributor ID: CloudLinuxServer
Description:    CloudLinux Server release 6.8 (Oleg Makarov)
Release:        6.8
Codename:       OlegMakarov
</code></pre>
<p>As far as I figured non of rules in
<code>/usr/share/rear/prep/default/500_guess_bootloader.sh</code> works.</p>
<pre><code>file -s /dev/sda
/dev/sda: x86 boot sector; partition 1: ID=0x83, active, starthead 2, startsector 128, 524287872 sectors, code offset 0xb8
</code></pre>
<p>then</p>
<pre><code>dd if=/dev/sda bs=512 count=4 | strings
4+0 records in
4+0 records out
2048 bytes (2.0 kB) copied, 6.456e-05 s, 31.7 MB/s
</code></pre>
<p>noting and no <code>/var/lib/rear/recovery/bootloader</code> as result.</p>
<pre><code>df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1       247G  143G   91G  62% /
tmpfs            16G   42M   16G   1% /dev/shm
/usr/tmpDSK     4.0G  139M  3.7G   4% /tmp
</code></pre>
<h4 id="jsmeix_commented_at_2017-01-10_1430"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271589533">2017-01-10 14:30</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-10_1430" title="Permanent link">&para;</a></h4>
<p>Ah - it seems<br />
<a href="https://github.com/rear/rear/issues/1038">https://github.com/rear/rear/issues/1038</a><br />
is back - now with centos6/cloud Linux and Debian 7.11</p>
<p>Perhaps instead of the default case (*) BugError<br />
we should use (GRUB|GRUB2) as default case in<br />
layout/save/default/450_check_bootloader_files.sh ?</p>
<p>On the other hand "rear mkbackup/mkrescue" should<br />
better abort to be on the safe side in case of doubt<br />
about the used bootloader than to blindly proceed<br />
hoping for the best that GRUB/GRUB2 is acually used,<br />
cf. "Try to care about possible errors" at<br />
<a href="https://github.com/rear/rear/wiki/Coding-Style">https://github.com/rear/rear/wiki/Coding-Style</a></p>
<h4 id="maximvolgin_commented_at_2017-01-10_1437"><img src="https://avatars.githubusercontent.com/u/25030663?v=4" width="50"><a href="https://github.com/maximvolgin">maximvolgin</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271591388">2017-01-10 14:37</a>:<a class="headerlink" href="#maximvolgin_commented_at_2017-01-10_1437" title="Permanent link">&para;</a></h4>
<p>no there it see GRUB2 for my case it's empty. Let me know if I need to
provide anything else to investigate.</p>
<h4 id="gdha_commented_at_2017-01-11_0841"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271810121">2017-01-11 08:41</a>:<a class="headerlink" href="#gdha_commented_at_2017-01-11_0841" title="Permanent link">&para;</a></h4>
<p>@maximvolgin Could you run <code>dd if=/dev/sda bs=512 count=8 | strings</code> ?<br />
And what does <code>rear dump</code> display? And out of curiosity what is the
content of <code>/etc/rear/os.conf</code>?</p>
<h4 id="maximvolgin_commented_at_2017-01-11_0912"><img src="https://avatars.githubusercontent.com/u/25030663?v=4" width="50"><a href="https://github.com/maximvolgin">maximvolgin</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271816542">2017-01-11 09:12</a>:<a class="headerlink" href="#maximvolgin_commented_at_2017-01-11_0912" title="Permanent link">&para;</a></h4>
<p>Noting :(</p>
<pre><code>dd if=/dev/sda bs=512 count=8 | strings
8+0 records in
8+0 records out
4096 bytes (4.1 kB) copied, 0.000110388 s, 37.1 MB/s
</code></pre>
<p><code>echo $(hexdump -v -n 2 -e '/1 "%02x"' /dev/sda) fab8</code></p>
<p>according all docs I able to found "fab8" means no boot loader, but it's
bootable and active:</p>
<pre><code>file -s /dev/sda
/dev/sda: x86 boot sector; partition 1: ID=0x83, active, starthead 2, startsector 128, 524287872 sectors, code offset 0xb8
</code></pre>
<p>and definitely that VM booting some how :)</p>
<p>full MBR:</p>
<pre><code>echo $(hexdump -v -n 512 -e '/1 "%02x"' /dev/sda)
fab800108ed0bc00b0b800008ed88ec0fbbe007cbf0006b90002f3a4ea21060000bebe073804750b83c61081fefe0775f3eb16b402b001bb007cb2808a74018b4c02cd13ea007c0000ebfe000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000090b5070000008002030083feffff8000000080ff3f1f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000055aa
</code></pre>
<p>really strange maybe related that it's VM.</p>
<h4 id="maximvolgin_commented_at_2017-01-11_0917"><img src="https://avatars.githubusercontent.com/u/25030663?v=4" width="50"><a href="https://github.com/maximvolgin">maximvolgin</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271817414">2017-01-11 09:17</a>:<a class="headerlink" href="#maximvolgin_commented_at_2017-01-11_0917" title="Permanent link">&para;</a></h4>
<pre><code>rear dump
Relax-and-Recover 2.00 / Git
Using log file: /var/log/rear/rear-toronto2.log.lockless
Dumping out configuration and system information
This is a 'Linux-x86_64' system, compatible with 'Linux-i386'.
System definition:
                                    ARCH = Linux-i386
                                      OS = GNU/Linux
                        OS_MASTER_VENDOR = Fedora
                       OS_MASTER_VERSION = 6
                   OS_MASTER_VENDOR_ARCH = Fedora/i386
                OS_MASTER_VENDOR_VERSION = Fedora/6
           OS_MASTER_VENDOR_VERSION_ARCH = Fedora/6/i386
                               OS_VENDOR = RedHatEnterpriseServer
                              OS_VERSION = 6
                          OS_VENDOR_ARCH = RedHatEnterpriseServer/i386
                       OS_VENDOR_VERSION = RedHatEnterpriseServer/6
                  OS_VENDOR_VERSION_ARCH = RedHatEnterpriseServer/6/i386
Configuration tree:
                         Linux-i386.conf : OK
                          GNU/Linux.conf : OK
                             Fedora.conf : missing/empty
                        Fedora/i386.conf : missing/empty
                           Fedora/6.conf : missing/empty
                      Fedora/6/i386.conf : missing/empty
             RedHatEnterpriseServer.conf : missing/empty
        RedHatEnterpriseServer/i386.conf : missing/empty
           RedHatEnterpriseServer/6.conf : missing/empty
      RedHatEnterpriseServer/6/i386.conf : missing/empty
                               site.conf : missing/empty
                              local.conf : OK
Backup with BACULA4
                  BACKUP_INTEGRITY_CHECK = 
                         BACKUP_MOUNTCMD = 
                     BACKUP_ONLY_EXCLUDE = no
                     BACKUP_ONLY_INCLUDE = no
                          BACKUP_OPTIONS = 
      BACKUP_RESTORE_MOVE_AWAY_DIRECTORY = /var/lib/rear/moved_away_after_backup_restore/
          BACKUP_RESTORE_MOVE_AWAY_FILES = 
                    BACKUP_RSYNC_OPTIONS = --sparse --archive --hard-links --numeric-ids --stats
                  BACKUP_SELINUX_DISABLE = 1
                             BACKUP_TYPE = 
                        BACKUP_UMOUNTCMD = 
                              BACKUP_URL = 
Output to ISO
                             ISO_DEFAULT = boothd
                                 ISO_DIR = /opt/bacula/bacula4hosts/rear/iso/
                               ISO_FILES = 
                        ISO_ISOLINUX_BIN = 
                            ISO_MAX_SIZE = 
                         ISO_MKISOFS_BIN = /usr/bin/mkisofs
                              ISO_PREFIX = rear-toronto2
                               ISO_VOLID = RELAXRECOVER
                           RESULT_MAILTO =

/usr/share/rear/lib/validated/RedHatEnterpriseServer/6/i386.txt
Your system is validated with the following details:
Relax-and-Recover Version 1.13.0 / $Date$
Validation:     RedHatEnterpriseServer/6/i386
Submitted:      tdec0909@yahoo.com, Marcel Keil &lt;marcelk@tim.de&gt;
Date:           2013-05-21, 2014-03-18
Features:       LVM, VMware guest, ISO, NETFS, NSR
Comment:        
Saving /var/log/rear/rear-toronto2.log.lockless as /var/log/rear/rear-toronto2.log

cat /etc/rear/os.conf
OS_VENDOR=RedHatEnterpriseServer
OS_VERSION=6
</code></pre>
<h4 id="gozora_commented_at_2017-01-11_0926"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271819655">2017-01-11 09:26</a>:<a class="headerlink" href="#gozora_commented_at_2017-01-11_0926" title="Permanent link">&para;</a></h4>
<p>what about <code>dd if=/dev/sda1 bs=512 count=1 | hexdump -C</code> ?</p>
<h4 id="maximvolgin_commented_at_2017-01-11_0934"><img src="https://avatars.githubusercontent.com/u/25030663?v=4" width="50"><a href="https://github.com/maximvolgin">maximvolgin</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271821356">2017-01-11 09:34</a>:<a class="headerlink" href="#maximvolgin_commented_at_2017-01-11_0934" title="Permanent link">&para;</a></h4>
<pre><code>dd if=/dev/sda1 bs=512 count=1 | hexdump -C
1+0 records in
1+0 records out
00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
512 bytes (512 B) copied00000200
, 0.000144735 s, 3.5 MB/s
</code></pre>
<h4 id="gozora_commented_at_2017-01-11_0947"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271823988">2017-01-11 09:47</a>:<a class="headerlink" href="#gozora_commented_at_2017-01-11_0947" title="Permanent link">&para;</a></h4>
<p><em>CloudLinux Server release 6.8 (Oleg Makarov)</em> hmm, isn't that one of
those custom made cloud images used by VPS (virtual private servers) ?</p>
<h4 id="maximvolgin_commented_at_2017-01-11_1010"><img src="https://avatars.githubusercontent.com/u/25030663?v=4" width="50"><a href="https://github.com/maximvolgin">maximvolgin</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271829284">2017-01-11 10:10</a>:<a class="headerlink" href="#maximvolgin_commented_at_2017-01-11_1010" title="Permanent link">&para;</a></h4>
<p>I not sure about kernel but it's onapp VM under KVM hypervisor</p>
<h4 id="gdha_commented_at_2017-01-11_1014"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271830270">2017-01-11 10:14</a>:<a class="headerlink" href="#gdha_commented_at_2017-01-11_1014" title="Permanent link">&para;</a></h4>
<p>@maximvolgin where is the <code>BACKUP=BACULA4</code> coming from? That is not
supported within ReaR.</p>
<h4 id="maximvolgin_commented_at_2017-01-11_1016"><img src="https://avatars.githubusercontent.com/u/25030663?v=4" width="50"><a href="https://github.com/maximvolgin">maximvolgin</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271830669">2017-01-11 10:16</a>:<a class="headerlink" href="#maximvolgin_commented_at_2017-01-11_1016" title="Permanent link">&para;</a></h4>
<p>It's something supported by me but it's not important for that error.</p>
<h4 id="gozora_commented_at_2017-01-11_1017"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271830803">2017-01-11 10:17</a>:<a class="headerlink" href="#gozora_commented_at_2017-01-11_1017" title="Permanent link">&para;</a></h4>
<p>@maximvolgin so you are running VM guest
<a href="http://onapp.com/">http://onapp.com/</a> ?</p>
<h4 id="maximvolgin_commented_at_2017-01-11_1020"><img src="https://avatars.githubusercontent.com/u/25030663?v=4" width="50"><a href="https://github.com/maximvolgin">maximvolgin</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271831439">2017-01-11 10:20</a>:<a class="headerlink" href="#maximvolgin_commented_at_2017-01-11_1020" title="Permanent link">&para;</a></h4>
<p>@gozora yes</p>
<h4 id="gozora_commented_at_2017-01-11_1024"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271832381">2017-01-11 10:24</a>:<a class="headerlink" href="#gozora_commented_at_2017-01-11_1024" title="Permanent link">&para;</a></h4>
<p>Sorry for maybe stupid question, but I'm not much into all these fancy
cloud things ...<br />
The thing is that for example my virtual server provider is using custom
linux images, which matches his needs. So MBR on my server looks empty
too:</p>
<pre><code>gozora:(/root)(root)# dd if=/dev/xvda bs=512 count=1 | hexdump -C
1+0 records in
1+0 records out
512 bytes (512 B) copied, 0.000541046 s, 946 kB/s
00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
000001b0  00 00 00 00 00 00 00 00  b7 39 01 5a 00 00 00 00  |.........9.Z....|
000001c0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
000001f0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 55 aa  |..............U.|
00000200
</code></pre>
<h4 id="maximvolgin_commented_at_2017-01-11_1036"><img src="https://avatars.githubusercontent.com/u/25030663?v=4" width="50"><a href="https://github.com/maximvolgin">maximvolgin</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271835134">2017-01-11 10:36</a>:<a class="headerlink" href="#maximvolgin_commented_at_2017-01-11_1036" title="Permanent link">&para;</a></h4>
<p>Ok just got confirmation from onapp devs: there some vms booting from
some floppy image onapp/tools/grub.img and I do not see it inside VM. So
maybe I force set /var/lib/rear/recovery/bootloader to grub then where
REAR able to detect it it redefine. At list will not be fatal error.</p>
<p>Thanks for help!</p>
<h4 id="gozora_commented_at_2017-01-11_1039"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271835870">2017-01-11 10:39</a>:<a class="headerlink" href="#gozora_commented_at_2017-01-11_1039" title="Permanent link">&para;</a></h4>
<p>@maximvolgin One more question, did you ever made successful restore of
your onapp servers with ReaR?<br />
I'm asking because once ReaR finishes its operation one of the thing
that it does is installation of boot loader. So I was wondering if
everything booted fine for you ...</p>
<h4 id="maximvolgin_commented_at_2017-01-11_1045"><img src="https://avatars.githubusercontent.com/u/25030663?v=4" width="50"><a href="https://github.com/maximvolgin">maximvolgin</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271837008">2017-01-11 10:45</a>:<a class="headerlink" href="#maximvolgin_commented_at_2017-01-11_1045" title="Permanent link">&para;</a></h4>
<p>It's my pain, I have no way to try by myself. But my boss premised me to
provide me with staging onapp where I'll have full access to play with
it soon. But that problem is on only a few VM of hungers.</p>
<h4 id="gozora_commented_at_2017-01-11_1054"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271838890">2017-01-11 10:54</a>:<a class="headerlink" href="#gozora_commented_at_2017-01-11_1054" title="Permanent link">&para;</a></h4>
<p>Well, boss is boss no arguing here:-).<br />
My humble guess would be that only benefit you have from ReaR is backed
up data.<br />
For my virtual server all i do for backup is simple <code>tar</code> and in case of
disaster, I just deploy new VM from vendor provided image and restore
data from tarball ...</p>
<p>V.</p>
<h4 id="maximvolgin_commented_at_2017-01-11_1059"><img src="https://avatars.githubusercontent.com/u/25030663?v=4" width="50"><a href="https://github.com/maximvolgin">maximvolgin</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271840010">2017-01-11 10:59</a>:<a class="headerlink" href="#maximvolgin_commented_at_2017-01-11_1059" title="Permanent link">&para;</a></h4>
<p>We used REAR cause it much more stable and usable than BMR provided by
bacula Enterprise and it's open for customization for our needs.</p>
<h4 id="gozora_commented_at_2017-01-11_1104"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271840922">2017-01-11 11:04</a>:<a class="headerlink" href="#gozora_commented_at_2017-01-11_1104" title="Permanent link">&para;</a></h4>
<p>:-) Nice to hear that!<br />
Anyhow, good luck with solving your problem!</p>
<h4 id="jsmeix_commented_at_2017-01-11_1202"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271851535">2017-01-11 12:02</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-11_1202" title="Permanent link">&para;</a></h4>
<p>I think this issue is not actually a bug in ReaR<br />
but in contrast ReaR is right to error out when it<br />
cannot determine the used bootloader.</p>
<p>@gdha<br />
perhaps we should change this<br />
default case (*) BugError<br />
into a<br />
default case (*) Error<br />
?</p>
<h4 id="maximvolgin_commented_at_2017-01-11_1203"><img src="https://avatars.githubusercontent.com/u/25030663?v=4" width="50"><a href="https://github.com/maximvolgin">maximvolgin</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271851852">2017-01-11 12:03</a>:<a class="headerlink" href="#maximvolgin_commented_at_2017-01-11_1203" title="Permanent link">&para;</a></h4>
<p>yes it's not really bug</p>
<h4 id="jsmeix_commented_at_2017-01-11_1207"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271852532">2017-01-11 12:07</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-11_1207" title="Permanent link">&para;</a></h4>
<p>Regarding<br />
<a href="https://github.com/rear/rear/issues/1159#issuecomment-271835134">https://github.com/rear/rear/issues/1159#issuecomment-271835134</a></p>
<p>It sems this VM is booted via a method that is outside of the VM.</p>
<p>I wonder when a system is booted with a method outside of<br />
that system, does then ReaR need to install any bootloader<br />
inside that system?</p>
<p>For example if a traditional system is booted form an external<br />
removable medium (e.g. a rescue system on a CDROM),<br />
does then ReaR need to install a bootloader inside that system?</p>
<h4 id="jsmeix_commented_at_2017-01-11_1209"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271852849">2017-01-11 12:09</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-11_1209" title="Permanent link">&para;</a></h4>
<p>Regarding<br />
<a href="https://github.com/rear/rear/issues/1159#issuecomment-271851852">https://github.com/rear/rear/issues/1159#issuecomment-271851852</a></p>
<p>But perhaps it is a minor bug in ReaR when ReaR aborts with a<br />
message about a bug in ReaR when it is not a bug in ReaR.</p>
<h4 id="gozora_commented_at_2017-01-11_1210"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271853046">2017-01-11 12:10</a>:<a class="headerlink" href="#gozora_commented_at_2017-01-11_1210" title="Permanent link">&para;</a></h4>
<p>From experience with my provider, I'm not even allowed to boot my own
ISO image into machine, all I can use are vendor provided images ...</p>
<h4 id="maximvolgin_commented_at_2017-01-11_1211"><img src="https://avatars.githubusercontent.com/u/25030663?v=4" width="50"><a href="https://github.com/maximvolgin">maximvolgin</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271853260">2017-01-11 12:11</a>:<a class="headerlink" href="#maximvolgin_commented_at_2017-01-11_1211" title="Permanent link">&para;</a></h4>
<p>yes but it often is used for VM migration</p>
<h4 id="gdha_commented_at_2017-01-11_1225"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271855831">2017-01-11 12:25</a>:<a class="headerlink" href="#gdha_commented_at_2017-01-11_1225" title="Permanent link">&para;</a></h4>
<p>@jsmeix I would keep the <code>BugError</code> so at least we are getting informed
of weird setups by some vendors. We could add this variant to the not
supported list (by default)?</p>
<h4 id="gdha_commented_at_2017-01-11_1226"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271856028">2017-01-11 12:26</a>:<a class="headerlink" href="#gdha_commented_at_2017-01-11_1226" title="Permanent link">&para;</a></h4>
<p>@maximvolgin concerning your BACULA mods - are these worth sharing?</p>
<h4 id="jsmeix_commented_at_2017-01-11_1227"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271856351">2017-01-11 12:27</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-11_1227" title="Permanent link">&para;</a></h4>
<p>@gdha<br />
perfectly o.k. for me to keep that BugError.</p>
<h4 id="jsmeix_commented_at_2017-01-11_1229"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271856648">2017-01-11 12:29</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-11_1229" title="Permanent link">&para;</a></h4>
<p>@gozora<br />
strange, I use QEMU/KVM virtual machines on my workstation<br />
and I am allowed to do what I want there because I am 'root' ;-)</p>
<h4 id="gozora_commented_at_2017-01-11_1234"><img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50"><a href="https://github.com/gozora">gozora</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-271857402">2017-01-11 12:34</a>:<a class="headerlink" href="#gozora_commented_at_2017-01-11_1234" title="Permanent link">&para;</a></h4>
<p>Lucky you :-), I'd wish I can become root one day :-D at least on one
server.</p>
<h4 id="jsmeix_commented_at_2017-01-17_0933"><img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50"><a href="https://github.com/jsmeix">jsmeix</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-273065404">2017-01-17 09:33</a>:<a class="headerlink" href="#jsmeix_commented_at_2017-01-17_0933" title="Permanent link">&para;</a></h4>
<p>@gdha<br />
should we just close this issue as a very special corner case<br />
or should we document it or should we perhaps implement<br />
some autodetection of this special case and error out then?</p>
<h4 id="gdha_commented_at_2017-01-17_1237"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/1159#issuecomment-273130809">2017-01-17 12:37</a>:<a class="headerlink" href="#gdha_commented_at_2017-01-17_1237" title="Permanent link">&para;</a></h4>
<p>@jsmeix Good idea to close this issue - we do not need to do anything as
it is not listed as a supported OS anyhow.</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2017-01-10.1159.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
