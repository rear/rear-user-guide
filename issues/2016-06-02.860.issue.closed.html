<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>#860 Issue closed: Having trouble with restoring a backup - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "#860 Issue closed: Having trouble with restoring a backup";
        var mkdocs_page_input_path = "issues/2016-06-02.860.issue.closed.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/backup_netfs.html">Example of BACKUP=NETFS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/netfs_nas.html">Internal Backup with tar to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../scenarios/netfs_rsync.md">Internal Backup with rsync to NFS server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/rbme.html">External Backup using RBME</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/restic.html">External Backup using restic</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development/squash-git-log-commments.html">How to squash git log comments into one line</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear29.html">Release Notes ReaR 2.9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear28.html">Release Notes ReaR 2.8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear27.html">Release Notes ReaR 2.7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../releasenotes/knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">#860 Issue closed: Having trouble with restoring a backup</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="860_issue_closed_having_trouble_with_restoring_a_backup"><a href="https://github.com/rear/rear/issues/860">#860 Issue</a> <code>closed</code>: Having trouble with restoring a backup<a class="headerlink" href="#860_issue_closed_having_trouble_with_restoring_a_backup" title="Permanent link">&para;</a></h1>
<p><strong>Labels</strong>: <code>support / question</code>, <code>won't fix / can't fix / obsolete</code></p>
<h4 id="nhenjes_opened_issue_at_2016-06-02_1726"><img src="https://avatars.githubusercontent.com/u/19558431?u=a4f40d33dabf4a52c6abbe97478190f6194cced3&v=4" width="50"><a href="https://github.com/nhenjes">nhenjes</a> opened issue at <a href="https://github.com/rear/rear/issues/860">2016-06-02 17:26</a>:<a class="headerlink" href="#nhenjes_opened_issue_at_2016-06-02_1726" title="Permanent link">&para;</a></h4>
<ul>
<li>rear version: 1.17.2</li>
<li>OS version: CentOS 6.3</li>
<li>rear configuration files (cat /etc/rear/site.conf or cat
    /etc/rear/local.conf):</li>
</ul>
<!-- -->

<pre><code>OUTPUT=ISO
BACKUP=NETFS
BACKUP_URL=nfs://10.10.25.20/mnt/Data/
ISO_MAX_SIZE=4096

#Exclude the Mounted Files
EXCLUDE_MOUNTPOINTS=("/mnt/release_files|/backups")

#Temporary file location
TMPDIR=("/files/rear")

#Include Multipath Files
AUTOEXCLUDE_MULTIPATH=n
</code></pre>
<ul>
<li>Brief description of the issue: When I run "rear recover" on a
    different machine to test backups (same hardware), I only get to the
    error "No filesystem mounted on /mnt/local" after rear runs the
    25_verify_mount.sh script</li>
<li>Work-around, if any: none<br />
    The backup file size is 12GB and the mkbackup stage says it
    completed successfully.</li>
</ul>
<h4 id="nhenjes_commented_at_2016-06-02_1805"><img src="https://avatars.githubusercontent.com/u/19558431?u=a4f40d33dabf4a52c6abbe97478190f6194cced3&v=4" width="50"><a href="https://github.com/nhenjes">nhenjes</a> commented at <a href="https://github.com/rear/rear/issues/860#issuecomment-223373273">2016-06-02 18:05</a>:<a class="headerlink" href="#nhenjes_commented_at_2016-06-02_1805" title="Permanent link">&para;</a></h4>
<p>I'm also seeing "Backup archive size is 0M (compressed)", but I see the
backup files sitting on the NAS</p>
<h4 id="gdha_commented_at_2016-06-03_0826"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/860#issuecomment-223520529">2016-06-03 08:26</a>:<a class="headerlink" href="#gdha_commented_at_2016-06-03_0826" title="Permanent link">&para;</a></h4>
<p>@nhenjes the syntax of
<code>EXCLUDE_MOUNTPOINTS=("/mnt/release_files|/backups")</code> is wrong. It
should be <code>EXCLUDE_MOUNTPOINTS=("/mnt/release_files"  "/backups")</code><br />
Are there no other errors seen in the rear.log file?<br />
Can you boot the iso image on the same HW successfully?<br />
Perhaps, also check the files under <code>/var/lib/rear/layout</code> - are all
file systems found and described properly? You may post it for
verification.</p>
<h4 id="nhenjes_commented_at_2016-06-03_1321"><img src="https://avatars.githubusercontent.com/u/19558431?u=a4f40d33dabf4a52c6abbe97478190f6194cced3&v=4" width="50"><a href="https://github.com/nhenjes">nhenjes</a> commented at <a href="https://github.com/rear/rear/issues/860#issuecomment-223576851">2016-06-03 13:21</a>:<a class="headerlink" href="#nhenjes_commented_at_2016-06-03_1321" title="Permanent link">&para;</a></h4>
<p>Yeah, I wondered about that yesterday when I posted this. I changed it
to have a space instead of pipe, but the individual points weren't
quoted, only the whole thing.</p>
<p>I don't have the opportunity to try a reload on that exact system, but I
did try it on an identical server (it was a warm spare for the others),
and met the same issue.</p>
<p>I'll post the layout, but from what I can tell, the partitions are made
correctly. I wiped the disk bare, and saw the partitions after running
recover again.</p>
<h4 id="nhenjes_commented_at_2016-06-03_1432"><img src="https://avatars.githubusercontent.com/u/19558431?u=a4f40d33dabf4a52c6abbe97478190f6194cced3&v=4" width="50"><a href="https://github.com/nhenjes">nhenjes</a> commented at <a href="https://github.com/rear/rear/issues/860#issuecomment-223595295">2016-06-03 14:32</a>:<a class="headerlink" href="#nhenjes_commented_at_2016-06-03_1432" title="Permanent link">&para;</a></h4>
<pre><code>disk /dev/sda 500107862016 msdos
part /dev/sda 235929600 1048576 primary boot,raid /dev/sda1
part /dev/sda 16106127360 236978176 primary raid /dev/sda2
part /dev/sda 16106127360 16343105536 primary raid /dev/sda3
part /dev/sda 1024 32449232896 extended none /dev/sda4
part /dev/sda 5368709120 32451330048 logical raid /dev/sda5
part /dev/sda 16106127360 37821087744 logical raid /dev/sda6
part /dev/sda 214748364800 53928263680 logical raid /dev/sda7
part /dev/sda 34359738368 268677677056 logical raid /dev/sda8
part /dev/sda 197069373440 303038464000 logical raid /dev/sda9
disk /dev/sdb 500107862016 msdos
part /dev/sdb 235929600 1048576 primary boot,raid /dev/sdb1
part /dev/sdb 16106127360 236978176 primary raid /dev/sdb2
part /dev/sdb 16106127360 16343105536 primary raid /dev/sdb3
part /dev/sdb 1024 32449232896 extended none /dev/sdb4
part /dev/sdb 5368709120 32451330048 logical raid /dev/sdb5
part /dev/sdb 16106127360 37821087744 logical raid /dev/sdb6
part /dev/sdb 214748364800 53928263680 logical raid /dev/sdb7
part /dev/sdb 34359738368 268677677056 logical raid /dev/sdb8
part /dev/sdb 197069373440 303038464000 logical raid /dev/sdb9
#disk /dev/sdd 0
raid /dev/md1 metadata=1.1 level=raid1 raid-devices=2 uuid=a3b0d04f:5726760a:b3c2254d:d6590f39 devices=/dev/sda2,/dev/sdb2
raid /dev/md6 metadata=1.1 level=raid1 raid-devices=2 uuid=38f5e366:ed8ca9af:0d26f8ad:fad3d1ac devices=/dev/sda8,/dev/sdb8
raid /dev/md0 metadata=1.0 level=raid1 raid-devices=2 uuid=42ccc462:1414bae1:0ed86b92:7f213848 devices=/dev/sda1,/dev/sdb1
raid /dev/md4 metadata=1.1 level=raid1 raid-devices=2 uuid=761b7984:ed2e8a81:6d61f2ce:875f63e4 devices=/dev/sda6,/dev/sdb6
raid /dev/md3 metadata=1.1 level=raid1 raid-devices=2 uuid=241f8c9d:855627fc:0edb9663:f7d159c6 devices=/dev/sda5,/dev/sdb5
raid /dev/md5 metadata=1.1 level=raid1 raid-devices=2 uuid=47e3b841:8bc18ff3:57736768:73827e28 devices=/dev/sda7,/dev/sdb7
raid /dev/md2 metadata=1.1 level=raid1 raid-devices=2 uuid=dd9bc485:5c855ee4:1fdb3e01:8b8e84dd devices=/dev/sda3,/dev/sdb3
raid /dev/md7 metadata=1.1 level=raid1 raid-devices=2 uuid=0d75234c:64e331a7:760c06a6:5480a8c8 devices=/dev/sda9,/dev/sdb9
#Filesystems (only ext2,ext3,ext4,vfat,xfs,reiserfs,btrfs are supported).
#Format: fs &lt;device&gt; &lt;mountpoint&gt; &lt;fstype&gt; [uuid=&lt;uuid&gt;] [label=&lt;label&gt;] [&lt;attributes&gt;]
fs /dev/md0 /boot ext4 uuid=034c8d59-6e71-4a40-bb96-b849188eb551 label= blocksize=1024 reserved_blocks=4% max_mounts=-1 check_interval=0d bytes_per_inode=4083 default_mount_options=user_xattr,acl options=rw,noatime,barrier=1,data=ordered
fs /dev/md1 / ext4 uuid=2f500e02-9a7c-4b0e-b636-7487b888f0d7 label= blocksize=4096 reserved_blocks=4% max_mounts=-1 check_interval=0d bytes_per_inode=16382 default_mount_options=user_xattr,acl options=rw,noatime,barrier=1,data=ordered
fs /dev/md2 /home ext4 uuid=547d029e-0c23-43ce-98f1-15671422f1eb label= blocksize=4096 reserved_blocks=4% max_mounts=-1 check_interval=0d bytes_per_inode=16382 default_mount_options=user_xattr,acl options=rw,noatime,barrier=1,data=ordered
fs /dev/md3 /tmp ext4 uuid=9e88a19c-9c15-41c8-bbfc-752f94e038bc label= blocksize=4096 reserved_blocks=4% max_mounts=-1 check_interval=0d bytes_per_inode=16380 default_mount_options=user_xattr,acl options=rw,noatime,barrier=1,data=ordered
fs /dev/md4 /var ext4 uuid=6e1aac66-0df7-43a2-b17c-a4c033875425 label= blocksize=4096 reserved_blocks=4% max_mounts=-1 check_interval=0d bytes_per_inode=16382 default_mount_options=user_xattr,acl options=rw,noatime,barrier=1,data=ordered
fs /dev/md5 /users ext4 uuid=17ecfc5b-bc81-4fb0-984b-f43b98823b32 label= blocksize=4096 reserved_blocks=4% max_mounts=-1 check_interval=0d bytes_per_inode=16383 default_mount_options=user_xattr,acl options=rw,noatime,barrier=1,data=ordered
fs /dev/md7 /files ext4 uuid=ba700c57-ebf1-4f9c-937c-e45258c6673d label= blocksize=4096 reserved_blocks=4% max_mounts=-1 check_interval=0d bytes_per_inode=16375 default_mount_options=user_xattr,acl options=rw,noatime,barrier=1,data=ordered
swap /dev/md6 uuid=24b2d268-c2e3-4f19-bb46-36fe6c2fb688 label=
</code></pre>
<p>The server is running software RAID 1</p>
<h4 id="nhenjes_commented_at_2016-06-03_1445"><img src="https://avatars.githubusercontent.com/u/19558431?u=a4f40d33dabf4a52c6abbe97478190f6194cced3&v=4" width="50"><a href="https://github.com/nhenjes">nhenjes</a> commented at <a href="https://github.com/rear/rear/issues/860#issuecomment-223598677">2016-06-03 14:45</a>:<a class="headerlink" href="#nhenjes_commented_at_2016-06-03_1445" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/rear/rear/files/297772/rear-server01.zip">rear-server01.zip</a></p>
<p>Here is the log file, I didn't see anything that stood out as an error
in the backup process</p>
<h4 id="nhenjes_commented_at_2016-06-07_1809"><img src="https://avatars.githubusercontent.com/u/19558431?u=a4f40d33dabf4a52c6abbe97478190f6194cced3&v=4" width="50"><a href="https://github.com/nhenjes">nhenjes</a> commented at <a href="https://github.com/rear/rear/issues/860#issuecomment-224365648">2016-06-07 18:09</a>:<a class="headerlink" href="#nhenjes_commented_at_2016-06-07_1809" title="Permanent link">&para;</a></h4>
<p>Getting rid of the ISO_MAX_SIZE makes the restore show the correct
archive size. I'm still getting errors about nothing mounted to
/mnt/local. What is supposed to be mounted to /mnt/local?</p>
<h4 id="gdha_commented_at_2016-09-07_0844"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/860#issuecomment-245215214">2016-09-07 08:44</a>:<a class="headerlink" href="#gdha_commented_at_2016-09-07_0844" title="Permanent link">&para;</a></h4>
<p>The log file made during the recovery is of interest here as in recover
mode rear will recreate the software raid and mount all file systems
under /mnt/local. Something is probably failing...</p>
<h4 id="gdha_commented_at_2016-09-13_1429"><img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50"><a href="https://github.com/gdha">gdha</a> commented at <a href="https://github.com/rear/rear/issues/860#issuecomment-246699981">2016-09-13 14:29</a>:<a class="headerlink" href="#gdha_commented_at_2016-09-13_1429" title="Permanent link">&para;</a></h4>
<p>@nhenjes waiting on the rear.log of during the rescue (with -dD option)</p>
<hr />
<p>[Export of Github issue for
<a href="https://github.com/rear/rear">rear/rear</a>.]</p>
              
            </div>
          </div>

<footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2025 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=issues/2016-06-02.860.issue.closed.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/rear/rear-user-guide" class="fa fa-code-fork" style="color: #fcfcfc"> rear/rear-user-guide</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
