[\#206 Issue](https://github.com/rear/rear/issues/206) `closed`: OpenSuse 12.2 problem with rescue disk: /dev/sd\* missing
==========================================================================================================================

**Labels**: `bug`

#### <img src="https://avatars.githubusercontent.com/u/1444748?v=4" width="50">[laaglu](https://github.com/laaglu) opened issue at [2013-02-27 10:45](https://github.com/rear/rear/issues/206):

Hi,

I am trying to use rear to backup an OpenSuse 12.2 64bits server. Alas,
I cannot seem to produce a working rescue disk.  
After the rescue disk has finished booting, the main hard disk does not
appear in the /dev/sd\* directory (All I see is the boot disk
/dev/disk/by-label/REAR-000, but not /dev/sda and all its partitions).  
Also the dhcp client takes a very long time to execute (2 minutes or so
before timing out)

In the console, I can see the following messages during boot:

      ata_id[185]: unable to open '/dev/sda'
      udevd[186]: failed to execute '/lib/systemd/systemd-uaccess' '/lib/systemd/systemd-uaccess /dev/sg0 ": No such file or directory
      udevd[102]: inotify_add_watch(6, /dev/sda, 10) failed: No such file or directory
      udevd[192]: failed to execute '/lib/systemd/systemd-uaccess' '/lib/systemd/systemd-uaccess /dev/sr0 ": No such file or directory
      udevd[195]: failed to execute '/lib/systemd/systemd-uaccess' '/lib/systemd/systemd-uaccess /dev/sr0 ": No such file or directory
      udevd[200]: failed to execute '/lib/systemd/systemd-sysctl' '/lib/systemd/systemd-sysctl --prefix=/proc/sys/net/ipv4/conf/eth1 --prefix=/proc/sys/net/ipv4/neigh/eth1 --prefix=/proc/sys/net/ipv6/conf/eth1 --prefix=/proc/sys/net/ipv6/neigh/eth1 ": No such file or directory
      udevd[201]: failed to execute '/lib/systemd/systemd-sysctl' '/lib/systemd/systemd-sysctl --prefix=/proc/sys/net/ipv4/conf/eth0 --prefix=/proc/sys/net/ipv4/neigh/eth0 --prefix=/proc/sys/net/ipv6/conf/eth0 --prefix=/proc/sys/net/ipv6/neigh/eth0 ": No such file or directory

The kernel seems to be aware of the the disk though because I can see it
it in /sys by doing:  
cat /sys/class/scsi\_disk/1:0:0:0/device/model ===&gt; SAMSUNG HD300LJ
which is my main disk with the OS (/dev/sda)

Could you please help me diagnose and fix my problem ? I imagine I have
some file which should be either excluded or is missing and wrecks havoc
in the rescue disk boot but I do not know where to start to find it.

Here is some background info. I am using a version of rear I built from
the git trunk:  
Relax-and-Recover 1.14-git201302111529.  
On the opensuse side, I have an unencrypted ext3 /boot, which boots into
an LVM2 + LUKS root partition and swap. I use GRUB1 and sysvinit-init
(no systemd)

========== Installed packages: ==========  
udev-182-4.29.1.x86\_64  
kernel-default-3.4.28-2.20.1.x86\_64  
kernel-firmware-20120719git-2.9.1.noarch  
grub2-2.00-1.23.1.x86\_64  
grub-0.97-185.1.2.x86\_64  
grub2-branding-openSUSE-12.2-11.12.1.noarch  
lvm2-2.02.84-26.12.1.x86\_64

========== /etc/rear/local.conf =======  
OUTPUT=USB  
BACKUP=NETFS  
BACKUP\_URL=usb:///dev/disk/by-label/REAR-000

========== /etc/fstab =======  
/dev/system/root / xfs defaults 1 1  
/dev/sda1 /boot ext3 acl,user\_xattr 1 2  
/dev/system/swap swap swap defaults 0 0  
proc /proc proc defaults 0 0  
sysfs /sys sysfs noauto 0 0  
debugfs /sys/kernel/debug debugfs noauto 0 0  
usbfs /proc/bus/usb usbfs noauto 0 0  
devpts /dev/pts devpts mode=0620,gid=5 0 0

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2013-02-27 12:03](https://github.com/rear/rear/issues/206#issuecomment-14170450):

Via a separate email I saw:

I did an `lsmod` on the machine booted with the rescue disk and indeed
the drivers related to disk seem not to be loaded whereas they are on
the machine booted with the normal boot:

       ata_generic            12780  0
       ata_piix               26360  0
       libata                196330  4 ata_generic,ata_piix,ahci,libahci
       scsi_dh_emc            17062  0
       scsi_dh_alua           12845  0
       scsi_dh_hp_sw          12746  0
       scsi_dh_rdac           17172  0
       scsi_dh                14214  4 
    scsi_dh_emc,scsi_dh_alua,scsi_dh_hp_sw,scsi_dh_rdac

I did a `modprobe` on all these modules. They loaded correctly but this
had no visible effect (in dmesg or in making /dev/sda visible)

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2013-02-27 12:05](https://github.com/rear/rear/issues/206#issuecomment-14170510):

Is `/dev/sda` a multipath device? If yes, then you should add to
`/etc/rear/local.conf`

    AUTOEXCLUDE_MULTIPATH=

#### <img src="https://avatars.githubusercontent.com/u/1444748?v=4" width="50">[laaglu](https://github.com/laaglu) commented at [2013-02-27 12:56](https://github.com/rear/rear/issues/206#issuecomment-14172184):

Hi,

No it is not a multipath device. To clarify, on the machine, I have:  
/dev/sda : a 300GB samsung sata HD  
/dev/sdb (which I do not want taken into account by rear): a 5TB array
(3ware hardware RAID), not mounted (not in /etc/fstab), not formatted
yet

Regarding multipath, on the boot screen of the OS, I get the following
warning (in case this has any relevance)  
udevd\[141\]: RUN+="socket:..." support will be removed from a future
udev release. Please remove it from:
/etc/udev/rules.d/71-multipath.rules:7 and use libudev to subscribe to
events.

I will try your suggestion anyway and report back

#### <img src="https://avatars.githubusercontent.com/u/1444748?v=4" width="50">[laaglu](https://github.com/laaglu) commented at [2013-02-27 18:06](https://github.com/rear/rear/issues/206#issuecomment-14189048):

I have tried with AUTOEXCLUDE\_MULTIPATH= in /etc/rear/local.conf but no
joy there  
Would you like me to collect / attach log files ?

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2013-03-01 08:06](https://github.com/rear/rear/issues/206#issuecomment-14277181):

most likely it has to do with udev or an udev rule. Try to compare
between the live and rescue system what is missing. Also, check the udev
rules. Sorry, that my help is very limited...

#### <img src="https://avatars.githubusercontent.com/u/1444748?v=4" width="50">[laaglu](https://github.com/laaglu) commented at [2013-03-02 18:14](https://github.com/rear/rear/issues/206#issuecomment-14332505):

Hi,

I think I have made some progress and I have feedback which might be
more interesting to you. I used  
udevadm test /sys/block/sda/sda1  
and compared the output I got between the system booted by the HDD and
the same system booted by the rescue disk

==== If the system is booted from the HDD ====

1/ In the udev uevent, the ID\_SERIAL is set  
This causes /lib/udev/rules.d/60-persistent-storage.rules:45 to match:  
KERNEL=="sd\_|cciss\_", ENV{DEVTYPE}=="partition",
ENV{ID\_SERIAL}=="?\*",
SYMLINK+="disk/by-id/$env{ID\_BUS}-$env{ID\_SERIAL}-part%n"

2/ Later I get  
builtin\_blkid: probe /dev/sda1 raid offset=0  
and the processing of the udev event terminates correctly.

==== If the system is booted from the rescue disk ====

1/ An extra udev rule /etc/udev/rules.d/00-rear.rules is added by rear,
but it does not seem to work well with my version of udev (unknown key
'SYSFS{modalias}')  
I checked the man pages for udev on my system, there is indeed no SYSFS
key (but an ATTR key instead).  
The script
/usr/share/rear/build/GNU/Linux/60\_verify\_and\_adjust\_udev.sh seems
to be taking the wrong branch ??

2/ In the udev uevent, the ID\_SERIAL is not set so
/lib/udev/rules.d/60-persistent-storage.rules:45 does not match any
more  
The first rule which matches is
/lib/udev/rules.d/60-persistent-storage.rules:63  
ENV{DEVTYPE}=="partition", ENV{ID\_PATH}=="?\*",
SYMLINK+="disk/by-path/$env{ID\_PATH}-part%n"

3/ Later I get  
error: /dev/sda1: No such file or directory

As I said earlier I do not known much about kernel and udev, but my
understanding is that:  
A/ The rescue disk needs the extra /etc/udev/rules.d/00-rear.rules to
load kernel modules  
B/ Because it is not there, some kernel modules are not loaded and udev
rules do not behave the same way because some input is missing  
C/ This causes udev to not create the /dev/sda1 device

To test my theory, I tried to replace in
/lib/udev/rules.d/60-persistent-storage.rules  
echo 'ACTION=="add", SYSFS{modalias}=="?*", RUN+="/bin/modprobe -v
$sysfs{modalias}"'  
with  
echo 'ENV{MODALIAS}=="?*", RUN+="/bin/modprobe -bv $env{MODALIAS}"'  
to force rear to take the other branch of the test.  
The rescue disk seems to work better. There are a lot of worrying kernel
messages about drivers failing to load, stuff like:  
FATAL: Error inserting ips
(/lib/modules/3.4.28-2.20-default/kernel/drivers/scsi/ips.ko): No such
device  
but in the end I get my /dev file tree the way I want it

Here are my questions to you:  
a/ Do you think I can ignore the kernel messages about modules failing
to load ? Are they supposed to happen on systems which use
'ENV{MODALIAS}=="?\*", RUN+="/bin/modprobe -bv $env{MODALIAS}"' ?  
b/ Are you interested in investigating the matter further to determine
if improvements in 60-persistent-storage.rules are needed for OpenSuse
12.2 ?

PS: if you want to make your own mind, here is the output of udevadm
test /sys/block/sda/sda1

==== If the system is booted from the HDD ====

run\_command: calling: test  
adm\_test: version 182  
libkmod: kmod\_config\_parse:
/etc/modprobe.d/10-unsupported-modules.conf line 10: ignoring bad line
starting with 'allow\_unsupported\_modules'  
builtin\_kmod\_init: load module index  
parse\_file: reading '/lib/udev/rules.d/10-dm.rules' as rules file  
parse\_file: reading '/run/udev/rules.d/10-root-symlink.rules' as rules
file  
...  
parse\_file: reading '/lib/udev/rules.d/60-persistent-input.rules' as
rules file  
parse\_file: reading '/lib/udev/rules.d/60-persistent-serial.rules' as
rules file  
parse\_file: reading
'/lib/udev/rules.d/60-persistent-storage-tape.rules' as rules file  
parse\_file: reading '/lib/udev/rules.d/60-persistent-storage.rules' as
rules file  
parse\_file: reading '/lib/udev/rules.d/60-persistent-v4l.rules' as
rules file  
...  
parse\_file: reading '/lib/udev/rules.d/99-systemd.rules' as rules
file  
udev\_rules\_new: rules use 249432 bytes tokens (20786 \* 12 bytes),
41352 bytes buffer  
udev\_rules\_new: temporary index used 69440 bytes (3472 \* 20 bytes)  
udev\_device\_new\_from\_syspath: device 0x91ce60 has devpath
'/block/sda/sda1'  
udev\_device\_new\_from\_syspath: device 0x91d670 has devpath
'/block/sda/sda1'  
udev\_device\_read\_db: device 0x91d670 filled with db file data  
udev\_device\_new\_from\_syspath: device 0x91dc70 has devpath
'/devices/pci0000:00/0000:00:1f.2/ata2/host1/target1:0:0/1:0:0:0/block/sda'  
udev\_device\_new\_from\_syspath: device 0x921320 has devpath
'/devices/pci0000:00/0000:00:1f.2/ata2/host1/target1:0:0/1:0:0:0'  
udev\_device\_new\_from\_syspath: device 0x921b10 has devpath
'/devices/pci0000:00/0000:00:1f.2/ata2/host1/target1:0:0'  
udev\_device\_new\_from\_syspath: device 0x9222f0 has devpath
'/devices/pci0000:00/0000:00:1f.2/ata2/host1'  
udev\_device\_new\_from\_syspath: device 0x922ac0 has devpath
'/devices/pci0000:00/0000:00:1f.2/ata2'  
udev\_device\_new\_from\_syspath: device 0x923250 has devpath
'/devices/pci0000:00/0000:00:1f.2'  
udev\_device\_new\_from\_syspath: device 0x923a00 has devpath
'/devices/pci0000:00'  
udev\_rules\_apply\_to\_event: GROUP 6
/lib/udev/rules.d/50-udev-default.rules:67  
udev\_device\_read\_db: device 0x91dc70 filled with db file data  
udev\_rules\_apply\_to\_event: LINK
'disk/by-id/ata-SAMSUNG\_HD300LJ\_S0D7J1WL808781-part1'
/lib/udev/rules.d/60-persistent-storage.rules:45  
udev\_rules\_apply\_to\_event: LINK
'disk/by-id/scsi-SATA\_SAMSUNG\_HD300LJS0D7J1WL808781-part1'
/lib/udev/rules.d/60-persistent-storage.rules:49  
udev\_rules\_apply\_to\_event: LINK
'disk/by-path/pci-0000:00:1f.2-scsi-1:0:0:0-part1'
/lib/udev/rules.d/60-persistent-storage.rules:63  
udev\_rules\_apply\_to\_event: IMPORT builtin 'blkid'
/lib/udev/rules.d/60-persistent-storage.rules:76  
builtin\_blkid: probe /dev/sda1 raid offset=0  
udev\_builtin\_add\_property: ID\_FS\_LABEL=opensuse  
udev\_builtin\_add\_property: ID\_FS\_LABEL\_ENC=opensuse  
udev\_builtin\_add\_property:
ID\_FS\_UUID=2ee72b71-d4d4-489e-873b-72fa628cd516  
udev\_builtin\_add\_property:
ID\_FS\_UUID\_ENC=2ee72b71-d4d4-489e-873b-72fa628cd516  
udev\_builtin\_add\_property: ID\_FS\_VERSION=1.0  
udev\_builtin\_add\_property: ID\_FS\_TYPE=ext3  
udev\_builtin\_add\_property: ID\_FS\_USAGE=filesystem  
udev\_builtin\_add\_property: ID\_PART\_TABLE\_TYPE=dos  
udev\_builtin\_add\_property: ID\_PART\_ENTRY\_SCHEME=dos  
udev\_builtin\_add\_property: ID\_PART\_ENTRY\_TYPE=0x83  
udev\_builtin\_add\_property: ID\_PART\_ENTRY\_FLAGS=0x80  
udev\_builtin\_add\_property: ID\_PART\_ENTRY\_NUMBER=1  
udev\_builtin\_add\_property: ID\_PART\_ENTRY\_OFFSET=2048  
udev\_builtin\_add\_property: ID\_PART\_ENTRY\_SIZE=319488  
udev\_builtin\_add\_property: ID\_PART\_ENTRY\_DISK=8:0  
udev\_rules\_apply\_to\_event: LINK
'disk/by-uuid/2ee72b71-d4d4-489e-873b-72fa628cd516'
/lib/udev/rules.d/60-persistent-storage.rules:82  
udev\_rules\_apply\_to\_event: LINK 'disk/by-label/opensuse'
/lib/udev/rules.d/60-persistent-storage.rules:83  
udev\_rules\_apply\_to\_event: LINK
'disk/by-id/wwn-0x50000f001b808781-part1'
/lib/udev/rules.d/60-persistent-storage.rules:87  
udev\_rules\_apply\_to\_event: IMPORT 'udisks-part-id /dev/sda1'
/lib/udev/rules.d/80-udisks.rules:88  
udev\_event\_spawn: starting 'udisks-part-id /dev/sda1'  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'libudev:
udev\_device\_new\_from\_syspath: device 0xc10630 has devpath
'/devices/pci0000:00/0000:00:1f.2/ata2/host1/target1:0:0/1:0:0:0/block/sda/sda1''  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'libudev:
udev\_device\_new\_from\_syspath: device 0xc12340 has devpath
'/devices/pci0000:00/0000:00:1f.2/ata2/host1/target1:0:0/1:0:0:0/block/sda''  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'using
device\_file=/dev/sda
syspath=/sys/devices/pci0000:00/0000:00:1f.2/ata2/host1/target1:0:0/1:0:0:0/block/sda,
offset=1048576 ao=0 and number=1 for /dev/sda1'  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'Entering MS-DOS parser
(offset=0, size=300069052416)'  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'MSDOS\_MAGIC found'  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'looking at part 0 (offset
1048576, size 163577856, type 0x83)'  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'new part entry'  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'looking at part 1 (offset
164626432, size 299904270336, type 0x8e)'  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'new part entry'  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'looking at part 2 (offset
0, size 0, type 0x00)'  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'new part entry'  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'looking at part 3 (offset
0, size 0, type 0x00)'  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'new part entry'  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'Exiting MS-DOS parser'  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'MSDOS partition table
detected'  
spawn\_read: 'udisks-part-id /dev/sda1'(out) 'UDISKS\_PARTITION=1'  
spawn\_read: 'udisks-part-id /dev/sda1'(out)
'UDISKS\_PARTITION\_SCHEME=mbr'  
spawn\_read: 'udisks-part-id /dev/sda1'(out)
'UDISKS\_PARTITION\_NUMBER=1'  
spawn\_read: 'udisks-part-id /dev/sda1'(out)
'UDISKS\_PARTITION\_TYPE=0x83'  
spawn\_read: 'udisks-part-id /dev/sda1'(out)
'UDISKS\_PARTITION\_SIZE=163577856'  
spawn\_read: 'udisks-part-id /dev/sda1'(out)
'UDISKS\_PARTITION\_LABEL='  
spawn\_read: 'udisks-part-id /dev/sda1'(out)
'UDISKS\_PARTITION\_UUID='  
spawn\_read: 'udisks-part-id /dev/sda1'(out)
'UDISKS\_PARTITION\_FLAGS=boot'  
spawn\_read: 'udisks-part-id /dev/sda1'(out)
'UDISKS\_PARTITION\_SLAVE=/sys/devices/pci0000:00/0000:00:1f.2/ata2/host1/target1:0:0/1:0:0:0/block/sda'  
spawn\_read: 'udisks-part-id /dev/sda1'(out)
'UDISKS\_PARTITION\_OFFSET=1048576'  
spawn\_read: 'udisks-part-id /dev/sda1'(out)
'UDISKS\_PARTITION\_ALIGNMENT\_OFFSET=0'  
spawn\_wait: 'udisks-part-id /dev/sda1' \[3678\] exit with return code
0  
udev\_node\_add: handling device node '/dev/sda1', devnum=b8:1,
mode=0660, uid=0, gid=6  
node\_fixup: preserve permissions /dev/sda1, 060660, uid=0, gid=6  
node\_symlink: preserve already existing symlink '/dev/block/8:1' to
'../sda1'  
link\_find\_prioritized: found 'b8:1' claiming
'/run/udev/links/disk\\x2fby-id\\x2fata-SAMSUNG\_HD300LJ\_S0D7J1WL808781-part1'  
link\_update: creating link
'/dev/disk/by-id/ata-SAMSUNG\_HD300LJ\_S0D7J1WL808781-part1' to
'/dev/sda1'  
node\_symlink: preserve already existing symlink
'/dev/disk/by-id/ata-SAMSUNG\_HD300LJ\_S0D7J1WL808781-part1' to
'../../sda1'  
link\_find\_prioritized: found 'b8:1' claiming
'/run/udev/links/disk\\x2fby-id\\x2fscsi-SATA\_SAMSUNG\_HD300LJS0D7J1WL808781-part1'  
link\_update: creating link
'/dev/disk/by-id/scsi-SATA\_SAMSUNG\_HD300LJS0D7J1WL808781-part1' to
'/dev/sda1'  
node\_symlink: preserve already existing symlink
'/dev/disk/by-id/scsi-SATA\_SAMSUNG\_HD300LJS0D7J1WL808781-part1' to
'../../sda1'  
link\_find\_prioritized: found 'b8:1' claiming
'/run/udev/links/disk\\x2fby-id\\x2fwwn-0x50000f001b808781-part1'  
link\_update: creating link
'/dev/disk/by-id/wwn-0x50000f001b808781-part1' to '/dev/sda1'  
node\_symlink: preserve already existing symlink
'/dev/disk/by-id/wwn-0x50000f001b808781-part1' to '../../sda1'  
link\_find\_prioritized: found 'b8:1' claiming
'/run/udev/links/disk\\x2fby-label\\x2fopensuse'  
link\_update: creating link '/dev/disk/by-label/opensuse' to
'/dev/sda1'  
node\_symlink: preserve already existing symlink
'/dev/disk/by-label/opensuse' to '../../sda1'  
link\_find\_prioritized: found 'b8:1' claiming
'/run/udev/links/disk\\x2fby-path\\x2fpci-0000:00:1f.2-scsi-1:0:0:0-part1'  
link\_update: creating link
'/dev/disk/by-path/pci-0000:00:1f.2-scsi-1:0:0:0-part1' to '/dev/sda1'  
node\_symlink: preserve already existing symlink
'/dev/disk/by-path/pci-0000:00:1f.2-scsi-1:0:0:0-part1' to
'../../sda1'  
link\_find\_prioritized: found 'b8:1' claiming
'/run/udev/links/disk\\x2fby-uuid\\x2f2ee72b71-d4d4-489e-873b-72fa628cd516'  
link\_update: creating link
'/dev/disk/by-uuid/2ee72b71-d4d4-489e-873b-72fa628cd516' to
'/dev/sda1'  
node\_symlink: preserve already existing symlink
'/dev/disk/by-uuid/2ee72b71-d4d4-489e-873b-72fa628cd516' to
'../../sda1'  
udev\_device\_update\_db: created db file '/run/udev/data/b8:1' for
'/block/sda/sda1'  
builtin\_kmod\_exit: unload module index  
This program is for debugging only, it does not run any program,  
specified by a RUN key. It may show incorrect results, because  
some values may be different, or not available at a simulation run.

ACTION=add  
DEVLINKS=/dev/disk/by-id/ata-SAMSUNG\_HD300LJ\_S0D7J1WL808781-part1
/dev/disk/by-id/scsi-SATA\_SAMSUNG\_HD300LJS0D7J1WL808781-part1
/dev/disk/by-id/wwn-0x50000f001b808781-part1 /dev/disk/by-label/opensuse
/dev/disk/by-path/pci-0000:00:1f.2-scsi-1:0:0:0-part1
/dev/disk/by-uuid/2ee72b71-d4d4-489e-873b-72fa628cd516  
DEVNAME=/dev/sda1  
DEVPATH=/block/sda/sda1  
DEVTYPE=partition  
ID\_ATA=1  
ID\_ATA\_DOWNLOAD\_MICROCODE=1  
ID\_ATA\_FEATURE\_SET\_AAM=1  
ID\_ATA\_FEATURE\_SET\_AAM\_CURRENT\_VALUE=0  
ID\_ATA\_FEATURE\_SET\_AAM\_ENABLED=0  
ID\_ATA\_FEATURE\_SET\_AAM\_VENDOR\_RECOMMENDED\_VALUE=254  
ID\_ATA\_FEATURE\_SET\_HPA=1  
ID\_ATA\_FEATURE\_SET\_HPA\_ENABLED=1  
ID\_ATA\_FEATURE\_SET\_PM=1  
ID\_ATA\_FEATURE\_SET\_PM\_ENABLED=1  
ID\_ATA\_FEATURE\_SET\_SECURITY=1  
ID\_ATA\_FEATURE\_SET\_SECURITY\_ENABLED=0  
ID\_ATA\_FEATURE\_SET\_SECURITY\_ENHANCED\_ERASE\_UNIT\_MIN=228  
ID\_ATA\_FEATURE\_SET\_SECURITY\_ERASE\_UNIT\_MIN=228  
ID\_ATA\_FEATURE\_SET\_SECURITY\_FROZEN=1  
ID\_ATA\_FEATURE\_SET\_SMART=1  
ID\_ATA\_FEATURE\_SET\_SMART\_ENABLED=1  
ID\_ATA\_SATA=1  
ID\_ATA\_SATA\_SIGNAL\_RATE\_GEN1=1  
ID\_ATA\_SATA\_SIGNAL\_RATE\_GEN2=1  
ID\_ATA\_WRITE\_CACHE=1  
ID\_ATA\_WRITE\_CACHE\_ENABLED=1  
ID\_BUS=ata  
ID\_FS\_LABEL=opensuse  
ID\_FS\_LABEL\_ENC=opensuse  
ID\_FS\_TYPE=ext3  
ID\_FS\_USAGE=filesystem  
ID\_FS\_UUID=2ee72b71-d4d4-489e-873b-72fa628cd516  
ID\_FS\_UUID\_ENC=2ee72b71-d4d4-489e-873b-72fa628cd516  
ID\_FS\_VERSION=1.0  
ID\_MODEL=SAMSUNG\_HD300LJ  
ID\_MODEL\_ENC=SAMSUNG\\x20HD300LJ\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20  
ID\_PART\_ENTRY\_DISK=8:0  
ID\_PART\_ENTRY\_FLAGS=0x80  
ID\_PART\_ENTRY\_NUMBER=1  
ID\_PART\_ENTRY\_OFFSET=2048  
ID\_PART\_ENTRY\_SCHEME=dos  
ID\_PART\_ENTRY\_SIZE=319488  
ID\_PART\_ENTRY\_TYPE=0x83  
ID\_PART\_TABLE\_TYPE=dos  
ID\_PATH=pci-0000:00:1f.2-scsi-1:0:0:0  
ID\_PATH\_TAG=pci-0000\_00\_1f\_2-scsi-1\_0\_0\_0  
ID\_REVISION=ZT100-13  
ID\_SCSI\_COMPAT=SATA\_SAMSUNG\_HD300LJS0D7J1WL808781  
ID\_SERIAL=SAMSUNG\_HD300LJ\_S0D7J1WL808781  
ID\_SERIAL\_SHORT=S0D7J1WL808781  
ID\_TYPE=disk  
ID\_WWN=0x50000f001b808781  
ID\_WWN\_WITH\_EXTENSION=0x50000f001b808781  
MAJOR=8  
MINOR=1  
SUBSYSTEM=block  
TAGS=:systemd:  
UDEV\_LOG=6  
UDISKS\_PARTITION=1  
UDISKS\_PARTITION\_ALIGNMENT\_OFFSET=0  
UDISKS\_PARTITION\_FLAGS=boot  
UDISKS\_PARTITION\_NUMBER=1  
UDISKS\_PARTITION\_OFFSET=1048576  
UDISKS\_PARTITION\_SCHEME=mbr  
UDISKS\_PARTITION\_SIZE=163577856  
UDISKS\_PARTITION\_SLAVE=/sys/devices/pci0000:00/0000:00:1f.2/ata2/host1/target1:0:0/1:0:0:0/block/sda  
UDISKS\_PARTITION\_TYPE=0x83  
UDISKS\_PRESENTATION\_NOPOLICY=0  
USEC\_INITIALIZED=2166543

==== If the system is booted from the rescue disk ====

run\_command: calling: test  
adm\_test: version 182  
libkmod: kmod\_config\_parse:
/etc/modprobe.d/10-unsupported-modules.conf line 10: ignoring bad line
starting with 'allow\_unsupported\_modules'  
builtin\_kmod\_init: load module index  
add\_matching\_files: unable to open '/run/udev/rules.d': No such file
or directory  
parse\_file: reading '/etc/udev/rules.d/00-rear.rules' as rules file  
add\_rule: unknown key 'SYSFS{modalias}' in
/etc/udev/rules.d/00-rear.rules:1  
add\_rule: invalid rule '/etc/udev/rules.d/00-rear.rules:1'  
parse\_file: reading '/lib/udev/rules.d/10-dm.rules' as rules file  
...  
parse\_file: reading '/lib/udev/rules.d/99-systemd.rules' as rules
file  
udev\_rules\_new: rules use 249360 bytes tokens (20780 \* 12 bytes),
41334 bytes buffer  
udev\_rules\_new: temporary index used 69400 bytes (3470 \* 20 bytes)  
udev\_device\_new\_from\_syspath: device 0x1fc0e60 has devpath
'/block/sda/sda1'  
udev\_device\_new\_from\_syspath: device 0x1fc2070 has devpath
'/block/sda/sda1'  
udev\_device\_read\_db: device 0x1fc2070 filled with db file data  
udev\_device\_new\_from\_syspath: device 0x1fc3530 has devpath
'/devices/pci0000:00/0000:00:1f.2/ata2/host1/target1:0:0/1:0:0:0/block/sda'  
udev\_device\_new\_from\_syspath: device 0x1fc3d40 has devpath
'/devices/pci0000:00/0000:00:1f.2/ata2/host1/target1:0:0/1:0:0:0'  
udev\_device\_new\_from\_syspath: device 0x1fc44e0 has devpath
'/devices/pci0000:00/0000:00:1f.2/ata2/host1/target1:0:0'  
udev\_device\_new\_from\_syspath: device 0x1fc4ef0 has devpath
'/devices/pci0000:00/0000:00:1f.2/ata2/host1'  
udev\_device\_new\_from\_syspath: device 0x1fc56c0 has devpath
'/devices/pci0000:00/0000:00:1f.2/ata2'  
udev\_device\_new\_from\_syspath: device 0x1fc5e80 has devpath
'/devices/pci0000:00/0000:00:1f.2'  
udev\_device\_new\_from\_syspath: device 0x1fc6630 has devpath
'/devices/pci0000:00'  
udev\_rules\_apply\_to\_event: GROUP 6
/lib/udev/rules.d/50-udev-default.rules:67  
udev\_device\_read\_db: device 0x1fc3530 filled with db file data  
udev\_rules\_apply\_to\_event: LINK
'disk/by-path/pci-0000:00:1f.2-scsi-1:0:0:0-part1'
/lib/udev/rules.d/60-persistent-storage.rules:63  
udev\_rules\_apply\_to\_event: IMPORT builtin 'blkid'
/lib/udev/rules.d/60-persistent-storage.rules:76  
error: /dev/sda1: No such file or directory  
udev\_rules\_apply\_to\_event: IMPORT 'udisks-part-id /dev/sda1'
/lib/udev/rules.d/80-udisks.rules:88  
udev\_event\_spawn: starting 'udisks-part-id /dev/sda1'  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'Error statting /dev/sda1:
No such file or directory'  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'using device\_file=(null)
syspath=(null), offset=0 ao=0 and number=0 for /dev/sda1'  
spawn\_read: 'udisks-part-id /dev/sda1'(err) 'Error opening (null): Bad
address'  
spawn\_wait: 'udisks-part-id /dev/sda1' \[563\] exit with return code
0  
udev\_node\_add: handling device node '/dev/sda1', devnum=b8:1,
mode=0660, uid=0, gid=6  
node\_fixup: can not stat() node '/dev/sda1' (No such file or
directory)  
udev\_device\_update\_db: created db file '/run/udev/data/b8:1' for
'/block/sda/sda1'  
builtin\_kmod\_exit: unload module index  
This program is for debugging only, it does not run any program,  
specified by a RUN key. It may show incorrect results, because  
some values may be different, or not available at a simulation run.

ACTION=add  
DEVLINKS=/dev/disk/by-path/pci-0000:00:1f.2-scsi-1:0:0:0-part1  
DEVNAME=/dev/sda1  
DEVPATH=/block/sda/sda1  
DEVTYPE=partition  
ID\_BUS=scsi  
ID\_PATH=pci-0000:00:1f.2-scsi-1:0:0:0  
ID\_PATH\_TAG=pci-0000\_00\_1f\_2-scsi-1\_0\_0\_0  
ID\_SCSI=1  
MAJOR=8  
MINOR=1  
SUBSYSTEM=block  
TAGS=:systemd:  
UDEV\_LOG=6  
UDISKS\_PRESENTATION\_NOPOLICY=0  
USEC\_INITIALIZED=12845058

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2013-03-06 09:44](https://github.com/rear/rear/issues/206#issuecomment-14490613):

@laaglu I'm very interested in the debugging output of script
./build/GNU/Linux/60\_verify\_and\_adjust\_udev.sh  
With rear you have the '-D' flag to get very verbose debugging output of
everything, but I'm only interested in that particular script (perhaps
add 'set -x' on the top and 'set +x' at the bottom of that script).  
I'm interested why it takes the wrong branch, most likely because sysfs
exists??

#### <img src="https://avatars.githubusercontent.com/u/1444748?v=4" width="50">[laaglu](https://github.com/laaglu) commented at [2013-03-06 20:44](https://github.com/rear/rear/issues/206#issuecomment-14524971):

Hi,

here is the output I got by running mkrescue with
/usr/share/rear/build/GNU/Linux/60\_verify\_and\_adjust\_udev.sh
modified with set -x.

++ test -d /tmp/rear.UooSSauk5SouUWR/rootfs/etc/udev/rules.d  
++ Log 'Checking udev'  
++ test 1 -gt 0  
+++ Stamp  
+++ date '+%Y-%m-%d %H:%M:%S '  
++ echo '2013-03-06 19:18:22 Checking udev'  
2013-03-06 19:18:22 Checking udev  
++ read file location  
+++ cd /tmp/rear.UooSSauk5SouUWR/rootfs  
+++ sed -ne 's\#(^.*):\[0-9\]+:.*(PROGRAM|RUN)\[+!\]?="(\[^"%$
\]+).*\#\\3 \\1\#p'  
+++ grep -v '^socket:'  
+++ grep -nE '(PROGRAM|RUN)' etc/udev/rules.d/55-hpmud.rules
etc/udev/rules.d/55-libsane.rules
etc/udev/rules.d/56-hpmud\_add\_printer.rules
etc/udev/rules.d/56-hpmud\_support.rules
etc/udev/rules.d/56-sane-backends-autoconfig.rules
etc/udev/rules.d/70-kpartx.rules etc/udev/rules.d/70-persistent-cd.rules
etc/udev/rules.d/70-persistent-net.rules
etc/udev/rules.d/71-multipath.rules.disabled
etc/udev/rules.d/86-hpmud\_plugin.rules
etc/udev/rules.d/99-iwlwifi-led.rules lib/udev/rules.d/10-dm.rules
lib/udev/rules.d/11-dm-lvm.rules lib/udev/rules.d/13-dm-disk.rules
lib/udev/rules.d/40-libgphoto2.rules
lib/udev/rules.d/40-usb\_modeswitch.rules
lib/udev/rules.d/42-usb-hid-pm.rules
lib/udev/rules.d/50-udev-default.rules lib/udev/rules.d/51-lirc.rules
lib/udev/rules.d/56-idedma.rules lib/udev/rules.d/60-cdrom\_id.rules
lib/udev/rules.d/60-floppy.rules
lib/udev/rules.d/60-persistent-alsa.rules
lib/udev/rules.d/60-persistent-input.rules
lib/udev/rules.d/60-persistent-serial.rules
lib/udev/rules.d/60-persistent-storage-tape.rules
lib/udev/rules.d/60-persistent-storage.rules
lib/udev/rules.d/60-persistent-v4l.rules
lib/udev/rules.d/61-accelerometer.rules
lib/udev/rules.d/64-md-raid.rules lib/udev/rules.d/65-xorg-wacom.rules
lib/udev/rules.d/69-xorg-vmmouse.rules
lib/udev/rules.d/70-printers.rules lib/udev/rules.d/70-uaccess.rules
lib/udev/rules.d/71-seat.rules lib/udev/rules.d/73-seat-late.rules
lib/udev/rules.d/73-seat-numlock.rules
lib/udev/rules.d/75-cd-aliases-generator.rules
lib/udev/rules.d/75-net-description.rules
lib/udev/rules.d/75-persistent-net-generator.rules
lib/udev/rules.d/75-probe\_mtd.rules
lib/udev/rules.d/75-tty-description.rules
lib/udev/rules.d/77-mm-ericsson-mbm.rules
lib/udev/rules.d/77-mm-longcheer-port-types.rules
lib/udev/rules.d/77-mm-nokia-port-types.rules
lib/udev/rules.d/77-mm-pcmcia-device-blacklist.rules
lib/udev/rules.d/77-mm-platform-serial-whitelist.rules
lib/udev/rules.d/77-mm-simtech-port-types.rules
lib/udev/rules.d/77-mm-usb-device-blacklist.rules
lib/udev/rules.d/77-mm-x22x-port-types.rules
lib/udev/rules.d/77-mm-zte-port-types.rules
lib/udev/rules.d/77-network.rules lib/udev/rules.d/77-nm-olpc-mesh.rules
lib/udev/rules.d/78-sound-card.rules lib/udev/rules.d/80-drivers.rules
lib/udev/rules.d/80-mm-candidate.rules lib/udev/rules.d/80-udisks.rules
lib/udev/rules.d/80-udisks2.rules lib/udev/rules.d/81-mount.rules
lib/udev/rules.d/85-regulatory.rules lib/udev/rules.d/85-usbmuxd.rules
lib/udev/rules.d/90-alsa-restore.rules
lib/udev/rules.d/90-pulseaudio.rules lib/udev/rules.d/95-dm-notify.rules
lib/udev/rules.d/95-keyboard-force-release.rules
lib/udev/rules.d/95-keymap.rules lib/udev/rules.d/95-udev-late.rules
lib/udev/rules.d/95-upower-battery-recall-dell.rules
lib/udev/rules.d/95-upower-battery-recall-fujitsu.rules
lib/udev/rules.d/95-upower-battery-recall-gateway.rules
lib/udev/rules.d/95-upower-battery-recall-ibm.rules
lib/udev/rules.d/95-upower-battery-recall-lenovo.rules
lib/udev/rules.d/95-upower-battery-recall-toshiba.rules
lib/udev/rules.d/95-upower-csr.rules
lib/udev/rules.d/95-upower-hid.rules
lib/udev/rules.d/95-upower-wup.rules
lib/udev/rules.d/97-bluetooth-hid2hci.rules
lib/udev/rules.d/97-bluetooth-serial.rules
lib/udev/rules.d/97-bluetooth.rules lib/udev/rules.d/99-systemd.rules  
+++ sort -u  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//bin/sed \]\]  
++ echo 'matched external call to /bin/sed in
etc/udev/rules.d/56-sane-backends-autoconfig.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//bin/sh \]\]  
++ echo 'matched external call to /bin/sh in
etc/udev/rules.d/55-hpmud.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//bin/sh \]\]  
++ echo 'matched external call to /bin/sh in
etc/udev/rules.d/55-libsane.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//bin/sh \]\]  
++ echo 'matched external call to /bin/sh in
etc/udev/rules.d/56-hpmud\_add\_printer.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//bin/sh \]\]  
++ echo 'matched external call to /bin/sh in
etc/udev/rules.d/56-hpmud\_support.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//bin/sh \]\]  
++ echo 'matched external call to /bin/sh in
etc/udev/rules.d/86-hpmud\_plugin.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//bin/systemd-loginctl \]\]  
++ \[\[ -x
/tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev//bin/systemd-loginctl \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/bin//bin/systemd-loginctl
\]\]  
++ Debug 'WARNING: unmatched external call to
'''/bin/systemd-loginctl''' in lib/udev/rules.d/71-seat.rules'  
++ test ''  
++ read file location  
++ \[\[ -x
/tmp/rear.UooSSauk5SouUWR/rootfs//etc/sysconfig/network/scripts/ifup-sysctl
\]\]  
++ \[\[ -x
/tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev//etc/sysconfig/network/scripts/ifup-sysctl
\]\]  
++ \[\[ -x
/tmp/rear.UooSSauk5SouUWR/rootfs/bin//etc/sysconfig/network/scripts/ifup-sysctl
\]\]  
++ Debug 'WARNING: unmatched external call to
'''/etc/sysconfig/network/scripts/ifup-sysctl''' in
lib/udev/rules.d/77-network.rules'  
++ test ''  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//lib/systemd/systemd-sysctl
\]\]  
++ \[\[ -x
/tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev//lib/systemd/systemd-sysctl
\]\]  
++ \[\[ -x
/tmp/rear.UooSSauk5SouUWR/rootfs/bin//lib/systemd/systemd-sysctl \]\]  
++ Debug 'WARNING: unmatched external call to
'''/lib/systemd/systemd-sysctl''' in
lib/udev/rules.d/99-systemd.rules'  
++ test ''  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//lib/systemd/systemd-uaccess
\]\]  
++ \[\[ -x
/tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev//lib/systemd/systemd-uaccess
\]\]  
++ \[\[ -x
/tmp/rear.UooSSauk5SouUWR/rootfs/bin//lib/systemd/systemd-uaccess \]\]  
++ Debug 'WARNING: unmatched external call to
'''/lib/systemd/systemd-uaccess''' in
lib/udev/rules.d/73-seat-late.rules'  
++ test ''  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//lib/udev/bluetooth.sh
\]\]  
++ echo 'matched external call to /lib/udev/bluetooth.sh in
lib/udev/rules.d/97-bluetooth.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//lib/udev/idedma.sh \]\]  
++ echo 'matched external call to /lib/udev/idedma.sh in
lib/udev/rules.d/56-idedma.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//lib/udev/iwlwifi-led.sh
\]\]  
++ echo 'matched external call to /lib/udev/iwlwifi-led.sh in
etc/udev/rules.d/99-iwlwifi-led.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//path/to/script \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev//path/to/script
\]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/bin//path/to/script \]\]  
++ Debug 'WARNING: unmatched external call to '''/path/to/script''' in
etc/udev/rules.d/55-libsane.rules'  
++ test ''  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//sbin/ifdown \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev//sbin/ifdown \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/bin//sbin/ifdown \]\]  
++ Debug 'WARNING: unmatched external call to '''/sbin/ifdown''' in
lib/udev/rules.d/77-network.rules'  
++ test ''  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//sbin/ifup \]\]  
++ echo 'matched external call to /sbin/ifup in
lib/udev/rules.d/77-network.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//sbin/kpartx \]\]  
++ echo 'matched external call to /sbin/kpartx in
etc/udev/rules.d/70-kpartx.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//sbin/mdadm \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev//sbin/mdadm \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/bin//sbin/mdadm \]\]  
++ Debug 'WARNING: unmatched external call to '''/sbin/mdadm''' in
lib/udev/rules.d/64-md-raid.rules'  
++ test ''  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//sbin/udevadm \]\]  
++ echo 'matched external call to /sbin/udevadm in
lib/udev/rules.d/71-seat.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//usr/bin/vmmouse\_detect
\]\]  
++ \[\[ -x
/tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev//usr/bin/vmmouse\_detect
\]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/bin//usr/bin/vmmouse\_detect
\]\]  
++ Debug 'WARNING: unmatched external call to
'''/usr/bin/vmmouse\_detect''' in
lib/udev/rules.d/69-xorg-vmmouse.rules'  
++ test ''  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//usr/sbin/alsactl \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev//usr/sbin/alsactl
\]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/bin//usr/sbin/alsactl \]\]  
++ Debug 'WARNING: unmatched external call to '''/usr/sbin/alsactl''' in
lib/udev/rules.d/90-alsa-restore.rules'  
++ test ''  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//usr/sbin/crda \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev//usr/sbin/crda
\]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/bin//usr/sbin/crda \]\]  
++ Debug 'WARNING: unmatched external call to '''/usr/sbin/crda''' in
lib/udev/rules.d/85-regulatory.rules'  
++ test ''  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs//usr/sbin/usbmuxd \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev//usr/sbin/usbmuxd
\]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/bin//usr/sbin/usbmuxd \]\]  
++ Debug 'WARNING: unmatched external call to '''/usr/sbin/usbmuxd''' in
lib/udev/rules.d/85-usbmuxd.rules'  
++ test ''  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/bluetooth\_serial \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev/bluetooth\_serial
\]\]  
++ echo 'matched external call to bluetooth\_serial in
lib/udev/rules.d/97-bluetooth-serial.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/cdrom\_id \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev/cdrom\_id \]\]  
++ echo 'matched external call to cdrom\_id in
lib/udev/rules.d/60-cdrom\_id.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/check-mtp-device \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev/check-mtp-device
\]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/bin/check-mtp-device \]\]  
++ Debug 'WARNING: unmatched external call to '''check-mtp-device''' in
lib/udev/rules.d/40-libgphoto2.rules'  
++ test ''  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/create\_floppy\_devices
\]\]  
++ \[\[ -x
/tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev/create\_floppy\_devices \]\]  
++ echo 'matched external call to create\_floppy\_devices in
lib/udev/rules.d/60-floppy.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/hid2hci \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev/hid2hci \]\]  
++ echo 'matched external call to hid2hci in
lib/udev/rules.d/97-bluetooth-hid2hci.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/ipw3945d.sh \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev/ipw3945d.sh \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/bin/ipw3945d.sh \]\]  
++ Debug 'WARNING: unmatched external call to '''ipw3945d.sh''' in
lib/udev/rules.d/77-network.rules'  
++ test ''  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/keyboard-force-release.sh
\]\]  
++ \[\[ -x
/tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev/keyboard-force-release.sh
\]\]  
++ echo 'matched external call to keyboard-force-release.sh in
lib/udev/rules.d/95-keyboard-force-release.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/keymap \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev/keymap \]\]  
++ echo 'matched external call to keymap in
lib/udev/rules.d/95-keymap.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/numlock-on \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev/numlock-on \]\]  
++ echo 'matched external call to numlock-on in
lib/udev/rules.d/73-seat-numlock.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/scsi\_id \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev/scsi\_id \]\]  
++ echo 'matched external call to scsi\_id in
lib/udev/rules.d/60-persistent-storage.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/udev-configure-printer
\]\]  
++ \[\[ -x
/tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev/udev-configure-printer \]\]  
++ echo 'matched external call to udev-configure-printer in
lib/udev/rules.d/70-printers.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/udevmountd \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev/udevmountd \]\]  
++ echo 'matched external call to udevmountd in
lib/udev/rules.d/81-mount.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/usb\_modeswitch \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev/usb\_modeswitch
\]\]  
++ echo 'matched external call to usb\_modeswitch in
lib/udev/rules.d/40-usb\_modeswitch.rules'  
++ read file location  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/write\_cd\_rules \]\]  
++ \[\[ -x /tmp/rear.UooSSauk5SouUWR/rootfs/lib/udev/write\_cd\_rules
\]\]  
++ echo 'matched external call to write\_cd\_rules in
lib/udev/rules.d/75-cd-aliases-generator.rules'  
++ read file location  
++ sysfs\_modalias\_paths=($(find /sys -type f -name modalias -printf
"/%P\\n" | sed -e 's\#/modalias$\#\#'))  
+++ find /sys -type f -name modalias -printf '/%P\\n'  
+++ sed -e 's\#/modalias$\#\#'  
++ \[\[ -n /devices/pci0000:00/0000:00:00.0 \]\]  
++ my\_udevinfo -a -p /devices/pci0000:00/0000:00:00.0  
++ grep '{modalias}'  
++ grep -q ATTR  
++ has\_binary udevadm  
++ for bin in '$@'  
++ type udevadm  
++ return 0  
++ udevadm info -a -p /devices/pci0000:00/0000:00:00.0  
++ echo 'ACTION=="add", SYSFS{modalias}=="?*", RUN+="/bin/modprobe -v
$sysfs{modalias}"'  
++ set +x

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2013-03-07 07:42](https://github.com/rear/rear/issues/206#issuecomment-14546702):

@laaglu Could you try this on the real system:
`sysfs_modalias_paths=( $(find /sys -type f -name modalias -printf "/%P\n" | sed -e 's#/modalias$##') )`  
followed by
`for i in "${sysfs_modalias_paths[@]}"; do udevadm info -a -p $i 2>/dev/null | grep '{modalias}'; done`

We're coming closer to the problem (I hope).

#### <img src="https://avatars.githubusercontent.com/u/1444748?v=4" width="50">[laaglu](https://github.com/laaglu) commented at [2013-03-07 17:50](https://github.com/rear/rear/issues/206#issuecomment-14575513):

Hi. I have tried it but the two lines print nothing. I have put them in
a shell with a set -x and here is the debug output:

    + sed -e 's#/modalias$##'
    + find /sys -type f -name modalias -printf '/%P\n'
    + sysfs_modalias_paths=( /devices/pci0000:00/0000:00:00.0 /devices/pci0000:00/0000:00:01.0/0000:01:00.0/host6/target6:0:0/6:0:0:0 /devices/pci0000:00/0000:00:01.0/0000:01:00.0 /devices/pci0000:00/0000:00:01.0 /devices/pci0000:00/0000:00:16.0 /devices/pci0000:00/0000:00:16.1 /devices/pci0000:00/0000:00:1a.0/usb1/1-1/1-1.2/1-1.2:1.0/input/input1 /devices/pci0000:00/0000:00:1a.0/usb1/1-1/1-1.2/1-1.2:1.0 /devices/pci0000:00/0000:00:1a.0/usb1/1-1/1-1.2/1-1.2:1.1/input/input2 /devices/pci0000:00/0000:00:1a.0/usb1/1-1/1-1.2/1-1.2:1.1 /devices/pci0000:00/0000:00:1a.0/usb1/1-1/1-1:1.0 /devices/pci0000:00/0000:00:1a.0/usb1/1-0:1.0 /devices/pci0000:00/0000:00:1a.0 /devices/pci0000:00/0000:00:1c.0/0000:02:00.0/usb2/2-0:1.0 /devices/pci0000:00/0000:00:1c.0/0000:02:00.0/usb3/3-0:1.0 /devices/pci0000:00/0000:00:1c.0/0000:02:00.0 /devices/pci0000:00/0000:00:1c.0 /devices/pci0000:00/0000:00:1c.4/0000:03:00.0 /devices/pci0000:00/0000:00:1c.4 /devices/pci0000:00/0000:00:1c.5/0000:04:00.0 /devices/pci0000:00/0000:00:1c.5 /devices/pci0000:00/0000:00:1d.0/usb4/4-1/4-1.1/4-1.1:1.0/input/input3 /devices/pci0000:00/0000:00:1d.0/usb4/4-1/4-1.1/4-1.1:1.0 /devices/pci0000:00/0000:00:1d.0/usb4/4-1/4-1.2/4-1.2:1.0 /devices/pci0000:00/0000:00:1d.0/usb4/4-1/4-1:1.0 /devices/pci0000:00/0000:00:1d.0/usb4/4-0:1.0 /devices/pci0000:00/0000:00:1d.0 /devices/pci0000:00/0000:00:1e.0/0000:05:03.0 /devices/pci0000:00/0000:00:1e.0 /devices/pci0000:00/0000:00:1f.0 /devices/pci0000:00/0000:00:1f.2/ata1/host0/target0:0:0/0:0:0:0 /devices/pci0000:00/0000:00:1f.2/ata2/host1/target1:0:0/1:0:0:0 /devices/pci0000:00/0000:00:1f.2 /devices/pci0000:00/0000:00:1f.3 /devices/system/cpu /devices/virtual/dmi/id /devices/platform/GHES.0 /devices/platform/GHES.1 /devices/platform/i8042 /devices/platform/i8042/serio0/input/input0 /devices/platform/i8042/serio0 /devices/platform/i8042/serio1 /devices/platform/alarmtimer /devices/platform/iTCO_wdt /devices/platform/pcspkr/input/input6 /devices/platform/pcspkr /devices/platform/serial8250 /devices/platform/Fixed MDIO bus.0 /devices/platform/microcode /devices/platform/coretemp.0 /devices/LNXSYSTM:00 /devices/LNXSYSTM:00/LNXCPU:00 /devices/LNXSYSTM:00/LNXCPU:01 /devices/LNXSYSTM:00/LNXCPU:02 /devices/LNXSYSTM:00/LNXCPU:03 /devices/LNXSYSTM:00/LNXCPU:04 /devices/LNXSYSTM:00/LNXCPU:05 /devices/LNXSYSTM:00/LNXCPU:06 /devices/LNXSYSTM:00/LNXCPU:07 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0303:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0501:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0501:01 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0501:02 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/IPI0001:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0B00:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0C02:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0C02:01 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0C02:02 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0C02:03 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0C04:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0F03:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/INT3F0D:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/INT0800:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0000:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0100:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0103:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0200:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/LNXVIDEO:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/PNP0C01:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/PNP0C02:04 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0C:00/input/input4 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0C:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0F:00 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0F:01 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0F:02 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0F:03 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0F:04 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0F:05 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0F:06 /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0F:07 /devices/LNXSYSTM:00/LNXSYBUS:00 /devices/LNXSYSTM:00/LNXSYBUS:01/PNP0C0B:00 /devices/LNXSYSTM:00/LNXSYBUS:01/PNP0C0B:01 /devices/LNXSYSTM:00/LNXSYBUS:01/PNP0C0B:02 /devices/LNXSYSTM:00/LNXSYBUS:01/PNP0C0B:03 /devices/LNXSYSTM:00/LNXSYBUS:01/PNP0C0B:04 /devices/LNXSYSTM:00/LNXSYBUS:01 /devices/LNXSYSTM:00/LNXSYBUS:01/LNXPOWER:00 /devices/LNXSYSTM:00/LNXSYBUS:01/LNXPOWER:01 /devices/LNXSYSTM:00/LNXSYBUS:01/LNXPOWER:02 /devices/LNXSYSTM:00/LNXSYBUS:01/LNXPOWER:03 /devices/LNXSYSTM:00/LNXSYBUS:01/LNXPOWER:04 /devices/LNXSYSTM:00/LNXSYBUS:01/LNXTHERM:00 /devices/LNXSYSTM:00/LNXSYBUS:01/LNXTHERM:01 /devices/LNXSYSTM:00/LNXPWRBN:00/input/input5 /devices/LNXSYSTM:00/LNXPWRBN:00 )
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:00.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:01.0/0000:01:00.0/host6/target6:0:0/6:0:0:0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:01.0/0000:01:00.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:01.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:16.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:16.1
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1a.0/usb1/1-1/1-1.2/1-1.2:1.0/input/input1
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1a.0/usb1/1-1/1-1.2/1-1.2:1.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1a.0/usb1/1-1/1-1.2/1-1.2:1.1/input/input2
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1a.0/usb1/1-1/1-1.2/1-1.2:1.1
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1a.0/usb1/1-1/1-1:1.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1a.0/usb1/1-0:1.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1a.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1c.0/0000:02:00.0/usb2/2-0:1.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1c.0/0000:02:00.0/usb3/3-0:1.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1c.0/0000:02:00.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1c.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1c.4/0000:03:00.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1c.4
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1c.5/0000:04:00.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1c.5
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1d.0/usb4/4-1/4-1.1/4-1.1:1.0/input/input3
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1d.0/usb4/4-1/4-1.1/4-1.1:1.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1d.0/usb4/4-1/4-1.2/4-1.2:1.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1d.0/usb4/4-1/4-1:1.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1d.0/usb4/4-0:1.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1d.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1e.0/0000:05:03.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1e.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1f.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1f.2/ata1/host0/target0:0:0/0:0:0:0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1f.2/ata2/host1/target1:0:0/1:0:0:0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1f.2
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/pci0000:00/0000:00:1f.3
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/system/cpu
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/virtual/dmi/id
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/platform/GHES.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/platform/GHES.1
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/platform/i8042
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/platform/i8042/serio0/input/input0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/platform/i8042/serio0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/platform/i8042/serio1
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/platform/alarmtimer
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/platform/iTCO_wdt
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/platform/pcspkr/input/input6
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/platform/pcspkr
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/platform/serial8250
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/platform/Fixed
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p MDIO
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p bus.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/platform/microcode
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/platform/coretemp.0
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXCPU:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXCPU:01
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXCPU:02
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXCPU:03
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXCPU:04
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXCPU:05
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXCPU:06
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXCPU:07
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0303:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0501:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0501:01
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0501:02
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/IPI0001:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0B00:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0C02:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0C02:01
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0C02:02
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0C02:03
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0C04:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0F03:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/INT3F0D:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/INT0800:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0000:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0100:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0103:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:00/PNP0200:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/LNXVIDEO:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/PNP0C01:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/PNP0C02:04
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0C:00/input/input4
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0C:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0F:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0F:01
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0F:02
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0F:03
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0F:04
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0F:05
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0F:06
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0F:07
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:01/PNP0C0B:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:01/PNP0C0B:01
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:01/PNP0C0B:02
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:01/PNP0C0B:03
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:01/PNP0C0B:04
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:01
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:01/LNXPOWER:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:01/LNXPOWER:01
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:01/LNXPOWER:02
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:01/LNXPOWER:03
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:01/LNXPOWER:04
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:01/LNXTHERM:00
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXSYBUS:01/LNXTHERM:01
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXPWRBN:00/input/input5
    + 2> /dev/null
    + grep '{modalias}'
    + udevadm info -a -p /devices/LNXSYSTM:00/LNXPWRBN:00
    + 2> /dev/null

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2013-03-08 08:16](https://github.com/rear/rear/issues/206#issuecomment-14608795):

@jhoekx @dagwieers What do you think about this case? Any toughs or
feedback are more then welcome.

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2013-03-15 13:00](https://github.com/rear/rear/issues/206#issuecomment-14959066):

Have seen the same issue on Ubuntu 12.10:  
![fedora64 Running - Oracle VM
VirtualBox\_2013-03-15\_11-05-19](https://f.cloud.github.com/assets/888633/263515/007e591e-8d70-11e2-8310-5a8f23efd3ff.png)

However, my disks were there, so less critical. Our udev rule need some
attention I guess?

#### <img src="https://avatars.githubusercontent.com/u/783473?v=4" width="50">[jhoekx](https://github.com/jhoekx) commented at [2013-03-15 13:03](https://github.com/rear/rear/issues/206#issuecomment-14959169):

I wouldn't really change the rule. On new systems it just works without
the rule and for old ones we do need it.

We could check the udev version to include it in the rescue system
though.

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2013-03-21 20:43](https://github.com/rear/rear/issues/206#issuecomment-15264135):

On Fedora 18 I have seen the same issue with the udev rule (using
VirtualBox):

Mar 20 21:14:51 localhost.localdomain kernel: scsi 0:0:0:0:
Direct-Access ATA VBOX HARDDISK 1.0 PQ: 0 ANSI: 5  
Mar 20 21:14:51 localhost.localdomain kernel: sd 0:0:0:0: Attached scsi
generic sg0 type 0  
Mar 20 21:14:51 localhost.localdomain kernel: sd 0:0:0:0: \[sda\]
16777216 512-byte logical blocks: (8.58 GB/8.00 GiB)  
Mar 20 21:14:51 localhost.localdomain kernel: scsi 2:0:0:0: CD-ROM VBOX
CD-ROM 1.0 PQ: 0 ANSI: 5  
Mar 20 21:14:51 localhost.localdomain kernel: sr0: scsi3-mmc drive:
32x/32x xa/form2 tray  
Mar 20 21:14:51 localhost.localdomain kernel: cdrom: Uniform CD-ROM
driver Revision: 3.20  
Mar 20 21:14:51 localhost.localdomain kernel: sr 2:0:0:0: Attached scsi
CD-ROM sr0  
Mar 20 21:14:51 localhost.localdomain kernel: sd 0:0:0:0: \[sda\] Write
Protect is off  
Mar 20 21:14:51 localhost.localdomain kernel: sd 0:0:0:0: \[sda\] Mode
Sense: 00 3a 00 00  
Mar 20 21:14:51 localhost.localdomain kernel: sr 2:0:0:0: Attached scsi
generic sg1 type 5  
Mar 20 21:14:51 localhost.localdomain kernel: sd 0:0:0:0: \[sda\] Write
cache: enabled, read cache: enabled, doesn't support DPO or FUA  
Mar 20 21:14:51 localhost.localdomain systemd\[1\]: Trying to enqueue
job systemd-udevd.service/start/replace  
Mar 20 21:14:51 localhost.localdomain systemd\[1\]: Installed new job
systemd-udevd.service/start as 23  
Mar 20 21:14:51 localhost.localdomain systemd\[1\]: Enqueued job
systemd-udevd.service/start as 23  
Mar 20 21:14:51 localhost.localdomain systemd\[1\]:
systemd-udevd-kernel.socket changed listening -&gt; running  
Mar 20 21:14:51 localhost.localdomain systemd\[1\]: Starting udev Kernel
Device Manager...  
Mar 20 21:14:51 localhost.localdomain systemd\[1\]: About to execute
/usr/lib/systemd/systemd-udevd  
Mar 20 21:14:51 localhost.localdomain systemd\[1\]: Forked
/usr/lib/systemd/systemd-udevd as 80  
Mar 20 21:14:51 localhost.localdomain systemd\[1\]:
systemd-udevd.service changed dead -&gt; start  
Mar 20 21:14:51 localhost.localdomain systemd-udevd\[80\]: unknown key
'SYSFS{modalias}' in /etc/udev/rules.d/00-rear.rules:1  
Mar 20 21:14:51 localhost.localdomain systemd-udevd\[80\]: invalid rule
'/etc/udev/rules.d/00-rear.rules:1'  
Mar 20 21:14:51 localhost.localdomain systemd-udevd\[80\]: starting
version 195  
Mar 20 21:14:51 localhost.localdomain systemd\[1\]: Got notification
message for unit systemd-udevd.service  
Mar 20 21:14:51 localhost.localdomain systemd\[1\]:
systemd-udevd.service: Got message  
Mar 20 21:14:51 localhost.localdomain systemd\[1\]:
systemd-udevd.service: got READY=1  
Mar 20 21:14:51 localhost.localdomain systemd\[1\]:
systemd-udevd.service changed start -&gt; running  
Mar 20 21:14:51 localhost.localdomain systemd\[1\]: Job
systemd-udevd.service/start finished, result=done  
Mar 20 21:14:51 localhost.localdomain systemd\[1\]: Started udev Kernel
Device Manager.  
Mar 20 21:14:51 localhost.localdomain systemd\[1\]: Incoming traffic on
systemd-journald.socket  
Mar 20 21:14:51 localhost.localdomain systemd\[1\]:
systemd-journald.socket changed listening -&gt; running  
Mar 20 21:14:52 localhost.localdomain systemd-udevd\[86\]:
inotify\_add\_watch(7, /dev/sda, 10) failed: No such file or directory  
Mar 20 21:14:52 localhost.localdomain systemd\[1\]: dev-sda.device
changed dead -&gt; plugged  
Mar 20 21:14:52 localhost.localdomain systemd\[1\]:
sys-devices-pci0000:00-0000:00:0d.0-ata1-host0-target0:0:0-0:0:0:0-block-sda.device
changed dead -&gt; plugged  
Mar 20 21:14:52 localhost.localdomain systemd-udevd\[82\]:
inotify\_add\_watch(7, /dev/sda1, 10) failed: No such file or
directory  
Mar 20 21:14:52 localhost.localdomain systemd-udevd\[83\]:
inotify\_add\_watch(7, /dev/sda2, 10) failed: No such file or
directory  
Mar 20 21:14:52 localhost.localdomain systemd\[1\]: dev-sda1.device
changed dead -&gt; plugged  
Mar 20 21:14:52 localhost.localdomain systemd\[1\]:
sys-devices-pci0000:00-0000:00:0d.0-ata1-host0-target0:0:0-0:0:0:0-block-sda-sda1.device
changed dead -&gt; plugged  
Mar 20 21:14:52 localhost.localdomain systemd\[1\]: dev-sda2.device
changed dead -&gt; plugged  
Mar 20 21:14:52 localhost.localdomain systemd\[1\]:
sys-devices-pci0000:00-0000:00:0d.0-ata1-host0-target0:0:0-0:0:0:0-block-sda-sda2.device
changed dead -&gt; plugged  
Mar 20 21:14:52 localhost.localdomain systemd-udevd\[84\]:
inotify\_add\_watch(7, /dev/sda3, 10) failed: No such file or
directory  
Mar 20 21:14:52 localhost.localdomain systemd\[1\]: dev-sda3.device
changed dead -&gt; plugged  
Mar 20 21:14:52 localhost.localdomain systemd\[1\]:
sys-devices-pci0000:00-0000:00:0d.0-ata1-host0-target0:0:0-0:0:0:0-block-sda-sda3.device
changed dead -&gt; plugged  
Mar 20 21:14:52 localhost.localdomain systemd\[1\]: Running GC...  
Mar 20 21:14:52 localhost.localdomain systemd-udevd\[82\]:
inotify\_add\_watch(7, /dev/sda, 10) failed: No such file or directory  
Mar 20 21:14:52 localhost.localdomain systemd-udevd\[81\]: Failed to
apply ACL on /dev/sr0: No such file or directory

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2013-04-05 09:24](https://github.com/rear/rear/issues/206#issuecomment-15946148):

@laaglu can you re-test this with the latest git sources? Might be fixed
in the meantime (at least on Fedora 18)

#### <img src="https://avatars.githubusercontent.com/u/1444748?v=4" width="50">[laaglu](https://github.com/laaglu) commented at [2013-04-05 20:56](https://github.com/rear/rear/issues/206#issuecomment-15980351):

Hi. I have since upgraded the machine to OpenSuse12.3. However I had
tested with 12.3 and had the same issue. I did the test you requested
with the latest version from the trunk and it does indeed solve the
problem (the disks are now correctly recognized). Many thanks.

------------------------------------------------------------------------

\[Export of Github issue for
[rear/rear](https://github.com/rear/rear).\]
