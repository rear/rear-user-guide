[\#1141 Issue](https://github.com/rear/rear/issues/1141) `closed`: bootable UEFI enabled USB stick with incremental backup with BACKUP\_URL=usb
===============================================================================================================================================

**Labels**: `enhancement`, `bug`, `fixed / solved / done`

#### <img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50">[dwerner1](https://github.com/dwerner1) opened issue at [2016-12-27 15:29](https://github.com/rear/rear/issues/1141):

I'm trying to create a UEFI enabled USB stick with the following setup
structure

-   rear version 1.19-git201612161033
-   OS version Debian 8.0 testing ( running in virtualbox VM, EFI
    enabled)

/etc/rear/site.conf

`BACKUP=NETFS`  
`OUTPUT=USB`  
`USB_DEVICE=/dev/disk/by-label/REAR-000`  
`BACKUP_URL=usb:///dev/disk/by-label/REAR-000`  
`BACKUP_TYPE=incremental`  
`FULLBACKUP_OUTDATED_DAYS=7`  
`FULLBACKUPDAY=Mon`

/etc/rear/local.conf

`USING_UEFI_BOOTLOADER=1`

The creation works fine. The steps

`rear -v format -- --efi /dev/sdb`  
`rear -d -D mkbackup`

run through without reporting any errors.

When I boot that stick and enter rear recover, the process gets stuck
with the message

`mount: special device /dev/disk/by-label/REAR-000 does not exist 2016-12-27 15:05:41 ERROR: Mount command 'mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.KNRlV5j0vuA5cm1/outputfs' failed`

Here is the complete log file from the stick:

<pre>
2016-12-27 15:05:41 Relax-and-Recover 1.19-git201612161033 / 2016-12-16
2016-12-27 15:05:41 Command line options: /bin/rear recover
2016-12-27 15:05:41 Using log file: /var/log/rear/rear-debianrearuefi.log
2016-12-27 15:05:41 Including /etc/rear/os.conf
2016-12-27 15:05:41 Including conf/Linux-i386.conf
2016-12-27 15:05:41 Including conf/GNU/Linux.conf
2016-12-27 15:05:41 Including /etc/rear/site.conf
2016-12-27 15:05:41 Including /etc/rear/local.conf
2016-12-27 15:05:41 Including /etc/rear/rescue.conf
2016-12-27 15:05:41 Running 'init' stage
2016-12-27 15:05:41 Including init/default/010_set_drlm_env.sh
2016-12-27 15:05:41 Including init/default/030_update_recovery_system.sh
2016-12-27 15:05:41 Including init/default/050_check_rear-recover_mode.sh
2016-12-27 15:05:41 Running workflow recover within the ReaR rescue/recovery system
2016-12-27 15:05:41 Finished running 'init' stage in 0 seconds
2016-12-27 15:05:41 Using build area '/tmp/rear.KNRlV5j0vuA5cm1'
mkdir: created directory '/tmp/rear.KNRlV5j0vuA5cm1/rootfs'
mkdir: created directory '/tmp/rear.KNRlV5j0vuA5cm1/tmp'
2016-12-27 15:05:41 Running recover workflow
2016-12-27 15:05:41 Running 'setup' stage
2016-12-27 15:05:41 Including setup/default/010_pre_recovery_script.sh
2016-12-27 15:05:41 Finished running 'setup' stage in 0 seconds
2016-12-27 15:05:41 Running 'verify' stage
2016-12-27 15:05:41 Including verify/default/020_cciss_scsi_engage.sh
2016-12-27 15:05:41 Including verify/default/020_translate_url.sh
2016-12-27 15:05:41 Including verify/default/030_translate_tape.sh
2016-12-27 15:05:41 Including verify/default/040_validate_variables.sh
2016-12-27 15:05:41 Including verify/NETFS/default/050_check_NETFS_requirements.sh
2016-12-27 15:05:41 Skipping 'ping' test for host '' in BACKUP_URL 'usb:///dev/disk/by-label/REAR-000'
2016-12-27 15:05:41 Including verify/default/050_create_mappings_dir.sh
2016-12-27 15:05:41 Including verify/GNU/Linux/050_sane_recovery_check.sh
2016-12-27 15:05:41 Including verify/NETFS/default/050_start_required_nfs_daemons.sh
2016-12-27 15:05:41 Including verify/NETFS/default/060_mount_NETFS_path.sh
mkdir: created directory '/tmp/rear.KNRlV5j0vuA5cm1/outputfs'
2016-12-27 15:05:41 Mounting with 'mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.KNRlV5j0vuA5cm1/outputfs'
mount: special device /dev/disk/by-label/REAR-000 does not exist
2016-12-27 15:05:41 ERROR: Mount command 'mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.KNRlV5j0vuA5cm1/outputfs' failed.
==== Stack trace ====
Trace 0: /bin/rear:504 main
Trace 1: /usr/share/rear/lib/recover-workflow.sh:14 WORKFLOW_recover
Trace 2: /usr/share/rear/lib/framework-functions.sh:85 SourceStage
Trace 3: /usr/share/rear/lib/framework-functions.sh:45 Source
Trace 4: /usr/share/rear/verify/NETFS/default/060_mount_NETFS_path.sh:11 source
Trace 5: /usr/share/rear/lib/global-functions.sh:286 mount_url
Trace 6: /usr/share/rear/lib/_input-output-functions.sh:132 StopIfError
Message: Mount command 'mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.KNRlV5j0vuA5cm1/outputfs' failed.
== End stack trace ==
2016-12-27 15:05:41 Running exit tasks.
rmdir: removing directory, '/tmp/rear.KNRlV5j0vuA5cm1/outputfs'
2016-12-27 15:05:41 Finished in 0 seconds
2016-12-27 15:05:41 Removing build area /tmp/rear.KNRlV5j0vuA5cm1
removed directory '/tmp/rear.KNRlV5j0vuA5cm1'
2016-12-27 15:05:41 End of program reached
</pre>

Using `BACKUP_URL=usb:///dev/sdb2` made no difference. Any idea someone?

#### <img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50">[gozora](https://github.com/gozora) commented at [2016-12-27 15:48](https://github.com/rear/rear/issues/1141#issuecomment-269342998):

This could be "just" some race condition ...  
Could you re-run `rear recover` with debug flags `rear -d -D recover`
and post log file here?  
And please tag log files with *insert code button* otherwise it is quite
a pain to read it ...

V.

#### <img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50">[dwerner1](https://github.com/dwerner1) commented at [2016-12-27 16:13](https://github.com/rear/rear/issues/1141#issuecomment-269346266):

I had actually put the log file content using the insert code button -
when I do that now again with the new log file, single plus signs are
displayed as points of a bulleted list, I'm unsure if this is better for
you to read ..

log file from having typed `rear -d -D recover`

    2016-12-27 15:57:02.062102144 Relax-and-Recover 1.19-git201612161033 / 2016-12-16
    2016-12-27 15:57:02.063272825 Command line options: /bin/rear -d -D recover
    2016-12-27 15:57:02.064393896 Using log file: /var/log/rear/rear-debianrearuefi.log
    2016-12-27 15:57:02.065615777 Current set of flags is 'hB'
    2016-12-27 15:57:02.066709974 The debugscripts flags are 'x'
    2016-12-27 15:57:02.067819133 Combining configuration files
    2016-12-27 15:57:02.068986253 Including /etc/rear/os.conf
    2016-12-27 15:57:02.070026158 Entering debugscripts mode via 'set -x'.
    + source /etc/rear/os.conf
    ++ ARCH=Linux-i386
    ++ OS=GNU/Linux
    ++ OS_VERSION=testing
    ++ OS_VENDOR=Debian
    ++ OS_VENDOR_VERSION=Debian/testing
    ++ OS_VENDOR_ARCH=Debian/i386
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.073013440 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.073013440 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.074794374 Including conf/Linux-i386.conf
    2016-12-27 15:57:02.075868966 Entering debugscripts mode via 'set -x'.
    + source /usr/share/rear/conf/Linux-i386.conf
    ++ REQUIRED_PROGS=("${REQUIRED_PROGS[@]:-}" parted sfdisk)
    ++ PROGS=("${PROGS[@]:-}" grub partprobe lilo fdisk cfdisk)
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.079036553 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.079036553 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.080756043 Including conf/GNU/Linux.conf
    2016-12-27 15:57:02.081921950 Entering debugscripts mode via 'set -x'.
    + source /usr/share/rear/conf/GNU/Linux.conf
    ++ PROGS=(${PROGS[@]:-} rpc.statd rpcbind bash mknod blkid vol_id udev_volume_id portmap readlink rpcinfo grep cat tac tr reboot halt shutdown killall5 killall chroot tee awk ip ifconfig nslookup route ifenslave ifrename nameif klogd syslog-ng syslogd rsyslogd echo cp date wc cut rm rmdir test init telinit ethtool expand sed mount umount insmod modprobe lsmod true false mingetty agetty getty rmmod hostname uname sleep logger ps ln dirname basename mkdir tty ping netstat free traceroute less vi pico nano rmmod df ls dmesg du tar gzip netcat top iptraf joe pico getent id ldd strace rsync tail head find md5sum mkfs mkfs.ext2 mkfs.ext3 mkfs.ext4 mkfs.ext4dev mkfs.jfs mkfs.xfs mkfs.reiserfs mkfs.vfat mkfs.btrfs mkreiserfs fsck fsck.ext2 fsck.ext3 fsck.ext4 fsck.ext4dev fsck.xfs fsck.reiserfs reiserfsck fsck.btrfs findmnt btrfsck tune2fs tune4fs xfs_admin xfs_db btrfs jfs_tune reiserfstune expr egrep grep fgrep chmod chown stat mkswap swapon swapoff mknod touch scsi_id lsscsi logd initctl lspci usleep mktemp /bin/true strace which mkfifo seq openvt poweroff chacl getfacl setfacl attr getfattr setfattr mpath_wait strings xargs sg_inq env w dosfslabel sysctl)
    ++ LIBS=(${LIBS[@]:-} /lib*/libnss_dns* /lib*/libnss_files* /lib/*/libnss_dns* /lib/*/libnss_files* /lib*/libgcc_s* /lib*/libresolv* /usr/lib*/rsyslog/*so /lib*/rsyslog/*so /usr/lib*/syslog-ng/*)
    ++ MODULES=(${MODULES[@]:-} vfat nls_iso8859_1 nls_utf8 nls_cp437 af_packet unix nfs nfsv4 nfsv3 lockd sunrpc cifs usbcore usb_storage usbhid sr_mod ide_cd cdrom uhci_hcd ehci_hcd xhci_hcd ohci_hcd zlib zlib-inflate zlib-deflate libcrc32c crc32c crc32c-intel)
    ++ COPY_AS_IS=(${COPY_AS_IS[@]:-} /dev /etc/inputr[c] /etc/protocols /etc/services /etc/rpc /etc/termcap /etc/terminfo /lib*/terminfo /usr/share/terminfo /etc/netconfig /etc/mke2fs.conf /etc/*-release /lib*/firmware /etc/localtime /etc/magic /usr/share/misc/magic /etc/dracut.conf /etc/dracut.conf.d /usr/lib/dracut /sbin/modprobe.ksplice-orig /etc/sysctl.conf /etc/sysctl.d /etc/e2fsck.conf)
    ++ COPY_AS_IS_EXCLUDE=(${COPY_AS_IS_EXCLUDE[@]:-} dev/shm/\*)
    ++ KERNEL_CMDLINE=' selinux=0'
    ++ CLONE_USERS=("${CLONE_USERS[@]:-}" daemon rpc usbmuxd usbmux vcsa nobody)
    ++ CLONE_GROUPS=("${CLONE_GROUPS[@]:-}" tty usbmuxd usbmux fuse kvm oinstall)
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.086546731 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.086546731 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.088320984 Including /etc/rear/site.conf
    2016-12-27 15:57:02.089440464 Entering debugscripts mode via 'set -x'.
    + source /etc/rear/site.conf
    ++ BACKUP=NETFS
    ++ OUTPUT=USB
    ++ USB_DEVICE=/dev/disk/by-label/REAR-000
    ++ BACKUP_URL=usb:///dev/disk/by-label/REAR-000
    ++ BACKUP_PROG_EXCLUDE=("${BACKUP_PROG_EXCLUDE[@]}" ‘/tmp/*’ ‘/dev/shm/*’ ‘/mnt/*’ $VAR_DIR/output/\*)
    ++ BACKUP_TYPE=incremental
    ++ FULLBACKUP_OUTDATED_DAYS=7
    ++ FULLBACKUPDAY=Mon
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.092729666 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.092729666 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.094471788 Including /etc/rear/local.conf
    2016-12-27 15:57:02.095642361 Entering debugscripts mode via 'set -x'.
    + source /etc/rear/local.conf
    ++ USING_UEFI_BOOTLOADER=1
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.098936049 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.098936049 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.100690183 Including /etc/rear/rescue.conf
    2016-12-27 15:57:02.101884718 Entering debugscripts mode via 'set -x'.
    + source /etc/rear/rescue.conf
    ++ SHARE_DIR=/usr/share/rear
    ++ CONFIG_DIR=/etc/rear
    ++ VAR_DIR=/var/lib/rear
    ++ LOG_DIR=/var/log/rear
    ++ USE_DHCLIENT=y
    ++ DHCLIENT_BIN=dhclient
    ++ DHCLIENT6_BIN=
    ++ NETFS_KEEP_OLD_BACKUP_COPY=
    ++ NETFS_PREFIX=rear/debianrearuefi/20161227.1552
    ++ NETFS_RESTORE_CAPABILITIES=n
    ++ unset TMPDIR
    ++ USING_UEFI_BOOTLOADER=1
    ++ UEFI_BOOTLOADER=/boot/efi/EFI/debian/grubx64.efi
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.105195737 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.105195737 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.107833906 Running 'init' stage
    2016-12-27 15:57:02.111255791 Including init/default/010_set_drlm_env.sh
    2016-12-27 15:57:02.112388626 Entering debugscripts mode via 'set -x'.
    + source /usr/share/rear/init/default/010_set_drlm_env.sh
    ++ drlm_is_managed
    ++ [[ n == \y ]]
    ++ return 1
    ++ return 0
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.115483537 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.115483537 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.117273079 Including init/default/030_update_recovery_system.sh
    2016-12-27 15:57:02.118497785 Entering debugscripts mode via 'set -x'.
    + source /usr/share/rear/init/default/030_update_recovery_system.sh
    ++ test recover '!=' recover
    ++ test ''
    ++ return
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.121829791 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.121829791 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.123595545 Including init/default/050_check_rear-recover_mode.sh
    2016-12-27 15:57:02.124810690 Entering debugscripts mode via 'set -x'.
    + source /usr/share/rear/init/default/050_check_rear-recover_mode.sh
    ++ test -f /etc/rear-release
    ++ case "$WORKFLOW" in
    ++ LogPrint 'Running workflow recover within the ReaR rescue/recovery system'
    ++ Log 'Running workflow recover within the ReaR rescue/recovery system'
    ++ test 1 -gt 0
    +++ Stamp
    +++ date '+%Y-%m-%d %H:%M:%S.%N '
    ++ echo '2016-12-27 15:57:02.128068704 Running workflow recover within the ReaR rescue/recovery system'
    2016-12-27 15:57:02.128068704 Running workflow recover within the ReaR rescue/recovery system
    ++ Print 'Running workflow recover within the ReaR rescue/recovery system'
    ++ test 1
    ++ echo -e 'Running workflow recover within the ReaR rescue/recovery system'
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.129305626 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.129305626 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.130977768 Finished running 'init' stage in 0 seconds
    2016-12-27 15:57:02.135368494 Using build area '/tmp/rear.WSrlzF6VG9a300H'
    mkdir: created directory '/tmp/rear.WSrlzF6VG9a300H/rootfs'
    mkdir: created directory '/tmp/rear.WSrlzF6VG9a300H/tmp'
    2016-12-27 15:57:02.138092616 Running recover workflow
    2016-12-27 15:57:02.139254297 Running 'setup' stage
    2016-12-27 15:57:02.142720186 Including setup/default/010_pre_recovery_script.sh
    2016-12-27 15:57:02.143859405 Entering debugscripts mode via 'set -x'.
    + source /usr/share/rear/setup/default/010_pre_recovery_script.sh
    ++ test ''
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.147139342 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.147139342 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.148885384 Finished running 'setup' stage in 0 seconds
    2016-12-27 15:57:02.150106575 Running 'verify' stage
    2016-12-27 15:57:02.153766856 Including verify/default/020_cciss_scsi_engage.sh
    2016-12-27 15:57:02.154924600 Entering debugscripts mode via 'set -x'.
    + source /usr/share/rear/verify/default/020_cciss_scsi_engage.sh
    ++ grep -q '^cciss ' /proc/modules
    ++ return
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.158995249 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.158995249 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.160805051 Including verify/default/020_translate_url.sh
    2016-12-27 15:57:02.162034086 Entering debugscripts mode via 'set -x'.
    + source /usr/share/rear/verify/default/020_translate_url.sh
    ++ [[ -n '' ]]
    ++ [[ -n '' ]]
    ++ [[ -n '' ]]
    ++ [[ -n '' ]]
    ++ [[ -n '' ]]
    ++ [[ -n '' ]]
    ++ [[ -n '' ]]
    ++ [[ -n '' ]]
    ++ [[ -n '' ]]
    ++ [[ -n '' ]]
    ++ [[ -z '' ]]
    ++ [[ -z '' ]]
    ++ [[ -z '' ]]
    ++ OUTPUT_OPTIONS=
    ++ [[ -z '' ]]
    ++ [[ -n /dev/disk/by-label/REAR-000 ]]
    ++ OUTPUT_URL=usb:///dev/disk/by-label/REAR-000
    ++ [[ -z '' ]]
    ++ [[ -z usb:///dev/disk/by-label/REAR-000 ]]
    ++ [[ -z '' ]]
    ++ [[ -z usb:///dev/disk/by-label/REAR-000 ]]
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.165489292 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.165489292 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.167252714 Including verify/default/030_translate_tape.sh
    2016-12-27 15:57:02.168492352 Entering debugscripts mode via 'set -x'.
    + source /usr/share/rear/verify/default/030_translate_tape.sh
    ++ [[ -n usb:///dev/disk/by-label/REAR-000 ]]
    +++ url_scheme usb:///dev/disk/by-label/REAR-000
    +++ local url=usb:///dev/disk/by-label/REAR-000
    +++ local scheme=usb
    +++ echo usb
    +++ grep -q :
    +++ echo usb
    ++ backup_scheme=usb
    ++ [[ usb == tape ]]
    ++ [[ usb == obdr ]]
    ++ [[ -z usb:///dev/disk/by-label/REAR-000 ]]
    ++ [[ -z usb:///dev/disk/by-label/REAR-000 ]]
    ++ [[ -n '' ]]
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.173323925 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.173323925 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.175106380 Including verify/default/040_validate_variables.sh
    2016-12-27 15:57:02.176333507 Entering debugscripts mode via 'set -x'.
    + source /usr/share/rear/verify/default/040_validate_variables.sh
    ++ [[ ! -z 30 ]]
    +++ is_numeric 30
    +++ expr 30 + 0
    +++ echo 30
    ++ WAIT_SECS=30
    ++ [[ 30 -eq 0 ]]
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.180841688 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.180841688 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.182640945 Including verify/NETFS/default/050_check_NETFS_requirements.sh
    2016-12-27 15:57:02.183900245 Entering debugscripts mode via 'set -x'.
    + source /usr/share/rear/verify/NETFS/default/050_check_NETFS_requirements.sh
    ++ [[ -n usb:///dev/disk/by-label/REAR-000 ]]
    ++ StopIfError 'You must specify either BACKUP_URL or BACKUP_MOUNTCMD and BACKUP_UMOUNTCMD !'
    ++ ((  0 != 0  ))
    ++ [[ -n usb:///dev/disk/by-label/REAR-000 ]]
    +++ url_scheme usb:///dev/disk/by-label/REAR-000
    +++ local url=usb:///dev/disk/by-label/REAR-000
    +++ local scheme=usb
    +++ echo usb
    +++ grep -q :
    +++ echo usb
    ++ local scheme=usb
    +++ url_hostname usb:///dev/disk/by-label/REAR-000
    +++ local url=usb:///dev/disk/by-label/REAR-000
    +++ local url_without_scheme=/dev/disk/by-label/REAR-000
    +++ local authority_part=
    +++ local host_and_port=
    +++ echo
    ++ local hostname=
    +++ url_path usb:///dev/disk/by-label/REAR-000
    +++ local url=usb:///dev/disk/by-label/REAR-000
    +++ local url_without_scheme=/dev/disk/by-label/REAR-000
    +++ echo /dev/disk/by-label/REAR-000
    ++ local path=/dev/disk/by-label/REAR-000
    ++ case $scheme in
    ++ :
    ++ [[ usb = \u\s\b ]]
    ++ [[ -z /dev/disk/by-label/REAR-000 ]]
    ++ [[ -n '' ]]
    ++ Log 'Skipping '\''ping'\'' test for host '\'''\'' in BACKUP_URL '\''usb:///dev/disk/by-label/REAR-000'\'''
    ++ test 1 -gt 0
    +++ Stamp
    +++ date '+%Y-%m-%d %H:%M:%S.%N '
    ++ echo '2016-12-27 15:57:02.189939406 Skipping '\''ping'\'' test for host '\'''\'' in BACKUP_URL '\''usb:///dev/disk/by-label/REAR-000'\'''
    2016-12-27 15:57:02.189939406 Skipping 'ping' test for host '' in BACKUP_URL 'usb:///dev/disk/by-label/REAR-000'
    ++ case "$(basename $BACKUP_PROG)" in
    +++ basename tar
    ++ :
    ++ PROGS=("${PROGS[@]}" showmount mount.$(url_scheme $BACKUP_URL) umount.$(url_scheme $BACKUP_URL) $( test "$BACKUP_MOUNTCMD" && echo "${BACKUP_MOUNTCMD%% *}" ) $( test "$BACKUP_UMOUNTCMD" && echo "${BACKUP_UMOUNTCMD%% *}" ) $BACKUP_PROG gzip bzip2 xz)
    +++ url_scheme usb:///dev/disk/by-label/REAR-000
    +++ local url=usb:///dev/disk/by-label/REAR-000
    +++ local scheme=usb
    +++ echo usb
    +++ grep -q :
    +++ echo usb
    +++ url_scheme usb:///dev/disk/by-label/REAR-000
    +++ local url=usb:///dev/disk/by-label/REAR-000
    +++ local scheme=usb
    +++ echo usb
    +++ grep -q :
    +++ echo usb
    +++ test ''
    +++ test ''
    ++ [[ sshfs = \u\s\b ]]
    ++ [[ ftpfs = \u\s\b ]]
    ++ MODULES=("${MODULES[@]}" $(url_scheme $BACKUP_URL))
    +++ url_scheme usb:///dev/disk/by-label/REAR-000
    +++ local url=usb:///dev/disk/by-label/REAR-000
    +++ local scheme=usb
    +++ echo usb
    +++ grep -q :
    +++ echo usb
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.197898557 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.197898557 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.199644772 Including verify/default/050_create_mappings_dir.sh
    2016-12-27 15:57:02.200954158 Entering debugscripts mode via 'set -x'.
    + source /usr/share/rear/verify/default/050_create_mappings_dir.sh
    ++ [[ ! -d /etc/rear/mappings ]]
    ++ mkdir -m 755 /etc/rear/mappings
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.204986980 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.204986980 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.206761778 Including verify/GNU/Linux/050_sane_recovery_check.sh
    2016-12-27 15:57:02.207958739 Entering debugscripts mode via 'set -x'.
    + source /usr/share/rear/verify/GNU/Linux/050_sane_recovery_check.sh
    ++ '[' -s /etc/scripts/system-setup ']'
    ++ StopIfError 'This it not a Relax-and-Recover rescue system.'
    ++ ((  0 != 0  ))
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.211245798 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.211245798 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.213026244 Including verify/NETFS/default/050_start_required_nfs_daemons.sh
    2016-12-27 15:57:02.214232777 Entering debugscripts mode via 'set -x'.
    + source /usr/share/rear/verify/NETFS/default/050_start_required_nfs_daemons.sh
    +++ url_scheme usb:///dev/disk/by-label/REAR-000
    +++ local url=usb:///dev/disk/by-label/REAR-000
    +++ local scheme=usb
    +++ echo usb
    +++ grep -q :
    +++ echo usb
    ++ local backup_url_scheme=usb
    ++ test nfs = usb
    ++ return
    + test 1
    + Debug 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1
    + Log 'Leaving debugscripts mode (back to previous bash flags and options settings).'
    + test 1 -gt 0
    ++ Stamp
    ++ date '+%Y-%m-%d %H:%M:%S.%N '
    + echo '2016-12-27 15:57:02.218931336 Leaving debugscripts mode (back to previous bash flags and options settings).'
    2016-12-27 15:57:02.218931336 Leaving debugscripts mode (back to previous bash flags and options settings).
    + apply_bash_flags_and_options_commands 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    + eval 'set +o xtrace;set +o vi;set +o verbose;set +o privileged;set +o posix;set +o pipefail;set +o physical;set +o onecmd;set +o nounset;set +o notify;set +o nolog;set +o noglob;set +o noexec;set +o noclobber;set +o monitor;set +o keyword;set -o interactive-comments;set +o ignoreeof;set +o history;set +o histexpand;set -o hashall;set +o functrace;set +o errtrace;set +o errexit;set +o emacs;set -o braceexpand;set +o allexport;shopt -u autocd;shopt -u cdable_vars;shopt -u cdspell;shopt -u checkhash;shopt -u checkjobs;shopt -u checkwinsize;shopt -s cmdhist;shopt -u compat31;shopt -u compat32;shopt -u compat40;shopt -u compat41;shopt -u compat42;shopt -u compat43;shopt -s complete_fullquote;shopt -u direxpand;shopt -u dirspell;shopt -u dotglob;shopt -u execfail;shopt -u expand_aliases;shopt -u extdebug;shopt -s extglob;shopt -s extquote;shopt -u failglob;shopt -s force_fignore;shopt -u globasciiranges;shopt -u globstar;shopt -u gnu_errfmt;shopt -u histappend;shopt -u histreedit;shopt -u histverify;shopt -s hostcomplete;shopt -u huponexit;shopt -u inherit_errexit;shopt -s interactive_comments;shopt -u lastpipe;shopt -u lithist;shopt -u login_shell;shopt -u mailwarn;shopt -u no_empty_cmd_completion;shopt -u nocaseglob;shopt -u nocasematch;shopt -s nullglob;shopt -s progcomp;shopt -s promptvars;shopt -u restricted_shell;shopt -u shift_verbose;shopt -s sourcepath;shopt -u xpg_echo;'
    ++ set +o xtrace
    2016-12-27 15:57:02.220739894 Including verify/NETFS/default/060_mount_NETFS_path.sh
    2016-12-27 15:57:02.221959977 Entering debugscripts mode via 'set -x'.
    + source /usr/share/rear/verify/NETFS/default/060_mount_NETFS_path.sh
    ++ mkdir -p -v /tmp/rear.WSrlzF6VG9a300H/outputfs
    mkdir: created directory '/tmp/rear.WSrlzF6VG9a300H/outputfs'
    ++ StopIfError 'Could not mkdir '\''/tmp/rear.WSrlzF6VG9a300H/outputfs'\'''
    ++ ((  0 != 0  ))
    ++ AddExitTask 'rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs >&2'
    ++ EXIT_TASKS=("$*" "${EXIT_TASKS[@]}")
    ++ Debug 'Added '\''rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs >&2'\'' as an exit task'
    ++ test 1
    ++ Log 'Added '\''rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs >&2'\'' as an exit task'
    ++ test 1 -gt 0
    +++ Stamp
    +++ date '+%Y-%m-%d %H:%M:%S.%N '
    ++ echo '2016-12-27 15:57:02.225961046 Added '\''rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs >&2'\'' as an exit task'
    2016-12-27 15:57:02.225961046 Added 'rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs >&2' as an exit task
    ++ [[ -n '' ]]
    ++ mount_url usb:///dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs
    ++ local url=usb:///dev/disk/by-label/REAR-000
    ++ local mountpoint=/tmp/rear.WSrlzF6VG9a300H/outputfs
    ++ local defaultoptions=rw,noatime
    ++ local options=rw,noatime
    ++ local mount_cmd
    ++ case $(url_scheme $url) in
    +++ url_scheme usb:///dev/disk/by-label/REAR-000
    +++ local url=usb:///dev/disk/by-label/REAR-000
    +++ local scheme=usb
    +++ echo usb
    +++ grep -q :
    +++ echo usb
    +++ url_path usb:///dev/disk/by-label/REAR-000
    +++ local url=usb:///dev/disk/by-label/REAR-000
    +++ local url_without_scheme=/dev/disk/by-label/REAR-000
    +++ echo /dev/disk/by-label/REAR-000
    ++ mount_cmd='mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'
    ++ Log 'Mounting with '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'''
    ++ test 1 -gt 0
    +++ Stamp
    +++ date '+%Y-%m-%d %H:%M:%S.%N '
    ++ echo '2016-12-27 15:57:02.229340544 Mounting with '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'''
    2016-12-27 15:57:02.229340544 Mounting with 'mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'
    ++ eval mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs
    +++ mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs
    mount: special device /dev/disk/by-label/REAR-000 does not exist
    ++ StopIfError 'Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
    ++ ((  32 != 0  ))
    ++ Error 'Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
    ++ VERBOSE=1
    ++ LogPrint 'ERROR: Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
    ++ Log 'ERROR: Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
    ++ test 1 -gt 0
    +++ Stamp
    +++ date '+%Y-%m-%d %H:%M:%S.%N '
    ++ echo '2016-12-27 15:57:02.231632812 ERROR: Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
    2016-12-27 15:57:02.231632812 ERROR: Mount command 'mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs' failed.
    ++ Print 'ERROR: Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
    ++ test 1
    ++ echo -e 'ERROR: Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
    ++ has_binary caller
    ++ for bin in $@
    ++ type caller
    ++ return 0
    ++ echo '==== Stack trace ===='
    ==== Stack trace ====
    ++ local c=0
    ++ caller 0
    ++ awk ' { l[NR]=$3":"$1" "$2 }
                             END { for (i=NR; i>0;) print "Trace "NR-i": "l[i--] }
                           '
    ++ :
    ++ caller 1
    ++ :
    ++ caller 2
    ++ :
    ++ caller 3
    ++ :
    ++ caller 4
    ++ :
    ++ caller 5
    ++ :
    ++ caller 6
    ++ :
    ++ caller 7
    Trace 0: /bin/rear:504 main
    Trace 1: /usr/share/rear/lib/recover-workflow.sh:14 WORKFLOW_recover
    Trace 2: /usr/share/rear/lib/framework-functions.sh:85 SourceStage
    Trace 3: /usr/share/rear/lib/framework-functions.sh:45 Source
    Trace 4: /usr/share/rear/verify/NETFS/default/060_mount_NETFS_path.sh:11 source
    Trace 5: /usr/share/rear/lib/global-functions.sh:286 mount_url
    Trace 6: /usr/share/rear/lib/_input-output-functions.sh:132 StopIfError
    ++ echo 'Message: Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
    Message: Mount command 'mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs' failed.
    ++ echo '== End stack trace =='
    == End stack trace ==
    ++ LogToSyslog 'ERROR: Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
    ++ logger -t rear -i 'ERROR: Mount command '\''mount -v -o rw,noatime /dev/disk/by-label/REAR-000 /tmp/rear.WSrlzF6VG9a300H/outputfs'\'' failed.'
    ++ kill -USR1 557
    +++ echo 'Aborting due to an error, check /var/log/rear/rear-debianrearuefi.log for details'
    +++ kill 557
    +++ DoExitTasks
    +++ Log 'Running exit tasks.'
    +++ test 1 -gt 0
    ++++ Stamp
    ++++ date '+%Y-%m-%d %H:%M:%S.%N '
    +++ echo '2016-12-27 15:57:02.236105126 Running exit tasks.'
    2016-12-27 15:57:02.236105126 Running exit tasks.
    +++ JOBS=($( jobs -p ))
    ++++ jobs -p
    +++ test -n ''
    +++ for task in "${EXIT_TASKS[@]}"
    +++ Debug 'Exit task '\''rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs >&2'\'''
    +++ test 1
    +++ Log 'Exit task '\''rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs >&2'\'''
    +++ test 1 -gt 0
    ++++ Stamp
    ++++ date '+%Y-%m-%d %H:%M:%S.%N '
    +++ echo '2016-12-27 15:57:02.237772670 Exit task '\''rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs >&2'\'''
    2016-12-27 15:57:02.237772670 Exit task 'rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs >&2'
    +++ eval 'rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs >&2'
    ++++ rmdir -v /tmp/rear.WSrlzF6VG9a300H/outputfs
    rmdir: removing directory, '/tmp/rear.WSrlzF6VG9a300H/outputfs'
    +++ for task in "${EXIT_TASKS[@]}"
    +++ Debug 'Exit task '\''cleanup_build_area_and_end_program'\'''
    +++ test 1
    +++ Log 'Exit task '\''cleanup_build_area_and_end_program'\'''
    +++ test 1 -gt 0
    ++++ Stamp
    ++++ date '+%Y-%m-%d %H:%M:%S.%N '
    +++ echo '2016-12-27 15:57:02.239543309 Exit task '\''cleanup_build_area_and_end_program'\'''
    2016-12-27 15:57:02.239543309 Exit task 'cleanup_build_area_and_end_program'
    +++ eval cleanup_build_area_and_end_program
    ++++ cleanup_build_area_and_end_program
    ++++ Log 'Finished in 1 seconds'
    ++++ test 1 -gt 0
    +++++ Stamp
    +++++ date '+%Y-%m-%d %H:%M:%S.%N '
    ++++ echo '2016-12-27 15:57:02.240765524 Finished in 1 seconds'
    2016-12-27 15:57:02.240765524 Finished in 1 seconds
    ++++ test 1
    ++++ LogPrint 'You should also rm -Rf /tmp/rear.WSrlzF6VG9a300H'
    ++++ Log 'You should also rm -Rf /tmp/rear.WSrlzF6VG9a300H'
    ++++ test 1 -gt 0
    +++++ Stamp
    +++++ date '+%Y-%m-%d %H:%M:%S.%N '
    ++++ echo '2016-12-27 15:57:02.241927481 You should also rm -Rf /tmp/rear.WSrlzF6VG9a300H'
    2016-12-27 15:57:02.241927481 You should also rm -Rf /tmp/rear.WSrlzF6VG9a300H
    ++++ Print 'You should also rm -Rf /tmp/rear.WSrlzF6VG9a300H'
    ++++ test 1
    ++++ echo -e 'You should also rm -Rf /tmp/rear.WSrlzF6VG9a300H'
    ++++ Log 'End of program reached'
    ++++ test 1 -gt 0
    +++++ Stamp
    +++++ date '+%Y-%m-%d %H:%M:%S.%N '
    ++++ echo '2016-12-27 15:57:02.243123101 End of program reached'
    2016-12-27 15:57:02.243123101 End of program reached
    +++ for task in "${EXIT_TASKS[@]}"
    +++ Debug 'Exit task '\''exec 8>&-'\'''
    +++ test 1
    +++ Log 'Exit task '\''exec 8>&-'\'''
    +++ test 1 -gt 0
    ++++ Stamp
    ++++ date '+%Y-%m-%d %H:%M:%S.%N '
    +++ echo '2016-12-27 15:57:02.244351602 Exit task '\''exec 8>&-'\'''
    2016-12-27 15:57:02.244351602 Exit task 'exec 8>&-'
    +++ eval 'exec 8>&-'
    ++++ exec
    +++ for task in "${EXIT_TASKS[@]}"
    +++ Debug 'Exit task '\''exec 7>&-'\'''
    +++ test 1
    +++ Log 'Exit task '\''exec 7>&-'\'''
    +++ test 1 -gt 0
    ++++ Stamp
    ++++ date '+%Y-%m-%d %H:%M:%S.%N '
    +++ echo '2016-12-27 15:57:02.245529573 Exit task '\''exec 7>&-'\'''
    2016-12-27 15:57:02.245529573 Exit task 'exec 7>&-'
    +++ eval 'exec 7>&-'
    ++++ exec
    +++ for task in "${EXIT_TASKS[@]}"
    +++ Debug 'Exit task '\'''\'''
    +++ test 1
    +++ Log 'Exit task '\'''\'''
    +++ test 1 -gt 0
    ++++ Stamp
    ++++ date '+%Y-%m-%d %H:%M:%S.%N '
    +++ echo '2016-12-27 15:57:02.246708470 Exit task '\'''\'''
    2016-12-27 15:57:02.246708470 Exit task ''
    +++ eval ''

#### <img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50">[gozora](https://github.com/gozora) commented at [2016-12-27 16:56](https://github.com/rear/rear/issues/1141#issuecomment-269352010):

Not perfect but definitely better :-)  
Once ReaR rescue/recovery system is booted edit following file:  
*/usr/share/rear/verify/NETFS/default/060\_mount\_NETFS\_path.sh* so ti
looks like this:

    # create mount point
    mkdir -p $v "$BUILD_DIR/outputfs" >&2
    StopIfError "Could not mkdir '$BUILD_DIR/outputfs'"

    AddExitTask "rmdir $v $BUILD_DIR/outputfs >&2"

    if [[ "$BACKUP_MOUNTCMD" ]] ; then
        BACKUP_URL="var://BACKUP_MOUNTCMD"
    fi

    sleep 5
    mount_url $BACKUP_URL $BUILD_DIR/outputfs $BACKUP_OPTIONS

If it doesn't help please post output of:  
`ls -al /dev/disk/by-label/ && ls -al /dev/sd*`

#### <img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50">[dwerner1](https://github.com/dwerner1) commented at [2016-12-27 17:32](https://github.com/rear/rear/issues/1141#issuecomment-269356793):

Changing the file did not help, the output was the same as above.

The directory `/dev/disk/by-label` does not exist! These folders are
available below `/dev/disk`  
`by-id`  
`by-partlabel`  
`by-partuuid`  
`by-path`  
`by-uuid`

The output of `ls -al /dev/sd*` is

`brw-rw---- 1 root disk 8, 0 Dec 27 17:07 /dev/sda`  
`brw-rw---- 1 root disk 8, 1 Dec 27 17:07 /dev/sda1`  
`brw-rw---- 1 root disk 8, 2 Dec 27 17:07 /dev/sda2`  
`brw-rw---- 1 root disk 8, 3 Dec 27 17:07 /dev/sda3`  
`brw-rw---- 1 root disk 8, 4 Dec 27 17:07 /dev/sda4`  
`brw-rw---- 1 root disk 8, 5 Dec 27 17:07 /dev/sda5`

#### <img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50">[gozora](https://github.com/gozora) commented at [2016-12-27 17:44](https://github.com/rear/rear/issues/1141#issuecomment-269358301):

Assuming */dev/sda* is your disk, what device file represents your USB ?

#### <img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50">[dwerner1](https://github.com/dwerner1) commented at [2016-12-27 17:46](https://github.com/rear/rear/issues/1141#issuecomment-269358549):

Yes, /dev/sda is the disk, /dev/sdb is the USB disk

#### <img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50">[gozora](https://github.com/gozora) commented at [2016-12-27 17:47](https://github.com/rear/rear/issues/1141#issuecomment-269358762):

hmm, so why is */dev/sdb* not listed in `ls -al /dev/sd*` output?

#### <img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50">[dwerner1](https://github.com/dwerner1) commented at [2016-12-27 17:49](https://github.com/rear/rear/issues/1141#issuecomment-269358981):

I've been asking that myself. Let me give it another shot, it's hard to
believe

#### <img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50">[gozora](https://github.com/gozora) commented at [2016-12-27 17:50](https://github.com/rear/rear/issues/1141#issuecomment-269359068):

Indeed, I'd say that Linux would recognize disk from which it was booted
...

#### <img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50">[dwerner1](https://github.com/dwerner1) commented at [2016-12-27 18:12](https://github.com/rear/rear/issues/1141#issuecomment-269361790):

Well, I still can see no `/dev/sdb` but it is definitely the USB stick
command line where I do `ls -al /dev/sd*`

I think I'll rebuild and test again.

@gozora thanks for your attention up to here!

#### <img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50">[dwerner1](https://github.com/dwerner1) commented at [2016-12-28 14:56](https://github.com/rear/rear/issues/1141#issuecomment-269487898):

I've found the reason for this - I had not enabled xHCI in the VM
settings, it's a USB 3.0 stick!

Now, `/dev/sdb` shows up

`lrwxrwxrwx 1 root root  10 Dec 28 14:26 REAR-000 -> ../../sdb2`  
`lrwxrwxrwx 1 root root  10 Dec 28 14:26 REAR-EFI -> ../../sdb1`

When I type `rear recover` it get's to the point where I could select a
backup file but the list is empty and `1) Abort` is the only possible
selection.

This is the content of the directory
`REAR-000/rear/debianrearuefi/20161228.1519`

`drwx------ 2 root root       4096 Dez 28 15:22 .`  
`drwx------ 3 root root       4096 Dez 28 15:19 ..`  
`-rw------- 1 root root 1322192312 Dez 28 15:22 2016-12-28-1519-F.tar.gz`  
`-rw------- 1 root root    8510649 Dez 28 15:22 backup.log`  
`-rw-r--r-- 1 root root   71662593 Dez 28 15:19 initrd.cgz`  
`-rw-r--r-- 1 root root    4153384 Dez  3 16:17 kernel`  
`-rw------- 1 root root     223114 Dez 28 15:19 rear-debianrearuefi.log`  
`-rw------- 1 root root       1011 Dez 28 15:19 syslinux.cfg`

A full backup exists but is not selectable. BTW, I can see no
timestamp.txt file on the USB disk, when I start the next
`rear mkbackup` another full backup is being created and still no
timestamp.txt. Last but not least - I'm being asked for a username when
the rear rescue system had booted up, chose root, but it seems to accept
any name - I'm confused about the request for a user name ...

#### <img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50">[gozora](https://github.com/gozora) commented at [2016-12-28 15:01](https://github.com/rear/rear/issues/1141#issuecomment-269488622):

Hmm, when I tried this last time all was working fine.  
Again just a guess, but @jsmeix did some patching in incremental backup
code recently, so maybe you've found some bug ;-)  
Can you try run `rear mkbackup` without:

    BACKUP_TYPE=incremental
    FULLBACKUP_OUTDATED_DAYS=7
    FULLBACKUPDAY=Mon

and check if it helps?

V.

#### <img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50">[dwerner1](https://github.com/dwerner1) commented at [2016-12-28 15:03](https://github.com/rear/rear/issues/1141#issuecomment-269488895):

Thanks for your quick reply! I'll test that right away!

BTW - I have finally learned how to post blocks of code .....

    total 1375160
    drwx------ 2 root root       4096 Dez 28 15:22 .
    drwx------ 3 root root       4096 Dez 28 15:19 ..
    -rw------- 1 root root 1322192312 Dez 28 15:22 2016-12-28-1519-F.tar.gz
    -rw------- 1 root root    8510649 Dez 28 15:22 backup.log
    -rw-r--r-- 1 root root   71662593 Dez 28 15:19 initrd.cgz
    -rw-r--r-- 1 root root    4153384 Dez  3 16:17 kernel
    -rw------- 1 root root     223114 Dez 28 15:19 rear-debianrearuefi.log
    -rw------- 1 root root       1011 Dez 28 15:19 syslinux.cfg

;-) some things take their time

#### <img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50">[dwerner1](https://github.com/dwerner1) commented at [2016-12-28 15:32](https://github.com/rear/rear/issues/1141#issuecomment-269492963):

That did the trick!

With `/etc/rear/site.conf` like this

    BACKUP=NETFS
    OUTPUT=USB
    USB_DEVICE=/dev/disk/by-label/REAR-000
    BACKUP_URL=usb:///dev/disk/by-label/REAR-000

I can select the backup from the list! There is no timestamp.txt

#### <img src="https://avatars.githubusercontent.com/u/12116358?u=1c5ba9dcee5ca3082f03029a7fbe647efd30eb49&v=4" width="50">[gozora](https://github.com/gozora) commented at [2016-12-28 15:36](https://github.com/rear/rear/issues/1141#issuecomment-269493515):

So thanks for reporting a bug! :-)  
Not sure if I'll have a time to take a look on this, but I'm quite sure
@jsmeix will (someday) ;-)

#### <img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50">[dwerner1](https://github.com/dwerner1) commented at [2016-12-28 15:41](https://github.com/rear/rear/issues/1141#issuecomment-269494312):

My pleasure! - I can stop blaming my mind for doing something stupid
..  
The missing incrementalism is not such a problem, as long as I can
select an existing backup for recovery from a list - in case of
disaster!  
It's much fun to work with rear though!

#### <img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50">[jsmeix](https://github.com/jsmeix) commented at [2016-12-30 14:01](https://github.com/rear/rear/issues/1141#issuecomment-269774723):

Since I implemented real incremental (plus differential) backup  
there is no loger a timestamp.txt file.  
All dates are now calculated from the backup file names  
like 2016-12-28-1519-F.tar.gz which is a full 'F' backup  
made on 2016-12-28 at 15:19.

Most of that happens in 070\_set\_backup\_archive.sh see  
[https://raw.githubusercontent.com/rear/rear/master/usr/share/rear/prep/NETFS/default/070\_set\_backup\_archive.sh](https://raw.githubusercontent.com/rear/rear/master/usr/share/rear/prep/NETFS/default/070_set_backup_archive.sh)

I had tested it a lot and for me incremental and differential  
backup worked well but that does of course not mean  
there cannot be a subtle bug somewhere.  
Next Monday I will have a closer look.

For now:  
Happy New Year!

#### <img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50">[dwerner1](https://github.com/dwerner1) commented at [2016-12-30 14:40](https://github.com/rear/rear/issues/1141#issuecomment-269778677):

@jsmeix

Many thanks for your attention and also a happy new year for you and
everyone involved in rear !!

#### <img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50">[jsmeix](https://github.com/jsmeix) commented at [2017-01-02 11:28](https://github.com/rear/rear/issues/1141#issuecomment-269960858):

I can reproduce  
[https://github.com/rear/rear/issues/1141\#issuecomment-269487898](https://github.com/rear/rear/issues/1141#issuecomment-269487898)

<pre>
When I type rear recover it get's to the point
where I could select a backup file but
the list is empty and 1) Abort
is the only possible selection.
</pre>

I had never tested BACKUP\_TYPE=incremental  
with BACKUP\_URL=usb:///...

I had BACKUP\_TYPE=incremental/differential  
only tested with BACKUP\_URL=nfs://  
where "rear mkbackup" results on the NFS server files like

<pre>
e205/2017-01-02-1214-F.tar.gz
e205/backup.log
e205/README
e205/rear-e205.iso
e205/rear-e205.log
e205/VERSION
</pre>

and then "rear recover" just works (at least for me).

In contrast with BACKUP\_URL=usb:/// the resulting files  
are different and then it does not work:

I use this local.conf:

<pre>
OUTPUT=USB
USB_DEVICE=/dev/disk/by-label/REAR-000
BACKUP=NETFS
BACKUP_URL=usb:///dev/disk/by-label/REAR-000
BACKUP_TYPE=incremental
FULLBACKUP_OUTDATED_DAYS=7
FULLBACKUPDAY=Mon
</pre>

I did "usr/sbin/rear -v format /dev/sdb" (I use traditional BIOS)  
and the I did "usr/sbin/rear -d -D mkbackup"

This results this files on my /dev/sdb1:

<pre>
# mount /dev/sdb1 /mnt

# find /mnt       
/mnt
/mnt/rear
/mnt/rear/syslinux.cfg
/mnt/rear/e205
/mnt/rear/e205/20170102.1135
/mnt/rear/e205/20170102.1135/syslinux.cfg
/mnt/rear/e205/20170102.1135/rear-e205.log
/mnt/rear/e205/20170102.1135/initrd.cgz
/mnt/rear/e205/20170102.1135/2017-01-02-1135-F.tar.gz
/mnt/rear/e205/20170102.1135/kernel
/mnt/rear/e205/20170102.1135/backup.log
/mnt/boot
/mnt/boot/syslinux
/mnt/boot/syslinux/cmd.c32
/mnt/boot/syslinux/chain.c32
/mnt/boot/syslinux/ls.c32
/mnt/boot/syslinux/kbdmap.c32
/mnt/boot/syslinux/extlinux.conf
/mnt/boot/syslinux/rosh.c32
/mnt/boot/syslinux/config.c32
/mnt/boot/syslinux/vesamenu.c32
/mnt/boot/syslinux/host.c32
/mnt/boot/syslinux/cat.c32
/mnt/boot/syslinux/cpuid.c32
/mnt/boot/syslinux/reboot.c32
/mnt/boot/syslinux/rear.help
/mnt/boot/syslinux/ldlinux.sys
/mnt/boot/syslinux/poweroff.com
/mnt/boot/syslinux/pci.ids
/mnt/boot/syslinux/disk.c32
/mnt/boot/syslinux/message
/mnt/boot/syslinux/lua.c32
/mnt/boot/syslinux/sysdump.c32
/mnt/boot/syslinux/hdt.c32
/mnt/boot/syslinux/menu.c32
/mnt/e205
/mnt/e205/README
/mnt/e205/rear-e205.log
/mnt/e205/.lockfile
/mnt/e205/VERSION
/mnt/lost+found
</pre>

During "rear recover" it is  
verify/USB/NETFS/default/540\_choose\_backup\_archive.sh  
where it fails to find backups in case of  
BACKUP\_TYPE=incremental/differential

As far as I see in

<pre>
git log -p --follow usr/share/rear/verify/USB/NETFS/default/540_choose_backup_archive.sh
</pre>

this file is basically the initial one from May 2011  
in particular regarding how it detects backups  
which is only files of the form 'backup.tar.gz'.

I think BACKUP\_TYPE=incremental/differential  
had never worked with BACKUP\_URL=usb:///

#### <img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50">[jsmeix](https://github.com/jsmeix) commented at [2017-01-02 11:45](https://github.com/rear/rear/issues/1141#issuecomment-269962379):

As far as I currently understand it  
usr/share/rear/verify/USB/NETFS/default/540\_choose\_backup\_archive.sh  
is only meant when there are several 'backup.tar.gz'  
in case of 'normal' BACKUP\_TYPE but it is not meant  
for BACKUP\_TYPE 'incremental' or 'differential'.

For BACKUP\_TYPE=incremental/differential the script  
usr/share/rear/prep/NETFS/default/070\_set\_backup\_archive.sh  
does all what is needed - i.e. if fills the RESTORE\_ARCHIVES  
array with the backups that need to be restored in the right  
ordering.

For me BACKUP\_TYPE=incremental with BACKUP\_URL=usb:///...  
seems to "just work" when I simply skip  
usr/share/rear/verify/USB/NETFS/default/540\_choose\_backup\_archive.sh  
with an added plain "return" command at the beginning.

Actually I added this line at the beginning of  
usr/share/rear/verify/USB/NETFS/default/540\_choose\_backup\_archive.sh

<pre>
test "incremental" = "$BACKUP_TYPE" -o "differential" = "$BACKUP_TYPE" && return
</pre>

#### <img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50">[jsmeix](https://github.com/jsmeix) commented at [2017-01-02 12:00](https://github.com/rear/rear/issues/1141#issuecomment-269963775):

For ReaR 2.0  
neither BACKUP\_TYPE 'incremental' nor 'differential'  
will work with BACKUP\_URL=usb:///...

The current implementation for BACKUP\_URL=usb:///...  
only works with full backups.

If one has BACKUP\_TYPE=incremental and one runs  
after the initial "rear mkbackup" that creates a full backup  
a subsequent "rear mkbackup" to get an incremental backup  
it does not work.

Instead of an incremental backup one gets another full  
backup on the 'usb' medium in a new directory  
so that one gets backups on the medium like

<pre>
# mount /dev/sdb1 /mnt

# find /mnt
...
/mnt/rear/e205/20170102.1135
/mnt/rear/e205/20170102.1135/syslinux.cfg
/mnt/rear/e205/20170102.1135/rear-e205.log
/mnt/rear/e205/20170102.1135/initrd.cgz
/mnt/rear/e205/20170102.1135/2017-01-02-1135-F.tar.gz
/mnt/rear/e205/20170102.1135/kernel
/mnt/rear/e205/20170102.1135/backup.log
/mnt/rear/e205/20170102.1248
/mnt/rear/e205/20170102.1248/syslinux.cfg
/mnt/rear/e205/20170102.1248/rear-e205.log
/mnt/rear/e205/20170102.1248/initrd.cgz
/mnt/rear/e205/20170102.1248/2017-01-02-1248-F.tar.gz
/mnt/rear/e205/20170102.1248/kernel
/mnt/rear/e205/20170102.1248/backup.log
...
</pre>

In contrast with BACKUP\_URL=nfs://  
one gets on the NFS server files like

<pre>
2017-01-02-1214-F.tar.gz
2017-01-02-1259-I.tar.gz
backup.log
README
rear-e205.iso
rear-e205.log
VERSION
</pre>

#### <img src="https://avatars.githubusercontent.com/u/6715683?v=4" width="50">[dwerner1](https://github.com/dwerner1) commented at [2017-01-02 12:04](https://github.com/rear/rear/issues/1141#issuecomment-269964164):

I just added the line

`test "incremental" = "$BACKUP_TYPE" -o "differential" = "$BACKUP_TYPE" && return`

at the beginning of the file
`usr/share/rear/verify/USB/NETFS/default/540_choose_backup_archive.sh`

and had exactly the result you just posted ;-)

#### <img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50">[jsmeix](https://github.com/jsmeix) commented at [2017-01-02 12:54](https://github.com/rear/rear/issues/1141#issuecomment-269968920):

With  
[https://github.com/rear/rear/issues/1145](https://github.com/rear/rear/issues/1145)  
and  
[https://github.com/rear/rear/pull/1146](https://github.com/rear/rear/pull/1146)  
I consider this issue to be sufficiently handled  
so that I close it hereby.

Further comments should be done in  
[https://github.com/rear/rear/issues/1145](https://github.com/rear/rear/issues/1145)

------------------------------------------------------------------------

\[Export of Github issue for
[rear/rear](https://github.com/rear/rear).\]
