# [\#3507 Issue](https://github.com/rear/rear/issues/3507) `closed`: Why is ReaR formating/deleting other drives drive/partition than the system/bootdrive?

**Labels**: `support / question`

#### <img src="https://avatars.githubusercontent.com/u/2803254?v=4" width="50">[Hausmarke](https://github.com/Hausmarke) opened issue at [2025-08-07 10:29](https://github.com/rear/rear/issues/3507):

### Requesting support or just a question

How to disable the change made on any other drive than the
system/bootdrive?

### Platform

Linux x64

### Output

While testing on a server with mutliple storage devices  
besides the boot/system disc I found out that per default  
ReaR formats/cleans not only the boot/system drive  
but also any other drives/partitions which where only mounted/

ur of RearR when it comes to recover a system with a system/boot drive  
and multiple other physical drives/partitions...  
ReaR formats them during recover and destroys all the data...  
Why?  
I mean these drives could handle some data  
which is not important to the Recover?  
But they could be very important for the running system  
when you think of File/Sambaserver...  
-&gt; Is there a way that ReaR will only(!!!) format/write (do
wathever)  
on the system, boot-device and let any other possible drive untouched?

### Additional information

I have a test system where i excluded under BACKUP\_PROG\_EXCLUDE  
some of my Symlinks to other drives in the system  
(btw - why would/should ReaR also backup these drives?!?).  
After recovering i was stunned that RaeR had formated/deleted  
these drives before linking them in again... again - why?

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2025-08-07 12:13](https://github.com/rear/rear/issues/3507#issuecomment-3163935204):

@Hausmarke Can you paste your ReaR configuration
(`/etc/rear/local.conf`)? And, also the output of
`lsblk -ipo NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,LABEL,SIZE,MOUNTPOINT`

#### <img src="https://avatars.githubusercontent.com/u/2803254?v=4" width="50">[Hausmarke](https://github.com/Hausmarke) commented at [2025-08-07 12:25](https://github.com/rear/rear/issues/3507#issuecomment-3163970545):

    OUTPUT=ISO
    OUTPUT_URL=cifs://xxx.xxx.xxxx.xxx/bootimages/
    OUTPUT_OPTIONS="cred=/etc/rear/cifs-boot"
    BACKUP=NETFS
    BACKUP_URL=cifs://xxx.xxx.xxx.xxx/Images-mns/
    BACKUP_OPTIONS="cred=/etc/rear/cifs-backup"
    BACKUP_PROG_EXCLUDE=("${BACKUP_PROG_EXCLUDE[@]}" '/var/tmp' '/var/crash' '/14TB/*' '/5TB/*')

lsblk -ipo NAME,KNAME,PKNAME,TRAN,TYPE,FSTYPE,LABEL,SIZE,MOUNTPOINT

    NAME        KNAME     PKNAME   TRAN   TYPE FSTYPE  LABEL      SIZE MOUNT
    /dev/sda    /dev/sda           sata   disk                  223.6G
    |-/dev/sda1 /dev/sda1 /dev/sda        part                      1M
    `-/dev/sda2 /dev/sda2 /dev/sda        part ext4             223.6G /
    /dev/sdb    /dev/sdb           sata   disk                  931.5G
    `-/dev/sdb1 /dev/sdb1 /dev/sdb        part ntfs    1tbRed   931.5G
    /dev/sdc    /dev/sdc           sata   disk                   12.7T
    `-/dev/sdc1 /dev/sdc1 /dev/sdc        part ext4              12.7T /14TB
    /dev/sdd    /dev/sdd           sata   disk                    4.5T
    `-/dev/sdd1 /dev/sdd1 /dev/sdd        part ext4               4.5T /5TB
    /dev/sr0    /dev/sr0           usb    rom  iso9660 REAR-ISO   751M
    `

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2025-08-07 12:38](https://github.com/rear/rear/issues/3507#issuecomment-3164011027):

@Hausmarke

Use the appropriate syntax to exclude the component. For example, add
`EXCLUDE_COMPONENTS` to `/etc/rear/local.conf` file:

To exclude a mounted filesystem:
`EXCLUDE_COMPONENTS=( "fs:/mnt/data" )`  
To exclude a swap partition: `EXCLUDE_COMPONENTS=( "swap:/dev/sdb1" )`  
To exclude a partition: `EXCLUDE_COMPONENTS=( "/dev/sdb2" )`  
You can exclude multiple components by separating them with spaces:
`EXCLUDE_COMPONENTS=( "fs:/mnt/data" "swap:/dev/sdb1" "/dev/sdb2" )`

#### <img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50">[pcahyna](https://github.com/pcahyna) commented at [2025-08-07 12:45](https://github.com/rear/rear/issues/3507#issuecomment-3164035717):

> While testing on a server with mutliple storage devices besides the
> boot/system disc I found out that per default ReaR formats/cleans not
> only the boot/system drive but also any other drives/partitions which
> where only mounted/

> ReaR formats them during recover and destroys all the data...  
> Why? I mean these drives could handle some data which is not important
> to the Recover?

ReaR needs to format them in order to recreate what was on them. If you
don't want them to be recreated, you need to exclude them from being
saved, for example using the syntax that @gdha has shown. Check your
`/var/lib/rear/layout/disklayout.conf` that gets created by
`rear mkbackup` or `rear savelayout` or `rear mkrescue` to see what gets
included in the layout (and thus will be recreated).

#### <img src="https://avatars.githubusercontent.com/u/2803254?v=4" width="50">[Hausmarke](https://github.com/Hausmarke) commented at [2025-08-07 17:17](https://github.com/rear/rear/issues/3507#issuecomment-3165095185):

I want only to recreate all the mounted filesystem/symlinks without
changing anything in it... i want the same behavior like when i backup
and restore via clonezilla.

If i exclude for example my 3 partitions "/dev/sdb" "/dev/sdc"
"/dev/sdd" will ReaR still mount the "old" filesystem on it?

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2025-08-11 08:53](https://github.com/rear/rear/issues/3507#issuecomment-3173815368):

@Hausmarke

> I want only to recreate all the mounted filesystem/symlinks without
> changing anything in it... i want the same behavior like when i backup
> and restore via clonezilla.
>
> If i exclude for example my 3 partitions "/dev/sdb" "/dev/sdc"
> "/dev/sdd" will ReaR still mount the "old" filesystem on it?

ReaR will only recreate the devices/file systems which are saved in the
`/var/lib/rear/layout/disklayout.conf` file. After a ReaR recovery it
will mount again what is mentioned in the `/etc/fstab` file.

#### <img src="https://avatars.githubusercontent.com/u/3919561?u=473291dd3dbd58fd0af45714935992a3d416aa6e&v=4" width="50">[abbbi](https://github.com/abbbi) commented at [2025-08-12 19:54](https://github.com/rear/rear/issues/3507#issuecomment-3180814509):

only reformatting drives which do not already have the same partition
information and/or filesystem on them might make sense. If only one
partition is broken, why format all of them during recover? I think that
is what OP means.

On the oder side a filesysystem can be broken in subtle ways and
detection mechanism is hard to implement, ruling out all  
the corner cases. You might consider removing the known-to-be-good
partitions from the disklayout.conf during recovery to archive your
goal.

#### <img src="https://avatars.githubusercontent.com/u/2803254?v=4" width="50">[Hausmarke](https://github.com/Hausmarke) commented at [2025-08-12 20:19](https://github.com/rear/rear/issues/3507#issuecomment-3180898188):

> only reformatting drives which do not already have the same partition
> information and/or filesystem on them might make sense. If only one
> partition is broken, why format all of them during recover? I think
> that is what OP means.

Exactly - in my opinion this formatting all physical drives should not
be the default option - it should be an extra feature. Lets face it a
disaster at a server is a problem with the system/bootdrive and not with
some datadrive. A datadrive should be controlled and backuped with
different tools at a different stage.

It would be cool if there where an simple command line option for ReaR
to enable this -now- default behavior of deleting and empty rebuilding
of any other drives beside the really important boot/systemdrives.  
In my case with my bunch of fileservers recovering all in all more than
2PB would take way, way much more time and work than reconfigurating the
Samba, scripts, rsync, rclone, ssh,...

------------------------------------------------------------------------

\[Export of Github issue for
[rear/rear](https://github.com/rear/rear).\]
