# [\#3517 Issue](https://github.com/rear/rear/issues/3517) `open`: sftp server support in rescue broken - propose to remove it

**Labels**: `bug`

#### <img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50">[pcahyna](https://github.com/pcahyna) opened issue at [2025-09-03 09:57](https://github.com/rear/rear/issues/3517):

### ReaR version

Relax-and-Recover 2.9 / 2025-01-31

### Describe the ReaR bug in detail

sftp to the rescue system does not work, even if ssh does.

The problem with `PROGS` is that it ignores the path (even if the
program gets specified by its absolute path) and copies the program to
`/usr/bin` - but sshd need the helper at exactly the same path as on the
original system, as it invokes the helper via its full path (not $PATH).
This behavior of `PROGS` is arguably something that should be changed
and `PROGS` should use an absolute path as target if provided.

This is fatal for sftp, as the `sftp-server` gets also copied to
`/usr/bin` instead to its correct path, but sshd refers to it by its
full path.

Similar code has been here since the beginning of the git history
(2009), so I wonder whether the sftp part has ever worked and thus I
would prefer to remove it instead of fixing it.

### Platform

Linux x64

### OS version

NAME="Red Hat Enterprise Linux" VERSION="10.1 (Coughlan)" ID="rhel"
ID\_LIKE="centos fedora" VERSION\_ID="10.1" PLATFORM\_ID="platform:el10"
PRETTY\_NAME="Red Hat Enterprise Linux 10.1 Beta (Coughlan)"
ANSI\_COLOR="0;31" LOGO="fedora-logo-icon"
CPE\_NAME="cpe:/o:redhat:enterprise\_linux:10.1"
HOME\_URL="[https://www.redhat.com/"](https://www.redhat.com/")
VENDOR\_NAME="Red Hat"
VENDOR\_URL="[https://www.redhat.com/"](https://www.redhat.com/")
DOCUMENTATION\_URL="[https://access.redhat.com/documentation/en-us/red\_hat\_enterprise\_linux/10"](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/10")
BUG\_REPORT\_URL="[https://issues.redhat.com/"](https://issues.redhat.com/")
REDHAT\_BUGZILLA\_PRODUCT="Red Hat Enterprise Linux 10"
REDHAT\_BUGZILLA\_PRODUCT\_VERSION=10.1 REDHAT\_SUPPORT\_PRODUCT="Red
Hat Enterprise Linux" REDHAT\_SUPPORT\_PRODUCT\_VERSION="10.1 Beta"

### Backup

*No response*

### Storage layout

*No response*

### What steps will reproduce the bug?

sftp to a running rescue system:

    $ sftp root@...
    Warning: Permanently added ... to the list of known hosts.
    Connection closed.
    Connection closed

### Workaround, if any

*No response*

### Additional information

*No response*

#### <img src="https://avatars.githubusercontent.com/u/26300485?u=9105d243bc9f7ade463a3e52e8dd13fa67837158&v=4" width="50">[pcahyna](https://github.com/pcahyna) commented at [2025-09-03 11:10](https://github.com/rear/rear/issues/3517#issuecomment-3248791208):

originally from \#3510

------------------------------------------------------------------------

\[Export of Github issue for
[rear/rear](https://github.com/rear/rear).\]
