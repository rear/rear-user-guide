[\#1907 Issue](https://github.com/rear/rear/issues/1907) `closed`: Volume group support and libraries issue in recovery system with NBU backup
==============================================================================================================================================

**Labels**: `bug`, `support / question`, `fixed / solved / done`,
`external tool`

#### <img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50">[samurdhi](https://github.com/samurdhi) opened issue at [2018-08-27 02:45](https://github.com/rear/rear/issues/1907):

#### Relax-and-Recover (ReaR) Issue Template

Fill in the following items before submitting a new issue  
(quick response is not guaranteed with free support):

-   ReaR version ("/usr/sbin/rear -V"):  
    rear 2.4

-   OS version ("cat /etc/rear/os.conf" or "lsb\_release -a" or "cat
    /etc/os-release"):

RHEL 7.4

In my system, there are 2 hard disks are attached. RootVG created on
first hard disk(sda) and data VG used to store log files. So I don't
want rear to backup data VG. Since this is 2nd hard disk(sdb) I prefer
rear not to format and recreate VG,LV again. Which parameters should I
include into local.conf file to archive this requirement.

Please advice

/dev/sda  
/dev/sdb

\[root@localhost /\]\# pvs  
PV VG Fmt Attr PSize PFree  
/dev/sda2 rootvg lvm2 a-- &lt;465.26g 4.00m  
/dev/sdb1 data lvm2 a-- &lt;465.26g 4.00m

-   Work-around, if any:

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2018-08-28 12:15](https://github.com/rear/rear/issues/1907#issuecomment-416561801):

See the `/usr/share/rear/conf/default.conf` file and look for
`ONLY_INCLUDE_VG`.  
Define this in `/etc/rear/local.conf` file as:

    ONLY_INCLUDE_VG=( "rootvg" )

#### <img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50">[samurdhi](https://github.com/samurdhi) commented at [2018-08-28 12:51](https://github.com/rear/rear/issues/1907#issuecomment-416572458):

Thanks, @gdha

After recovering my system, Will automatically mount my data VG
(/dev/sdb1 data ) logical volumes right?  
That means rear does not touch my second hard disk?

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2018-08-28 13:10](https://github.com/rear/rear/issues/1907#issuecomment-416578030):

@samurdhi indeed that is correct, but make a backup copy before doing
any experiments, ok?

#### <img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50">[samurdhi](https://github.com/samurdhi) commented at [2018-08-28 13:55](https://github.com/rear/rear/issues/1907#issuecomment-416593115):

@gdha Thank you so much for the support.

#### <img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50">[samurdhi](https://github.com/samurdhi) commented at [2018-08-28 14:41](https://github.com/rear/rear/issues/1907#issuecomment-416611964):

@gdha, I got a issue while I'm trying to make REAR ISO,

I changed "BACKUP=NBU" to NBU and executed "rear -dv mkrescue "

Then I got the following errors.

<pre>
Relax-and-Recover elax-and-Recover 2.4 / 2018-06-21
Using log file: /var/log/rear/rear-storm.log
WARNING: Netbackup bplist check failed with error code 0.
See /var/log/rear/rear-storm.log for more details.
Creating disk layout
Using guessed bootloader 'GRUB' (found in first bytes on /dev/sda)
Creating root filesystem layout
Handling network interface 'eno1'
eno1 is a physical device
Handled network interface 'eno1'
To log into the recovery system via ssh set up /root/.ssh/authorized_keys or specify SSH_ROOT_PASSWORD
Copying logfile /var/log/rear/rear-storm.log into initramfs as '/tmp/rear-storm-partial-2018-08-28T10:31:31-0400.log'
Copying files and directories
Copying binaries and libraries
Failed to copy '/lib/ld64.so.1'
Copying kernel modules
Copying all files in /lib*/firmware/
There are binaries or libraries in the ReaR recovery system that need additional libraries
/usr/openv/lib/libnbservice.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxPBXIOPST.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libnbtelemetry.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libsthMT.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libstspinbostpxyMT.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxTAO_CosNaming.so.6 requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libpioracle.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxicui18nST.so.6_new requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxTAO_Messaging.so.6 requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libxmMT.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvrtsLogRead.so.3 requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxTAO_SecurityST.so.6 requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libscsitool.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libfi_VMware.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libfiST.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libpiunix.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxTAO_CosNamingST.so.6 requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libdmpclaim.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found

[root@storm spare]# vim error.txt 
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxTAO_CosNamingST.so.6 requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libdmpclaim.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.7 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvdes40.so requires additional libraries
        libstdc++.so.6 => not found
/usr/openv/lib/libvdes56.so requires additional libraries
        libstdc++.so.6 => not found
/usr/openv/lib/libcatbackupMT.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxTAO_CosNotification.so.6 requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libbpora64.so.9.0 requires additional libraries
        libstdc++.so.6 => not found
/usr/openv/lib/libstspinbostpxy.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxPBXCommon.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libfiprocessbackups.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libnbclientST.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxACEST.so.6_new requires additional libraries
        libstdc++.so.6 => not found
/usr/openv/lib/libfi_remote_vxfs.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libfiprocessbackupsST.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libnbfs.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libnbjson.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxACEXML_Parser.so.6 requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxicuioST.so.6_new requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libnbbaseST.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvrtsLogFormatMsgST.so.3_new requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libficmn_4_4ST.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxTAO_BiDirGIOP.so.6 requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxxml4cST.so.6 requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxACE.so.6 requires additional libraries
        libstdc++.so.6 => not found
/usr/openv/lib/libvxPBXIOP.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/shared/vddk/lib64/libvixMntapi.so.1.1.0 requires additional libraries
        libfuse.so.2 => not found
/usr/openv/lib/libvxTAO_IORTable.so.6 requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libnbjni.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libfi_auto.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxTAO_DynamicAnyST.so.6 requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvfutil.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libVmangle.so requires additional libraries
        libstdc++.so.6 => not found
/usr/openv/lib/libvxPBXCommonST.so requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxTAO_DynamicAny.so.6 requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/lib/libvxlisST.so.3_new requires additional libraries
        libstdc++.so.6 => not found
/usr/openv/lib/libvxTAO_CosNotificationST.so.6 requires additional libraries
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
                                                                                                                                    569,2-9       11%
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/netbackup/bin/nbftclnt requires additional libraries (fatal error)
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
        libstdc++.so.6 => not found
/usr/openv/netbackup/bin/nbliveup requires additional libraries (fatal error)
        libstdc++.so.6 => not found
/usr/openv/netbackup/baremetal/server/data/discoverDevices.linuxS_x86 requires additional libraries
        libstdc++.so.6 => not found
/usr/openv/netbackup/baremetal/server/data/discoverDevices.linuxR_x86 requires additional libraries
        libstdc++.so.6 => not found
/usr/lib/udev/rename_device requires additional libraries
        libglib-2.0.so.0 => not found
/usr/lib/udev/udev-kvm-check requires additional libraries
        libglib-2.0.so.0 => not found
ERROR: ReaR recovery system in '/tmp/rear.tKUghx0lUR2Zj09/rootfs' not usable
Aborting due to an error, check /var/log/rear/rear-storm.log for details
Exiting rear mkrescue (PID 389) and its descendant processes
Running exit tasks
You should also rm -Rf /tmp/rear.tKUghx0lUR2Zj09
</pre>

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2018-08-29 06:19](https://github.com/rear/rear/issues/1907#issuecomment-416837916):

@samurdhi in which path are those missing libraries?

#### <img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50">[samurdhi](https://github.com/samurdhi) commented at [2018-08-29 12:28](https://github.com/rear/rear/issues/1907#issuecomment-416934524):

From where can I get the path of these libraries(rear log file) ?

Because I can see error messaged (as I commented above in my
thread)while trying to generate rescue iso .

#### <img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50">[samurdhi](https://github.com/samurdhi) commented at [2018-08-29 13:08](https://github.com/rear/rear/issues/1907#issuecomment-416946336):

@gdha From where can I get the path of these libraries(rear log file) ?

Because I can see error messaged (as I commented above in my
thread)while trying to generate rescue iso.

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2018-08-29 13:40](https://github.com/rear/rear/issues/1907#issuecomment-416957328):

@samurdhi use the `find / -name "libstdc++.so*"` command, and do the
same for libglib-2.0.so

#### <img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50">[samurdhi](https://github.com/samurdhi) commented at [2018-08-29 13:47](https://github.com/rear/rear/issues/1907#issuecomment-416959740):

@gdha

<pre>
[root@storm yum.repos.d]# find / -name "libstdc++.so*"
/usr/lib64/libstdc++.so.6
/usr/lib64/libstdc++.so.6.0.19
/usr/openv/lib/shared/vddk/lib64/libstdc++.so.6
/usr/openv/lib/shared/vddk/lib64/libstdc++.so.6.0.13
/usr/lib/gcc/x86_64-redhat-linux/4.8.2/32/libstdc++.so
/usr/lib/gcc/x86_64-redhat-linux/4.8.2/libstdc++.so
/usr/share/gdb/auto-load/usr/lib64/libstdc++.so.6.0.19-gdb.pyo
/usr/share/gdb/auto-load/usr/lib64/libstdc++.so.6.0.19-gdb.py
/usr/share/gdb/auto-load/usr/lib64/libstdc++.so.6.0.19-gdb.pyc
/tmp/rear.WxNV1G6e1ukvXNR/rootfs/usr/openv/lib/shared/vddk/lib64/libstdc++.so.6
/tmp/rear.WxNV1G6e1ukvXNR/rootfs/usr/openv/lib/shared/vddk/lib64/libstdc++.so.6.0.13
/tmp/rear.zYAqmQDh51PGwZ5/rootfs/usr/openv/lib/shared/vddk/lib64/libstdc++.so.6
/tmp/rear.zYAqmQDh51PGwZ5/rootfs/usr/openv/lib/shared/vddk/lib64/libstdc++.so.6.0.13
/tmp/rear.64fou7h9NcB2ron/rootfs/usr/openv/lib/shared/vddk/lib64/libstdc++.so.6
/tmp/rear.64fou7h9NcB2ron/rootfs/usr/openv/lib/shared/vddk/lib64/libstdc++.so.6.0.13
/tmp/rear.tKUghx0lUR2Zj09/rootfs/usr/openv/lib/shared/vddk/lib64/libstdc++.so.6
/tmp/rear.tKUghx0lUR2Zj09/rootfs/usr/openv/lib/shared/vddk/lib64/libstdc++.so.6.0.13
</pre>

<pre>
[root@storm yum.repos.d]# find / -name "libglib-2.0.so*"
/usr/lib64/libglib-2.0.so.0.5000.3
/usr/lib64/libglib-2.0.so.0
/usr/openv/lib/shared/vddk/lib64/libglib-2.0.so.0
/tmp/rear.WxNV1G6e1ukvXNR/rootfs/usr/openv/lib/shared/vddk/lib64/libglib-2.0.so.0
/tmp/rear.pCeF4udTCZ1L7d0/rootfs/usr/lib64/libglib-2.0.so.0.5000.3
/tmp/rear.pCeF4udTCZ1L7d0/rootfs/usr/lib64/libglib-2.0.so.0
/tmp/rear.zYAqmQDh51PGwZ5/rootfs/usr/openv/lib/shared/vddk/lib64/libglib-2.0.so.0
/tmp/rear.64fou7h9NcB2ron/rootfs/usr/openv/lib/shared/vddk/lib64/libglib-2.0.so.0
/tmp/rear.tKUghx0lUR2Zj09/rootfs/usr/openv/lib/shared/vddk/lib64/libglib-2.0.so.0
</pre>

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2018-08-29 14:22](https://github.com/rear/rear/issues/1907#issuecomment-416971760):

@samurdhi the required library paths are not taken in account when the
rootfs is being examed. That is the reason why it fails.  
We should enhance ReaR here and there to get that right. You are using
version 2.4. We will not fix it for that release (only for customers
with a support contract).  
However, we will enhance the upstream (master) version of ReaR in the
coming days.

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2018-08-29 15:20](https://github.com/rear/rear/issues/1907#issuecomment-416993040):

Probably we do not need all of these libraries?

    #-> find /usr/openv/ -name "lib*so" -exec dirname {} \; | sort -u
    /usr/openv/java/jre/lib/amd64
    /usr/openv/java/jre/lib/amd64/jli
    /usr/openv/java/jre/lib/amd64/server
    /usr/openv/lib
    /usr/openv/lib/lib32
    /usr/openv/lib/map
    /usr/openv/lib/map/rvp
    /usr/openv/lib/ost-plugins
    /usr/openv/lib/ost-plugins/zapi
    /usr/openv/lib/shared/vddk/lib64
    /usr/openv/lib/vxfi/providers
    /usr/openv/netbackup/bin
    /usr/openv/netbackup/sec/at/lib
    /usr/openv/pdde/pdopensource/lib
    /usr/openv/pdde/pdopensource/lib/engines
    /usr/openv/pdde/pdshared/lib

#### <img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50">[samurdhi](https://github.com/samurdhi) commented at [2018-08-29 16:01](https://github.com/rear/rear/issues/1907#issuecomment-417007069):

@gdha

<pre>
[root@storm ~]# find /usr/openv/ -name "lib*so" -exec dirname {} \; | sort -u
/usr/openv/java/jre/lib/amd64
/usr/openv/java/jre/lib/amd64/jli
/usr/openv/java/jre/lib/amd64/server
/usr/openv/lib
/usr/openv/lib/lib32
/usr/openv/lib/map
/usr/openv/lib/map/rvp
/usr/openv/lib/ost-plugins
/usr/openv/lib/ost-plugins/zapi
/usr/openv/lib/shared/vddk/lib64
/usr/openv/lib/vxfi/providers
/usr/openv/netbackup/bin
/usr/openv/netbackup/sec/at/lib
/usr/openv/pdde/pdopensource/lib
/usr/openv/pdde/pdopensource/lib/engines
/usr/openv/pdde/pdshared/lib
</pre>

#### <img src="https://avatars.githubusercontent.com/u/42346075?v=4" width="50">[babadem13](https://github.com/babadem13) commented at [2018-09-17 13:22](https://github.com/rear/rear/issues/1907#issuecomment-422013583):

Hi @gdha  
I have the same Issue with these additional libraries:

<pre>
There are binaries or libraries in the ReaR recovery system that need additional libraries
/usr/openv/netbackup/baremetal/server/data/discoverDevices.linuxS_x86_32 requires additional libraries
        libstdc++.so.5 => not found   (I have libstdc++.so.6)
/usr/openv/lib/libnbbaseST32.so requires additional libraries
        libvxACEST.so.6 => not found
        libvxcPBXST.so => not found
/usr/openv/lib/libnbclientST32.so requires additional libraries
        libvxACEST.so.6 => not found
        libvxcPBXST.so => not found
        libvxACEST.so.6 => not found
        libvxcPBXST.so => not found
/usr/openv/lib/shared/vddk/lib64/libvixMntapi.so.1.1.0 requires additional libraries
        libfuse.so.2 => not found
</pre>

These libraries are already installed:

<pre>
for i in libstdc++.so.5 libvxACEST.so.6 libvxcPBXST.so libfuse.so.2; do find / -iname *$i*; done
/usr/openv/lib/libvxACEST.so.6
/usr/openv/lib/libvxcPBXST.so
</pre>

I have created a file /etc/ld.so.con.d/rear.conf with this content,
because there were many other libraries, that arent found:

<pre>
/usr/openv/lib/shared/vddk/lib64/
/usr/openv/lib
/usr/lib64
/usr/lib
/lib64
/lib
</pre>

I have also tried the new function
"NON\_FATAL\_BINARIES\_WITH\_MISSING\_LIBRARY=", but without success.

I'm using rear 2.4 on a RHEL 7.5 Machine with the backup strategie NBU

Thanks,  
Regards

#### <img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50">[jsmeix](https://github.com/jsmeix) commented at [2018-09-18 07:16](https://github.com/rear/rear/issues/1907#issuecomment-422281884):

See the NON\_FATAL\_BINARIES\_WITH\_MISSING\_LIBRARY  
documentation in default.conf e.g. for our current ReaR upstream code
at  
[https://raw.githubusercontent.com/rear/rear/master/usr/share/rear/conf/default.conf](https://raw.githubusercontent.com/rear/rear/master/usr/share/rear/conf/default.conf)  
that reads (excerpt)

<pre>
In general the right solution when 'ldd' reports
a 'not found' library is to use the generic config
variables COPY_AS_IS REQUIRED_PROGS and LIBS to get
actually missing stuff into the ReaR rescue/recovery
system or for external/third-party backup programs
the specific config variables like COPY_AS_IS_TSM
COPY_AS_IS_BORG COPY_AS_IS_YUM and others.
</pre>

E.g. for BACKUP=NBU there is COPY\_AS\_IS\_NBU,  
see default.conf.

#### <img src="https://avatars.githubusercontent.com/u/42346075?v=4" width="50">[babadem13](https://github.com/babadem13) commented at [2018-09-18 08:40](https://github.com/rear/rear/issues/1907#issuecomment-422307690):

Hi @jsmeix

Thank you, but I've tried it out and get the same "not
founded"-libraries:

local.conf:

<pre>
LIBS=( /usr/openv/lib/libvxACEST.so.6 /usr/openv/lib/libvxcPBXST.so )
</pre>

local.conf:

<pre>
COPY_AS_IS_NBU=( /usr/openv/bin/vnetd /usr/openv/bin/vopied /usr/openv/lib /usr/openv/netbackup /usr/openv/var/auth/[mn]*.txt /usr/openv/lib/libvxACEST.so.6 /usr/openv/lib/libvxcPBXST.so )
</pre>

#### <img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50">[jsmeix](https://github.com/jsmeix) commented at [2018-09-18 10:20](https://github.com/rear/rear/issues/1907#issuecomment-422338473):

@babadem13  
I suggest to get in contact with your Symantec NetBackup vendor  
or your Symantec NetBackup support contact so that they can  
have a look how their software loads their particular libraries  
and help to adapt and enhance the Symantec NetBackup support  
in ReaR so that things "just work" in ReaR for BACKUP=NBU.

I am not a Symantec NetBackup user so that I cannot reproduce anything  
or even fix anything that is specific for Symantec NetBackup.

In particular I do not have any proprietary third-party backup tool.

In general I do not use any of the third-party backup tools  
so that in general I can neither reproduce any issue nor fix  
or enhance things that are related to third-party backup tools.

As a questionable "workaround" for now you may disable  
the ldd test in usr/share/rear/build/default/980\_verify\_rootfs.sh

Perhaps you could even enhance that ldd test  
to make it also work for Symantec NetBackup.

There is already some special case handling for that ldd test for the  
third-party backup tools "TSM" and "SESAM", see the current code in  
[https://raw.githubusercontent.com/rear/rear/master/usr/share/rear/build/default/980\_verify\_rootfs.sh](https://raw.githubusercontent.com/rear/rear/master/usr/share/rear/build/default/980_verify_rootfs.sh)

Perhaps also Symantec NetBackup needs a special LD\_LIBRARY\_PATH  
setting so that ldd can find its special libraries?

#### <img src="https://avatars.githubusercontent.com/u/42346075?v=4" width="50">[babadem13](https://github.com/babadem13) commented at [2018-09-18 10:41](https://github.com/rear/rear/issues/1907#issuecomment-422344741):

Hi @jsmeix

Thank you for your reply.  
I thought it is an issue from ReaR, because with ReaR 2.00 the mkrescue
works without an error. But I will try the workaround.  
Thank you very much.

Kind regards.

#### <img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50">[jsmeix](https://github.com/jsmeix) commented at [2018-09-18 11:33](https://github.com/rear/rear/issues/1907#issuecomment-422358135):

That ldd test exists since ReaR version 2.3  
see the ReaR version 2.3 release notes e.g. at  
[http://relax-and-recover.org/documentation/release-notes-2-3](http://relax-and-recover.org/documentation/release-notes-2-3)  
that also tells briefly about the reason behind  
and for more details see  
[https://github.com/rear/rear/pull/1514](https://github.com/rear/rear/pull/1514)  
and the other issues mentioned therein, in particular  
[https://github.com/rear/rear/issues/1494](https://github.com/rear/rear/issues/1494)

#### <img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50">[jsmeix](https://github.com/jsmeix) commented at [2018-09-28 07:30](https://github.com/rear/rear/issues/1907#issuecomment-425348191):

@gdha I set the ReaR v2.5 milestone because of your  
[https://github.com/rear/rear/issues/1907\#issuecomment-416971760](https://github.com/rear/rear/issues/1907#issuecomment-416971760)

#### <img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50">[jsmeix](https://github.com/jsmeix) commented at [2018-10-19 08:23](https://github.com/rear/rear/issues/1907#issuecomment-431285132):

@gdha  
I have a question regarding your  
[https://github.com/rear/rear/issues/1907\#issuecomment-416971760](https://github.com/rear/rear/issues/1907#issuecomment-416971760)  
where you wrote

<pre>
the required library paths are not taken in account
when the rootfs is being examed.
That is the reason why it [the ldd test] fails.
We should enhance ReaR here and there to get that right. 
</pre>

I do not understand what needs to be enhanced here in ReaR  
because as far as I see we do already all needed things  
to get the libraries together with the dynamic linker config  
into the recovery system, see  
[https://github.com/rear/rear/issues/1927\#issuecomment-429780453](https://github.com/rear/rear/issues/1927#issuecomment-429780453)

When then the `ldd` test in the recovery system fails,  
it means - as far as I can imagine - that the dynamic linker config  
on the original system would be already broken and that is  
something that ReaR cannot fix (ReaR must never ever change  
the original system - `GRUB_RESCUE` is the only bad exception).

What would indicate that something is actually not yet right  
when we make the recovery system is when the `ldd` test  
works in the original system but fails in the revovery system.

Known cases where the `ldd` test only fails in the recovery system  
are third-party backup tools that use non-standard ways how they get  
their required libraries, usually via LD\_LIBRARY\_PATH settings.  
In such special cases some more of exceptional code is needed  
in usr/share/rear/build/default/980\_verify\_rootfs.sh cf.  
[https://github.com/rear/rear/issues/1907\#issuecomment-422338473](https://github.com/rear/rear/issues/1907#issuecomment-422338473)

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2018-10-19 08:34](https://github.com/rear/rear/issues/1907#issuecomment-431288018):

@jsmeix I was referring to the NBU paths which are missing (remember a
similar issue was fixed for TSM by @schabrolles). I have no critic on
your `ldd` search functions as these work fine. Perhaps, I should be
more clear in my communication?

#### <img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50">[jsmeix](https://github.com/jsmeix) commented at [2018-10-19 09:43](https://github.com/rear/rear/issues/1907#issuecomment-431307330):

@gdha  
no worries and thank you for the clarification!  
I think the TSM issues were  
[https://github.com/rear/rear/issues/1688](https://github.com/rear/rear/issues/1688)  
[https://github.com/rear/rear/issues/1533](https://github.com/rear/rear/issues/1533)  
plus their associated pull requests.

@babadem13  
I have a question regarding your  
[https://github.com/rear/rear/issues/1907\#issuecomment-422013583](https://github.com/rear/rear/issues/1907#issuecomment-422013583)  
where you wrote

<pre>
I have created a file /etc/ld.so.con.d/rear.conf with this content,
because there were many other libraries, that arent found:

    /usr/openv/lib/shared/vddk/lib64/
    /usr/openv/lib
    ...
</pre>

Does it mean it works for you with such an additional  
dynamic linker config file?

Careful with such additional dynamic linker config files!

Cf.  
[https://github.com/rear/rear/issues/1533\#issuecomment-336476185](https://github.com/rear/rear/issues/1533#issuecomment-336476185)  
and the subsequent comments therein up to  
[https://github.com/rear/rear/issues/1533\#issuecomment-336622504](https://github.com/rear/rear/issues/1533#issuecomment-336622504)

It can happen that with such additional dynamic linker config files  
all your system binaries get dynamically linked with the libraries  
below /usr/openv/lib and no longer with the standard system libraries  
in standard libraries directories like /lib64, /lib, /usr/lib64 and
/usr/lib, cf.  
[https://github.com/rear/rear/issues/1927\#issuecomment-430254499](https://github.com/rear/rear/issues/1927#issuecomment-430254499)

Check with `ldd /path/to/a/usual/binary` with what exact libraries  
your usual system binaries get dynamically linked.

Cf.
[https://github.com/rear/rear/issues/1927](https://github.com/rear/rear/issues/1927)
where a probably  
broken dynamic linker config results that the system can  
no longer boot because `init` gets dynamically linked with a  
non-standard `libz.so.1 => /opt/HP/BSM/Postgres/lib/libz.so.1`  
that is not found during boot.

#### <img src="https://avatars.githubusercontent.com/u/36687647?v=4" width="50">[samurdhi](https://github.com/samurdhi) commented at [2018-10-29 18:22](https://github.com/rear/rear/issues/1907#issuecomment-434024416):

@gdha @jsmeix

Sorry for the late reply.  
Because I had to open tickets with Redhat and Microfocus to check why
this library is pointed to this location.

We found that this application put setenv.sh script in /etc/profile.d/
directory.

<pre>
[root@srv ~]# ldd /sbin/init 
        linux-vdso.so.1 =>  (0x00007ffece5ce000)
        libselinux.so.1 => /usr/lib64/libselinux.so.1 (0x00007fb36d0e2000)
        libcap.so.2 => /usr/lib64/libcap.so.2 (0x00007fb36cedc000)
        libpam.so.0 => /usr/lib64/libpam.so.0 (0x00007fb36cccd000)
        libaudit.so.1 => /usr/lib64/libaudit.so.1 (0x00007fb36caa7000)
        libkmod.so.2 => /usr/lib64/libkmod.so.2 (0x00007fb36c890000)
        libmount.so.1 => /usr/lib64/libmount.so.1 (0x00007fb36c652000)
        librt.so.1 => /usr/lib64/librt.so.1 (0x00007fb36c44a000)
        libgcc_s.so.1 => /usr/lib64/libgcc_s.so.1 (0x00007fb36c233000)
        libpthread.so.0 => /usr/lib64/libpthread.so.0 (0x00007fb36c017000)
        libc.so.6 => /usr/lib64/libc.so.6 (0x00007fb36bc56000)
        /lib64/ld-linux-x86-64.so.2 (0x00007fb36d46d000)
        libpcre.so.1 => /usr/lib64/libpcre.so.1 (0x00007fb36b9f4000)
        liblzma.so.5 => /usr/lib64/liblzma.so.5 (0x00007fb36b7cf000)
        libdl.so.2 => /usr/lib64/libdl.so.2 (0x00007fb36b5cb000)
        libattr.so.1 => /usr/lib64/libattr.so.1 (0x00007fb36b3c5000)
        libz.so.1 => /opt/HP/BSM/Postgres/lib/libz.so.1 (0x00007fb36b1aa000)
        libblkid.so.1 => /usr/lib64/libblkid.so.1 (0x00007fb36af6e000)
        libuuid.so.1 => /usr/lib64/libuuid.so.1 (0x00007fb36ad68000)
</pre>

<pre>
[root@srv ~]# ls -l /etc/profile.d/
total 68
-rw-r--r--  1 root root  771 Feb 16  2017 256term.csh
-rw-r--r--  1 root root  841 Feb 16  2017 256term.sh
-rw-r--r--. 1 root root  461 Mar  3  2014 abrt-console-notification.sh
-rw-r--r--. 1 root root  660 Nov 25  2013 bash_completion.sh
-rw-r--r--. 1 root root  337 Feb  4  2014 colorgrep.csh
-rw-r--r--. 1 root root  345 Feb  4  2014 colorgrep.sh
-rw-r--r--. 1 root root 1435 Jan 24  2014 colorls.csh
-rw-r--r--. 1 root root 1391 Jan 24  2014 colorls.sh
-rw-r--r--  1 root root 1706 Feb 16  2017 lang.csh
-rw-r--r--  1 root root 2703 Feb 16  2017 lang.sh
-rw-r--r--. 1 root root  123 Feb  3  2014 less.csh
-rw-r--r--. 1 root root  121 Feb  3  2014 less.sh
lrwxrwxrwx  1 root root   27 Oct  2  2017 modules.csh -> /usr/share/Modules/init/csh
-rw-r--r--  1 root root  168 Jan 24  2014 modules.sh
lrwxrwxrwx  1 root root   35 Oct 24  2017 setenv.sh -> /opt/HP/BSM//PMDB/bin/obrbootenv.sh
-rw-r--r--. 1 root root  105 Jan 30  2014 vim.csh
-rw-r--r--. 1 root root  269 Jan 30  2014 vim.sh
-rw-r--r--. 1 root root  164 Jan 27  2014 which2.csh
-rw-r--r--. 1 root root  169 Jan 27  2014 which2.sh
</pre>

<pre>
[root@srv ~]# cat /etc/profile.d/setenv.sh
################################################################################################
# Hewlett Packard Copyright 2014                                                               #
#                                                                                              #
# Set environment variable for all SHR users                                                   #
################################################################################################

pmdbvar=PMDB
PmdbDir=/opt/HP/BSM/$pmdbvar
export PMDB_HOME=$PmdbDir
username=`echo $USER`
Vertica_USER=""

if [ x"$username" = x ] ; then
username=`id -un`
fi

if [ -e $PMDB_HOME/data/config.prp ] ; then
  {
    #echo "in side loop"
        Vertica_USER=`cat $PMDB_HOME/data/config.prp | grep database.username= | awk -F'=' '{print $2}' |tr -d '\r'`
        #echo "vertica Dba User :"$Vertica_USER
 } 
fi
 
if [ x"${username}" = x"${Vertica_USER}" ] ; then
  {
      #echo "don't set postgres path in ld library"
          export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/HP/BSM/JRE64/lib/amd64/server:/opt/HP/BSM/JR64/lib/amd64:/opt/HP/BSM/JRE64/lib/amd64:/opt/HP/BSM/JRE64/lib/amd64/xawt:/opt/OV/lib64:
   }
else
  {
     #echo "set postgres path in ld library"
         export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/HP/BSM/JRE64/lib/amd64/server:/opt/HP/BSM/JR64/lib/amd64:/opt/HP/BSM/JRE64/lib/amd64:/opt/HP/BSM/JRE64/lib/amd64/xawt:/opt/HP/BSM/Postgres/lib:/opt/OV/lib64:/usr/lib64:
  }
fi

if [ x"${username}" = x"root" ] || [ x"${username}" = x"postgres" ] || [ x"${username}" = x"${Vertica_USER}" ] ; then
export PATH=/opt/OV/nonOV/perl/a/bin:$PATH:$PmdbDir/bin:/opt/OV/bin:/opt/OV/lib64:/opt/HP/BSM/Postgres/bin
export PATH=/opt/HP/BSM/JRE64/bin:$PATH
export PATH=$PATH:
export JAVA_HOME=/opt/HP/BSM/JRE64
export VERTICAINI=/opt/HP/BSM/PMDB/config/vertica.ini
export ODBCINI=/opt/HP/BSM/PMDB/config/odbc.ini
export OVINSTALLDIR=/opt/OV/
export SHRINSTALLDIR=/opt/HP/BSM/
fi
</pre>

#### <img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50">[jsmeix](https://github.com/jsmeix) commented at [2018-10-30 08:39](https://github.com/rear/rear/issues/1907#issuecomment-434215448):

@samurdhi  
thank you for the feedback what the root cause is on your system.

Hewlett Packard has to fix what they intend to do with their setenv.sh
script  
because in general things like `export LD_LIBRARY_PATH=somewhere`  
calls for trouble (it messes up the system libraries configuration  
for the user where such a LD\_LIBRARY\_PATH is set).

I am not a libraries configuration expert but I think a global  
`export LD_LIBRARY_PATH=somewhere` for certain users  
is always wrong and against how LD\_LIBRARY\_PATH is  
meant to be used.

I think LD\_LIBRARY\_PATH is meant to be set for a particular program
call  
(and not for a user) so that I think the right way is when e.g.
'myprog'  
needs a special LD\_LIBRARY\_PATH then a wrapper script should be used  
that is called instead of calling 'myprog' directly where the wrapper
script  
sets LD\_LIBRARY\_PATH as needed for 'myprog' and then calls 'myprog'.

Via quick Google search I found  
[https://www.hpc.dtu.dk/?page\_id=1180](https://www.hpc.dtu.dk/?page_id=1180)  
that is about

    LD_LIBRARY_PATH  or: How to get yourself into trouble!

#### <img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50">[jsmeix](https://github.com/jsmeix) commented at [2018-10-30 08:49](https://github.com/rear/rear/issues/1907#issuecomment-434218293):

@rear/contributors  
this issue is again one where using ReaR reveals  
that there is a severe issue on the original system.

I think this shows an interesting "by the way feature" of ReaR:

By setting up a disaster recovery procedure with ReaR  
and by verifying that `rear recover` actually works to  
recreate the original system on replacement hardware  
one gets "by the way" some kind of confirmation that  
the basic setup of the original system is o.k. because  
when the basic setup of the original system is broken  
it is likely that then it is not possible to recreate such  
a broken original system on replacement hardware.

Simply put:  
Run `rear mkbackup` on your original system  
and `rear recover` on your replacement hardware  
to verify that your original system is still o.k.

#### <img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50">[jsmeix](https://github.com/jsmeix) commented at [2018-10-30 09:07](https://github.com/rear/rear/issues/1907#issuecomment-434223221):

I think
[https://github.com/rear/rear/issues/1907\#issuecomment-434024416](https://github.com/rear/rear/issues/1907#issuecomment-434024416)  
actually belongs to
[https://github.com/rear/rear/issues/1927](https://github.com/rear/rear/issues/1927)

#### <img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50">[jsmeix](https://github.com/jsmeix) commented at [2018-11-07 09:35](https://github.com/rear/rear/issues/1907#issuecomment-436562525):

FYI: The deleted a comment from @samurdhi here was the same as  
[https://github.com/rear/rear/issues/1927\#issuecomment-436395378](https://github.com/rear/rear/issues/1927#issuecomment-436395378)

#### <img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50">[jsmeix](https://github.com/jsmeix) commented at [2018-11-29 16:16](https://github.com/rear/rear/issues/1907#issuecomment-442894084):

@samurdhi  
is your NBU libraries issue here perhaps basically the same  
as
[https://github.com/rear/rear/issues/1974](https://github.com/rear/rear/issues/1974)
which is solved  
since
[https://github.com/rear/rear/pull/1980](https://github.com/rear/rear/pull/1980)
is merged  
so that also your NBU libraries issue here is perhaps  
meanwhile solved in our current ReaR GitHub master code?

#### <img src="https://avatars.githubusercontent.com/u/11042433?v=4" width="50">[KKeXX](https://github.com/KKeXX) commented at [2018-12-12 14:44](https://github.com/rear/rear/issues/1907#issuecomment-446611866):

We had the same (library) issues with ReaR 2.3 and 2.4.  
With the Patch from \#1974 / \#1980 everything works fine again. This
was tested with RHEL 7.6 on a virtual and physical Server and two
different Netbackup 8.0 Domains.

We look forward for the [ReaR v2.5
Milestone](https://github.com/rear/rear/milestone/16) where this patch
is included. Thanks for that! :-)

#### <img src="https://avatars.githubusercontent.com/u/888633?u=cdaeb31efcc0048d3619651aa18dd4b76e636b21&v=4" width="50">[gdha](https://github.com/gdha) commented at [2018-12-27 08:55](https://github.com/rear/rear/issues/1907#issuecomment-450107342):

@KKeXX Thank you for your confirmation. Beginning of 2019 we will
prepare the next freeze period before launching rear-2.5. Thank you for
the testing - much appreciated.

------------------------------------------------------------------------

\[Export of Github issue for
[rear/rear](https://github.com/rear/rear).\]
