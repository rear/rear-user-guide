[\#1566 PR](https://github.com/rear/rear/pull/1566) `merged`: COPY\_AS\_IS\_TSM optimzed example
================================================================================================

**Labels**: `documentation`, `fixed / solved / done`

#### <img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50">[schabrolles](https://github.com/schabrolles) opened issue at [2017-11-07 11:43](https://github.com/rear/rear/pull/1566):

Add an example of an optimized COPY\_AS\_IS\_TSM.  
This one will only copy `dsmc` binary, needed libraries, passwd and
default configuration files.  
All the other files generated by the user must be added manually.

#### <img src="https://avatars.githubusercontent.com/u/19491077?u=0021b16ab426902cbe676f6831f41607bbe4d441&v=4" width="50">[schabrolles](https://github.com/schabrolles) commented at [2017-11-07 11:44](https://github.com/rear/rear/pull/1566#issuecomment-342458123):

@jsmeix your feedback regarding wording is welcomed.  
(I try to avoid the word: WARNING: ;-) )

#### <img src="https://avatars.githubusercontent.com/u/1788608?u=925fc54e2ce01551392622446ece427f51e2f0ce&v=4" width="50">[jsmeix](https://github.com/jsmeix) commented at [2017-11-07 13:21](https://github.com/rear/rear/pull/1566#issuecomment-342480186):

Personally I avoid emphasis in technical documentation  
like your '\*\*' characters or '!' exclamation marks  
or even shouting at the poor reader: "DO NOT ... "  
cf. how I documented MODULES=( 'no\_modules' )  
but in the end it is a matter of personal taste.

By the way:  
I was wondering if the bash globbing character '\*' in

<pre>
# COPY_AS_IS_TSM=( /etc/adsm ... /usr/local/ibm/gsk8* )
</pre>

shouldn't be usually quoted but I think there is a reason why  
it must be specified unquoted in COPY\_AS\_IS arrays  
so that bash pathname expansion works later  
e.g. in build/GNU/Linux/100\_copy\_as\_is.sh  
as intended.  
Because usr/sbin/rear sets nullglob (and extglob)  
/usr/local/ibm/gsk8\* expands to nothing if no file matches  
which is probably the intended behaviour here because:

<pre>
# ( shopt -s nullglob ; COPY_AS_IS=( /etc /etc/fst* /usr/local/ibm/gsk8* ) ; echo "${COPY_AS_IS[@]}" ) 
/etc /etc/fstab

# ( shopt -s nullglob ; COPY_AS_IS=( /etc "/etc/fst*" '/usr/local/ibm/gsk8*' ) ; echo "${COPY_AS_IS[@]}" ) 
/etc /etc/fst* /usr/local/ibm/gsk8*
</pre>

Accordingly quoting bash globbing patterns in COPY\_AS\_IS  
seems to lead to wrong results which is an unexpected  
exception to the usual way how arrays should be specified  
as documented at the beginning of default.conf.

------------------------------------------------------------------------

\[Export of Github issue for
[rear/rear](https://github.com/rear/rear).\]
