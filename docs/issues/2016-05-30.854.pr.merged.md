[\#854 PR](https://github.com/rear/rear/pull/854) `merged`: Resolve Issue 851: Fix problem with UUIDs on Fedora by using mkfs to …
==================================================================================================================================

**Labels**: `enhancement`

#### <img src="https://avatars.githubusercontent.com/u/6391864?u=f29593e509021c433bdf23c37efbe71f8ced8a6e&v=4" width="50">[exedor](https://github.com/exedor) opened issue at [2016-05-30 19:16](https://github.com/rear/rear/pull/854):

…set them instead of tune2fs.

I'm still not entirely sure why this the case, but there must be a bug
in the filesystem utilities or maybe filesystem changes are cached and
not committed to disk before initrd is created. For some reason when
mkfs and tune2fs are used separately to retain the original filesystem
UUIDs the initrd created at the end of the restore remembers and retains
the original incorrect and temporary UUIDs generated by the call to
mkfs...at least it does on Fedora Core 21 and maybe later resulting in a
failure to boot after restore due to dracut failing to locate the
filesystem with the incorrect UUIDs. This pull request avoids the use of
temporary UUIDs by having mkfs use the original UUIDs directly when they
are present. I've tested it and it does in fact fix the issue in a way
that should not break other platforms.

------------------------------------------------------------------------

\[Export of Github issue for
[rear/rear](https://github.com/rear/rear).\]
