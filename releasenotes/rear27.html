<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <meta property="og:title" content="Relax-and-Recover (ReaR) User Guide Documentation"/>
    <meta property="og:description" content="This is an umbrella documentation project for all Relax-and-Recover (ReaR) kind of documentation ans starting with a good User Guide."/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:url" content="https://relax-and-recover.org/rear-user-guide/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://relax-and-recover.org/rear-user-guide/img/rear_logo_50.png"/>
    <meta property="og:image:width" content="50"/>
    <meta property="og:image:height" content="50"/>
    
    <title>Release Notes ReaR 2.7 - Relax-and-Recover (ReaR) User Guide Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/rear.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Release Notes ReaR 2.7";
        var mkdocs_page_input_path = "releasenotes/rear27.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', "366986045", "auto");
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Relax-and-Recover (ReaR) User Guide Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">WELCOME</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../welcome/index.html">Get started!</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">BASICS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/introduction.html">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/history.html">Bit of History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/getting-started.html">Getting started with ReaR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../basics/configuration.html">Basic configuration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SCENARIOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scenarios/index.html">Scenarios Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DEVELOPMENT</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../development/github-pr.html">Make a pull request with GitHub</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">RELEASE NOTES</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="index.html">Release Notes</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="rear27.html">Release Notes ReaR 2.7</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#product_features">Product Features</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#rear_release_27_july_2022">ReaR release 2.7 (July 2022)</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#new_features_bigger_enhancements_and_possibly_backward_incompatible_changes">New features, bigger enhancements, and possibly backward incompatible changes:</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#details_mostly_in_chronological_order_-_newest_topmost">Details (mostly in chronological order - newest topmost):</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#supported_and_unsupported_operating_systems">Supported and Unsupported Operating Systems</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#supported_rear_versions">Supported ReaR versions</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="rear26.html">Release Notes ReaR 2.6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="knownproblems.html">Known Problems and Workarounds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ISSUES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../issues/index.html">Issues History</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">LEGAL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/contributing/index.html">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../legal/license/index.html">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Relax-and-Recover (ReaR) User Guide Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">RELEASE NOTES</li>
      <li class="breadcrumb-item active">Release Notes ReaR 2.7</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="release_notes_for_relax-and-recover_version_27">Release Notes for Relax-and-Recover version 2.7<a class="headerlink" href="#release_notes_for_relax-and-recover_version_27" title="Permanent link">&para;</a></h1>
<p>This document contains the release notes for the open source project
Relax-and-Recover.</p>
<p><a href="http://relax-and-recover.org/">Relax-and-Recover website</a></p>
<p><a href="https://github.com/rear/">GitHub project</a></p>
<h2 id="product_features">Product Features<a class="headerlink" href="#product_features" title="Permanent link">&para;</a></h2>
<p>The following features are supported by the most recent releases of
Relax-and-Recover. Anything labeled as (<em>New</em>) was added as the
most recent release. New functionality for previous releases can be
seen in the next chapter that details each release.</p>
<p>The most recent release of Relax-and-Recover is supported on most GNU/Linux
based systems with kernel 2.6 or higher. It provides the following
functionality:</p>
<ul>
<li>
<p>Hot maintenance capability. A recovery/rescue image can be made online while
  the system is running</p>
</li>
<li>
<p>Command line interface. Relax-and-Recover does not require a graphical
  interface to run, neither in creation mode, nor in recovery mode (console
  is enough)</p>
</li>
<li>
<p>Support included for most common file systems, such as ext2, ext3, and ext4.
  Other filesystems like reiserfs, jfs, xfs, and btrfs are also implemented,
  but are less tested. <em>(Feedback is appreciated)</em></p>
</li>
<li>
<p>Selected Hardware RAID and (eg. HP SmartArray) and mirroring solutions (eg.
  DRBD) are supported</p>
</li>
<li>
<p>NVME and mmcblk disks are supported</p>
</li>
<li>
<p>LVM root volumes are supported</p>
</li>
<li>
<p>Multipath support for SAN storage</p>
</li>
<li>
<p>UEFI support (including UEFI USB booting)</p>
</li>
<li>
<p>Integrates with <em>internal</em> backup programs such as:</p>
</li>
<li>
<p>GNU tar (BACKUP=NETFS, BACKUP_PROG=tar)</p>
</li>
<li>GNU tar (BACKUP=NETFS, BACKUP_PROG=tar, BACKUP_TYPE=incremental, FULLBACKUPDAY="Mon") for using incremental backups with a weekly full backup. Be aware, old tar archives will not be removed automatically!</li>
<li>GNU tar (BACKUP=NETFS, BACKUP_PROG=tar, BACKUP_TYPE=differential, FULLBACKUPDAY="Mon") for using differential backups with a weekly full backup. Be aware, old tar archives will not be removed automatically!</li>
<li>GNU tar with openssl encryption (BACKUP=NETFS, BACKUP_PROG=tar, BACKUP_PROG_CRYPT_ENABLED=1)</li>
<li>rsync on local devices (BACKUP=NETFS, BACKUP_PROG=rsync), such USB and local disks</li>
<li>rsync over the network (BACKUP=RSYNC, BACKUP_PROG=rsync)</li>
<li>Multiple backup methods (<a href="https://github.com/rear/rear/blob/master/doc/user-guide/11-multiple-backups.adoc">read the documentation</a>)</li>
<li>Any partition (e.g. a Windows partition) via BACKUP=BLOCKCLONE. See <a href="https://github.com/rear/rear/blob/master/doc/user-guide/12-BLOCKCLONE.adoc">the documention about BLOCKCLONE</a></li>
<li>BACKUP=ZYPPER is SLES12 only (<em>Experimental</em>)</li>
<li>
<p>BACKUP=YUM is for RedHat architectures ony (<em>Experimental</em>)</p>
</li>
<li>
<p>Integrates with <em>external</em> backup solutions such as:</p>
</li>
<li>
<p>Tivoli Storage Manager (BACKUP=TSM)</p>
</li>
<li>Data Protector (BACKUP=DP)</li>
<li>Symantec NetBackup (BACKUP=NBU)</li>
<li>Galaxy 5, 6, and 7 (BACKUP=GALAXY)</li>
<li>Galaxy 10 [Commvault Simpana] (BACKUP=GALAXY10)</li>
<li>Bacula (BACKUP=BACULA)</li>
<li>Bareos (BACKUP=BAREOS) (A fork of Bacula)</li>
<li>Rsync Backup Made Easy (BACKUP=RBME)</li>
<li>Duplicity/Duply (BACKUP=DUPLICITY)</li>
<li>EMC Networker, also known as Legato (BACKUP=NSR)</li>
<li>EMC Avamar (BACKUP=AVA)</li>
<li>SEP Sesam (BACKUP=SESAM)</li>
<li>FDR/Upstream (BACKUP=FDRUPSTREAM)</li>
<li>Novastor NovaBACKUP DC (BACKUP=NBKDC)</li>
<li>Borg Backup (BACKUP=BORG)</li>
<li>
<p>Rubrik Cloud Data Management (BACKUP=CDM) (<em>New</em>) </p>
</li>
<li>
<p>Integrates with <a href="http://drlm.org">Disaster Recovery Linux Manager (DRLM)</a></p>
</li>
<li>
<p>Udev support (except for some really ancient udev versions) which is
  the base for many important features:</p>
</li>
<li>
<p>kernel drivers for network cards and storage adapters are loaded via udev</p>
</li>
<li>deal with network persistent names in udev rules</li>
<li>firmware loading</li>
<li>
<p>persistent storage device names (though Relax-and-Recover does nothing with this)</p>
</li>
<li>
<p>Systemd support for the more recent Linux distributions</p>
</li>
<li>
<p>System migration and reconfiguration (<strong>MIGRATION_MODE</strong>)</p>
</li>
<li>
<p>facilitate recovery on hardware, that is not the same as the original system</p>
</li>
<li>network and storage drivers are adjusted</li>
<li>map hard disks if they do not match (e.g. hda -&gt; sda)</li>
<li>remap network MAC addresses</li>
<li>use another IP address, or using dhcp via templates or from kernel command line</li>
<li>rebuild the initial ramdisk if needed (for new storage drivers)</li>
<li>
<p>migration to SAN storaged</p>
</li>
<li>
<p>Support backup software: Bacula, both locally attached tapes (with
  bextract) and network-based backups. Also, in combination with OBDR tapes.</p>
</li>
<li>
<p>Create OBDR tapes with method <code>mkbackup</code> and put the backup onto the tape
  to have a single-tape bootable recovery solution <em>(deprecated)</em></p>
</li>
<li>
<p>Label the OBDR tape with the method <code>format</code> to avoid accidental
  overwrites with OBDR</p>
</li>
<li>
<p>Create bootable disk (eSATA, USB ...) medium with the backup included:</p>
<p>BACKUP_URL=usb:///dev/device</p>
<p>Together with <code>OUTPUT=USB</code> we have a complete solution on hard disks
(booting of it and restoring data).</p>
</li>
<li>
<p>DHCP client support (IPv4 and IPv6). Dhcp client activation
  can be forced via the variable <code>USE_DHCLIENT=yes</code> (define in <em>/etc/rear/local.conf</em>).
  It is also possible to force DHCP at boot time with kernel option <code>dhcp</code></p>
</li>
<li>
<p><code>USE_STATIC_NETWORKING=y</code>, will cause statically configured network settings to be applied even when <strong>USE_DHCLIENT</strong> is in effect</p>
</li>
<li>
<p>Save layout and compare layouts for automation of making
  Relax-and-Recover snapshots (checklayout option)</p>
</li>
<li>
<p>External USB booting uses extlinux (instead of syslinux), and
  therefore, the USB disk must first be formatted with an ext2, ext3, ext4
  or btrfs based file system</p>
</li>
<li>
<p>VLAN tagging, teaming and bridge support</p>
</li>
<li>
<p>Add timestamp of ReaR run with rc code to the syslog or messages file; sending mail report is also possible</p>
</li>
<li>
<p>The possibility to backup any partition (in particular a Windows partition) via the BACKUP type BLOCKCLONE</p>
</li>
<li>
<p>Unattended ReaR recovery has been improved</p>
</li>
<li>
<p>Improved security model related to SSH keys</p>
</li>
<li>
<p>SSH_FILES='avoid_sensitive_files' (see details in <em>/usr/share/rear/conf/default.conf</em>)</p>
</li>
<li>
<p>SSH_UNPROTECTED_PRIVATE_KEYS='no' (see details in <em>/usr/share/rear/conf/default.conf</em>)</p>
</li>
<li>
<p>LUKS2 Support</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Features marked <em>Experimental</em> are prone to change with future releases.</p>
</div>
<h2 id="rear_release_27_july_2022">ReaR release 2.7 (July 2022)<a class="headerlink" href="#rear_release_27_july_2022" title="Permanent link">&para;</a></h2>
<h3 id="new_features_bigger_enhancements_and_possibly_backward_incompatible_changes">New features, bigger enhancements, and possibly backward incompatible changes:<a class="headerlink" href="#new_features_bigger_enhancements_and_possibly_backward_incompatible_changes" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>ReaR's default TMPDIR is now <code>/var/tmp</code> (it was <code>/tmp</code> before) i.e. ReaR's
    default working area is now <code>/var/tmp/rear.XXXXX</code> because ReaR needs lots of
    space (from 300MB up to more than 1GB) to build the ReaR rescue/recovery
    system e.g. as ISO image and even much more space to also store the backup
    archive e.g. when the backup should be included in the ISO image. The
    system's default temporary directory /tmp is no longer suited as default
    temporary directory for ReaR because nowadays /tmp is often a "tmpfs" that
    is in RAM so /tmp has RAM/swap limitations and file-hierarchy(7)
    recommends to use /var/tmp for cases as ReaR. If the user sets TMPDIR
    explicitly, it still takes precedence.</p>
</li>
<li>
<p>Stop ReaR from possibly overwriting its own disk and backup drives for
    <em>OUTPUT=USB</em> and <em>OUTPUT=RAWDISK</em> via new <code>WRITE_PROTECTED_...</code> config variables
    (see <em>/usr/share/rear/conf/default.conf</em>) where UUIDs or filesystem labels
    can be specified so that disks that contain such UUIDs or filesystem
    labels will be 'write protected' during "rear recover".</p>
</li>
<li>
<p>Added initial LUKS2 support.</p>
</li>
<li>
<p>Overhauled RAID code with changed RAID related entries in
    <em>/var/lib/rear/layout/disklayout.conf</em> so users who use RAID and a selfmade
    <em>/etc/rear/disklayout.conf</em> must adapt their RAID related entries</p>
</li>
<li>
<p>Initial preliminary basic support to automatically resize an active last
    partition on RAID0 and RAID1 disks to be able to automatically resize
    RAID0 and RAID1 arrays</p>
</li>
<li>
<p>Automatically shrink LVs if needed during "rear recover". This enables to
    run "rear recover" with automated LVM LVs shrinking as needed on a bit
    smaller replacement disk (e.g. when a nominally same sized replacement
    disk is actually a bit smaller than the original disk). This automated LVs
    shrinking is not intended when disk(s) are substantially smaller. To
    migrate onto a substantially smaller replacement disk the user must in
    advance manually adapt his disklayout.conf file before he runs "rear
    recover".</p>
</li>
<li>
<p>Support to wipe disks before recreating partitions/volumes/filesystems/...
    (see the new <em>DISKS_TO_BE_WIPED</em> in <em>/usr/share/rear/conf/default.conf</em>). This
    is currently new and experimental functionality so that currently by
    default via <code>DISKS_TO_BE_WIPED='false'</code> no disk is wiped to avoid possible
    regressions until this new feature was more tested by interested users via
    an explicit <em>DISKS_TO_BE_WIPED</em> setting.</p>
</li>
<li>
<p>Error out when files greater or equal <em>ISO_FILE_SIZE_LIMIT</em> should be
    included in the ISO: See the reasoning in
    <em>/usr/share/rear/conf/default.conf</em> why the default <em>ISO_FILE_SIZE_LIMIT</em> is
    2GiB and why we error out when files &gt;= ISO_FILE_SIZE_LIMIT should be
    included in the ISO.</p>
</li>
<li>
<p>Rsync OUTPUT_URLs are now properly supported with <em>BACKUP=RSYNC</em>.
    Previously the output went to the location specified by <em>BACKUP_URL</em>
    and <em>OUTPUT_URL</em> was ignored. One exception was <em>OUTPUT=PXE</em>, where the output
    was uploaded to <em>OUTPUT_URL</em> in addition to <em>BACKUP_URL</em>, but <em>RSYNC_PREFIX</em> was
    not respected and the interpretation of the URL was different: A URL of
    the form rsync://[USER@]HOST[:PORT]/PATH was interpreted as using the
    rsync protocol, while in all other cases such URL would be interpreted
    as using rsync over ssh. This special handling is now removed:
    An rsync OUTPUT_URL with <em>OUTPUT=PXE</em> now creates the <em>RSYNC_PREFIX</em> directory
    at the destination and the URL is interpreted as in all other cases.</p>
</li>
<li>
<p>RAWDISK: Add local rescue partition installation capability: Introduce a
    configuration variable <em>RAWDISK_INSTALL_GPT_PARTITION_NAME</em>, which is
    unset by default. When set, the rescue system will be installed to local
    disk partitions having the corresponding name.</p>
</li>
<li>
<p>Allow setting a PBA-specific firmware configuration via the new
    <em>OPAL_PBA_FIRMWARE_FILES</em> configuration variable.</p>
</li>
<li>
<p>Support OPAL 2 self-encrypting NVMe disk drives.</p>
</li>
<li>
<p><em>OPALPBA</em>: Provide a permanent unlocking mode as a workaround when the
    firmware did not initialize properly during a 'simple' reboot so the only
    reliable way to boot was a power cycle after Opal disks were unlocked. To
    reboot with unlocked disks there is now a new unlocking mode "permanent"
    via <em>OPAL_PBA_UNLOCK_MODE</em> (see default.conf). Reactivating locking is then
    the responsibility of the user. Additionally enhanced security by
    disabling shell access via keyboard interrupt and switching to a password
    hash for <em>OPAL_PBA_DEBUG_PASSWORD</em>.</p>
</li>
<li>
<p>POWER architecture (ppc64) support for <em>BACKUP=DP</em>: Other platforms
    supporting the Data Protector Disk Agent, but not the Cell Console (GUI)
    that is only available on i386, x86_64 and ia64 are now supported with
    ReaR. This includes in particular ppc64. Checks unavailable on clients
    without the Data Protector Cell Console (GUI) are skipped. In such cases
    backup restore can be done using Data Protector GUI only.</p>
</li>
<li>
<p>NSR enhancement for point-in-time recovery with EMC Networker client: A
    new variable <code>NSR_CLIENT_REQUESTRESTORE</code> for the <em>BACKUP=NSR</em> workflow has
    been introduced to deal with situations in which the NSR client is
    allowed/granted to perform its recovery action "on its own" but does not
    have full control of the EMC networker service/environment, for details
    see its default.conf section.</p>
</li>
<li>
<p><em>BACKUP=NBKDC</em>: Enhanced ReaR backup and restore to also work with NovaStor
    DataCenter 8.0 and higher plus fixed wording "NovaBACKUP DC" -&gt; "NovaStor
    DC"</p>
</li>
<li>
<p>Support for systemd and parallel restore with Data Protector <em>BACKUP=DP</em>:
    Support starting Data Protector daemon 'omni.socket' via systemd in the
    recovery system. Restore performance has been increased by doing parallel
    restores now.</p>
</li>
<li>
<p>Now "rear format" has in addition to the <code>-efi</code> switch a <code>-bios</code> switch.
    If none is given (i.e. by default) it will now do hybrid formatting with a
    BIOS boot partition (on GPT) and an EFI system partition. Accordingly the
    <em>USB_DEVICE_PARTED_LABEL</em> default is no longer "msdos" (see the updated
    description in <em>/usr/share/rear/conf/default.conf)</em>. This is a starting point
    for implementing <em>OUTPUT=USB</em> support for UEFI and BIOS dual boot from the
    same medium. See <a href="https://github.com/rear/rear/issues/2698">issue 2698</a>,
    <a href="https://github.com/rear/rear/issues/2818">issue 2818</a>
    and <a href="https://github.com/rear/rear/pull/2829">issue 2829</a></p>
</li>
<li>
<p>Overhauled serial console support code. A serial console of the ReaR
    recovery system can now be specified separately for the kernel and the
    recovery system bootloader via the generic config variables
    <em>USE_SERIAL_CONSOLE</em> and <em>SERIAL_CONSOLE_DEVICES</em> and specific config
    variables <em>SERIAL_CONSOLE_DEVICES_KERNEL</em>, <em>SERIAL_CONSOLE_DEVICE_SYSLINUX</em> and
    <em>SERIAL_CONSOLE_DEVICE_GRUB</em> (see <em>/usr/share/rear/conf/default.conf</em> for
    details)</p>
</li>
<li>
<p>Support for HTTP sources when using PXE: There is a new config variable
    <em>PXE_HTTP_URL</em> to specify a HTTP download source for PXE. See the
    <em>PXE_HTTP_URL</em> description in <em>/usr/share/rear/conf/default.conf</em></p>
</li>
<li>
<p>In <em>/usr/share/rear/conf/default.conf</em> changed <em>ISO_VOLID</em> from "RELAXRECOVER"
    to "REAR-ISO" so the first ISO has the label "REAR-ISO" (8 characters) and
    subsequent ISOs get the labels "REAR-ISO_01" "REAR-ISO_02" ... respectively
    that have 11 characters (the maximum length for FAT volume names) so
    things work now by default when the ISO image is used to (manually) create
    a FAT bootable USB stick Accordingly 'RELAXRECOVER' in variable names was
    replaced. In particular the user config variable for automated input
    <em>USER_INPUT_RELAXRECOVER_SYMLINK_TARGET</em> was renamed as
    <em>USER_INPUT_ISO_SYMLINK_TARGET</em> so only that new name will work.</p>
</li>
</ul>
<h3 id="details_mostly_in_chronological_order_-_newest_topmost">Details (mostly in chronological order - newest topmost):<a class="headerlink" href="#details_mostly_in_chronological_order_-_newest_topmost" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Refactor rsync URL support, fixes rsync <em>OUTPUT_URL</em>:
    The code to parse rsync:// URLs was BACKUP_URL specific.
    If one specified <em>BACKUP=RSYNC</em> and an <em>OUTPUT_URL</em> different from <em>BACKUP_URL</em>,
    the OUTPUT_URL was ignored and the output files went to BACKUP_URL.
    Fix by introducing generic functions for rsync URL parsing and
    use them for both BACKUP_URL and OUTPUT_URL, as appropriate.
    Replace all uses of global RSYNC_* variables derived
    from BACKUP_URL by those functions.
    There also was inconsistent special handling for OUTPUT=PXE which is now removed:
    An rsync OUTPUT_URL with OUTPUT=PXE now creates the RSYNC_PREFIX directory
    at the destination and the URL is interpreted as in all other cases.
    See <a href="https://github.com/rear/rear/pull/2831">issue 2831</a>
    and <a href="https://github.com/rear/rear/issues/2781">issue 2781</a></p>
</li>
<li>
<p>Support creation of EFI system partition on systems
    with older 'parted' that do not support the 'esp' keyword:
    In <em>format/USB/default/300_format_usb_disk.sh</em> try
    <code>sgdisk ... --typecode="partition_number:EF00"</code> as fallback
    when <code>parted ... set partition_number esp on</code> failed.
    See <a href="https://github.com/rear/rear/pull/2830">issue 2830</a></p>
</li>
<li>
<p>Set <code>USB_DEVICE_PARTED_LABEL</code> to match <em>format-workflow.sh</em>:
    In <em>format/USB/default/300_format_usb_disk.sh</em> it is set
    depending on the format workflow option <code>-b/--bios</code> or <code>-e/--efi</code>
    and in in <em>prep/USB/Linux-i386/340_find_mbr_bin.sh</em> try to
    autodetect what the USB disk partition type is and
    use a specified <strong>USB_DEVICE_PARTED_LABEL</strong> if autodetection fails.
    See <a href="https://github.com/rear/rear/pull/2829">issue 2829</a></p>
</li>
<li>
<p>In usr/sbin/rear enhanced the check for other simultaneously running 'rear'
    to let it find running 'rear' instances independent of how it was called by the user
    in particular also when 'rear' is run from a GitHub checkout/clone
    cf. <a href="https://github.com/rear/rear/issues/2826">issue 2826</a></p>
</li>
<li>
<p>In <em>usr/share/rear/lib/format-workflow.sh</em> do actually recognise -b/--bios
    options, see <a href="https://github.com/rear/rear/pull/2828">issue 2828</a></p>
</li>
<li>
<p>In <em>layout/prepare/GNU/Linux/110_include_lvm_code.sh</em> use a fail-safe
    'yes' pipe for "lvm lvcreate" to pipe as many 'y' as asked for into
    "lvm lvcreate". See <a href="https://github.com/rear/rear/issues/513">issue 513</a>
    and <a href="https://github.com/rear/rear/issues/2820">issue 2820</a></p>
</li>
<li>
<p>Avoid creating a /bin/vim symlink to vi: The symlink is more confusing
    than helpful: If one has both vi and vim, and they are different
    (vi usually has less features), one expects to get the more featureful
    version by executing "vim", but one gets "vi". More importantly, in
    recent Fedora and RHEL, "vi" is a shell script that executes "vim"
    if found, so linking "vim" to "vi" leads to an infinite loop.
    See <a href="https://github.com/rear/rear/pull/2822">issue 2822</a></p>
</li>
<li>
<p>RPM spec: update build requirement for Fedora to unblock Packit build and
    run make validate after build, see <a href="https://github.com/rear/rear/pull/2816">issue 2816</a></p>
</li>
<li>
<p>In <em>finalize/Linux-i386/660_install_grub2.sh</em> explain that it is also used
    as fallback to install the nowadays most often used bootloader GRUB2
    unless the BOOTLOADER variable tells to install another bootloader (other
    bootloader install scripts check the BOOTLOADER variable),
    cf. <a href="https://github.com/rear/rear/issues/2817#issuecomment-1148488339">issue 2871</a></p>
</li>
<li>
<p>Replace 'RELAXRECOVER' in variable names: In <em>lib/global-functions.sh</em> in
    the function mount_url() renamed the user config variable for automated
    input <code>USER_INPUT_RELAXRECOVER_SYMLINK_TARGET</code> as
    <code>USER_INPUT_ISO_SYMLINK_TARGET</code> because the old name contained a user config
    value: "RELAXRECOVER" was an old default value of ISO_VOLID, see
    <a href="https://github.com/rear/rear/pull/2457">issue 2457</a> and
    <a href="https://github.com/rear/rear/pull/2813#discussion_r885576867">issue 2813</a></p>
</li>
<li>
<p>In default.conf properly describe <code>PRE_BACKUP_SCRIPT</code> and <code>POST_BACKUP_SCRIPT</code>
    to match what the implementation does, see
    <a href="https://github.com/rear/rear/pull/2735#issuecomment-1145006984">issue 2735</a> and for
    special cases see
    <a href="https://github.com/rear/rear/pull/2735#issuecomment-1148620157">issue comment</a></p>
</li>
<li>
<p>Add <code>PRE_RECOVERY_COMMANDS</code> and <code>POST_RECOVERY_COMMANDS</code> as alternative to
    <code>PRE_RECOVERY_SCRIPT</code> and <code>POST_RECOVERY_SCRIPT</code> see the description in
    default.conf how to use them and how they work. See
    <a href="https://github.com/rear/rear/pull/2811">issue 2811</a> and see also
    <a href="https://github.com/rear/rear/pull/2735">issue 2735</a> therein in particular
    <a href="https://github.com/rear/rear/pull/2735#issuecomment-1134686196">comment within issue 2735</a>.
    Additionally use LogPrint to show the user the executed commands, see
    <a href="https://github.com/rear/rear/pull/2789">issue 2789</a></p>
</li>
<li>
<p>In default.conf describe the new user config variables <code>USB_BOOT_PART_SIZE</code>
    and <code>USB_DEVICE_BOOT_LABEL</code> - see <a href="https://github.com/rear/rear/pull/2660">PR 2660</a></p>
</li>
<li>
<p>Exclude <code>dev/watchdog*</code> from the ReaR recovery system: In default.conf add
    <code>dev/watchdog*</code> to <code>COPY_AS_IS_EXCLUDE</code> because watchdog functionality is not
    wanted in the recovery system because we do not want any automated reboot
    functionality while disaster recovery happens via "rear recover", see
    <a href="https://github.com/rear/rear/pull/2808">PR 2808</a>. Furthermore having a copy of
    <code>dev/watchdog*</code> during "rear mkrescue" in ReaR's build area may even trigger
    a <strong>system crash</strong> that is caused by a buggy TrendMicro ds_am module touching
    dev/watchdog in ReaR's build area (/var/tmp/rear.XXX/rootfs), see
    <a href="https://github.com/rear/rear/issues/2798">issue 22798</a></p>
</li>
<li>
<p>In <em>output/default/940_grub2_rescue.sh</em> for GRUB_RESCUE set <code>root=/dev/ram0 vga=normal rw</code>
    (the same is already done for other boot media) to avoid a
    "Kernel panic ... Unable to mount root fs on unknown-block(0,0)" that could
    otherwise happen in certain cases, see
    <a href="https://github.com/rear/rear/pull/2791">issue 2791</a></p>
</li>
<li>
<p>In <em>build/GNU/Linux/400_copy_modules.sh</em> always include loaded kernel
    modules i.e. also for <code>MODULES=()</code> or <code>MODULES=( 'moduleX' 'moduleY' )</code>
    include the currently loaded kernel modules,
    cf. <a href="https://github.com/rear/rear/issues/2727#issuecomment-994731345">comment of issue 2727</a></p>
</li>
<li>
<p>In <em>layout/save/GNU/Linux/200_partition_layout.sh</em> ensure <code>$disk_label</code> is one
    of the supported partition tables (i.e. one of 'msdos' 'gpt'
    'gpt_sync_mbr' 'dasd') and ensure syntactically correct 'disk' and 'part'
    entries in disklayout.conf (each value must exist and each value must be a
    single non-blank word), see the last part about "error out directly ... when
    things failed" in <a href="https://github.com/rear/rear/issues/2801#issuecomment-1122015129">issue 28010</a>.
    But, do not error out when there is no partition label type value for a 'disk'
    entry in disklayout.conf, because "rear recover" works in a special case
    without partition label type value when there is only a 'disk' entry but
    nothing else for this disk exists in disklayout.conf which can happen when
    /dev/sdX is an empty SD card slot without medium, see
    <a href="https://github.com/rear/rear/issues/2810">issue 2810</a></p>
</li>
<li>
<p>In default.conf explain how to use LIBS properly, see
    <a href="https://github.com/rear/rear/issues/2743">issue 2743</a></p>
</li>
<li>
<p>In the function <strong>find_syslinux_modules_dir</strong> in <em>lib/bootloader-functions.sh</em>
    the fallback 'find /usr' to find the SYSLINUX modules directory may take a
    very long time on some systems (up to several hours) so tell the user in
    debug mode what is going on, see <a href="https://github.com/rear/rear/issues/2792">issue 2792</a>
    and <a href="https://github.com/rear/rear/issues/624">issue 624</a></p>
</li>
<li>
<p>In default.conf tell that <code>MODULES=( 'loaded_modules' 'additional_module' )</code>
    is not supported (the generic <code>COPY_AS_IS</code> method can be used to include
    additional modules) cf. <a href="https://github.com/rear/rear/issues/2727">issue 2727</a></p>
</li>
<li>
<p>Use <em>disklayout.conf</em> keyword <strong>raidarray</strong> instead of <strong>raid</strong> because we have
    a new 'raiddisk' keyword and a keyword must not be a leading substring of
    another keyword so we have now 'raidarray' and 'raiddisk', see
    <a href="https://github.com/rear/rear/issues/2759">issue 2759</a> and
    <a href="https://github.com/rear/rear/commit/53757eab1447c712fb7c8e44be9c8b3b3ffd9faa">commit</a></p>
</li>
<li>
<p>In <em>layout/save/default/450_check_bootloader_files.sh</em> use <code>/[e]tc/grub.cfg</code>
    and <code>/[b]oot/.../grub.cfg</code> with '*' globbing patterns (as in the EFI|GRUB2-EFI
    case) to find any of grub.cgf or grub2.cfg in /etc/ or in /boot/ (e.g. in
    openSUSE Leap 15.3 there is /boot/grub2/grub.cfg),
    cf. <a href="https://github.com/rear/rear/pull/2796#issuecomment-1118387393">issue 2796 comment</a></p>
</li>
<li>
<p>In default.conf added '[e]tc/crypttab' to FILES_TO_PATCH_PATTERNS,
    cf. <a href="https://github.com/rear/rear/pull/2795#discussion_r859670066">issue 2795 comment</a></p>
</li>
<li>
<p>New FILES_TO_PATCH_PATTERNS in default.conf to verify file hashes at the
    end of recover after file restore from backup and show an error when
    config files were restored from an outdated backup so the restored files
    do not match the recreated system, see
    <a href="https://github.com/rear/rear/pull/2795">PR 2795</a> and
    <a href="https://github.com/rear/rear/issues/2785">issue 2785</a> and
    <a href="https://github.com/rear/rear/issues/2787">issue 2787</a></p>
</li>
<li>
<p>In backup/RSYNC/default/450_calculate_req_space.sh comment out remote
    space check with rsync see <a href="https://github.com/rear/rear/issues/2760">issue 2760</a></p>
</li>
<li>
<p>In layout/save/default/450_check_bootloader_files.sh and
    layout/save/default/450_check_network_files.sh added bash globbing
    characters [] around the first letter to ensure that with 'shopt -s
    nullglob' files that do not exist will not appear so nonexistent files are
    not appended to CHECK_CONFIG_FILES
    cf. <a href="https://github.com/rear/rear/pull/2796#issuecomment-1117171070">issue 2796 comment</a></p>
</li>
<li>
<p>In backup/DUPLICITY/default/500_make_duplicity_backup.sh disable SC2068
    cf. <a href="https://github.com/rear/rear/issues/1040">issue 1040</a></p>
</li>
<li>
<p>In backup/YUM/default/500_make_backup.sh and
    backup/NETFS/default/500_make_backup.sh and
    prep/NETFS/default/070_set_backup_archive.sh fixed SC2068
    cf. <a href="https://github.com/rear/rear/issues/1040">issue 1040</a></p>
</li>
<li>
<p>In rescue/default/850_save_sysfs_uefi_vars.sh disable SC2045
    cf. <a href="https://github.com/rear/rear/issues/1040">issue 1040</a></p>
</li>
<li>
<p>In layout/save/GNU/Linux/240_swaps_layout.sh and lib/output-functions.sh
    fixed SC2045 cf. <a href="https://github.com/rear/rear/issues/1040">issue 1040</a></p>
</li>
<li>
<p>In lib/_input-output-functions.sh disable SC2218
    cf. <a href="https://github.com/rear/rear/issues/1040">issue 1040</a></p>
</li>
<li>
<p>In layout/save/GNU/Linux/230_filesystem_layout.sh aviod SC1087
    cf. <a href="https://github.com/rear/rear/issues/1040">issue 1040</a></p>
</li>
<li>
<p>In default.conf tell that USB_RETAIN_BACKUP_NR is only supported when
    EXTLINUX is used as bootloader for USB and in
    output/USB/Linux-i386/300_create_extlinux.sh add an explanatory comment
    how that code works,
    cf. <a href="https://github.com/rear/rear/pull/2794#issuecomment-1106286485">issue 2794 comment</a></p>
</li>
<li>
<p>In layout/save/GNU/Linux/210_raid_layout.sh fixed and overhauled the
    RAID10 'layout' support code (i.e. what belongs to the mdadm -layout
    option). This was triggered by ShellCheck SC2034 and SC2066 for the old
    code, see <a href="https://github.com/rear/rear/pull/2768">issue 2758</a></p>
</li>
<li>
<p>In finalize/Fedora/i386/550_rebuild_initramfs.sh fixed SC2068 and SC2145
    via some generic code cleanup
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1062945160">issue 1040 comment</a> and
    see <a href="https://github.com/rear/rear/pull/2771">issue 2771</a></p>
</li>
<li>
<p>In rescue/GNU/Linux/310_network_devices.sh fix SC2091 see
    <a href="https://github.com/rear/rear/pull/2776">issue 2776</a></p>
</li>
<li>
<p>In default.conf increase USB_UEFI_PART_SIZE to 1024 MiB,
    cf. https://github.com/rear/rear/pull/1205 in particular to also make
    things work by default when additional third-party kernel modules and
    firmware (e.g. from Nvidia) are used,
    cf. <a href="https://github.com/rear/rear/issues/2770#issuecomment-1068935688">issue 2770 comment</a></p>
</li>
<li>
<p>In doc/rear.8 and doc/rear.8.adoc fixed typo '/dev/disk/by-path/REAR-000'
    -&gt; '/dev/disk/by-label/REAR-000'</p>
</li>
<li>
<p>In default.conf better describe USB_DEVICE
    cf. <a href="https://github.com/rear/rear/issues/2770#issuecomment-1068831482">issue 2770 comment</a></p>
</li>
<li>
<p>In output/default/940_grub_rescue.sh removed a misleading comment that
    shows a wrong get_version function call and in
    output/USB/Linux-i386/850_make_USB_bootable.sh fixed a wrong get_version
    function call that is needed since the ShellCheck SC2068 fixed get_version
    function in lib/layout-functions.sh</p>
</li>
<li>
<p>In layout/recreate/default/120_confirm_wipedisk_disks.sh and
    layout/prepare/Linux-s390/205_s390_enable_disk.sh and
    rescue/GNU/Linux/310_network_devices.sh and
    rescue/GNU/Linux/230_storage_and_network_modules.sh and
    restore/default/990_move_away_restored_files.sh and
    restore/NBU/default/300_create_nbu_restore_fs_list.sh and
    skel/default/etc/scripts/system-setup.d/00-functions.sh and
    skel/default/etc/scripts/dhcp-setup-functions.sh and
    wrapup/default/990_copy_logfile.sh and
    usr/share/rear/lib/output-functions.sh and lib/layout-functions.sh and
    lib/filesystems-functions.sh and lib/linux-functions.sh avoid ShellCheck
    SC2068
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1062945160">issue 1040 comment</a></p>
</li>
<li>
<p>In output/ISO/Linux-i386/800_create_isofs.sh avoid ShellCheck SC2068 and
    SC2145
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1062945160">issue 1040 comment</a></p>
</li>
<li>
<p>In output/TSM/default/960_dsmc_verify_isofile.sh avoid ShellCheck SC2068
    and SC2145
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1062945160">issue 1040 comment</a> plus
    better error checking and messaging and other code cleanup</p>
</li>
<li>
<p>In output/default/940_grub2_rescue.sh and
    output/default/940_grub_rescue.sh avoid ShellCheck SC2068
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1062945160">issue 1040 comment</a></p>
</li>
<li>
<p>In output/default/950_email_result_files.sh avoid ShellCheck SC2068 and
    SC2145
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1062945160">issue 1040 comment</a> and
    replaced ...IfError function calls by calling Error</p>
</li>
<li>
<p>In restore/FDRUPSTREAM/default/260_copy_log_and_report.sh fixed ShellCheck
    reported error SC2199
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1062945160">issue 1040 comment</a> and
    fixed possible "bash: conditional binary operator expected" error</p>
</li>
<li>
<p>In output/USB/Linux-i386/300_create_extlinux.sh and
    rescue/GNU/Linux/310_network_devices.sh avoid ShellCheck reported error
    SC2199
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1062945160">issue 1040 comment</a></p>
</li>
<li>
<p>In prep/NBKDC/default/400_prep_nbkdc.s and lib/sesam-functions.sh avoid
    ShellCheck false error indication SC1097
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1062945160">issue 1040 comment</a></p>
</li>
<li>
<p>In lib/_input-output-functions.sh fixed ShellCheck reported errors SC2145
    and SC2068 and avoided ShellCheck false error indication SC1087
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1062945160">issue 1040 comment</a></p>
</li>
<li>
<p>In usr/sbin/rear avoid ShellCheck SC1075 and fixed ShellCheck SC2145
    cf. <a href="https://github.com/rear/rear/issues/1040">issue 1040</a></p>
</li>
<li>
<p>In output/RAWDISK/Linux-i386/260_create_syslinux_efi_bootloader.sh fixed
    ShellCheck SC2235
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1034870262">issue 1040 comment</a></p>
</li>
<li>
<p>In rear/lib/sesam-functions.sh fixed ShellCheck SC2221
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1034870262">issue 1040 comment</a></p>
</li>
<li>
<p>In lib/filesystems-functions.sh in function xfs_parse fixed ShellCheck
    SC2179 and SC2128
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1034870262">issue 1040 comment</a>
    furthermore 'xfs_opts' is local in both functions xfs_parse and create_fs
    in layout/prepare/GNU/Linux/131_include_filesystem_code.sh</p>
</li>
<li>
<p>In lib/layout-functions.sh fixed ShellCheck SC2178
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1034870262">issue 1040 comment</a></p>
</li>
<li>
<p>In skel/default/etc/scripts/system-setup.d/00-functions.sh ignore
    ShellCheck SC2119 and SC2120
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1062703092">issue 1040 comment</a></p>
</li>
<li>
<p>In restore/DUPLICITY/default/150_restore_duply.sh avoid ShellCheck SC2103
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1034870262">issue 1040 comment</a></p>
</li>
<li>
<p>In layout/prepare/GNU/Linux/100_include_partition_code.sh fixed ShellCheck
    SC2199 and SC2076
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1034870262">issue 1040 comment</a></p>
</li>
<li>
<p>In output/ISO/Linux-ia64/400_create_local_efi_dir.sh fixed ShellCheck
    SC2050
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1034870262">issue 1040 comment</a></p>
</li>
<li>
<p>In layout/save/GNU/Linux/230_filesystem_layout.sh fixed ShellCheck SC2030
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1034870262">issue 1040 comment</a></p>
</li>
<li>
<p>In verify/NBU/default/380_request_client_destination.sh fixed ShellCheck
    SC2018 and SC2019
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1034870262">issue 1040 comment</a></p>
</li>
<li>
<p>In backup/YUM/default/500_make_backup.sh fixed ShellCheck SC2000
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1034870262">issue 1040 comment</a></p>
</li>
<li>
<p>Simpler code in prep/Linux-s390/305_include_s390_tools.sh to set a fixed
    bootdir="/boot" that also fixes ShellCheck SC1066
    cf. <a href="https://github.com/rear/rear/issues/1040#issuecomment-1034890880">issue 1040 comment</a></p>
</li>
<li>
<p>New GRUB2_SEARCH_ROOT_COMMAND in default.conf to overrule the setting in
    output/USB/Linux-i386/100_create_efiboot.sh see
    <a href="https://github.com/rear/rear/pull/2763">issue 2763</a> and
    <a href="https://github.com/rear/rear/issues/2500">issue 2500</a></p>
</li>
<li>
<p>New EXCLUDE_IP_ADDRESSES and EXCLUDE_NETWORK_INTERFACES directives: These
    new array variables enable to exclude specific IP addresses or network
    interfaces when building the network configuration used in the rescue
    environment. This is typically useful when floating IP addresses are used.
    Not excluding these may lead to outage if the floating IP address is used
    by another system at time the system is getting recovered, see
    <a href="https://github.com/rear/rear/pull/2736">issue 2736</a></p>
</li>
<li>
<p>multipath: fix exclusion of still wanted devices: The current code
    excluding multipath devices is broken when a device being excluded matches
    other devices. This leads to excluding wanted devices. This happens when
    having custom alias for multipath devices or there are more than 26
    multipath devices and 'mpatha' is getting excluded, which leads to
    excluding all 'mpathaX' devices are well, see
    <a href="https://github.com/rear/rear/pull/2750">issue 2750</a></p>
</li>
<li>
<p>Update 06-layout-configuration.adoc: Enhance the "disk layout file syntax"
    description: Describe that one cannot rely on backward compatibility.
    Describe positional parameters vs. option=value parameters.</p>
</li>
<li>
<p>Update default.conf: In default.conf describe that when OUTPUT_URL is set
    OUTPUT_OPTIONS does not inherit the BACKUP_OPTIONS value
    cf. <a href="https://github.com/rear/rear/issues/2753">issue 2753</a></p>
</li>
<li>
<p>Include dmsetup and dmeventd as PROGS in conf/GNU/Linux.conf because older
    releases of os-prober (1.74 and below) use dmsetup as a fallback solution
    for mounting when grub-mount is missing but without dmsetup and dmeventd
    also in the recovery system that would block indefinitely at "Installing
    GRUB2 boot loader...", for details see
    <a href="https://github.com/rear/rear/pull/2748">issue 2748</a></p>
</li>
<li>
<p>In the function cmdline_add_console in lib/serial-functions.sh add
    'console=tty0' as fallback to cmdline only if no real serial device was
    found otherwise on a machine with e.g. ttyS0 and ttyS1 where only ttyS0 is
    real only kernel messages (but nothing else) would appear on ttyS0, see
    <a href="https://github.com/rear/rear/pull/2749">issue 2749</a></p>
</li>
<li>
<p>Skip unneeded /usr/lib/syslog-ng/loggen/ from recovery system: In
    conf/GNU/Linux.conf do no longer copy all in /usr/lib/syslog-ng/ but only
    copy .so files in /usr/lib/syslog-ng/ (same as for rsyslog). This skips in
    particular /usr/lib*/syslog-ng/loggen/ because 'loggen' is not included in
    the recovery system ('loggen' does not appear in any ReaR code). See
    <a href="https://github.com/rear/rear/issues/2743">issue 2743</a></p>
</li>
<li>
<p>For BACKUP=CDM removed need for the whole /usr/lib64 in the recovery
    system. See <a href="https://github.com/rear/rear/pull/2747">issue 2747</a> and the related issues
    <a href="https://github.com/rear/rear/issues/2266">2266</a>, 
    <a href="https://github.com/rear/rear/issues/2314">2314</a>, 
    <a href="https://github.com/rear/rear/issues/2685">2685</a>' and 
    <a href="https://github.com/rear/rear/issues/2700">issue 2700</a></p>
</li>
<li>
<p>Update 400_copy_modules.sh: Do no longer error out if 'cp -a -L' failed to
    to copy all contents of /lib/modules/... but only tell the user about the
    issue so he could inspect his system and decide, see
    <a href="https://github.com/rear/rear/issues/2739#issuecomment-1014304127">issue 2739 comment</a></p>
</li>
<li>
<p>Support for HTTP sources when using PXE: There is a new config variable
    PXE_HTTP_URL to specify the HTTP download source for PXE. If the variable
    is set the PXE config file will generate an additional 3rd boot option
    (besides the unchanged standard options "rear" via TFTP and "local")
    namely "rear-http" which includes the HTTP URL information to download the
    kernel and initrd data. See <a href="https://github.com/rear/rear/pull/2738">issue 2738</a></p>
</li>
<li>
<p>Also add ssh-add prog when ssh-agent is added. Since ssh-agent gets added
    it makes sense to add ssh-add as well. See
    <a href="https://github.com/rear/rear/pull/2729">PR 2729 </a></p>
</li>
<li>
<p>In layout/prepare/default/420_autoresize_last_partitions.sh automatically
    resize active last partitions on RAID0 disks, see
    <a href="https://github.com/rear/rear/issues/2696">issue 2696</a>. Therefore in
    <code>layout/save/GNU/Linux/210_raid_layout.sh</code> a new 'raiddisk' entry that has
    same syntax as a 'disk' entry is written to disklayout.conf to have size
    (and partition label) of a RAID device like <code>raiddisk /dev/md127 23599054848 gpt</code>
    because knowing the RAID device size is a precondition to
    be able to automatically resize a RAID0 array. See
    <a href="https://github.com/rear/rear/pull/2730">issue 2730</a></p>
</li>
<li>
<p>In layout/prepare/default/420_autoresize_last_partitions.sh automatically
    resize active last partitions on RAID1 disks and fixed fallback setting so
    that now the user can specify AUTORESIZE_EXCLUDE_PARTITIONS=() in his
    local.conf. Additionally in layout/prepare/default/250_compare_disks.sh
    show info about old disk and sizes and new disks and sizes in case of
    MIGRATION_MODE to make it easier to answer the questions to which new
    disks old disk should be mapped. See
    <a href="https://github.com/rear/rear/pull/2726">PR 2726</a></p>
</li>
<li>
<p>Fix modinfo_filename() in build/GNU/Linux/400_copy_modules.sh Output the
    original $module_filename also when it is a symlink because in the code
    below 'cp -L' copies the symlink taget content as a new regular file with
    file name as the name of the symlink so the copied content can be still
    found under its original name, cf.
    <a href="https://github.com/rear/rear/issues/2677#issuecomment-997859219">issue 2677 comment</a>
    Additionally in case of MODULES=( 'all_modules' ) also use 'cp -L' to copy
    the actual content to avoid dangling symlinks in the recovery system. See
    <a href="https://github.com/rear/rear/pull/2731">PR 2731</a></p>
</li>
<li>
<p>In usr/share/rear/output/PXE/default/800_copy_to_tftp.sh fixed pxe file cp
    and permissions for sshfs target to prevent cp error "failed to preserve
    ownership" for sshfs and to prevent issue with write permissions trying to
    override image on later runs. See <a href="https://github.com/rear/rear/pull/2723">issue 2723</a></p>
</li>
<li>
<p>Improved wiping disks (see <a href="https://github.com/rear/rear/pull/2721">PR 2721</a>): In
    layout/recreate/default/120_confirm_wipedisk_disks.sh skip disks that do
    not exist on the bare hardware in the recovery system
    cf. <a href="https://github.com/rear/rear/issues/2715">issue 2715</a> and exclude disks that are
    write-protected
    cf. <a href="https://github.com/rear/rear/pull/2703#issuecomment-979928423">issue 2703 comment</a> and show
    in any case a user confirmation dialog for the disks that will be wiped.
    In layout/recreate/default/150_wipe_disks.sh do no longer open (and close)
    LUKS volumes because encrypted volumes contain meaningless data unless
    opened and unencrypted so there is no need to wipe anything inside an
    encrypted LUKS container, cf. "Regarding LUKS" in
    <a href="https://github.com/rear/rear/pull/2514#issuecomment-743483945">issue 2514 comment</a></p>
</li>
<li>
<p>Overhauled RAID code (see <a href="https://github.com/rear/rear/pull/2714">PR 2714</a>) based on
    https://github.com/rear/rear/pull/2702 that is about initial software RAID
    IMSM support i.e. with the changes in that pull request: Completely
    overhauled layout/save/GNU/Linux/210_raid_layout.sh: No longer a subshell
    that appends all stdout to disklayout.conf but explicit append to
    disklayout.conf where needed to be safe against accidental things written
    to disklayout.conf. Handle each mdadm option in one place i.e. parse and
    prepare output. Handle options ordered by importance, mandatory first,
    then optional ones. Basic tests that mandatory options are syntactically
    valid plus Error if not. Overhauled
    layout/prepare/GNU/Linux/120_include_raid_code.sh: The <code>FEATURE_MDADM_UUID</code>
    code is meanwhile obsolete because all mdadm versions in supported ReaR
    Linux distributions support '-uuid'. New
    layout/recreate/default/220_verify_layout.sh to verify if RAID devices are
    recreated with the UUIDs in disklayout.conf because mdadm silently ignores
    this option when creating IMSM arrays (both containers and the volumes
    inside them) and picks a random UUID
    cf. <a href="https://github.com/rear/rear/pull/2702#issuecomment-970395567">issue 2701 comment</a>
    Support user specified DISKS_TO_BE_WIPED to mitigate
    <a href="https://github.com/rear/rear/issues/2715">issue 2715</a> see the <code>DISKS_TO_BE_WIPED</code>
    description in default.conf</p>
</li>
<li>
<p>Update 100_create_layout_file.sh: Additionally show the filesystem LABEL
    in the 'lsblk' output of the original system as comment in disklayout.conf
    to make it easier to understand subsequent data in particular for RAID
    where the array name is shown as LABEL in 'lsblk' for example like
    "/dev/sda ... linux_raid_member any:raid1sdab" - see also "one cannot see ...
    /dev/md/ symlinks as NAME ... /dev/md/raid1sdab -&gt; ../md127" in
    <a href="https://github.com/rear/rear/pull/2702#issuecomment-951769031">PR 2702 comment</a> and see also
    <a href="https://github.com/rear/rear/commit/1a8a88c20d01f01fac65e296e9481ab9172c3ac7">commit</a></p>
</li>
<li>
<p>Update 100_create_layout_file.sh: Additionally show UUID in 'lsblk' output
    of the original system as comment in disklayout.conf to make it easier to
    compare UUIDs of the original system with what was recreated, cf. "...
    shouldn't it [ReaR] restore the [RAID] arrays with the same UUIDs ...?" in
    https://github.com/rear/rear/pull/2702#issuecomment-968904230 and
    https://github.com/rear/rear/pull/2714#issuecomment-970279152</p>
</li>
<li>
<p>Update 050_start_required_nfs_daemons.sh: Start rpcbind with the -s option
    to avoid that in some cases rpcbind is not started / not available in the
    recovery system cf. https://github.com/rear/rear/issues/2672</p>
</li>
<li>
<p>New function is_multipath_used in layout-functions.sh (see
    https://github.com/rear/rear/pull/2708) to get 'multipath -l' out of the
    function is_multipath_path by adding a separated function
    is_multipath_used that runs 'multipath -l' (which is expensive because it
    scans all devices) to check if multipath is used and remembers the result
    in MULTIPATH_IS_USED that is used in subsequent calls of is_multipath_used
    (without calling 'multipath -l') so we can call is_multipath_used many
    times via is_multipath_path which is called in
    layout/save/GNU/Linux/200_partition_layout.sh for each disk device. This
    should avoid long computing time when there are very may disk devices,
    cf. https://github.com/rear/rear/pull/2597#issuecomment-814950019</p>
</li>
<li>
<p>Now "rear format" has in addition to the -efi switch a -bios switch. If
    none is given (i.e. by default) it will now do hybrid formatting with a
    BIOS boot partition (on GPT) and an EFI system partition. This is a
    starting point for implementing OUTPUT=USB support for UEFI and BIOS dual
    boot from the same medium see https://github.com/rear/rear/issues/2698 and
    https://github.com/rear/rear/pull/2705</p>
</li>
<li>
<p>Update write-protect-functions.sh: In the function
    is_write_protected_by_id() assume a disk without any of UUID PTUUID
    PARTUUID WWN is empty and meant to be used to recreate the system so it
    should not be write-protected
    cf. https://github.com/rear/rear/pull/2703#discussion_r757393547</p>
</li>
<li>
<p>Enhanced disk write-protection, see https://github.com/rear/rear/pull/2703
    and https://github.com/rear/rear/pull/2626 by WRITE_PROTECTED_IDS with
    generic functionality,
    cf. https://github.com/rear/rear/pull/2626#issuecomment-950953826 together
    with the new WRITE_PROTECTED_ID_TYPES which defaults to UUID PTUUID
    PARTUUID WWN so that the user can specify different lsblk columns as
    needed in his particular environment
    cf. https://github.com/rear/rear/pull/2703#issuecomment-962418441</p>
</li>
<li>
<p>Stop ReaR from overwriting its own disk and backup drives for OUTPUT=USB
    and OUTPUT=RAWDISK via new WRITE_PROTECTED_... config variables (see
    default.conf) where UUIDs or filesystem labels can be specified so that
    disks that contain such UUIDs or filesystem labels will be 'write
    protected' during "rear recover", see
    https://github.com/rear/rear/issues/1271 and
    https://github.com/rear/rear/pull/2626</p>
</li>
<li>
<p>Overhauled serial console support code. See
    https://github.com/rear/rear/pull/2699 A serial console of the ReaR
    recovery system can now be specified separately for the kernel and the
    recovery system bootloader via the generic config variables
    USE_SERIAL_CONSOLE and SERIAL_CONSOLE_DEVICES and specific config
    variables SERIAL_CONSOLE_DEVICES_KERNEL SERIAL_CONSOLE_DEVICE_SYSLINUX
    SERIAL_CONSOLE_DEVICE_GRUB see usr/share/rear/conf/default.conf for
    details cf. https://github.com/rear/rear/issues/2663 and
    https://github.com/rear/rear/pull/2697</p>
</li>
<li>
<p>More control over serial devices used for console. See
    https://github.com/rear/rear/pull/2697</p>
</li>
<li>
<p>In layout/prepare/default/300_map_disks.sh overhauled the automapping of
    original 'disk' devices and 'multipath' devices to current block devices
    in the currently running recovery system so that now it automatically
    finds an existing unique disk size mapping also when there is a unique
    mapping between more than two disks, see
    https://github.com/rear/rear/issues/2690</p>
</li>
<li>
<p>Fix multiple VG recreation, see https://github.com/rear/rear/pull/2691 Do
    not use global variables in diskrestore.sh: Fix a problem introduced in
    commits b184194f37dd22a7e55655ff388579297239e73c and
    311bfb3da1d5e47a2ff144123a2457e634f67893 (PR #1806) that shows up when
    there are multiple VGs to restore. Using variables
    create_thin_volumes_only and create_logical_volumes to propagate
    information from VG creation to LV creation does not work well in the case
    of multiple VGs, because the variables are global and if there are
    multiple VGs, their values will leak from one VG to another. The generated
    diskrestore.sh script does not guarantee that the LVs of a given VG are
    created immediately after their VG and before creating another VG.
    Currently, the script first creates all VGs and then all LVs, so all the
    LVs in all VGs will see the value of create_logical_volumes and
    create_thin_volumes_only from the last VG, not from their own. This
    matters when different VGs behave differently (typically if one has a thin
    pool and the other does not). Fix by replacing the scalar values by arrays
    of VG names. If a given VG is in the array, it is the equivalent of the
    former scalar value being 1 for the given VG, if it is not in the array,
    it is an equivalent of a former value of 0. For the create_volume_group
    variable the change is not needed, but do it nevertheless for symmetry
    with other variables.</p>
</li>
<li>
<p>Error out in sbin/rear when it failed to source or Source() mandatory
    files to make it obvious when there are syntax errors in user config files
    and/or when there are syntax errors in our lib/*-functions.sh code, see
    https://github.com/rear/rear/issues/2686</p>
</li>
<li>
<p>Overhauled output/USB/Linux-i386/100_create_efiboot.sh In particular no
    longer use "cp -p" because '-p' may fail because it copies to a VFAT
    filesystem on the EFI partition see
    https://github.com/rear/rear/issues/2683 and now always use "cp -L" to
    ensure the real content gets copied. See
    https://github.com/rear/rear/pull/2684</p>
</li>
<li>
<p>Overhauled the description in user-guide/05-integration.adoc what "rear
    savelayout" and "rear checklayout" are menat to do, cf.
    https://github.com/rear/rear/commit/7a3884bed1fb6cb61654c4e266ba4c35094bd9f4#r56879062</p>
</li>
<li>
<p>Fixed https://github.com/rear/rear/issues/2667 "rear does not entirely
    remove build area any more" by using double quotes for
    remove_temporary_mountpoint "$BUILD_DIR/..." and fixed
    https://github.com/rear/rear/issues/2676 "False ERROR '.../outputfs not
    empty, cannot remove' when OUTPUT_URL is unset" by making
    scheme_supports_filesystem() fail-safe if $1 is empty or blank and also
    making scheme_accepts_files() fail-safe in the same way, see
    https://github.com/rear/rear/pull/2675</p>
</li>
<li>
<p>On POWER require bootlist &amp; ofpathname if needed: The ofpathname binary is
    called by grub2-install. Therefore, it is required in the rescue system in
    order to make the recovered system bootable, except for the PowerNV (Not
    Virtualized - bare metal) case. Under PowerVM, we also need the bootlist
    executable to make the system bootable. See
    https://github.com/rear/rear/pull/2665</p>
</li>
<li>
<p>ReaR's default TMPDIR is now /var/tmp (it was /tmp before) i.e. ReaR's
    default working area is now /var/tmp/rear.XXXXX ReaR needs lots of space
    (from 300MB up to more than 1GB) to build the ReaR rescue/recovery system
    e.g. as ISO image and even much more space to also store the backup
    archive e.g. when the backup should be included in the ISO image. The
    system's default temporary directory /tmp is no longer suited as default
    temporary directory for ReaR because nowadays /tmp is often a "tmpfs" that
    is in RAM so /tmp has RAM/swap limitations. file-hierarchy(7) recommends
    to use /var/tmp for such cases. If the user sets TMPDIR explicitly, it
    still takes precedence. See https://github.com/rear/rear/pull/2664</p>
</li>
<li>
<p>Cleanup of GRUB2 config code in particular for OUTPUT=USB: Cleanup of the
    create_grub2_cfg function: Describe its usage in a comment. Have its
    helper functions inside create_grub2_cfg to make them not globally
    accessible. Initial steps to clean up how the GRUB root device is set via
    one single method. DebugPrint output how GRUB2 is configured to help the
    user to find errors or bugs. Better GRUB2 menue entry names. Consistent
    calling of the create_grub2_cfg function always as create_grub2_cfg
    "/path/to/kernel" "/path/to/initrd" &gt;/path/to/grub.cfg also in
    output/ISO/Linux-i386/250_populate_efibootimg.sh. Set GRUB2 timeout to new
    config variable GRUB2_TIMEOUT that is by default 300 seconds. Set GRUB2
    default boot menu entry to GRUB2_DEFAULT_BOOT that is by default
    'chainloader' which should usually boot the original system and reference
    GRUB2 boot menu entries by 'menuentry ... -id=...' to have meaningful names
    instead of meaningless numbers. Sleep 3 seconds exactly before GRUB2 shows
    its menu (it replaces what there is on the screen) so that the user could
    see possible GRUB2 (error) messages on the screen. Additionally cleanup of
    the get_root_disk_UUID function. See
    https://github.com/rear/rear/pull/2662</p>
</li>
<li>
<p>Fixed serial console for syslinux: It writes only one serial line matching
    the configured device (when found) to the config. It also writes it for
    the syslinux config in case it is used without extlinux. See
    https://github.com/rear/rear/pull/2650</p>
</li>
<li>
<p>Fix function create_grub2_cfg() for the none EFI cases and adds serial
    console configuration to the GRUB2 config. See
    https://github.com/rear/rear/pull/2661</p>
</li>
<li>
<p>Simplifications for USB_BOOTLOADER="grub" and choose the right GRUB2
    config /boot/grub/grub.cfg or /boot/grub2/grub.cfg see
    https://github.com/rear/rear/pull/2659</p>
</li>
<li>
<p>Cleanup USB format scripts and related code: Now OUTPUT=USB should behave
    sufficiently OK on BIOS systems with syslinux/extlinux as bootloader with
    a separated boot partition and without it (still the default). To use
    OUTPUT=USB on BIOS with syslinux/extlinux with a separated boot partition
    size of e.g. 1024 MiB specify in etc/rear/local.conf something like
    OUTPUT=USB USB_BOOT_PART_SIZE=1024
    OUTPUT_URL=usb:///dev/disk/by-label/REARBOOT BACKUP=NETFS
    BACKUP_URL=usb:///dev/disk/by-label/REAR-000 See
    https://github.com/rear/rear/pull/2660</p>
</li>
<li>
<p>Fixed format/USB/default/300_format_usb_disk.sh for none EFI cases by
    adding a BIOS boot partition and setting the 'legacy_boot' flag in case of
    GPT partitioning. See https://github.com/rear/rear/pull/2656</p>
</li>
<li>
<p>Added support for GRUB2 as bootloader for OUTPUT=USB via new config
    variable USB_BOOTLOADER=grub see https://github.com/rear/rear/pull/2655</p>
</li>
<li>
<p>With the new default USER_INPUT_MAX_CHARS=0 input is not truncated and it
    also makes correcting the input possible (before [Enter] is pressed) see
    https://github.com/rear/rear/issues/2622</p>
</li>
<li>
<p>Update default.conf: Since https://github.com/rear/rear/pull/2633 export
    TMPDIR="..." in ReaR config files like etc/rear/local.conf does no longer
    work so now export TMPDIR="..." must be called before calling 'rear'
    cf. https://github.com/rear/rear/issues/2654</p>
</li>
<li>
<p>Treat RAID layout value '-unknown-' same as an empty value: In
    layout/save/GNU/Linux/210_raid_layout.sh treat the RAID layout value
    '-unknown-' same as an empty value to avoid that
    layout/prepare/GNU/Linux/120_include_raid_code.sh will create a 'mdadm'
    command in diskrestore.sh like "mdadm ... -layout=-unknown- ..." which would
    fail during "rear recover" with something like "mdadm: layout -unknown-
    not understood for raid0", see https://github.com/rear/rear/issues/2616</p>
</li>
<li>
<p>Avoid false Error() exit in copy_binaries() in
    build/GNU/Linux/390_copy_binaries_libraries.sh by skipping 'cp' errors in
    copy_binaries() (regardless what the reason was why 'cp' failed) but then
    add the affected binary to REQUIRED_PROGS to verify later that the binary
    actually exists in the recovery system which should be still sufficient to
    let ReaR error out if something actually went wrong with needed binaries.
    See https://github.com/rear/rear/pull/2643</p>
</li>
<li>
<p>NSR enhancement for point-in-time recovery with EMC Networker client: A
    new variable NSR_CLIENT_REQUESTRESTORE for the BACKUP=NSR workflow has
    been introduced to deal with situations in which the NSR client is
    allowed/granted to perform its recovery action "on its own" but does not
    have full control of the EMC networker service/environment, for details
    see its default.conf section. See https://github.com/rear/rear/pull/2641</p>
</li>
<li>
<p>Workaround against DRBD9 restore error "refusing to be primary while peer
    is not outdated" see https://github.com/rear/rear/issues/2634</p>
</li>
<li>
<p>Cleanup rsync and fix error reporting: See
    https://github.com/rear/rear/pull/2632 Cleanups of rsync code to use
    better variable names and local variables, stop using StopIfError, use
    better redirections etc. Fixed a problem with rsync error detection that
    caused rsync errors during backup restore to be ignored, see
    https://github.com/rear/rear/issues/2612 Now a warning is displayed and if
    BACKUP_INTEGRITY_CHECK is true, it is elevated to an error and ReaR
    aborts. Furthermore check fake super support only when RSYNC_PROTO=ssh and
    removed a broken test for -fake-super arg to rsync, cf.
    https://github.com/rear/rear/pull/2577</p>
</li>
<li>
<p>Show some stdout and stderr messages also in non-debug modes: In non-debug
    modes (in particular also in verbose mode) stdout and stderr are
    redirected to a temporary file
    STDOUT_STDERR_FILE=TMP_DIR/rear.WORKFLOW.stdout_stderr so in non-debug
    modes stdout and stderr of all programs is still available for the Error()
    function to extract some latest messages that get shown on the usrer's
    terminal and those extracted lines are also copied into the log
    cf. https://github.com/rear/rear/issues/2623 and
    https://github.com/rear/rear/issues/2416 and
    https://github.com/rear/rear/pull/2498 Furthermore the log files and the
    stdout/stderr file can now only be read by root. Additionally when there
    is something still mounted within the build area when rear finishes, the
    user is informed what is mounted and that he must manually umount it
    before he can (also manually) remove the build area. Finally the Error()
    and cleanup_build_area_and_end_program() functions are made fail-safe
    against not yet existing log files and not yet sourced other functions in
    case of early Error() exits in usr/sbin/rear see
    https://github.com/rear/rear/pull/2633</p>
</li>
<li>
<p>Fixed accidental destructive backup removal in exit task and cleanup
    handling of URL mountpoints: See https://github.com/rear/rear/pull/2625
    Cleanup of temporary mount point handling, particularly for output.
    Unification of mount point umount and cleanup move to the mount_url() and
    umount_url() functions. Replaced the various "rm -rf" of the mountpoint by
    "rmdir" which fixes https://github.com/rear/rear/issues/2611 Added lazy
    umount in case normal umount does not succeed. If build dir is kept
    (cf. KEEP_BUILD_DIR), propose a safe way to remove it to the user via "rm
    -Rf -one-file-system" instead of just "rm -Rf" where the user risks to
    remove everything below that mountpoint if still mounted. Fixes also some
    other bugs noted in the process: Filesystem-specific umount command not
    called
    https://github.com/rear/rear/commit/20359a987662cc0c3fcfa52d62d1feac7cd55850#r51319634
    Unknown schemes considered invalid, see the discussion under
    https://github.com/rear/rear/pull/932 Identical scripts under DUPLICITY
    and YUM replaced by symlinks. Reverted
    https://github.com/rear/rear/pull/782 that had reintroduced
    https://github.com/rear/rear/issues/465 which got re-reported as
    https://github.com/rear/rear/issues/2611 Reverted
    https://github.com/rear/rear/pull/578 because it is not clear how
    .lockfile can exist in the unmounted filesystem, and if it does, it is a
    bug. Reverted
    https://github.com/rear/rear/commit/d850c4094238a03c9b926b88d7e1582ecd28af52
    because it became meanwhile obsoleted by
    https://github.com/rear/rear/commit/a8fdc445d0d6f7f9184dc6633817928f96aae9bc</p>
</li>
<li>
<p>Add BACKUP_DUPLICITY_OPTIONS to
    restore/DUPLICITY/default/400_restore_duplicity.sh Additionnal
    BACKUP_DUPLICITY_OPTIONS options were missing which can cause the recover
    to fail (options may contain endpoint information for example), see
    https://github.com/rear/rear/issues/2619</p>
</li>
<li>
<p>In prep/default/400_save_directories.sh also exclude mountpoints that are
    below mountpoints of "type autofs": Those are below an ancestor mountpoint
    that is owned/created by the automounter. It is possible to create a
    sub-mountpoint below an automounted mountpoint but the fact that the
    sub-mountpoint is not local means it should be excluded (i.e. there is no
    need to recreate the non-local sub-mountpoint directory), see
    https://github.com/rear/rear/issues/2610</p>
</li>
<li>
<p>Better description and error checking for GRUB_RESCUE with UEFI plus some
    alignment with the create_grub2_cfg function,
    cf. https://github.com/rear/rear/issues/2545 Better describe GRUB_RESCUE
    with UEFI in default.conf and in output/default/940_grub2_rescue.sh better
    error checking plus some alignment with how create_grub2_cfg() creates a
    GRUB2 config file i.e. no longer "insmod" the GRUB2 modules efi_gop
    efi_uga video_bochs video_cirrus
    cf. https://github.com/rear/rear/pull/2609#issuecomment-831883795 and the
    discussion in https://github.com/rear/rear/issues/2388 see
    https://github.com/rear/rear/pull/2609</p>
</li>
<li>
<p>Fix setting boot path in case of UEFI partition (ESP) on MD RAID: The code
    finalize/Linux-i386/670_run_efibootmgr.sh did not support Software RAID.
    It has to execute the efibootmgr command on the members of the Software
    RAID, see https://github.com/rear/rear/issues/2595 The ESP may be located
    on a RAID device. In this case, we need to determine the physical RAID
    components and call efibootmgr on them. In addition, clean up
    finalize/Linux-i386/670_run_efibootmgr.sh and add more logging to ease
    analysis when something goes wrong, see
    https://github.com/rear/rear/pull/2608</p>
</li>
<li>
<p>In prep/RSYNC/default/050_prep_rsync.sh adding sleep period to give rsync
    daemon time to wake up, see https://github.com/rear/rear/pull/2599</p>
</li>
<li>
<p>Have unused LVM PV devices only as comment in disklayout.conf: PVs that
    are not part of a VG are documented as comment in disklayout.conf but they
    are not recreated because they were not used on the original system so
    there is no need to recreate them by "rear recover" see
    https://github.com/rear/rear/issues/2596 and
    https://github.com/rear/rear/pull/2603</p>
</li>
<li>
<p>Automatically shrink LVs if needed during "rear recover". This enables to
    run "rear recover" with automated LVM LVs shrinking as needed on a bit
    smaller replacement disk (e.g. when a nominally same sized replacement
    disk is actually a bit smaller than the original disk). This automated LVs
    shrinking is not intended when disk(s) are substantially smaller. To
    migrate onto a substantially smaller replacement disk the user must in
    advance manually adapt his disklayout.conf file before he runs "rear
    recover". In layout/prepare/GNU/Linux/110_include_lvm_code.sh assume the
    command "lvcreate -L 123456b -n LV VG" had failed because of "Volume group
    ... has insufficient free space" and then try as fallback attempt using all
    remaining free space in the VG via "lvcreate -l 100%FREE -n LV VG". In
    layout/save/GNU/Linux/220_lvm_layout.sh sort the 'lvs' output lines by
    size of the LVs so only some biggest LVs may get automatically shrinked
    (if needed) because we assume that the data of the backup can still be
    restored into a big LV after it was shrinked a bit. See
    https://github.com/rear/rear/pull/2591</p>
</li>
<li>
<p>Replaced possibly misleading "USB device" by generic "USB or disk device"
    wording in user messages (e.g. when a built-in disk /dev/sdc is used that
    is no USB device). The word "USB" indicates that those messages belong to
    the OUTPUT=USB method,
    cf. https://github.com/rear/rear/pull/2589#issuecomment-805649510 and
    https://github.com/rear/rear/issues/2588 and
    https://github.com/rear/rear/pull/2589</p>
</li>
<li>
<p>Wipe disks before recreating partitions/volumes/filesystems/... see
    https://github.com/rear/rear/issues/799 See the new DISKS_TO_BE_WIPED in
    default.conf and for details see
    usr/share/rear/layout/recreate/default/README.wipe_disks This is currently
    new and experimental functionality so that currently by default via
    DISKS_TO_BE_WIPED='false' no disk is wiped to avoid possible regressions
    until this new feature was more tested by interested users via an explicit
    DISKS_TO_BE_WIPED setting in local.conf see
    https://github.com/rear/rear/pull/2514</p>
</li>
<li>
<p>In etc/scripts/system-setup.d/41-load-special-modules.sh load the nvram
    kernel module if possible to make /dev/nvram appear because /dev/nvram
    should be there when installing GRUB, see
    https://github.com/rear/rear/issues/2554 and include the nvram kernel
    module in the recovery system because nvram could be a module in
    particular on POWER architecture see
    https://github.com/rear/rear/issues/2554#issuecomment-764720180 and
    https://github.com/rear/rear/pull/2580</p>
</li>
<li>
<p>Make 400_copy_modules.sh fail-safe for newer modinfo output (in particular
    modinfo in kmod-27 since SLES15-SP3) because otherwise copying builtin
    kernel "modules" would let "rear mkrescue" error out with e.g. "ERROR:
    unix exists but no module file?". Furthermore ensure that kernel modules
    that should be loaded during recovery system startup (i.e. those in
    MODULES_LOAD) get always copied into the recovery system. See
    https://github.com/rear/rear/pull/2579</p>
</li>
<li>
<p>In 300_format_usb_disk.sh adapt USB_UEFI_PART_SIZE fallback value to 512
    to be in compliance with the new default.conf setting of 512 MiB since
    https://github.com/rear/rear/commit/9a6b9a109aa77afc6c96cf05bbd7988cf0310d61
    that was done in relation to https://github.com/rear/rear/pull/2576 see
    also https://github.com/rear/rear/issues/2602</p>
</li>
<li>
<p>Do not specify '-F 16' for mkfs.vfat and also no '-o fat=16' when mounting
    it but rely on the mkfs.vfat automatic FAT type selection (which is FAT16
    up to 511 MiB and FAT32 starting at 512 MiB at least on openSUSE Leap 15.2
    with mkfs.vfat from dosfstools-4.1) and rely on the automatic FAT type
    detection when mounting, cf. https://github.com/rear/rear/issues/2575 and
    increase the default ESP size to USB_UEFI_PART_SIZE="512" to get by
    default (via mkfs.vfat) a FAT32 ESP to be in compliance that "the ESP
    should officially use a FAT32 filesystem" to avoid possible FAT16 ESP
    issues with certain UEFI firmware. See
    https://github.com/rear/rear/pull/2576</p>
</li>
<li>
<p>Update 230_filesystem_layout.sh: Increase the 'docker info' timeout value
    from 5 seconds to 10 seconds because sometimes 'docker info' needs more
    than 5 seconds to finish,
    cf. https://github.com/rear/rear/pull/2572#issuecomment-784110872</p>
</li>
<li>
<p>Support loop devices in format_usb_disk see
    https://github.com/rear/rear/pull/2555</p>
</li>
<li>
<p>Update 110_include_lvm_code.sh: Make sure we delete the volume group
    before re-creating it. The issue happens in Migration mode when ReaR is
    not trying to use vgcfgrestore. See https://github.com/rear/rear/pull/2564</p>
</li>
<li>
<p>In usr/share/rear/output/ISO/Linux-i386/700_create_efibootimg.sh add 2
    more 32MiB blocks to be on the safe side against inexplicable failures
    like "cp: error writing
    '/tmp/rear.XXX/tmp/efi_virt/./EFI/BOOT/elilo.conf': No space left on
    device" where the above calculated $efi_img_sz is a bit too small in
    practice, see https://github.com/rear/rear/issues/2552</p>
</li>
<li>
<p>Add terminal password check via 'TTY_ROOT_PASSWORD' and describe it in
    default.conf, see https://github.com/rear/rear/pull/2539</p>
</li>
<li>
<p>Changes for NetBackup (NBU) support: Copy NetBackup PBX related files to
    the rescue system and start vxpbx_exchanged on boot. Add /usr/openv/tmp
    directory to the NBU skeleton. See https://github.com/rear/rear/pull/2544</p>
</li>
<li>
<p>RAWDISK: Add local rescue partition installation capability: Introduce a
    configuration variable 'RAWDISK_INSTALL_GPT_PARTITION_NAME', which is
    unset by default. When set, the rescue system will be installed to local
    disk partitions having the corresponding name. RAWDISK: fix local rescue
    partition installs (unmount before copying): While the recently created
    EFI boot partition is still mounted, its file system might not be fully
    synced. Unmounting ensures that the underlying loop block device is up to
    date before possibly being copied to local disk partitions. See
    https://github.com/rear/rear/pull/2538</p>
</li>
<li>
<p>BACKUP=BACULA: Make bacula aware of different location of config files see
    https://github.com/rear/rear/pull/2535</p>
</li>
<li>
<p>In layout/prepare/GNU/Linux/131_include_filesystem_code.sh fixed vfat mkfs
    using uuid from layout if possible see
    https://github.com/rear/rear/pull/2546</p>
</li>
<li>
<p>Completely overhauled USB filesystem kernel module handling: In
    prep/USB/default/380_copy_usb_fs_module.sh do no longer unconditionally
    add the USB filesystem to the MODULES and MODULES_LOAD arrays because
    there are systems where the USB filesystem (e.g. 'ext3') is no kernel
    module and then (via MODULES_LOAD and /etc/modules) "modprobe ext3" would
    fail in 40-start-udev-or-load-modules.sh with a false alarm "modprobe:
    FATAL: ... ext3 not found ..." message that would appear on the user's
    terminal during recovery system startup. See
    https://github.com/rear/rear/pull/2537</p>
</li>
<li>
<p>Add DP_LD_LIBRARY_PATH to include shared libraries used by BACKUP=DP see
    https://github.com/rear/rear/pull/2549</p>
</li>
<li>
<p>POWER architecture (ppc64) support for BACKUP=DP: Other platforms
    supporting the Data Protector Disk Agent, but not the Cell Console (GUI)
    that is only available on i386, x86_64 and ia64 are now supported with
    ReaR. This includes in particular ppc64. Checks unavailable on clients
    without the Data Protector Cell Console (GUI) are skipped. In such cases
    backup restore can be done using Data Protector GUI only.</p>
</li>
<li>
<p>BACKUP=NBKDC: Enhanced ReaR backup and restore to also work with NovaStor
    DataCenter 8.0 and higher plus fixed wording "NovaBACKUP DC" -&gt; "NovaStor
    DC", see https://github.com/rear/rear/issues/2518</p>
</li>
<li>
<p>Provide final power to the user to skip the ISO_FILE_SIZE_LIMIT test: Skip
    the assert_ISO_FILE_SIZE_LIMIT function when there is no usable
    ISO_FILE_SIZE_LIMIT set so the user could specify ISO_FILE_SIZE_LIMIT=0 in
    his etc/rear/local.conf if he wants to skip the ISO_FILE_SIZE_LIMIT test.
    Aditionally enforce maximum 2GiB ISO_FILE_SIZE_LIMIT when the MODULES
    array contains 'loaded_modules' because MODULES+=( udf ) has no effect in
    this case unless it is loaded (which normally isn't).</p>
</li>
<li>
<p>Error out when files greater or equal ISO_FILE_SIZE_LIMIT should be
    included in the ISO: See the reasoning in default.conf why the default
    ISO_FILE_SIZE_LIMIT is 2GiB and why we error out when files &gt;=
    ISO_FILE_SIZE_LIMIT should be included in the ISO. It is needed to aviod
    possibly disastrous failures later during "rear recover" that users who
    exceed that limit in exceptional cases get a hard (error) info to
    thoroughly test and verify whether or not things actually work for them.
    See https://github.com/rear/rear/pull/2525</p>
</li>
<li>
<p>Completely overhauled ldd test in 990_verify_rootfs.sh: Now if needed a
    special LD_LIBRARY_PATH is set only in the bash that runs ldd and that
    bash exits after ldd finished so the special LD_LIBRARY_PATH setting is
    gone with it. So there is no need to remember and restore some previously
    set LD_LIBRARY_PATH because nothing was changed in the bash that runs
    rear. Furthermore reporting when a binary requires additional libraries
    happens now in the same 'for' loop after the ldd test was run which
    further simplifies the code. See https://github.com/rear/rear/pull/2523</p>
</li>
<li>
<p>Skip the ldd test for ReaR files: In build/default/990_verify_rootfs.sh
    skip the ldd test for ReaR files (mainly bash scripts) where it does not
    make sense, cf.
    https://github.com/rear/rear/issues/2519#issuecomment-731196820</p>
</li>
<li>
<p>In 500_clone_keyboard_mappings.sh have more neutral wording in messages
    about possible keyboard issues and don't be needlessly verbose: It seems
    newer Debian-based systems (including Ubuntu) no longer contain any
    keymaps directory as part of the base system by default so including
    multi-keyboard support into the recovery system is impossible there. If
    the distro provides console-multi-keyboard support, ReaR includes it
    (without being verbose). If the distro has decided that this is not
    necessary, ReaR aligns with it (without being verbose). If the user has
    installed multi-keyboard support, ReaR aligns with it (without being
    verbose). Only when including the current keyboard mapping failed
    (i.e. when 'dumpkeys' failed) it shows subsequent messages on the user's
    terminal in any case. See https://github.com/rear/rear/issues/2519 and
    https://github.com/rear/rear/pull/2520</p>
</li>
<li>
<p>Restore LD_LIBRARY_PATH after reporting binaries with 'not found'
    libraries: In build/default/990_verify_rootfs.sh restore the
    LD_LIBRARY_PATH after reporting binaries with 'not found' shared object
    dependencies so that results are the same for the first 'ldd' run that
    finds binaries with 'not found' shared objects dependencies and the second
    'ldd' run that reports those 'not found' shared objects dependencies, see
    https://github.com/rear/rear/issues/2508#issuecomment-725914211</p>
</li>
<li>
<p>Improved TCG Opal 2 documentation doc/user-guide/13-tcg-opal-support.adoc
    cf. https://github.com/rear/rear/issues/2511 Better explained OS
    installation according to the suggestion in
    https://github.com/Drive-Trust-Alliance/sedutil/issues/301#issuecomment-723010843
    Additionally some information from an article on Ask Ubuntu are included
    https://askubuntu.com/a/1271171/1120528</p>
</li>
<li>
<p>Make recreating LUKS volumes work with optional cryptsetup options: The
    "cryptseup luksFormat" command does not require any of the type, cipher,
    key-size, hash, uuid option values because if omitted a cryptseup default
    value is used, cf.
    https://github.com/rear/rear/pull/2504#issuecomment-720341023 The right
    UUID values are mandatory for LUKS volumes that will be mounted during
    startup of the recreated system. But this does not mean ReaR should error
    out when there is no cryptsetup uuid value because it is possible to run
    "rear recover" with enforced MIGRATION_MODE and manually correct the
    restored /mnt/local/etc/crypttab file to use the new UUIDs before the
    initrd is recreated and the bootloader is (re)-installed
    cf. https://github.com/rear/rear/issues/2509</p>
</li>
<li>
<p>Allow setting a PBA-specific firmware configuration via the new
    OPAL_PBA_FIRMWARE_FILES configuration variable. Add '.../amdgpu/*' firmware
    files for AMD graphics hardware (if present) on TCG Opal pre-boot
    authentication (PBA) images, cf. https://github.com/rear/rear/issues/2474</p>
</li>
<li>
<p>Support OPAL 2 self-encrypting NVMe disk drives: Normally the OPAL device
    itself is used directly but NVMe devices have one or more namespaces per
    primary device and these namespaces act as disks,
    cf. https://github.com/rear/rear/issues/2475</p>
</li>
<li>
<p>Added initial LUKS2 support, see https://github.com/rear/rear/issues/2204
    Added new parameter 'type' to 'crypt' keyword used in disklayout.conf.
    Using this parameter allows to recreate the same version of LUKS as on the
    original system. Added LUKS version detection, parsing depending on
    version and usage of 'type' parameter.</p>
</li>
<li>
<p>New 036_valid_output_methods.sh to error out for unsupported OUTPUT
    methods: For "rear mkbackup/mkrescue/mkbackuponly/mkopalpba" (i.e. for all
    workflows that run the 'prep' stage) check that the OUTPUT method is
    actually implemented i.e. check that a usr/share/rear/output/$OUTPUT
    directory exists and error out when an OUTPUT method seems to be not
    supported to ensure that the user cannot specify a non-working OUTPUT in
    etc/rear/local.conf
    (cf. usr/share/rear/prep/default/035_valid_backup_methods.sh) see
    https://github.com/rear/rear/issues/2501</p>
</li>
<li>
<p>Redirect stdout and stderr to the log only in debug modes. In normal modes
    stdout and stderr are discarded (go now to /dev/null). The reason is to
    get rid of messages from command stdout and stderr that don't make sense
    for the user on their own unless there is more information in the log that
    provides context about the called command (e.g. what exact command was
    called in debugscript mode) see https://github.com/rear/rear/issues/2416
    and https://github.com/rear/rear/pull/2498</p>
</li>
<li>
<p>More verbose messages when components are excluded so that is is easier
    for the user to see directly on his terminal what the actual results are
    when he specified to exclude components in his etc/rear/local.conf and
    what components are automatically excluded by ReaR. The verbosity depends
    on if ReaR is run in verbose '-v' mode or even in debug '-d' or '-D' mode.</p>
</li>
<li>
<p>Inform the user about unsupported LUKS2 volumes but do not error out see
    https://github.com/rear/rear/issues/2491 plus some general code cleanup
    and improvements in layout/save/GNU/Linux/260_crypt_layout.sh</p>
</li>
<li>
<p>Update 05-integration.adoc: Explain that error messages in ReaR's log may
    not come from ReaR itself but from programs that are called by ReaR
    because stdout and stderr are redirected into ReaR's log file,
    cf. https://github.com/rear/rear/issues/2479</p>
</li>
<li>
<p>Have 'cd WORKING_DIR' in Source() function: Ensure that after each sourced
    file we are back in ReaR's usual working directory which is the current
    working directory when usr/sbin/rear is launched that is also the working
    directory of all the other scripts and config files that get sourced via
    the Source() function in lib/framework-functions.sh see
    https://github.com/rear/rear/issues/2461</p>
</li>
<li>
<p>In 400_copy_modules.sh skip copying kernel modules that are builtin
    modules. The new behaviour is that when modules are listed in
    modules.builtin and are also shown by modinfo then those modules are now
    skipped. Before for such modules the modules file(s) would have been
    included in the recovery system. See
    https://github.com/rear/rear/issues/2414</p>
</li>
<li>
<p>In backup/NETFS/default/500_make_backup.sh filter purely informational tar
    messages from output: Suppress purely informational tar messages from
    output like "tar: Removing leading / from member names" or "tar: Removing
    leading / from hard link targets" or "tar: /path/to/socket: socket
    ignored" but keep actual tar error or warning messages like "tar:
    /path/to/file: file changed as we read it" and show only messages that are
    prefixed with the name of the failed program (like 'tar:' or 'dd:') which
    works when tar or dd fail but falsely suppresses messages from openssl
    which needs to be fixed later,
    cf. https://github.com/rear/rear/pull/2466#discussion_r466347471</p>
</li>
<li>
<p>Fixed exit code logic in backup/NETFS/default/500_make_backup.sh: Commit
    https://github.com/rear/rear/commit/2674807f6ad48da80b193ae977d345ad2ef5fdd1
    removed the BACKUP_PROG_CRYPT_OPTIONS="cat" dummy code which broke the
    exit code logic because pipes_rc and backup_prog_shortnames did no longer
    match. Additionally ensure that the number of elements in both arrays are
    always the same.</p>
</li>
<li>
<p>Use ReaR specific TMP_DIR (not TMPDIR or hardcoded /tmp) plus some general
    cleanup work as noticed "by the way" in scripts, see
    https://github.com/rear/rear/issues/2460 and
    https://github.com/rear/rear/pull/2462</p>
</li>
<li>
<p>Adaptions and enhancements for BACKUP=CDM because the RBS agent file name
    changed in Rubrik CDM v5.1 from rubrik-agent-sunos5.10.sparc.tar.gz to
    rubrik-agent-solaris.sparc.tar.gz see
    https://github.com/rear/rear/issues/2441</p>
</li>
<li>
<p>Let 'dd' read and write up to 1M=1024*1024 bytes at a time to speed up
    things cf. https://github.com/rear/rear/issues/2369 and
    https://github.com/rear/rear/issues/2458</p>
</li>
<li>
<p>In default.conf change ISO_VOLID from "RELAXRECOVER" to "REAR-ISO" so the
    first ISO has the label "REAR-ISO" (8 characters) and subsequent ISOs get
    the labels "REAR-ISO_01" "REAR-ISO_02" ... respectively that have 11
    characters (the maximum length for FAT volume names) so things work now by
    default when the ISO image is used to (manually) create a FAT bootable USB
    stick, cf. https://github.com/rear/rear/issues/1565 and
    https://github.com/rear/rear/issues/2456</p>
</li>
<li>
<p>OPALPBA: Provide a permanent unlocking mode as a workaround because
    https://github.com/rear/rear/pull/2426 did not resolve the issue
    https://github.com/rear/rear/issues/2425 where for an HPE ML10Gen9 server
    it seems the firmware did not initialize properly during a 'simple' reboot
    so the only reliable way to boot was a power cycle after Opal disks were
    unlocked. To reboot with unlocked disks there is now a new unlocking mode
    "permanent" via OPAL_PBA_UNLOCK_MODE (see default.conf). Reactivating
    locking is then the responsibility of the user. Additionally enhanced
    security by disabling shell access via keyboard interrupt and switching to
    a password hash for OPAL_PBA_DEBUG_PASSWORD.</p>
</li>
<li>
<p>Use single quotes in the password settings examples because single quotes
    avoid issues with the special bash characters like $ in the password,
    cf. https://github.com/rear/rear/pull/2178</p>
</li>
<li>
<p>Update format-workflow.sh: For "rear format" show "Use 'rear format -
    -help' for more information" also when a "rear format" argument is not
    accepted to help the user what the right syntax is (e.g. "rear format
    help" and "rear format - help" do not work, only "rear format - -help"
    works) and provide a more helpful example "rear -v format - -efi /dev/sdX"
    that is actually neded for UEFI.</p>
</li>
<li>
<p>Support for systemd and parallel restore with Data Protector BACKUP=DP:
    Support starting Data Protector daemon 'omni.socket' via systemd in the
    recovery system. Restore performance has been increased by doing parallel
    restores now. Additional new script
    usr/share/rear/finalize/DP/default/500_restore_ssc.sh to restore the
    client certificate when Data Protector Secure Communication is used. Plus
    several general script cleanup things. See
    https://github.com/rear/rear/pull/2443</p>
</li>
<li>
<p>Supply default value for root in grub in UEFI ISO: Sometimes the search
    command in GRUB2 used in UEFI ISO does not find the root device. This was
    seen at least in Debian Buster running in Qemu (VirtualBox works fine,
    RHEL/CentOS in Qemu works fine as well). To make ReaR work in this case,
    set $root to a sensible value before trying search. The GRUB2 image
    created by grub-mkstandalone has $root set to memdisk, which can't work.
    This essentially matches how it used to work before
    https://github.com/rear/rear/pull/2293 and fixes
    https://github.com/rear/rear/issues/2434</p>
</li>
<li>
<p>Update 300_format_usb_disk.sh: In
    format/USB/default/300_format_usb_disk.sh when prompting user for size of
    EFI system partition on USB disk if no valid value is specified also use
    400 MiB as default (same as the default value in default.conf)
    cf. https://github.com/rear/rear/pull/1205#issuecomment-433336977 and
    https://github.com/rear/rear/commit/89e6a47c82fbfe8d059a4647755f94750fe28acc</p>
</li>
<li>
<p>Replaced $DATE usage with consistent variables START_SECONDS
    START_DATE_TIME_NUMBER and START_DATE_TIME_STRING see
    https://github.com/rear/rear/pull/2452</p>
</li>
<li>
<p>Various TCG Opal Improvements: OPALPBA, Ubuntu: Fix incomplete file
    exclusions: Fixes omissions reported in
    https://github.com/rear/rear/issues/2436 Uses COPY_AS_IS_EXCLUDE where
    possible. Removes files from the PBA system's staging directory where not
    copying could not be configured. OPALPBA: Improve boot splash on Ubuntu
    20.04: Takes into account a change from VT1 to VT7 to hide log messages
    during the boot process. Improves Plymouth boot splash usage to hide log
    messages during the reboot after unlocking disks. opaladmin: Add
    sub-commands 'deactivate', 'reactivate': Makes turning on and off hardware
    encryption easier on provisioned drives. TCG Opal-2: simplify quoting in
    messages and replace 'StopIfError' use
    cf. https://github.com/rear/rear/commit/daf35e235d0770c663ff8dba866dddec76586a27
    Explicitly issuing an unlock command before reactivating locking ensures
    that the device remains in an unlocked state when locking is reactivated.</p>
</li>
<li>
<p>Add an explanatory comment in lib/_input-output-functions.sh that using
    the ...IfError functions can result unexpected behaviour in certain cases
    cf. https://github.com/rear/rear/pull/2443#pullrequestreview-440609407 and
    https://github.com/rear/rear/issues/534 and
    https://github.com/rear/rear/issues/1415#issuecomment-315692391</p>
</li>
<li>
<p>Migrate XFS configuration files. When in MIGRATION_MODE, migrate/rename
    XFS configuration files so they follow disk mapping set by user. See
    https://github.com/rear/rear/issues/2333</p>
</li>
</ul>
<h2 id="supported_and_unsupported_operating_systems">Supported and Unsupported Operating Systems<a class="headerlink" href="#supported_and_unsupported_operating_systems" title="Permanent link">&para;</a></h2>
<p>We try to keep our wiki page Test Matrix ReaR 2.7
https://github.com/rear/rear/wiki/Test-Matrix-ReaR-2.7
up-to-date with feedback we receive from the community.</p>
<p>ReaR 2.7 is supported on the following Linux based operating systems:</p>
<ul>
<li>Fedora 29, 30, 31, 32, 33, and 34</li>
<li>RHEL 6, 7, 8, and 9</li>
<li>CentOS 6, 7, and 8</li>
<li>Scientific Linux 6 and 7</li>
<li>SLES 12 and 15</li>
<li>openSUSE Leap 15.x</li>
<li>Debian 8, and 9</li>
<li>Ubuntu 16, 17, 18 and 20</li>
</ul>
<p>ReaR 2.7 dropped official support for the following Linux based operating
systems:</p>
<ul>
<li>Fedora &lt; 29</li>
<li>RHEL &lt; 6</li>
<li>CentOS &lt; 6</li>
<li>Scientific Linux &lt; 6</li>
<li>SLES &lt; 12</li>
<li>openSUSE Leap 42.x and before (i.e. openSUSE &lt;= 13)</li>
<li>openSUSE Tumbleweed</li>
<li>Debian &lt; 8</li>
<li>Ubuntu &lt; 16</li>
</ul>
<p>Usually ReaR 2.7 should also work on newer versions of the above listed
supported Linux based operating systems but sometimes arbitrary failures can
happen when software that is used by ReaR (like partitioning tools, filesystem
tools, bootloader tools, ISO image creating tools, networking tools, and so
on) changes in not fully backward compatible ways or when there are
innovations of the basic system (like kernel, storage, bootloader, init,
networking, and so on) that are not yet supported by ReaR.</p>
<p>In theory ReaR 2.7 should work on openSUSE Tumbleweed but in practice
arbitrary failures could happen at any time because the Tumbleweed
distribution is a pure rolling release version of openSUSE containing the
latest stable versions of all software
(cf. https://en.opensuse.org/Portal:Tumbleweed) so arbitrary changes of any
software are possible at any time that could arbitrarily break how ReaR works.</p>
<p>ReaR 2.7 may still work for SLES 11 and openSUSE Leap 42.x or even earlier
openSUSE versions but it is no longer sufficiently well tested there so
arbitrary regressions could appear. For example recreating LUKS encrypted volumes
does no longer work with SLES11 SP4 because cryptsetup 1.1.3 in SLES11 SP4 does
not support UUID and some other cryptsetup options that are used by default in ReaR 2.7.</p>
<p>ReaR 2.7 and earlier versions are known to no longer work reasonably well for
the following Linux based operating systems:</p>
<ul>
<li>RHEL 5 (and probably also CentOS 5): See issue #1766</li>
<li>SLES 9 and 10: See issue #1842</li>
</ul>
<p>If you require support for unsupported Linux operating systems you must
acquire a ReaR support contract.</p>
<p>Requests to port ReaR to another operating system (not Linux) can only be
achieved with serious sponsoring.</p>
<p>Supported and Unsupported Architectures</p>
<p>ReaR 2.7 is supported on:</p>
<ul>
<li>Intel x86 type of processors</li>
<li>AMD x86 type of processors</li>
<li>PPC64 processors</li>
<li>PPC64LE processors</li>
</ul>
<p>ReaR 2.7 may or may not work on:</p>
<ul>
<li>Intel Itanium processors</li>
<li>ARM type of processors</li>
<li>IBM Z "s390x" type of processors</li>
</ul>
<p>ReaR 2.7 does not support:</p>
<ul>
<li>old PPC (32bit) processors</li>
</ul>
<p>If you feel the need to get a fully functional ReaR working on one of the
above mentioned types of processors please buy consultancy from one of our
official developers.</p>
<h2 id="supported_rear_versions">Supported ReaR versions<a class="headerlink" href="#supported_rear_versions" title="Permanent link">&para;</a></h2>
<p>ReaR has a long history (since 2006) and we cannot support all released
versions. If you have a problem we urge you to install the latest stable ReaR
version or the development version (available on GitHub) before submitting an
issue.</p>
<p>We understand that it is not always possible to install on hundreds of systems
the latest version so we are willing to support previous versions of ReaR when
you buy a support contract. We cannot handle the big amount of support
requests anymore on a voluntary base and we must give paid projects priority,
therefore, we urge our customers to buy a support contract for one or more
systems. You buy time with our core developers.</p>
              
            </div>
          </div>

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="rear26.html" class="btn btn-neutral float-right" title="Release Notes ReaR 2.6">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Release Notes"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
    <p>Copyright 2024 - CC0 1.0 Universal<br />Give <a href="https://github.com/rear/rear-user-guide/issues/new?title=releasenotes/rear27.html">feedback</a> on this page.</p>
    
  </div>
</footer>

        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="index.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="rear26.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
